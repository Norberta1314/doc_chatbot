OAM :## 配置管理 
## 配置管理 


背景知识 :

对相关的配置信息进行管理 




功能描述 :

管理系统配置，保证系统正常运行 








### 数据传送 
### 数据传送 


背景知识 :

系统存在离线数据和在线数据两种场景，为了保持前后台数据的一致性，提供了保证前后台数据一致性的机制。 


支持XML和ZDB两种数据传送格式 


支持回退未传送数据 






功能描述 :

离线数据传送功能(SYNA) 


查询变化表(SHOW CHG) 


查询用户锁信息(SHOW USERLOCK) 


在线一致性同步(SYN ONLINE) 


检查数据一致性(COMP FB DATA) 


回退未传送的数据(UNDO DATA) 


设置表同步模式(SET TBLSYNCMODE) 


查询表同步模式(SHOW TBLSYNCMODE) 


查询在线配置类型(SHOW DATATYPE) 










#### 离线数据传送 
#### 离线数据传送 


背景知识 :

为了保持离线配置前后台数据的一致性，提供了保证前后台数据一致性的机制。 






功能描述 :

离线数据传送的相关操作如下： 



 
离线数据传送功能(SYNA)
 

 
查询变化表(SHOW CHG)
 

 
查询用户锁信息(SHOW USERLOCK)
 

 
回退未传送的数据(UNDO DATA)
 

 










##### 传送数据(SYNA) 
##### 传送数据(SYNA) 


命令功能 :

该命令用于将网管存储的网元相关的数据传送到前台。一般在以下场景会使用该命令： 



 
在没有变化数据或者前台数据损坏时， 用户可以使用该命令强制将网管上存储的网元数据同步到前台。
 

 
当某个普通用户在网管上修改了网元数据，但是忘记将数据传送到前台时，用户可以使用该命令强制将此用户产生的变化数据传送到前台。
 

 
当多个普通用户在网管上修改了网元数据，用户可以使用该命令批量将所有的变化数据一次性传送到前台。
 

 
新开局时，使用该命令将网元依赖的基本数据（物理配置数据和容量表数据）传送到前台。
 

 




注意事项 :


 
勿在数据传送过程中修改数据，否则可能导致传送后网管和前台的数据不一致。
 

 
如果传送类型选择的是ALL，用户名不能输入，这时传送所有的表。
 

 
如果传送类型选择的是CHG，并且没有输入用户名，则传送当前用户的变化表。
 

 
如果传送类型选择的是CHG，并且输入用户名，则传送指定用户的变化表。
 

 




输入参数说明 :

标识|名称|类型|说明
---|---|---|---
USERNAME|用户名|参数可选性:任选参数；参数类型:字符型；参数范围为:0~200个字符。|传送、查询指定用户的变化数据，或者回退未传送的数据时，需要填写本参数。在传送数据时，本参数必须与“传送类型(STYPE）”配合使用，只有“传送类型(STYPE）”为“单个用户变化表(CHG)”时才允许输入。
STYPE|传送类型|参数可选性:任选参数；参数类型:枚举。参见枚举定义。默认值:CHG。|可以通过设置本参数来指定传送全部数据、传送所有用户的变化数据还是传送某个用户的变化数据。单个用户变化表(CHG)：传送某个用户的变化数据到前台，此时"用户名(USERNAME)"可以输入值，如果不输入用户名，则默认为当前登录用户。全部表(ALL)：将网管存储的全部网元数据传送到前台，而不管这些数据是否为变化数据。此时"用户名(USERNAME)"参数不允许输入。
NFSNAME|NFS名称|参数可选性:任选参数；参数类型:字符型；参数范围为:0~200个字符。|该参数表示NFS名称。
INCREF|是否同步引用配置|参数可选性:任选参数；参数类型:枚举。参见枚举定义。默认值:NO。|该参数表示是否同步引用配置（仅在指定NFS同步时有效）。






输出参数说明 :

标识|名称|类型|说明
---|---|---|---
INFO|结果|参数可选性:任选参数；参数类型:字符型；参数范围为:0~102400个字符。|该参数表示执行结果。






命令举例 :

传送单个变化表数据，NFS名称为SDM_CMS_0。 


SYNA:STYPE="CHG",NFSNAME="SDM_CMS_0" 






相关命令 :



[查询变化表]





[查询用户锁信息]





[回退未传送的数据]





##### 查询变化表(SHOW CHG) 
##### 查询变化表(SHOW CHG) 


命令功能 :

该命令用于查询哪些已修改的数据未同步到前台。 



 
如果查询指定用户的变化表，输入“用户名”参数。
 

 
如果查询所有用户的变化表，不要输入任何参数。
 

 
如果查询所有NFS的变化表，不要输入任何参数。
 

 
如果查询指定NFS的变化表，输入“NFS名称”参数。
 

 




注意事项 :
无。


输入参数说明 :

标识|名称|类型|说明
---|---|---|---
USERNAME|用户名|参数可选性:任选参数；参数类型:字符型；参数范围为:0~200个字符。|传送、查询指定用户的变化数据，或者回退未传送的数据时，需要填写本参数。在传送数据时，本参数必须与“传送类型(STYPE）”配合使用，只有“传送类型(STYPE）”为“单个用户变化表(CHG)”时才允许输入。
NFSNAME|NFS名称|参数可选性:任选参数；参数类型:字符型；参数范围为:0~200个字符。|该参数表示NFS名称。






输出参数说明 :

标识|名称|类型|说明
---|---|---|---
NFSNAME|NFS名称|参数可选性:任选参数；参数类型:字符型；参数范围为:1~300个字符。|该参数表示NFS名称。
USERNAME|用户名|参数可选性:任选参数；参数类型:字符型；参数范围为:0~50个字符。|传送、查询指定用户的变化数据，或者回退未传送的数据时，需要填写本参数。在传送数据时，本参数必须与“传送类型(STYPE）”配合使用，只有“传送类型(STYPE）”为“单个用户变化表(CHG)”时才允许输入。
TABLENAME|变化表|参数可选性:任选参数；参数类型:字符型；参数范围为:0~100个字符。|该参数表示变化表名称。
TABLEINFO|变化表描述|参数可选性:任选参数；参数类型:字符型；参数范围为:0~100个字符。|该参数表示变化表的描述。
TERMTYPE|终端类型|参数可选性:任选参数；参数类型:枚举。参见枚举定义。|该参数表示生成变化表的用户所在终端类型。OAM终端（OAM）：OAM客户端。EMS客户端（EMS）：EMS客户端。






命令举例 :

查询变化表，用户名为admin，NFS名称为SDM_CMS_0。 


SHOW CHG:USERNAME="admin",NFSNAME="SDM_CMS_0" 


`

SHOW CHG:USERNAME="admin",NFSNAME="SDM_CMS_0";
NFS名称    用户名  变化表       变化表描述    终端类型  
----------------------------------------------------------
SDM_CMS_0  ADMIN   R_UPREALARM  预警阈值配置  OAM终端   
----------------------------------------------------------
` 






相关命令 :



[查询用户锁信息]





[传送数据]





##### 查询用户锁信息(SHOW USERLOCK) 
##### 查询用户锁信息(SHOW USERLOCK) 


命令功能 :

该命令用于查询当前的用户锁的占用情况。 


其他用户如果要修改网元配置数据（表），必须查询锁标志位的状态。如果该配置数据（表）对应的用户锁被其他用户占用，则不能修改该数据。 



 
如果查询所有NFS的用户锁，不要输入任何参数。
 

 
如果查询指定NFS的用户锁，输入“NFS名称”参数。
 

 




注意事项 :
无。


输入参数说明 :

标识|名称|类型|说明
---|---|---|---
NFSNAME|NFS名称|参数可选性:任选参数；参数类型:字符型；参数范围为:0~200个字符。|该参数表示NFS名称。






输出参数说明 :

标识|名称|类型|说明
---|---|---|---
NFSNAME|NFS名称|参数可选性:任选参数；参数类型:字符型；参数范围为:1~200个字符。|该参数表示NFS名称。
MODULESET|模型集锁|参数可选性:任选参数；参数类型:字符型；参数范围为:0~200个字符。|该参数表示用户锁编号。网元配置数据（表）根据是否具有相关性被分成多个组，每个组都对应一个用户锁，每个用户锁都有一个唯一编号。
LOCKNAME|锁名称|参数可选性:任选参数；参数类型:字符型；参数范围为:0~200个字符。|该参数表示用户锁名称。网元配置数据（表）根据是否具有相关性被分成多个组，每个组都对应一个用户锁，每个用户锁都有一个名称。
USER|用户名|参数可选性:任选参数；参数类型:字符型；参数范围为:0~128个字符。|该参数表示锁定用户锁的用户名称。
LOCKTIME|锁定时间|参数可选性:任选参数；参数类型:字符型；参数范围为:1~24个字符。|该参数表示用户锁锁定的时间。时间格式为YYYY-MM-DD hh:mm:ss。
TERMTYPE|终端类型|参数可选性:任选参数；参数类型:枚举。参见枚举定义。|该参数表示生成变化表的用户所在终端类型。OAM终端（OAM）：OAM客户端。EMS客户端（EMS）：EMS客户端。






命令举例 :

查询NFS名称为SDM_CMS_0的用户锁。 


SHOW USERLOCK:NFSNAME="SDM_CMS_0" 


`

SHOW USERLOCK:NFSNAME="SDM_CMS_0";
NFS名称    模型集锁  锁名称             用户名  锁定时间             终端类型  
---------------------------------------------------------------------------------
SDM_CMS_0  15006     本局配置-公共配置  ADMIN   2021-08-13 10:45:30  OAM终端   
---------------------------------------------------------------------------------
` 






相关命令 :



[查询变化表]





[传送数据]





[回退未传送的数据]





##### 回退未传送的数据(UNDO DATA) 
##### 回退未传送的数据(UNDO DATA) 


命令功能 :

该命令用于回退未传送的变化表数据。 



 
用户类型为ALL时，不允许输入用户名参数。
 

 
超级管理员控制开关打开时，非ADMIN用户不允许回退其他用户数据，或所有用户数据；超级管理员控制开关关闭时，非ADMIN用户允许回退其他用户数据，或所有用户数据。
 

 




注意事项 :

该命令是危险命令，将回退未传送的变化表数据。 




输入参数说明 :

标识|名称|类型|说明
---|---|---|---
USERNAME|用户名|参数可选性:任选参数；参数类型:字符型；参数范围为:0~200个字符。|该参数表示用户名。
USERTYPE|用户类型|参数可选性:任选参数；参数类型:枚举。参见枚举定义。默认值:SINGLE。|该参数包括如下选项：单用户：选择单用户时，如果用户名不输入，表示当前登录用户。所有用户：选择所有用户时，不能输入用户名。






输出参数说明 :

标识|名称|类型|说明
---|---|---|---
INFO|结果|参数可选性:任选参数；参数类型:字符型；参数范围为:0~102400个字符。|该参数表示命令执行结果。






命令举例 :

回退未传送的变化数据。 


UNDO DATA:USERNAME="",USERTYPE="SINGLE" 


`

UNDO DATA:USERNAME="ADMIN",USERTYPE="SINGLE";

结果                                                   
---------------------------------------------------------
[SDM_CMS_0]读取数据...                                 
[SDM_CMS_0]开始恢复数据...                             
[CommonS_DAP_0]读取数据...                             
[SDM_FE_UDM_0]读取数据...                              
[SDM_PROV_PDM_0]读取数据...                            
[Ncudr_SystemManagement_0]读取数据...                  
[Nudr_DataManagement_0]读取数据...                     
[SDM_FE_HSS_0]读取数据...                              
[SDM_PROV_PGW_0]读取数据...                            
[SDM_CMS_0]当前恢复表名:CN_R_HPREALARM，无错误         
[CommonS_DAP_0]用户没有修改数据,无需回退！             
[Ncudr_SystemManagement_0]用户没有修改数据,无需回退！  
[Nudr_DataManagement_0]用户没有修改数据,无需回退！     
[SDM_FE_HSS_0]用户没有修改数据,无需回退！              
[SDM_PROV_PDM_0]用户没有修改数据,无需回退！            
[SDM_FE_UDM_0]用户没有修改数据,无需回退！              
[SDM_CMS_0]读取数据...                                 
[SDM_PROV_PGW_0]用户没有修改数据,无需回退！            
[SDM_CMS_0]恢复数据成功                                
[SDM_CMS_0]用户没有修改数据,无需回退！                 
---------------------------------------------------------
记录数：  20
执行成功
开始时间：2021-08-13 11:02:24.902 耗时：13.549秒
` 






#### 在线数据传送 
#### 在线数据传送 


背景知识 :

为了保持在线配置前后台数据的一致性，提供了保证前后台数据一致性的机制。 






功能描述 :

在线一致性同步(SYN ONLINE) 


查询在线配置类型(SHOW DATATYPE) 










##### 在线一致性同步(SYN ONLINE) 
##### 在线一致性同步(SYN ONLINE) 


命令功能 :
在线一致性同步


注意事项 :

无 




输入参数说明 :

标识|名称|类型|说明
---|---|---|---
STYPE|同步类型|参数可选性:任选参数；参数类型:枚举。参见枚举定义。默认值:ALL。|同步类型：ALL：同步所有配置表。DIFF：只同步差异表。
NFS|NFS名称|参数可选性:任选参数；参数类型:字符型；参数范围为:0~200个字符。|NFS名称
DATATYPE|配置数据类型|参数可选性:任选参数；参数类型:字符型；参数范围为:0~255个字符。|配置数据类型






输出参数说明 :

标识|名称|类型|说明
---|---|---|---
INFO|结果|参数可选性:任选参数；参数类型:字符型。|结果






命令举例 :

在线一致性同步 


SYN ONLINE:STYPE="ALL",NFS="CommonS_HTTP_LB_0"; 






##### 查询在线配置类型(SHOW DATATYPE) 
##### 查询在线配置类型(SHOW DATATYPE) 


命令功能 :
查询在线配置类型


注意事项 :

无 




输入参数说明 :



输出参数说明 :

标识|名称|类型|说明
---|---|---|---
NFS|NFS名称|参数可选性:任选参数；参数类型:字符型；参数范围为:0~200个字符。|NFS名称
DATATYPE|配置数据类型|参数可选性:任选参数；参数类型:字符型；参数范围为:0~255个字符。|配置数据类型
DESC|分类说明|参数可选性:任选参数；参数类型:字符型；参数范围为:0~255个字符。|分类说明






命令举例 :

该命令用于查询在线配置类型： 


`

SHOW DATATYPE;
NFS名称            配置数据类型  分类说明
-----------------------------------------
CommonS_HTTP_LB_0  BASIC         基础配置
CommonS_IPS_0      BASIC         基础配置
CommonS_TMSP_0     BASIC         基础配置
-----------------------------------------
` 






#### 数据一致性 
#### 数据一致性 


背景知识 :

为了检查前后台数据的一致性，提供了检查前后台数据一致性的机制。 






功能描述 :

检查数据一致性(COMP FB DATA) 










##### 检查数据一致性(COMP FB DATA) 
##### 检查数据一致性(COMP FB DATA) 


命令功能 :
检查数据一致性


注意事项 :

无 




输入参数说明 :

标识|名称|类型|说明
---|---|---|---
NFS|NFS名称|参数可选性:必选参数；参数类型:字符型；参数范围为:1~200个字符。|NFS名称
MODE|显示模式|参数可选性:任选参数；参数类型:枚举。参见枚举定义。默认值:DIFF。|显示模式






输出参数说明 :

标识|名称|类型|说明
---|---|---|---
PRGRSINFO|进度提示|参数可选性:任选参数；参数类型:字符型；参数范围为:1~1000个字符。|进度提示
DIFFNUM|差异表个数|参数可选性:任选参数；参数类型:整数；参数范围为:0~1024。|差异表个数
SAMENUM|相同表个数|参数可选性:任选参数；参数类型:整数；参数范围为:0~1024。|相同表个数
TBL|表名称|参数可选性:任选参数；参数类型:字符型；参数范围为:0~100个字符。|表名称
RST|比较结果|参数可选性:任选参数；参数类型:枚举。参见枚举定义。|比较结果
FSZ|前台记录数|参数可选性:任选参数；参数类型:整数；参数范围为:0~65535。|前台记录数
BSZ|后台记录数|参数可选性:任选参数；参数类型:字符型；参数范围为:0~65535个字符。|后台记录数
FSQ|前台序号|参数可选性:任选参数；参数类型:整数；参数范围为:0~65535。|前台序号
BSQ|后台序号|参数可选性:任选参数；参数类型:字符型；参数范围为:0~65535个字符。|后台序号






命令举例 :

检查数据一致性 


COMP FB DATA:NFS="CommonS_TMSP_0",MODE="DIFF"; 






#### 同步模式 
#### 同步模式 


背景知识 :

系统为了保持前后台数据的一致性，提供前后台数据同步的机制。原先只支持XML同步模式，该模式下同步耗时长，不支持数据量大的场景。因此新增了ZDB同步模式，该模式下同步耗时短，支持数据量大的场景。 






功能描述 :

同步模式配置功能支持XML和ZDB两种数据同步模式，默认为ZDB模式。 



 
XML模式是把数据以XML文件格式组装后同步到业务。
 

 
ZDB模式是把数据以字节流方式组装成ZDB文件格式后同步到业务。
 

 










##### 设置表同步模式(SET TBLSYNCMODE) 
##### 设置表同步模式(SET TBLSYNCMODE) 


命令功能 :

该命令用于修改网元数据传送功能支持的同步模式。只支持ZDB和XML两种同步模式，默认为ZDB模式。 


根据业务需要可以通过该命令修改成其他同步模式。 




注意事项 :

执行该命令需要确认当前组件是否都支持要切换的同步模式。如果有组件不支持，同步将会失败。 




输入参数说明 :

标识|名称|类型|说明
---|---|---|---
MODE|表同步模式|参数可选性:必选参数；参数类型:枚举。参见枚举定义。|数据传送功能选择的同步模式。1：ZDB模式2：XML模式






输出参数说明 :

标识|名称|类型|说明
---|---|---|---
MODE|表同步模式|参数可选性:任选参数；参数类型:枚举。参见枚举定义。|数据传送功能选择的同步模式。1：ZDB模式2：XML模式






命令举例 :

修改表同步模式为“ZDB模式”。 


SET TBLSYNCMODE:MODE="ZDB"; 






##### 查询表同步模式(SHOW TBLSYNCMODE) 
##### 查询表同步模式(SHOW TBLSYNCMODE) 


命令功能 :

该命令用于查询数据传送功能选择的同步模式。 




注意事项 :

无。 




输入参数说明 :



输出参数说明 :

标识|名称|类型|说明
---|---|---|---
MODE|表同步模式|参数可选性:任选参数；参数类型:枚举。参见枚举定义。|数据传送功能选择的同步模式。1：ZDB模式2：XML模式






命令举例 :

查询数据传送功能选择的同步模式。 


`

SHOW TBLSYNCMODE
-----------------DEV_USPP_183----------------

操作维护  表同步模式 
---------------------
修改      ZDB方式传送
---------------------
记录数：  1
` 






### 备份恢复 
### 备份恢复 


背景知识 :

为了提高系统数据的可靠性和安全性，通常需要在系统完成首次配置后或有重要配置变更前，对用户配置数据进行备份。若系统数据库发生意外损坏后，则采用备份数据进行恢复。 



 
支持手工备份和自动备份机制。 

 
恢复只支持手工恢复。 

 
系统使用三级管理机制：备份任务-备份对象集合-备份对象，一个备份任务对应一个或多个备份对象集合进行备份，一个备份对象集合对应一个或多个备份对象。 

 


术语 



 
备份对象：系统各功能模块需要备份的数据库表或文件。 

 
备份对象集合：系统各功能模块中备份对象的集合。目前系统中包括基本配置、IP协议栈、安全、日志、OAM数据库文件、NFS私有数据、性能和告警的备份对象集合，它们是系统默认配置不可更改。 

 






功能描述 :

进行手工备份和恢复，步骤如下： 



 
执行BACKUP命令，对功能模块的数据进行备份； 

 
如果系统数据库文件损坏，恢复之前备份的数据，执行RESTORE命令。 

 










#### 查询系统对象集合(SHOW SYS SET) 
#### 查询系统对象集合(SHOW SYS SET) 


命令功能 :
查询系统对象集合


注意事项 :

无 




输入参数说明 :

标识|名称|类型|说明
---|---|---|---
SETID|系统对象集合编号|参数可选性:任选参数；参数类型:整数；参数范围为:1~100。|系统对象集合编号，包括：1：基本配置数据2：IP协议栈配置数据3：安全数据4：日志数据5：OAM数据库文件6：NFS私有数据7：性能数据8：告警数据






输出参数说明 :

标识|名称|类型|说明
---|---|---|---
SETID|系统对象集合编号|参数可选性:任选参数；参数类型:整数。|系统对象集合编号，包括：1：基本配置数据2：IP协议栈配置数据3：安全数据4：日志数据5：OAM数据库文件6：NFS私有数据7：性能数据8：告警数据
NAME|系统对象集合名称|参数可选性:任选参数；参数类型:字符型；参数范围为:0~255个字符。|系统对象集合编号，包括：1：基本配置数据2：IP协议栈配置数据3：安全数据4：日志数据5：OAM数据库文件6：NFS私有数据7：性能数据8：告警数据






命令举例 :

查询系统备份对象集 


`SHOW SYS SET` 






#### 备份数据(BACKUP) 
#### 备份数据(BACKUP) 


命令功能 :
该命令用于对指定的系统对象集合进行备份


注意事项 :


 
备份操作时，输出的备份文件可以存储在SFTP服务器上。 

 
备份操作完成对指定的一个或多个备份对象集合进行备份，最终输出一个zip压缩格式的备份文件。 

 
在备份配置模块数据过程中，系统只能执行该模块的查询命令。 

 




输入参数说明 :

标识|名称|类型|说明
---|---|---|---
ID|备份任务编号|参数可选性:任选参数；参数类型:整数；参数范围为:1~4294967295。默认值:1。|备份任务的编号。
NAME|备份任务名称|参数可选性:任选参数；参数类型:字符型；参数范围为:1~255个字符。默认值:default。|备份任务的描述。
FILEPATH|备份文件路径|参数可选性:特殊任选参数；参数类型:字符型；参数范围为:1~1024个字符。|输入URL格式的SFTP服务器目录。
USERNAME|SFTP用户名|参数可选性:特殊任选参数；参数类型:字符型；参数范围为:0~32个字符。|输入SFTP服务器的用户名。
PASSWORD|SFTP用户密码|参数可选性:特殊任选参数；参数类型:字符型；参数范围为:0~128个字符。|输入SFTP服务器的用户密码。
FILENAME|备份文件名称|参数可选性:任选参数；参数类型:字符型；参数范围为:1~240个字符。|不需要添加文件扩展名，系统会自动添加扩展名.zip，若不输入则系统默认为：<网元名称>_<备份日期>_<备份开始时间>。
NFS|NFS名称|参数可选性:任选参数；参数类型:字符型；参数范围为:1~200个字符。|指定NFS名称进行备份。NFS的名称即是左上导航树当前网元下的各个NFS节点名称注意：1. NFS参数在UMM网元不支持2. 如果SETID参数不为空，且不包含1(基本配置数据)和2(IP协议栈配置数据)，则NFS参数的输入将被忽略
BAKFILEPWD|备份文件密码|参数可选性:任选参数；参数类型:字符型；参数范围为:8~64个字符。|此参数值将作为密码对备份文件进行压缩打包处理，后续如果尝试将此备份数据恢复到系统中，则必须输入该密码才能成功。所以请牢记此密码，一旦密码丢失则当前备份的数据将无法恢复到系统中。仅在GDPR开关打开时有效。
SETID|备份对象|参数可选性:任选参数；参数类型:枚举。参见枚举定义。|备份的一个或多个系统对象集合。






输出参数说明 :

标识|名称|类型|说明
---|---|---|---
ID|备份任务编号|参数可选性:任选参数；参数类型:整数；参数范围为:1~4294967295。|备份任务的编号。
NAME|备份任务名称|参数可选性:任选参数；参数类型:字符型；参数范围为:1~255个字符。|备份任务的描述。
STATUS|任务状态|参数可选性:任选参数；参数类型:枚举。参见枚举定义。|备份任务的状态。
PROCESS|完成百分比|参数可选性:任选参数；参数类型:整数；参数范围为:0~100。|备份任务完成的百分比。
PROCESSINFO|进度信息|参数可选性:任选参数；参数类型:字符型；参数范围为:0~255个字符。|备份任务进度的信息。
ERRSTATE|任务错误状态|参数可选性:任选参数；参数类型:枚举。参见枚举定义。|备份任务的错误状态。
FILEURL|备份文件路径|参数可选性:任选参数；参数类型:字符型；参数范围为:0~1024个字符。|备份文件输出的路径。
NFID|网络功能ID|参数可选性:任选参数；参数类型:字符型；参数范围为:0~1024个字符。|网络功能ID。
TIPID|序号|参数可选性:任选参数；参数类型:整数；参数范围为:1~65535。|序号
CONTENT|内容|参数可选性:任选参数；参数类型:字符型；参数范围为:0~500个字符。|内容






命令举例 :

备份所有数据，备份文件存储在默认路径 


`BACKUP:ID="1",NAME="default"` 






#### 恢复数据(RESTORE) 
#### 恢复数据(RESTORE) 


命令功能 :
该命令实现对指定的备份文件进行恢复。


注意事项 :

通用说明 



 
本命令包含普通恢复和整VNF恢复两种恢复方式。“恢复整VNF数据”选择“是”时，使用整VNF恢复方式；“恢复整VNF数据”选择“否”时，使用普通恢复方式。“恢复场景”参数在普通恢复时有效，在整VNF恢复时无效。 

 


普通恢复方式说明 



 
如果恢复的数据中含有安全数据，则会在恢复完成后，自动断开ssh连接 

 
恢复场景为“本局重新实例化恢复”或“从其他局备份恢复”时，恢复成功后，需要整局重启！ 

 
恢复成功后系统参数可能发生变化，请在恢复前后分别执行SHOW SYSPARA命令，比对出存在差异的系统参数，并在恢复成功后根据其提示信息做对应操作！ 

 


整VNF恢复方式说明 



 
IAAS场景下，执行恢复操作前，需要关闭仲裁并挂起备OMU虚机。 

 
恢复整VNF数据前，请备份VNF数据，避免恢复失败破坏数据后，无法恢复到原有数据状态。 

 
恢复命令执行成功后，OMU会自动重启，并在重启后完成VNF数据恢复，请耐心等待。在查询到全部虚机、容器和NFS运行正常后，执行SYNA和SYN ONLINE命令同步所有NFS的数据。 

 




输入参数说明 :

标识|名称|类型|说明
---|---|---|---
ID|恢复任务编号|参数可选性:任选参数；参数类型:整数；参数范围为:1~4294967295。默认值:1。|恢复任务的编号。
NAME|恢复任务名称|参数可选性:任选参数；参数类型:字符型；参数范围为:1~255个字符。默认值:default。|恢复任务的名称。
FILENAME|恢复文件路径|参数可选性:必选参数；参数类型:字符型；参数范围为:1~1024个字符。|输入URL格式的SFTP服务器完整路径，包括待恢复的文件名称。
USERNAME|SFTP用户名|参数可选性:必选参数；参数类型:字符型；参数范围为:0~32个字符。|输入SFTP服务器的用户名。
PASSWORD|SFTP用户密码|参数可选性:必选参数；参数类型:字符型；参数范围为:0~128个字符。|输入SFTP服务器的用户密码。
BAKFILEPWD|恢复文件密码|参数可选性:任选参数；参数类型:字符型；参数范围为:8~64个字符。|此参数值将作为密码对备份文件进行压缩打包处理，后续如果尝试将此备份数据恢复到系统中，则必须输入该密码才能成功。所以请牢记此密码，一旦密码丢失则当前备份的数据将无法恢复到系统中。仅在GDPR开关打开时有效。
ISREINST|恢复场景|参数可选性:任选参数；参数类型:枚举。参见枚举定义。默认值:RESTORE_LOCAL。|恢复场景：0：本局恢复1：本局重新实例化恢复2：从其他局备份恢复
RESVNFDATA|恢复整VNF数据|参数可选性:任选参数；参数类型:枚举。参见枚举定义。默认值:NO。|恢复整VNF数据






输出参数说明 :

标识|名称|类型|说明
---|---|---|---
ID|恢复任务编号|参数可选性:任选参数；参数类型:整数；参数范围为:1~4294967295。|恢复任务的编号。
NAME|恢复任务名称|参数可选性:任选参数；参数类型:字符型；参数范围为:1~255个字符。|恢复任务的名称。
STATUS|任务状态|参数可选性:任选参数；参数类型:枚举。参见枚举定义。|备份任务的状态。
PROCESS|完成百分比|参数可选性:任选参数；参数类型:整数；参数范围为:0~100。|备份任务完成的百分比。
PROCESSINFO|进度信息|参数可选性:任选参数；参数类型:字符型；参数范围为:0~255个字符。|备份任务进度的信息。
ERRSTATE|任务错误状态|参数可选性:任选参数；参数类型:枚举。参见枚举定义。|备份任务的错误状态。
NFID|网络功能ID|参数可选性:任选参数；参数类型:字符型。|网络功能ID。






命令举例 :

恢复备份文件，备份文件位置在sftp://10.44.65.159:29029/Oamdata/smf159/oam/brm/smf159_20191126_210843.zip 


`RESTORE:PASSWORD="***",ISREINST="RESTORE_LOCAL",USERNAME="ems",ID="1",FILENAME="sftp://10.44.65.159:29029/Oamdata/smf159/oam/brm/smf159_20191126_210843.zip",NAME="default"` 






#### 设置文件戳(SET GDPRPWD) 
#### 设置文件戳(SET GDPRPWD) 


命令功能 :
该命令用于设置文件戳，文件戳用于自动备份策略以及EM备份所产生的备份数据文件的加密和解密。  


注意事项 :

无 




输入参数说明 :

标识|名称|类型|说明
---|---|---|---
GDPRPWD|新设置的文件戳|参数可选性:必选参数；参数类型:字符型；参数范围为:8~32个字符。|新设置的文件戳
CONFIRMGDPRPWD|确认新设置的文件戳|参数可选性:必选参数；参数类型:字符型；参数范围为:8~32个字符。|确认新设置的文件戳






输出参数说明 :



命令举例 :

设置新的文件戳 


`SET GDPRPWD:GDPRPWD="********",CONFIRMGDPRPWD="********";` 






#### 自动备份策略 
#### 自动备份策略 


背景知识 :

为了提高易用性，系统提供了自动备份机制，用户可以定义备份策略来完成在某个特定时间进行数据的自动备份。 


术语 



 
备份策略：通过设置在某个特定时间周期内，对某个或多个模块的用户配置数据进行定时备份。备份策略周期分为：日策略、周策略、月策略。 

 
日策略：在“每天某时某分”启动备份任务。 

 
周策略：在“每周某几个星期几的某时某分”启动备份任务。 

 
月策略：在“每月某几天的某时某分”启动备份任务。 

 
自动备份策略默认保留最近30个备份文件。 

 






功能描述 :

配置自动备份策略，步骤如下： 



 
运行ADD AUTO STRATEGY命令，添加自动备份策略； 

 
如果不再需要某自动备份策略，运行DEL AUTO STRATEGY命令，删除该自动备份策略； 

 
如果需要调整某自动备份策略的定时策略，运行SET AUTO STRATEGY命令，修改该自动备份策略。 

 










##### 新增自动备份策略(ADD AUTO STRATEGY) 
##### 新增自动备份策略(ADD AUTO STRATEGY) 


命令功能 :
新增自动备份策略


注意事项 :

为了提高易用性，系统提供了自动备份机制，用户可以定义备份策略来完成在某个特定时间进行数据的自动备份；因为不支持两条及以上的备份命令同时执行，所以新增备份策略时，备份任务之间需要有一个至少5分钟的间隔。 


术语 



 
备份策略：通过设置在某个特定时间周期内，对用户配置数据进行定时备份。备份策略周期分为：日策略、周策略、月策略。 

 
日策略：在“每天某时某分”启动备份任务。 

 
周策略：在“每周某几个星期几的某时某分”启动备份任务。 

 
月策略：在“每月某几天的某时某分”启动备份任务。 

 
自动备份策略默认保留最近30个备份文件。 

 




输入参数说明 :

标识|名称|类型|说明
---|---|---|---
ID|自动备份任务编号|参数可选性:必选参数；参数类型:整数；参数范围为:1~65535。|自动备份任务编号。
NAME|自动备份任务名称|参数可选性:必选参数；参数类型:字符型；参数范围为:1~255个字符。|自动备份任务名称。
ACTIVEFLAG|策略激活标志|参数可选性:任选参数；参数类型:枚举。参见枚举定义。默认值:ACTIVATE。|策略激活标志。
OUTPUTPATH|备份输出路径|参数可选性:特殊任选参数；参数类型:字符型；参数范围为:1~255个字符。|输出到SFTP服务器的路径，URL格式是SFTP服务器目录。
USERNAME|SFTP用户名|参数可选性:特殊任选参数；参数类型:字符型；参数范围为:0~32个字符。|SFTP服务器的用户名。
PASSWORD|SFTP用户密码|参数可选性:特殊任选参数；参数类型:字符型；参数范围为:0~32个字符。|SFTP服务器的用户密码。
FILECOUNT|备份文件保留的个数|参数可选性:任选参数；参数类型:整数；参数范围为:1~50。默认值:30。|保留的备份文件数量，多余的文件会被循环删除。
BASEFILENAME|备份文件名称|参数可选性:必选参数；参数类型:字符型；参数范围为:1~64个字符。|不需要添加文件扩展名，系统会自动添加扩展名（.zip）。
SETID|备份对象|参数可选性:必选参数；参数类型:枚举。参见枚举定义。|备份的一个或多个系统对象集合。
TIMETYPE|策略时间类型|参数可选性:任选参数；参数类型:枚举。参见枚举定义。默认值:DAY。|策略时间类型。 若此参数输入值为WEEK（每周），则必须输入对应的WEEKDAY（周日期）参数；若此参数输入值为MONTH（每月），则必须输入对应的MONTHDAY（月日期）参数。
TIME|策略启动时间|参数可选性:必选参数；参数类型:日期|备份任务执行的服务器系统时间。
WEEKDAY|周日期|参数可选性:任选参数；参数类型:枚举。参见枚举定义。|定义周策略，在“每周某几个星期几的某时某分”启动备份任务。
MONTHDAY|月日期|参数可选性:任选参数；参数类型:枚举。参见枚举定义。|定义月策略，在“每月某几天的某时某分”启动备份任务。






输出参数说明 :



命令举例 :

新增自动备份策略： 


`ADD AUTO STRATEGY:ID=7,NAME=BASICCM,BASEFILENAME="test_add",SETID=1,TIME="10:00"` 






##### 修改自动备份策略(SET AUTO STRATEGY) 
##### 修改自动备份策略(SET AUTO STRATEGY) 


命令功能 :
调整自动备份策略的定时时间、输出位置、基准文件名等信息。


注意事项 :

为了提高易用性，系统提供了自动备份机制，用户可以定义备份策略来完成在某个特定时间进行数据的自动备份；因为不支持两条及以上的备份命令同时执行，所以设置备份策略时，备份任务之间需要有一个至少5分钟的间隔。 


术语 



 
备份策略：通过设置在某个特定时间周期内，对用户配置数据进行定时备份。备份策略周期分为：日策略、周策略、月策略。 

 
日策略：在“每天某时某分”启动备份任务。 

 
周策略：在“每周某几个星期几的某时某分”启动备份任务。 

 
月策略：在“每月某几天的某时某分”启动备份任务。 

 
自动备份策略默认保留最近30个备份文件。 

 




输入参数说明 :

标识|名称|类型|说明
---|---|---|---
ID|自动备份任务编号|参数可选性:必选参数；参数类型:整数；参数范围为:1~65535。|系统中已配置的自动备份任务编号。
NAME|自动备份任务名称|参数可选性:任选参数；参数类型:字符型；参数范围为:1~255个字符。|系统中已配置的自动备份任务名称。
ACTIVEFLAG|策略激活标志|参数可选性:任选参数；参数类型:枚举。参见枚举定义。|策略激活标志。
OUTPUTPATH|备份输出路径|参数可选性:特殊任选参数；参数类型:字符型；参数范围为:1~255个字符。|输出到SFTP服务器的路径，URL格式是SFTP服务器目录。
USERNAME|SFTP用户名|参数可选性:特殊任选参数；参数类型:字符型；参数范围为:0~32个字符。|SFTP服务器的用户名。
PASSWORD|SFTP用户密码|参数可选性:特殊任选参数；参数类型:字符型；参数范围为:0~32个字符。|SFTP服务器的用户密码。
FILECOUNT|备份文件保留的个数|参数可选性:任选参数；参数类型:整数；参数范围为:1~50。|保留的备份文件数量，多余的文件会被循环删除。
BASEFILENAME|备份文件名称|参数可选性:任选参数；参数类型:字符型；参数范围为:1~64个字符。|不需要添加文件扩展名，系统会自动添加扩展名（.zip）。
SETID|备份对象|参数可选性:任选参数；参数类型:枚举。参见枚举定义。|备份的一个或多个系统对象集合。
TIMETYPE|策略时间类型|参数可选性:任选参数；参数类型:枚举。参见枚举定义。|策略时间类型。 若此参数输入值为WEEK（每周），则必须输入对应的WEEKDAY（周日期）参数；若此参数输入值为MONTH（每月），则必须输入对应的MONTHDAY（月日期）参数。
TIME|策略启动时间|参数可选性:任选参数；参数类型:日期|备份任务执行的服务器系统时间。
WEEKDAY|周日期|参数可选性:任选参数；参数类型:枚举。参见枚举定义。|定义周策略，在“每周某几个星期几的某时某分”启动备份任务。
MONTHDAY|月日期|参数可选性:任选参数；参数类型:枚举。参见枚举定义。|定义月策略，在“每月某几天的某时某分”启动备份任务。






输出参数说明 :



命令举例 :

修改的自动策略编号为1的策略： 


`SET AUTO STRATEGY:ID=1,FILECOUNT=30` 






相关命令 :



[查询自动备份策略]





[增加自动备份策略]





[删除自动备份策略]





[执行自动备份策略]





##### 删除自动备份策略(DEL AUTO STRATEGY) 
##### 删除自动备份策略(DEL AUTO STRATEGY) 


命令功能 :
删除自动备份策略


注意事项 :

无 




输入参数说明 :

标识|名称|类型|说明
---|---|---|---
ID|自动备份任务编号|参数可选性:必须单选参数；参数类型:整数；参数范围为:1~65535。|系统中已配置的自动备份任务编号。
NAME|自动备份任务名称|参数可选性:必须单选参数；参数类型:字符型；参数范围为:1~255个字符。|系统中已配置的自动备份任务名称。






输出参数说明 :



命令举例 :

删除自动备份策略： 


`DEL AUTO STRATEGY:ID=7;` 






##### 查询自动备份策略(SHOW AUTO STRATEGY) 
##### 查询自动备份策略(SHOW AUTO STRATEGY) 


命令功能 :
查询用户配置的自动备份策略。


注意事项 :

无 




输入参数说明 :

标识|名称|类型|说明
---|---|---|---
ID|自动备份任务编号|参数可选性:任意单选参数；参数类型:整数；参数范围为:1~65535。|系统中已配置的自动备份任务编号。
NAME|自动备份任务名称|参数可选性:任意单选参数；参数类型:字符型；参数范围为:1~255个字符。|系统中已配置的自动备份任务名称。






输出参数说明 :

标识|名称|类型|说明
---|---|---|---
ID|自动备份任务编号|参数可选性:任选参数；参数类型:整数；参数范围为:1~65535。|系统中已配置的自动备份任务编号。
NAME|自动备份任务名称|参数可选性:任选参数；参数类型:字符型；参数范围为:1~255个字符。|系统中已配置的自动备份任务名称。
ACTIVEFLAG|策略激活标志|参数可选性:任选参数；参数类型:枚举。参见枚举定义。|自动备份策略的激活标志。
OUTPUTPATH|备份输出路径|参数可选性:任选参数；参数类型:字符型；参数范围为:0~255个字符。|备份的输出路径。
FILECOUNT|备份文件保留的个数|参数可选性:任选参数；参数类型:整数；参数范围为:1~50。|备份文件保留的个数。
BASEFILENAME|备份文件名称|参数可选性:任选参数；参数类型:字符型；参数范围为:0~255个字符。|备份文件的名称。
TIMETYPE|策略时间类型|参数可选性:任选参数；参数类型:枚举。参见枚举定义。|策略的时间类型。
TIME|策略启动时间|参数可选性:任选参数；参数类型:字符型；参数范围为:0~255个字符。|策略的启动时间。
SETID|系统对象集合|参数可选性:任选参数；参数类型:字符型；参数范围为:1~2000个字符。|系统对象集合编号，包括：1：基本配置数据2：IP协议栈配置数据3：安全数据4：日志数据5：OAM数据库文件6：NFS私有数据7：性能数据8：告警数据
WEEKDAY|周日期|参数可选性:任选参数；参数类型:枚举。参见枚举定义。|自动备份策略的周日期。
MONTHDAY|月日期|参数可选性:任选参数；参数类型:枚举。参见枚举定义。|自动备份策略的月日期。
USERNAME|SFTP用户名|参数可选性:任选参数；参数类型:字符型；参数范围为:0~32个字符。|输出到SFTP服务器的用户名。






命令举例 :

查询当前用户配置的自动备份策略： 


`SHOW AUTO STRATEGY;` 






相关命令 :



[增加自动备份策略]





[修改自动备份策略]





[删除自动备份策略]





[执行自动备份策略]





##### 执行自动备份策略(EXE AUTO STRATEGY) 
##### 执行自动备份策略(EXE AUTO STRATEGY) 


命令功能 :
执行自动备份策略


注意事项 :

无 




输入参数说明 :

标识|名称|类型|说明
---|---|---|---
ID|自动备份任务编号|参数可选性:必选参数；参数类型:整数；参数范围为:1~65535。|自动备份任务的编号。






输出参数说明 :

标识|名称|类型|说明
---|---|---|---
ID|自动备份任务编号|参数可选性:任选参数；参数类型:整数；参数范围为:1~65535。|自动备份任务的编号。
NAME|自动备份任务名称|参数可选性:任选参数；参数类型:字符型；参数范围为:1~255个字符。|自动备份任务的名称。






命令举例 :

执行自动备份策略： 


`EXE AUTO STRATEGY:ID=1;` 






### 导出配置 
### 导出配置 


功能描述 :

配置数据反转功能是把当前网管全部或部分配置数据导出为配置数据执行脚本,操作维护人员可以对比当前配置数据脚本和原始配置数据执行脚本的一致性。 



 
支持导出全部配置数据的MML或者部分配置数据的MML。 

 
支持将导出结果上传到指定sftp。 

 
导出过程中支持取消操作。 

 










#### 导出配置数据MML(EXPT MML) 
#### 导出配置数据MML(EXPT MML) 


命令功能 :
该命令用于对指定的服务名称导出命令行脚本，导出的命令行脚本可以在相应网元的命令终端直接执行。


注意事项 :


 
导出配置命令行时，输出的文本文件仅支持存储在SFTP服务器上。 

 
导出操作完成对指定的一个或多个服务对象进行导出，最终输出一个ZIP压缩格式的脚本文件。 

 
如果不想继续导出，可以执行CANCEL EXPTMML取消。 

 




输入参数说明 :

标识|名称|类型|说明
---|---|---|---
NFS|服务名称|参数可选性:任选参数；参数类型:字符型；参数范围为:0~200个字符。|指定一个或多个NFS名称进行导出；NFS的名称即是左上导航树当前网元下的各个NFS节点名称。
FTPPATH|SFTP路径|参数可选性:特殊任选参数；参数类型:字符型；参数范围为:0~255个字符。|脚本文件来自SFTP服务器，例如：sftp://10.0.0.35/mml/cm.zip。
USER|SFTP用户名|参数可选性:特殊任选参数；参数类型:字符型；参数范围为:0~32个字符。|输入SFTP服务器的用户名。
PASS|SFTP密码|参数可选性:特殊任选参数；参数类型:字符型；参数范围为:0~128个字符。|输入SFTP服务器的用户密码。






输出参数说明 :

标识|名称|类型|说明
---|---|---|---
ID|任务编号|参数可选性:任选参数；参数类型:整数。|任务编号。
NAME|任务名称|参数可选性:任选参数；参数类型:字符型。|导出任务的描述。
STAT|导出任务状态|参数可选性:任选参数；参数类型:枚举。参见枚举定义。|导出配置命令行任务的状态。WAIT：待执行。RUN：运行。FINISH：正常结束。
PROCESS|完成百分比|参数可选性:任选参数；参数类型:整数。|导出配置命令行任务完成的百分比。
PROCESSINFO|进度信息|参数可选性:任选参数；参数类型:字符型。|导出配置命令行任务进度的信息。
ERRSTAT|错误状态|参数可选性:任选参数；参数类型:字符型。|导出配置命令行任务的错误状态。
FILEPATH|导出文件路径|参数可选性:任选参数；参数类型:字符型。|导出配置命令行文件输出的路径。
RESULT|导出结果|参数可选性:任选参数；参数类型:字符型。|导出配置命令行的统计信息，包括全部命令行(种类)，导出成功的命令行，导出失败的命令行和取消导出的命令行。
ALLNUM|全部数据|参数可选性:任选参数；参数类型:整数。|支持导出的全部配置命令个数，包含因为无记录而没有输出的配置命令。
SUCCNUM|导出成功数据|参数可选性:任选参数；参数类型:整数。|成功导出的配置命令个数，包含因为无记录而没有输出的配置命令。
FAILNUM|导出失败数据|参数可选性:任选参数；参数类型:整数。|未成功导出的配置命令个数。
CANCELNUM|取消导出数据|参数可选性:任选参数；参数类型:整数。|在开始导出由于取消导出而没有被导出的配置命令个数。
MS|微服务|参数可选性:任选参数；参数类型:字符型。|微服务名称
DATA|数据名|参数可选性:任选参数；参数类型:字符型。|数据名
ERRMSG|错误信息|参数可选性:任选参数；参数类型:字符型。|导出失败时输出的详细失败原因。
SRVNAME|服务名称|参数可选性:任选参数；参数类型:字符型。|服务名称






命令举例 :

导出所有服务的命令行脚本 


`EXPT MML` 






#### 取消导出配置数据MML(CANCEL EXPTMML) 
#### 取消导出配置数据MML(CANCEL EXPTMML) 


命令功能 :
该命令会终止指定EXPT MML命令的运行。


注意事项 :

无 




输入参数说明 :

标识|名称|类型|说明
---|---|---|---
ID|任务编号|参数可选性:任意单选参数；参数类型:整数；参数范围为:1~4294967295。|任务编号。
NAME|任务名称|参数可选性:任意单选参数；参数类型:字符型；参数范围为:1~255个字符。|导出任务的描述。






输出参数说明 :

标识|名称|类型|说明
---|---|---|---
ID|任务编号|参数可选性:任选参数；参数类型:整数。|任务编号。
NAME|任务名称|参数可选性:任选参数；参数类型:字符型。|导出任务的描述。
RESULT|取消结果|参数可选性:任选参数；参数类型:枚举。参见枚举定义。|取消命令的执行结果






命令举例 :

取消任务编号为1的EXPT MML命令的运行 


`CANCEL EXPTMML:ID=1` 






#### 执行批处理脚本(EXEC SCRIPT) 
#### 执行批处理脚本(EXEC SCRIPT) 


命令功能 :
执行批处理脚本


注意事项 :

无 




输入参数说明 :

标识|名称|类型|说明
---|---|---|---
FTPURL|SFTP路径|参数可选性:必选参数；参数类型:字符型；参数范围为:1~1024个字符。|SFTP路径
FTPUSER|SFTP用户名|参数可选性:必选参数；参数类型:字符型；参数范围为:1~255个字符。|SFTP用户名
FTPPWD|SFTP密码|参数可选性:必选参数；参数类型:字符型；参数范围为:1~255个字符。|SFTP密码
POLICY|错误处理策略|参数可选性:任选参数；参数类型:枚举。参见枚举定义。默认值:STOP。|错误处理策略
STARTLINE|起始行号|参数可选性:任选参数；参数类型:整数；参数范围为:1~100000。默认值:1。|起始行号
ENDLINE|终止行号|参数可选性:任选参数；参数类型:整数；参数范围为:1~100000。|终止行号
RANGE|脚本执行范围|参数可选性:任选参数；参数类型:复合参数|脚本执行范围






输出参数说明 :

标识|名称|类型|说明
---|---|---|---
TASKID|任务标识|参数可选性:任选参数；参数类型:整数；参数范围为:1~255。|任务标识
PROGRESS|进度|参数可选性:任选参数；参数类型:整数；参数范围为:0~100。|进度
TOTAL|总命令数|参数可选性:任选参数；参数类型:整数。|总命令数
EXECUTEDNUMEXECUTEDNUM|已执行命令数|参数可选性:任选参数；参数类型:整数。|已执行命令数
SUCCNUM|执行成功命令数|参数可选性:任选参数；参数类型:整数。|执行成功命令数
ERRNUM|结果失败命令数|参数可选性:任选参数；参数类型:整数。|结果失败命令数






命令举例 :

执行批处理脚本，结果示例如下： 


`EXEC SCRIPT;` 


`

(No.2) : EXEC SCRIPT:FTPURL="sftp://172.100.1.80:22/batch/batch.txt",FTPUSER="admin",FTPPWD="***********",DISPATCH="NO",POLICY="CONTINUE",RANGE="1"-"120"
-----------------smoke_uspp_80----------------
` 






#### 停止批处理脚本(STOP SCRIPT) 
#### 停止批处理脚本(STOP SCRIPT) 


命令功能 :
停止批处理脚本


注意事项 :

无 




输入参数说明 :

标识|名称|类型|说明
---|---|---|---
TASKID|任务标识|参数可选性:必选参数；参数类型:整数；参数范围为:1~255。|任务标识






输出参数说明 :

标识|名称|类型|说明
---|---|---|---
TASKID|任务标识|参数可选性:任选参数；参数类型:整数；参数范围为:1~255。|任务标识
RESULT|执行结果|参数可选性:任选参数；参数类型:字符型；参数范围为:0~255个字符。|执行结果






命令举例 :

停止批处理脚本，结果示例如下： 


`STOP SCRIPT;` 


`

(No.2) : STOP SCRIPT:TASKID=1
-----------------smoke_uspp_80----------------
任务标识 执行结果                     
--------------------------------------
1        任务停止成功，请等待任务结束 
--------------------------------------
` 






### 局数据管理 
### 局数据管理 


背景知识 :

局数据导入导出：应用于数据量很大，通过命令行批处理的速度不能满足商用要求的场景。通常使用局数据导入导出的配置数据有DPI规则数据等。 


使用该功能的NFS在模型包中要提供*-bulkdata.xml配置文件并进行二次开发。 






功能描述 :

进行局数据管理，包括： 



 
查询支持导入导出的对象信息
 

 
导入数据
 

 
导出数据
 

 
取消导入导出数据
 

 
查询导入进度
 

 










#### 查询支持导入导出的对象信息(SHOW CMOBJ) 
#### 查询支持导入导出的对象信息(SHOW CMOBJ) 


命令功能 :

该命令用于查询支持导入导出的对象信息，包括对象类型和对象描述，对象信息由业务在NFS模型包中提供的*-bulkdata.xml文件配置。 




注意事项 :
无。


输入参数说明 :



输出参数说明 :

标识|名称|类型|说明
---|---|---|---
TYPE|对象类型|参数可选性:任选参数；参数类型:字符型。|该参数用于表示对象类型，引用自业务版本包中的配置文件。
DESC|对象描述|参数可选性:任选参数；参数类型:字符型。|该参数用于表示对象描述，引用自业务版本包中的配置文件。






命令举例 :

查询支持导入导出的对象信息。 


SHOW CMOBJ 


`

(No.1) : SHOW CMOBJ:
-----------------ST_UPF147_OAM11B5a----------------
对象类型          对象描述          
------------------------------------
DPI               DPI规则配置       
DPI_CMCC          DPI_CMCC          
PCC_DPI_ZHONGYING PCC_DPI_ZHONGYING 
------------------------------------
记录数：3
执行成功 开始时间:2021-08-18 15:25:58 耗时: 2.039秒
` 






#### 导入数据(IMP CMDATA) 
#### 导入数据(IMP CMDATA) 


命令功能 :

该命令用于导入局数据。 




注意事项 :
无。


输入参数说明 :

标识|名称|类型|说明
---|---|---|---
TYPE|导入类型|参数可选性:必选参数；参数类型:字符型；参数范围为:1~50个字符。|该参数用于导入数据时设置导入类型，引用 查询支持导入导出的对象信息命令的TYPE参数。
GRP|UMM分组名称|参数可选性:任选参数；参数类型:字符型；参数范围为:1~255个字符。|该参数用于导入数据时设置集中配置的分组名称，如果当前环境上没有建立UMM（Unified Maintenance Module，集中维护模块），或者不需要在UMM上进行局数据导入，该字段无需填写。
FILEPATH|导入文件路径|参数可选性:必选参数；参数类型:字符型；参数范围为:1~255个字符。|该参数用于导入数据时设置导入文件路径，采用相对路径。
USERNAME|SFTP用户名|参数可选性:必选参数；参数类型:字符型；参数范围为:1~32个字符。|该参数用于导入数据时设置SFTP用户名。
PASSWORD|SFTP密码|参数可选性:必选参数；参数类型:字符型；参数范围为:1~32个字符。|该参数用于导入数据时设置SFTP密码。
SYMP|是否立即生效|参数可选性:任选参数；参数类型:枚举。参见枚举定义。默认值:YES。|数据是否立即生效到前台。是：数据立即传送到前台，直接影响业务。否：数据保存在后台，需要执行传送全表后传送到前台才能影响业务。






输出参数说明 :

标识|名称|类型|说明
---|---|---|---
TASK|任务号|参数可选性:任选参数；参数类型:字符型。|该参数用于表示命令返回的网管内部生成的任务号。
STAT|任务状态|参数可选性:任选参数；参数类型:枚举。参见枚举定义。|该参数用于表示命令返回的任务状态，任务状态由业务模块进行上报。
PROCESS|完成百分比|参数可选性:任选参数；参数类型:整数。|该参数用于表示导入命令完成百分比，完成百分比由业务模块上报。
PROCESSINFO|进度信息|参数可选性:任选参数；参数类型:字符型。|该参数用于表示导入命令的进度信息，进度信息由业务模块上报。
RESULT|导入结果|参数可选性:任选参数；参数类型:枚举。参见枚举定义。|该参数用于表示导入结果。
ALLNUM|全部数据数目|参数可选性:任选参数；参数类型:整数。|该参数用于统计导入的全部数据条目。
SUCCNUM|成功数据数目|参数可选性:任选参数；参数类型:整数。|该参数用于统计导入成功的数据条目。
FAILNUM|失败数据数目|参数可选性:任选参数；参数类型:整数。|该参数用于统计导入失败的数据条目。






命令举例 :

导入局数据。 


IMP CMDATA:TYPE="DPI",FILEPATH="sftp://10.43.36.155:29029/home/dpi_test/dpi_rule.xls",USERNAME="user01",PASSWORD="**********",SYMP="YES" 






#### 导出数据(EXPT CMDATA) 
#### 导出数据(EXPT CMDATA) 


命令功能 :

该命令用于导出局数据。 




注意事项 :
无。


输入参数说明 :

标识|名称|类型|说明
---|---|---|---
TYPE|导出类型|参数可选性:必选参数；参数类型:字符型；参数范围为:1~50个字符。|该参数用于导出数据时设置导出类型，引用 查询支持导入导出的对象信息命令的结果中的对象类型。
GRP|UMM分组名称|参数可选性:任选参数；参数类型:字符型；参数范围为:1~255个字符。|该参数用于导出数据时设置集中配置的分组名称，如果当前环境上没有建立UMM（Unified Maintenance Module，集中维护模块），或者不需要在UMM上进行局数据导出，该字段无需填写。
FILEPATH|导出文件路径|参数可选性:必选参数；参数类型:字符型；参数范围为:1~255个字符。|该参数用于导出数据时设置导出文件路径，采用相对路径。
USERNAME|SFTP用户名|参数可选性:必选参数；参数类型:字符型；参数范围为:1~32个字符。|该参数用于导出数据时设置SFTP用户名。
PASSWORD|SFTP密码|参数可选性:必选参数；参数类型:字符型；参数范围为:1~32个字符。|该参数用于导出数据时设置SFTP密码。
FILENAME|文件名称|参数可选性:必选参数；参数类型:字符型；参数范围为:1~50个字符。|该参数用于设置期望导出的文件名称。






输出参数说明 :

标识|名称|类型|说明
---|---|---|---
TASK|任务号|参数可选性:任选参数；参数类型:字符型。|该参数用于表示命令返回的网管内部生成的任务号。
STAT|任务状态|参数可选性:任选参数；参数类型:枚举。参见枚举定义。|该参数用于表示命令返回的任务状态，任务状态由业务模块进行上报。
PROCESS|完成百分比|参数可选性:任选参数；参数类型:整数。|该参数用于表示导出命令完成百分比，完成百分比由业务模块上报。
PROCESSINFO|进度信息|参数可选性:任选参数；参数类型:字符型。|该参数用于表示导出命令的进度信息，进度信息由业务模块上报。
RESULT|导出结果|参数可选性:任选参数；参数类型:枚举。参见枚举定义。|该参数用于表示导出结果。
ALLNUM|全部数据数目|参数可选性:任选参数；参数类型:整数。|该参数用于统计导出的全部数据条目。
SUCCNUM|成功数据数目|参数可选性:任选参数；参数类型:整数。|该参数用于统计导出成功的数据条目。
FAILNUM|失败数据数目|参数可选性:任选参数；参数类型:整数。|该参数用于统计导出失败的数据条目。






命令举例 :

导出局数据。 


EXPT CMDATA:TYPE="DPI",FILEPATH="sftp://10.43.36.155:29029/home/dpi_test/",USERNAME="admin",PASSWORD="*******",FILENAME="dpi_exp" 






#### 取消导入导出任务(CANCEL CMTASK) 
#### 取消导入导出任务(CANCEL CMTASK) 


命令功能 :

该命令用于取消导入导出任务。 




注意事项 :
无。


输入参数说明 :

标识|名称|类型|说明
---|---|---|---
TASK|任务号|参数可选性:必选参数；参数类型:整数；参数范围为:1~4294967295。|该参数用于设置取消导入导出任务的任务号。






输出参数说明 :

标识|名称|类型|说明
---|---|---|---
RESULT|取消结果|参数可选性:任选参数；参数类型:枚举。参见枚举定义。|该参数用于表示任务取消结果。






命令举例 :

取消导入导出任务。 


CANCEL CMTASK:TASK=1 






#### 查询导入状态(SHOW IMP STAT) 
#### 查询导入状态(SHOW IMP STAT) 


命令功能 :

该命令用于查询局数据导入状态。 




注意事项 :
无。


输入参数说明 :

标识|名称|类型|说明
---|---|---|---
ID|任务编号|参数可选性:任选参数；参数类型:整数；参数范围为:1~255。|该参数用于显示导入任务的编号。






输出参数说明 :

标识|名称|类型|说明
---|---|---|---
ID|任务编号|参数可选性:任选参数；参数类型:整数。|该参数用于显示导入任务的编号。
STAT|状态|参数可选性:任选参数；参数类型:枚举。参见枚举定义。|该参数用于表示数据的导入状态。进行中成功失败取消
FILENAME|文件路径|参数可选性:任选参数；参数类型:字符型。|该参数用于表示导入的文件名称。






命令举例 :

查询局数据导入状态。 


SHOW IMP STAT 


`

(No.4) : SHOW IMP STAT:ID=1
-----------------ST_UPF147_OAM11B5a----------------
任务编号 状态 文件名称                                             
-------------------------------------------------------------------
1        失败 sftp://10.43.36.155:29029/home/dpi_test/dpi_rule.xls 
-------------------------------------------------------------------
记录数：1
执行成功 开始时间:2021-08-18 17:00:28 耗时: 1.485秒
` 






### 命令默认参数值配置 
### 命令默认参数值配置 


背景知识 :

对于常用的人机命令参数和重复出现的参数，可用该组命令为其设置默认参数。 


设置后即使不手动输入参数，也可以实现参数的自动输入，提高维护效率。 






功能描述 :

该模块命令包括设置、删除及查询命令默认参数值配置。将用户设置的命令默认参数信息持久化，后续执行命令时把默认值添加到命令的输入参数中，实现参数的自动输入。 










#### 设置命令的默认参数值(SET DEFVAL) 
#### 设置命令的默认参数值(SET DEFVAL) 


命令功能 :
该命令用于设置命令的默认参数值。当需要设置常用的命令参数的默认值时，执行该命令。命令执行成功后即使不手动输入参数，也可以实现参数的自动输入，提高维护效率。


注意事项 :
无


输入参数说明 :

标识|名称|类型|说明
---|---|---|---
NFS|服务名称|参数可选性:必选参数；参数类型:字符型；参数范围为:1~200个字符。|该参数用于设置服务名称，即网管左上角导航树中当前网元下的各个服务节点名称。
CMD|命令名称|参数可选性:必选参数；参数类型:字符型；参数范围为:0~64个字符。|该参数用于设置待设置默认参数值的命令的名称，即输入命令的助记符。
PARAMNAME|参数名|参数可选性:必选参数；参数类型:字符型；参数范围为:0~64个字符。|该参数用于设置默认值的参数名。
PARAMVALUE|参数值|参数可选性:必选参数；参数类型:字符型；参数范围为:0~256个字符。|该参数用于设置的参数的默认值。






输出参数说明 :



命令举例 :

设置CommonS_HTTP_LB_0服务中的ADD GLOBALPARAMETER命令VALUE参数默认值为1。 


SET DEFVAL:NFS="CommonS_HTTP_LB_0",CMD="ADD GLOBALPARAMETER",PARAMNAME="VALUE",PARAMVALUE="1" 






#### 删除命令的默认参数值(DEL DEFVAL) 
#### 删除命令的默认参数值(DEL DEFVAL) 


命令功能 :
该命令用于删除已配置的命令的默认参数值。


注意事项 :
无


输入参数说明 :

标识|名称|类型|说明
---|---|---|---
NFS|服务名称|参数可选性:必选参数；参数类型:字符型；参数范围为:1~200个字符。|该参数用于设置服务名称，即网管左上角导航树中当前网元下的各个服务节点名称。
CMD|命令名称|参数可选性:必选参数；参数类型:字符型；参数范围为:0~64个字符。|该参数用于设置待设置默认参数值的命令的名称，即输入命令的助记符。
PARAMNAME|参数名|参数可选性:任选参数；参数类型:字符型；参数范围为:0~64个字符。|该参数用于设置默认值的参数名。






输出参数说明 :



命令举例 :

删除CommonS_HTTP_LB_0服务中的ADD GLOBALPARAMETER命令默认参数值 


DEL DEFVAL:NFS="CommonS_HTTP_LB_0",CMD="ADD GLOBALPARAMETER",PARAMNAME="VALUE" 






#### 查询命令的默认参数值 
#### 查询命令的默认参数值(SHOW DEFVAL) 


命令功能 :
查询命令的默认参数值


注意事项 :

无 




输入参数说明 :

标识|名称|类型|说明
---|---|---|---
NFS|服务名称|参数可选性:任选参数；参数类型:字符型；参数范围为:1~200个字符。|服务名称
CMD|命令名称|参数可选性:任选参数；参数类型:字符型；参数范围为:0~64个字符。|命令名称






输出参数说明 :

标识|名称|类型|说明
---|---|---|---
NFS|服务名称|参数可选性:必选参数；参数类型:字符型。|服务名称
CMD|命令名称|参数可选性:必选参数；参数类型:字符型。|命令名称
PARAMNAME|参数名|参数可选性:必选参数；参数类型:字符型。|参数名
PARAMVALUE|参数值|参数可选性:必选参数；参数类型:字符型。|参数值






命令举例 :

查询命令默认参数值 


SHOW DEFVAL; 






### UMM同步 
### UMM同步 


背景知识 :

核心网设备通常由多个NF组成，各NF有大量的配置数据是相同的（如号段分布等），为此设计了UMM模块，由该模块负责对各NF的公共数据进行统一配置，存储和分发。 


该模块使得多NF中相同的配置只需要在UMM上集中配置一次，并由UMM分发机制自动保证多NF的公共配置数据一致性。 






功能描述 :

UMM同步提供查询UMM变化表、同步UMM配置数据到NF等功能。 



 
xGW UMM：xGW为在线模式的网元，无变化表，正常情况下在UMM上的配置自动分发到NF，如发生异常未自动分发，可以手工执行同步UMM数据命令强制同步。
 

 
USPP UMM：USPP为离线模式的网元，可使用查询UMM变化表命令查询变化表（在USPP UMM上进行配置且未进行同步的表），正常情况下在UMM上的配置不会同步到NF，需要手工执行同步UMM数据命令将UMM变化表同步到USPP网元，立即生效会传送到前台，否则不传送。
 

 
SYNC UMMLIC同步：在USPP UMM上进行license数据的同步。
 

 
SHOW UMMLIC CHG变化表：查询USPP UMM上产生的license变化表。
 

 






#### 配置流程说明 



 

SHOW UMMCHG查看存在的变化表
 

 

SYNC UMM:NFNAME=""将USPP UMM的配置同步到NF
 

 

SYNA SMTOUMM同步安全数据到UMM
 

 

SHOW SMTOUMM INFO查看安全管理和UMM两边数据是否一致
 

 

SHOW UMMLIC CHG查询UMM License变化表
 

 

SYNC UMMLIC同步UMM License数据到NF
 

 








#### 查询UMM变化表(SHOW UMMCHG) 
#### 查询UMM变化表(SHOW UMMCHG) 


命令功能 :
该命令用于查询UMM变化表，即在USPP UMM上进行配置，且未进行同步的表。


注意事项 :
无


输入参数说明 :

标识|名称|类型|说明
---|---|---|---
NFNAME|NF名称|参数可选性:任选参数；参数类型:字符型；参数范围为:1~255个字符。|该参数用于显示NF名称，即网管左上角导航树当前UMM下所管理的各网元节点名称。






输出参数说明 :

标识|名称|类型|说明
---|---|---|---
GRPID|组编号|参数可选性:任选参数；参数类型:整数。|该参数用于显示组编号，即USPP网元归属的管理域组号。
NFNAME|NF名称|参数可选性:任选参数；参数类型:字符型。|该参数用于显示NF名称，即网管左上角导航树当前UMM下所管理的各网元节点名称。
TABLENAME|变化表|参数可选性:任选参数；参数类型:字符型。|该参数用于显示变化表，即在 USPP UMM上进行配置，且未进行同步的表。
TABLEINFO|变化表描述|参数可选性:任选参数；参数类型:字符型。|该参数用于显示变化表描述，即变化表的国际化描述名称。
USERNAME|用户名|参数可选性:任选参数；参数类型:字符型。|该参数用于显示用户名，即产生变化表的用户名。
TERMTYPE|终端类型|参数可选性:任选参数；参数类型:枚举。参见枚举定义。|该参数用于显示生成变化表操作所用的终端类型。OAM客户端（OAM）：OAM客户端。EMS客户端（EMS）：EMS客户端。






命令举例 :

查询NFNAME为smoke_uspp_80的UMM变化表 


SHOW UMMCHG:NFNAME="smoke_uspp_80 " 


`

(No.2) : SHOW UMMCHG:NFNAME="smoke_uspp_80 "
-----------------umm_80----------------
组编号  NF名称         变化表             变化表描述                            用户名  终端类型   
-----------------------------------------------------------------------------------------------------
0       smoke_uspp_80  AUTOPROV5GWHITE    5G自动开户白名单配置                  admin   OAM客户端  
0       smoke_uspp_80  CN_R_UVHLR         管理域配置                            admin   OAM客户端  
0       smoke_uspp_80  IGNORVOLTECHK      忽略VOLTE检查名单配置                 admin   OAM客户端  
0       smoke_uspp_80  NRFREGNUMSEG       NRF注册号段配置                       admin   OAM客户端  
-----------------------------------------------------------------------------------------------------
记录数：  4

执行成功 
开始时间：2021-08-11 02:11:35.120 耗时：0.22秒
` 






#### 同步UMM数据(SYNC UMM) 
#### 同步UMM数据(SYNC UMM) 


命令功能 :
该命令用于将UMM上的配置数据同步到下级NF中。


注意事项 :
无


输入参数说明 :

标识|名称|类型|说明
---|---|---|---
NFNAME|NF名称|参数可选性:任选参数；参数类型:字符型；参数范围为:1~255个字符。|该参数用于设置NF名称，即网管左上角导航树当前UMM下所管理的各网元节点名称。
TYPE|同步类型|参数可选性:任选参数；参数类型:枚举。参见枚举定义。默认值:CHG。|该参数用于设置同步类型：ALL：同步UMM上所有配置表。CHG：只同步UMM上的变化表。
SYMP|是否立即生效|参数可选性:任选参数；参数类型:枚举。参见枚举定义。默认值:YES。|该参数用于设置同步的配置是否立即生效。YES：立即生效。NO：不立即生效，后续可以通过执行SYNA命令同步到前台生效。






输出参数说明 :

标识|名称|类型|说明
---|---|---|---
INFO|结果|参数可选性:任选参数；参数类型:字符型；参数范围为:0~1024个字符。|该参数用于显示同步过程的进度详情。






命令举例 :

同步UMM变化表至下级NF（smoke_uspp_80）,并立即生效 


SYNC UMM:NFNAME="smoke_uspp_80",TYPE="CHG",SYMP="YES" 






#### 查询UMM License变化表(SHOW UMMLIC CHG) 
#### 查询UMM License变化表(SHOW UMMLIC CHG) 


命令功能 :
该命令用于查询UMM中license相关的变化表信息。


注意事项 :
无


输入参数说明 :

标识|名称|类型|说明
---|---|---|---
NFNAME|NF名称|参数可选性:任选参数；参数类型:字符型；参数范围为:1~255个字符。|该参数用于显示NF名称，即网管左上角导航树当前UMM下所管理的各网元节点名称。






输出参数说明 :

标识|名称|类型|说明
---|---|---|---
NFNAME|NF名称|参数可选性:任选参数；参数类型:字符型。|该参数用于显示NF名称，即网管左上角导航树当前UMM下所管理的各网元节点名称。
TABLENAME|变化表|参数可选性:任选参数；参数类型:字符型。|该参数用于显示变化表，即在 USPP UMM上进行配置，且未进行同步的表。
TABLEINFO|变化表描述|参数可选性:任选参数；参数类型:字符型。|该参数用于显示变化表描述，即变化表的国际化描述名称。






命令举例 :

查询查询NFNAME为smoke_uspp_80的UMM license变化表 


SHOW UMMLIC CHG:NFNAME="smoke_uspp_80"; 


`

(No.5) : SHOW UMMLIC CHG:NFNAME="smoke_uspp_80"
-----------------umm_80----------------
NF名称         变化表                 变化表描述               
-----------------------------------------------------------------
smoke_uspp_80  CN_R_LICBASECAP        License基础容量          
smoke_uspp_80  CN_R_LICBASECAPGLOBAL  License基础容量全局配置  
smoke_uspp_80  CN_R_LICGRACE          License宽限              
smoke_uspp_80  R_LICFILELIST          License文件列表          
smoke_uspp_80  R_LICFILESTATE         License文件状态          
-----------------------------------------------------------------
记录数：  5

执行成功 
开始时间：2021-08-11 04:48:20.280 耗时：0.143秒
` 






#### 同步UMM License(SYNC UMMLIC) 
#### 同步UMM License(SYNC UMMLIC) 


命令功能 :
该命令用于将UMM中的license相关信息同步到下级NF中。


注意事项 :
无


输入参数说明 :

标识|名称|类型|说明
---|---|---|---
NFNAME|NF名称|参数可选性:任选参数；参数类型:字符型；参数范围为:1~255个字符。|NF名称即是左上导航树当前UMM下所管理的各网元节点名称。
TYPE|同步类型|参数可选性:任选参数；参数类型:枚举。参见枚举定义。默认值:CHG。|该参数用于设置同步类型：ALL：同步UMM上所有配置表。CHG：只同步UMM上的变化表。






输出参数说明 :

标识|名称|类型|说明
---|---|---|---
INFO|结果|参数可选性:任选参数；参数类型:字符型；参数范围为:0~1024个字符。|该参数用于显示同步过程的进度详情。






命令举例 :

同步UMM license变化表至下级NF（smoke_uspp_80） 


SYNC UMMLIC:NFNAME="smoke_uspp_80",TYPE="CHG 






#### 同步UMM数据(SYNC XGW UMM) 
#### 同步UMM数据(SYNC XGW UMM) 


命令功能 :
该命令用于将xGW UMM上的配置数据同步到下级NF中。


注意事项 :
无


输入参数说明 :

标识|名称|类型|说明
---|---|---|---
NFNAME|NF名称|参数可选性:任选参数；参数类型:字符型；参数范围为:1~255个字符。|该参数用于设置NF名称，即网管左上角导航树当前UMM下所管理的各网元节点名称。
TYPE|同步类型|参数可选性:任选参数；参数类型:枚举。参见枚举定义。默认值:BLOCK。|该参数用于设置同步类型：ALL：同步UMM上所有配置表。CHG：只同步UMM上的变化表。
SYMP|是否立即生效|参数可选性:任选参数；参数类型:枚举。参见枚举定义。默认值:YES。|该参数用于设置同步的配置是否立即生效。YES：立即生效。NO：不立即生效，后续可以通过执行SYNA命令同步到前台生效。






输出参数说明 :

标识|名称|类型|说明
---|---|---|---
INFO|结果|参数可选性:任选参数；参数类型:字符型；参数范围为:0~1024个字符。|该参数用于显示同步过程的进度详情。






命令举例 :

同步XGW UMM全部表至下级NF（smoke_smf_70）,并立即生效 


SYNC XGW UMM:NFNAME="smoke_smf_70",TYPE=ALL,SYMP=YES 






#### 同步安全数据到UMM(SYNA SMTOUMM) 
#### 同步安全数据到UMM(SYNA SMTOUMM) 


命令功能 :
该命令用来把oam上的安全信息同步到下级。


注意事项 :
无。


命令举例 :
SYNA SMTOUMM


#### 查询安全数据同步信息(SHOW SMTOUMM INFO) 
#### 查询安全数据同步信息(SHOW SMTOUMM INFO) 


命令功能 :
该命令用于查询安全数据同步信息，用户以判断上一次的同步数据是否成功。


注意事项 :


 
此命令用来查看安全管理和UMM管理两侧的数据是否一致。 

 




输出参数说明 :

标识|名称|类型|说明
---|---|---|---
DATASTATE|UMM安全数据状态|参数可选性:必选参数；参数类型:枚举。参见枚举定义。|UMM安全数据状态
SMSEQNO|SM中安全数据序列号|参数可选性:必选参数；参数类型:字符型。|SM中安全数据序列号
UMMSEQNO|UMM中安全数据序列号|参数可选性:必选参数；参数类型:字符型。|UMM中安全数据序列号






命令举例 :
SHOW SMTOUMM INFO


### UMM管理 
### UMM管理 


背景知识 :


 
UMM（Unified Maintenance Module，集中管理模块）：负责对接入UMM的网元进行统一配置。
 

 
主NF：创建UMM模块的网元。
 

 
拓扑变更：UMM管理的各NF的组网结构发生变化。
 

 






功能描述 :

UMM管理提供查询拓扑变更是否成功，退出(撤销)UMM等功能。 




#### 配置流程说明 



 

在主NF上执行相关配置命令创建UMM。
 

 

执行SHOW UMM TOPOCHG RESULT命令，查询拓扑变更结果。
 

 

在UMM上执行相关配置命令，进行拓扑变更。
 

 

执行SHOW UMM TOPOCHG RESULT命令，查询拓扑变更结果。
 

 

在任意NF上执行SHOW HOST UMM命令，查询NF归属的UMM。
 

 

在任意NF上执行EXIT UMM命令，退出UMM。
 

 

在UMM上执行REVOKE UMM命令，撤销UMM。
 

 








#### 在线分发 
#### 在线分发 


背景知识 :

UMM（Unified Maintenance Module）集中在线下发功能作为实时下发的手段，通过提供更灵活和高效的下发手段，来解决UMM在线下发的问题。 




功能描述 :

该功能用于查询UMM在线分发结果。 








##### 查询MML命令分发结果(SHOW DISPATCH RESULT) 
##### 查询MML命令分发结果(SHOW DISPATCH RESULT) 


命令功能 :
该命令用于查询MML命令分发结果。


注意事项 :
无


输入参数说明 :

标识|名称|类型|说明
---|---|---|---
NFNAME|NF名称|参数可选性:任选参数；参数类型:字符型；参数范围为:1~255个字符。|该参数表示NF名称。
MML|分发MML|参数可选性:任选参数；参数类型:字符型；参数范围为:1~32767个字符。|该参数表示分发的MML。
STATE|MML分发状态|参数可选性:任选参数；参数类型:枚举。参见枚举定义。|MML分发状态。待处理或正在处理:当前命令正在处理或在待处理消息队列中。在线分发成功：在线分发成功的命令。离线同步成功：通过执行SYNC XGW UMM命令成功下发的命令。被堵塞：执行失败的命令会导致该网元的消息队列被堵塞，需要通过SYNC XGW UMM命令把被堵塞的命令下发。
BEGINTIME|开始时间|参数可选性:任选参数；参数类型:日期|该参数表示查询的开始时间。
ENDTIME|结束时间|参数可选性:任选参数；参数类型:日期|该参数表示查询的结束时间。
TIMEINTERVAL|UMM执行命令时间段|参数可选性:任选参数；参数类型:复合参数|该参数表示UMM执行命令时间段。






输出参数说明 :

标识|名称|类型|说明
---|---|---|---
NFNAME|NF名称|参数可选性:任选参数；参数类型:字符型；参数范围为:1~255个字符。|该参数表示NF名称。
MML|分发MML|参数可选性:任选参数；参数类型:字符型；参数范围为:1~32767个字符。|该参数表示分发的MML。
CHGTBLS|变化表|参数可选性:任选参数；参数类型:字符型；参数范围为:1~1024个字符。|该参数表示变化表名。
IDX|分发序号|参数可选性:任选参数；参数类型:整数；参数范围为:1~3600。|该参数表示分发序号。
STATE|MML分发状态|参数可选性:任选参数；参数类型:枚举。参见枚举定义。|MML分发状态。待处理或正在处理:当前命令正在处理或在待处理消息队列中。在线分发成功：在线分发成功的命令。离线同步成功：通过执行SYNC XGW UMM命令成功下发的命令。被堵塞：执行失败的命令会导致该网元的消息队列被堵塞，需要通过SYNC XGW UMM命令把被堵塞的命令下发。
BLOCKTYPE|阻塞类型|参数可选性:任选参数；参数类型:枚举。参见枚举定义。|该参数包含如下取值：非阻塞：成功的或待处理的命令。下级NF执行MML失败(在线分发)：在线分发到NF下执行失败的命令。分发初始态异常：还没有进入分发队列的命令。在线分发超时：分发后执行超时命令。NF比UMM版本低：不支持高低版本下发。
DETAIL|详细说明|参数可选性:任选参数；参数类型:字符型；参数范围为:0~1024个字符。|详细说明。
INITTIME|UMM执行MML时间|参数可选性:任选参数；参数类型:字符型；参数范围为:0~50个字符。|该参数表示UMM执行MML时间。






命令举例 :

查询名称为“DEV_SMF_JXM_95”的NF的MML命令分发结果。 


SHOW DISPATCH RESULT:NFNAME="DEV_SMF_JXM_95" 


`

SHOW DISPATCH RESULT:NFNAME="DEV_SMF_JXM_95";
NF名称         分发MML                                                                       变化表          分发序号 MML分发状态  阻塞类型 详细说明 UMM执行MML时间      
-------------------------------------------------------------------------------------------------------------------------------------------------------------------------
DEV_SMF_JXM_95 DEL MSSTTASK:TRACEID="1";                                                     SIGTRACETASKCFG 1        在线分发成功 非阻塞            2021-08-05 17:27:49 
DEV_SMF_JXM_95 DEL MSSTTASK:TRACEID="2";                                                     SIGTRACETASKCFG 2        在线分发成功 非阻塞            2021-08-05 17:27:49 
DEV_SMF_JXM_95 DEL MSSTTASK:TRACEID="1";                                                     SIGTRACETASKCFG 3        在线分发成功 非阻塞            2021-08-05 17:27:49 
DEV_SMF_JXM_95 DEL MSSTTASK:TRACEID="2";                                                     SIGTRACETASKCFG 4        在线分发成功 非阻塞            2021-08-05 17:27:50 
DEV_SMF_JXM_95 SET GTPPEERALARM:GTPPEERALARM="1",ALARMAGEINGTIME="111",DWGINDEX="1";         GTPPEERALARM    5        在线分发成功 非阻塞            2021-08-05 20:24:44 
DEV_SMF_JXM_95 ADD PCCEVENTTRIGGER:ADJACENTNODENAME="default1",EVENTNAME="50",EVENTNO="500"; PCCEVETRIG      6        在线分发成功 非阻塞            2021-08-06 15:10:03 
DEV_SMF_JXM_95 DEL PCCEVENTTRIGGER:ADJACENTNODENAME="default1",EVENTNAME="50";               PCCEVETRIG      7        在线分发成功 非阻塞            2021-08-06 15:10:17 
-------------------------------------------------------------------------------------------------------------------------------------------------------------------------
记录数：7
` 






#### VNF节点别名管理 
#### VNF节点别名管理 


背景知识 :

UMM在组网时，一直使用的都是NF部署名称。由于下级NF在界面展示中呈现的是NF别名，而非部署名称，因此，在UMM相关的界面展示层也应当展现下级NF的别名。 




功能描述 :

该模块提供两条命令用于在UMM上修改和查询下级NF的别名。 








##### 设置VNF节点显示名称(SET NFNODE ALIAS) 
##### 设置VNF节点显示名称(SET NFNODE ALIAS) 


命令功能 :
该命令用于配置UMM管理的下级VNF的网元别名。


注意事项 :
无。


输入参数说明 :

标识|名称|类型|说明
---|---|---|---
NFNAME|VNF部署名称|参数可选性:必选参数；参数类型:字符型；参数范围为:1~255个字符。|UMM管理的下级NF实例化时的名称
DISPLAYNAME|VNF显示名称|参数可选性:必选参数；参数类型:字符型；参数范围为:1~255个字符。|UMM管理的下级NF实例化成功后配置的显示名称






输出参数说明 :



命令举例 :

SET NFNODE ALIAS:NFNAME="smoke_uspp_160",DISPLAYNAME="USPP160"; 




##### 查询VNF节点显示名称(SHOW NFNODE ALIAS) 
##### 查询VNF节点显示名称(SHOW NFNODE ALIAS) 


命令功能 :
该命令用于查询UMM管理的下级VNF的网元别名。


注意事项 :
无


输入参数说明 :



输出参数说明 :

标识|名称|类型|说明
---|---|---|---
NFNAME|VNF部署名称|参数可选性:任选参数；参数类型:字符型；参数范围为:1~255个字符。|UMM管理的下级NF实例化时的名称
DISPLAYNAME|VNF显示名称|参数可选性:任选参数；参数类型:字符型；参数范围为:1~255个字符。|UMM管理的下级NF实例化成功后配置的显示名称






命令举例 :

SHOW NFNODE ALIAS 




#### 查询NF归属的UMM(SHOW HOST UMM) 
#### 查询NF归属的UMM(SHOW HOST UMM) 


命令功能 :
该命令用于查询网元归属的UMM.


注意事项 :
无


输入参数说明 :



输出参数说明 :

标识|名称|类型|说明
---|---|---|---
UMMNFID|UMM的NFID|参数可选性:任选参数；参数类型:整数；参数范围为:1~255。|该参数表示NF网元归属的UMM网元NFID。
UMMNAME|UMM名称|参数可选性:任选参数；参数类型:字符型；参数范围为:1~255个字符。|该参数表示UMM的名称。
UMMIP|生效UMM地址|参数可选性:任选参数；参数类型:字符型；参数范围为:0~255个字符。|
FLOATUMMIP|浮动UMM地址|参数可选性:任选参数；参数类型:字符型；参数范围为:0~255个字符。|
FIXUMMIP1|UMM实地址1|参数可选性:任选参数；参数类型:字符型；参数范围为:0~255个字符。|
FIXUMMIP2|UMM实地址2|参数可选性:任选参数；参数类型:字符型；参数范围为:0~255个字符。|






命令举例 :

在NF网元上执行该命令，获取该NF接入的UMM名称。 


`SHOW HOST UMM
UMM的NFID                             UMM名称  
-------------------------------------------------
4a7b5663-9eeb-48dd-a01d-9be442f527fc  umm91    
-------------------------------------------------` 






#### 退出UMM(EXIT UMM) 
#### 退出UMM(EXIT UMM) 


命令功能 :
该命令用于网元退出归属的UMM.


注意事项 :
无


输入参数说明 :



输出参数说明 :

标识|名称|类型|说明
---|---|---|---
INFO|结果|参数可选性:任选参数；参数类型:字符型；参数范围为:1~1000个字符。|该参数表示退出UMM的结果。






命令举例 :

使网元退出归属的UMM。 


EXIT UMM 






#### 撤销UMM(REVOKE UMM) 
#### 撤销UMM(REVOKE UMM) 


命令功能 :
该命令用于撤销UMM


注意事项 :
该命令是危险命令，将撤销UMM模块及UMM上的配置数据


输入参数说明 :



输出参数说明 :

标识|名称|类型|说明
---|---|---|---
INFO|结果|参数可选性:任选参数；参数类型:字符型；参数范围为:1~1000个字符。|该参数表示撤销UMM的结果。






命令举例 :

撤销UMM数据。 


REVOKE UMM 






#### 查询UMM拓扑更新结果(SHOW UMM TOPOCHG RESULT) 
#### 查询UMM拓扑更新结果(SHOW UMM TOPOCHG RESULT) 


命令功能 :
该命令用于查询UMM拓扑更新结果


注意事项 :
无


输入参数说明 :



输出参数说明 :

标识|名称|类型|说明
---|---|---|---
UMMNAME|UMM名称|参数可选性:任选参数；参数类型:字符型；参数范围为:1~255个字符。|该参数表示UMM的名称。
RESULT|拓扑更新结果|参数可选性:任选参数；参数类型:枚举。参见枚举定义。|该参数表示拓扑更新的结果。
ERRINFO|错误信息|参数可选性:任选参数；参数类型:字符型；参数范围为:1~1024个字符。|该参数表示拓扑更新的错误信息。
RECVTIME|拓扑变更时间|参数可选性:任选参数；参数类型:字符型；参数范围为:1~255个字符。|该参数表示拓扑变更的时间。
MAINNFNAME|主NF名称|参数可选性:任选参数；参数类型:字符型；参数范围为:1~255个字符。|该参数表示主NF的名称。
SMSYNCSTATE|安全数据同步状态|参数可选性:任选参数；参数类型:枚举。参见枚举定义。|该参数表示安全数据同步状态。
PROGRESS|进度|参数可选性:任选参数；参数类型:整数；参数范围为:0~100。|该参数表示拓扑变更的进度。






命令举例 :

查询UMM拓扑更新结果数据。 


SHOW UMM TOPOCHG RESULT 






#### 推送本网元模型和数据到UMM(UPG UMM) 
#### 推送本网元模型和数据到UMM(UPG UMM) 


命令功能 :
该命令用于将本网元的模型和数据更新到UMM中，并更新UMM中持有的本网元版本信息。


注意事项 :
本网元的模型版本和UMM的模型版本之间不满足推送选项要求时，命令会更新UMM中持有的本网元版本信息，不会进行任何模型和数据的推送。


输入参数说明 :

标识|名称|类型|说明
---|---|---|---
OPTION|推送选项|参数可选性:必选参数；参数类型:枚举。参见枚举定义。默认值:DIFFVER。|本网元的模型版本和UMM的模型版本之间不满足推送选项要求时，命令会更新UMM中持有的本网元版本信息，不会进行任何模型和数据的推送。






输出参数说明 :

标识|名称|类型|说明
---|---|---|---
INFO|结果|参数可选性:任选参数；参数类型:字符型；参数范围为:1~1000个字符。|该参数表示推送结果。






命令举例 :

更新UMM中持有的本网元版本信息，不进行任何模型和数据的推送。 


UPG UMM:OPTION=DIFFVER 






#### 查询UMM日志信息(SHOW UMMLOGINFO) 
#### 查询UMM日志信息(SHOW UMMLOGINFO) 


命令功能 :
该命令用于查询当前系统中记录的UMM日志的简要信息。


注意事项 :
无


输入参数说明 :

标识|名称|类型|说明
---|---|---|---
TYPEID|日志类型标识|参数可选性:必选参数；参数类型:枚举。参见枚举定义。|
START|起始时间|参数可选性:必选参数；参数类型:日期|该参数表示日志所记录流程的起始时间。
END|终止时间|参数可选性:必选参数；参数类型:日期|该参数表示日志所记录流程的终止时间。
DURTIME|日志时间范围|参数可选性:任选参数；参数类型:复合参数|该参数表示日志的起止时间。






输出参数说明 :

标识|名称|类型|说明
---|---|---|---
TYPEID|日志类型标识|参数可选性:任选参数；参数类型:枚举。参见枚举定义。|该参数表示日志的类型。
SEQNO|日志序列号|参数可选性:任选参数；参数类型:字符型。|该参数表示日志所记录的一次流程的唯一序列号。
FLOWRST|全流程结果|参数可选性:任选参数；参数类型:枚举。参见枚举定义。|该参数表示日志所记录的一次完整流程的最终结果。
START|日志起始时间|参数可选性:任选参数；参数类型:日期|该参数表示日志所记录流程的起始时间。
END|日志终止时间|参数可选性:任选参数；参数类型:日期|该参数表示日志所记录流程的终止时间。






命令举例 :

查询UMM日志的简要信息。 


`(No.1):SHOW UMMLOGINFO:TYPEID="SMDATASYNC";
-----------------UMM_-1----------------

日志类型标识  日志序列号               全流程结果  日志起始时间             日志终止时间           
---------------------------------------------------------------------------------------------------
安全数据同步  2021-11-30 08:32:45:446  成功        2021-11-30 08:32:45.457  2021-11-30 08:32:46.878
安全数据同步  2021-11-30 10:25:17:010  成功        2021-11-30 10:25:17.011  2021-11-30 10:25:20.731
安全数据同步  2021-11-30 10:30:33:215  成功        2021-11-30 10:30:33.215  2021-11-30 10:30:37.062
安全数据同步  2021-11-30 14:35:56:759  成功        2021-11-30 14:35:56.766  2021-11-30 14:36:03.596
---------------------------------------------------------------------------------------------------
记录数：4

执行成功
开始时间：2021-12-06 16:18:33.081 耗时：0.079秒` 






#### 查询UMM日志详细信息(SHOW UMMLOGDETAIL) 
#### 查询UMM日志详细信息(SHOW UMMLOGDETAIL) 


命令功能 :
该命令用于查询当前系统中记录的UMM日志的详细信息。


注意事项 :
无


输入参数说明 :

标识|名称|类型|说明
---|---|---|---
TYPEID|日志类型标识|参数可选性:必选参数；参数类型:枚举。参见枚举定义。|
SEQNO|日志序列号|参数可选性:必选参数；参数类型:字符型。|该参数表示日志所记录的一次流程的唯一序列号。






输出参数说明 :

标识|名称|类型|说明
---|---|---|---
TYPEID|日志类型标识|参数可选性:任选参数；参数类型:枚举。参见枚举定义。|该参数表示日志的类型。
SEQNO|日志序列号|参数可选性:任选参数；参数类型:字符型。|该参数表示日志所记录的一次流程的唯一序列号。
CTIME|日志创建时间|参数可选性:任选参数；参数类型:日期|该参数表示日志的创建时间。
SRCMOD|源模块|参数可选性:任选参数；参数类型:字符型。|该参数表示日志所记录流程的源模块。
DSTMOD|目标模块|参数可选性:任选参数；参数类型:字符型。|该参数表示日志所记录流程的目标模块。
OPERTYPE|详细操作类型|参数可选性:任选参数；参数类型:字符型。|该参数表示日志所记录流程的操作类型。
OPERRST|详细操作结果|参数可选性:任选参数；参数类型:枚举。参见枚举定义。|该参数表示日志所记录流程的操作结果。
DETAIL|详细操作信息|参数可选性:任选参数；参数类型:字符型。|该参数表示日志所记录流程的操作信息。






命令举例 :

查询UMM日志的详细信息。 


`
(No.2):SHOW UMMLOGDETAIL:TYPEID="SMDATASYNC",SEQNO="2021-11-30 08:32:45:446";
-----------------UMM_-1----------------

日志类型标识  日志序列号               日志创建时间             源模块  目标模块  详细操作类型  详细操作结果  详细操作信息                                                                          
----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
安全数据同步  2021-11-30 08:32:45:446  2021-11-30 08:32:45.457  SM      UMM       EVENT         成功          收到SM的PRE请求                                                                       
安全数据同步  2021-11-30 08:32:45:446  2021-11-30 08:32:45.557  UMM     SM        EVENT         成功          返回SM的PRE响应:{                                                                     
                                                                                                              "sessionid": "",                                                                      
                                                                                                              "ummlogseqno": "2021-11-30 08:32:45:446",                                             
                                                                                                              "result": 0,                                                                          
                                                                                                              "detailInfo": ""                                                                      
                                                                                                              }                                                                                     
                                                                                                                                                                                                    
安全数据同步  2021-11-30 08:32:45:446  2021-11-30 08:32:45.559  SM      UMM       MML           成功          UMM返回PRE消息结果                                                                    
安全数据同步  2021-11-30 08:32:45:446  2021-11-30 08:32:45.580  SM      UMM       EVENT         成功          收到SM的同步请求                                                                      
安全数据同步  2021-11-30 08:32:45:446  2021-11-30 08:32:45.588  UMM     SM        EVENT         成功          返回SM的同步响应:"{\n\"errorcode\": 0,\n\"smseqno\": \"2021-11-30 08:32:45_27\" \n}\n"
                                                                                                                                                                                                    
安全数据同步  2021-11-30 08:32:45:446  2021-11-30 08:32:45.590  SM      UMM       MML           成功          增加用户                                                                              
安全数据同步  2021-11-30 08:32:45:446  2021-11-30 08:32:46.878  UMM     DBA       MML           成功          同步安全数据成功                                                                      
----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
记录数：  7

执行成功
开始时间：2021-12-06 16:19:48.055 耗时：0.049秒
` 






### 事务模式 
### 事务模式 


背景知识 :

在某些场景下，在线网元的命令可能需要暂时不同步到前台立即生效，因此需要提供事务模式。开启一个事务后，在事务中执行的在线的NFS命令不会立即同步到前台生效，只有执行提交事务命令后才会生效。如果需要将事务中的命令修改进行回退，可以执行回滚事务命令。 










#### 查询事务状态(SHOW TRANS STATUS) 
#### 查询事务状态(SHOW TRANS STATUS) 


命令功能 :

该命令用于显示是否处于事务中。无记录表示不在事务状态 




注意事项 :

无 




输入参数说明 :



输出参数说明 :

标识|名称|类型|说明
---|---|---|---
STATUS|事务操作状态|参数可选性:任选参数；参数类型:枚举。参见枚举定义。|事务操作状态。是(YES):在事务中。否(NO):默认不在事务中。查询结果无记录
USERNAME|事务操作用户名|参数可选性:任选参数；参数类型:字符型。|开启该事务的用户名称。
BEGINTIME|事务操作开始时间|参数可选性:任选参数；参数类型:字符型。|该事务操作开启的时间。






命令举例 :

SHOW TRANS STATUS; 


查询事务状态。 






#### 查询事务操作记录(SHOW TRANS RECORD) 
#### 查询事务操作记录(SHOW TRANS RECORD) 


命令功能 :

该命令用于显示已经在事务中执行过的在线NFS的非SHOW命令。 




注意事项 :

无 




输入参数说明 :



输出参数说明 :

标识|名称|类型|说明
---|---|---|---
USERNAME|操作员|参数可选性:任选参数；参数类型:字符型；参数范围为:0~100个字符。|执行该命令的用户名称。
MODE|终端类型|参数可选性:任选参数；参数类型:枚举。参见枚举定义。|执行该命令的终端类型。
BEGINDATE|操作时间|参数可选性:任选参数；参数类型:字符型；参数范围为:0~40个字符。|执行该命令的操作时间。
DETAIL|操作详细信息|参数可选性:任选参数；参数类型:字符型；参数范围为:0~20480个字符。|执行该命令的操作详细信息。






命令举例 :

SHOW TRANS RECORD; 


查询在事务中执行过的MML。 






#### 开启事务(BEGIN TRANS) 
#### 开启事务(BEGIN TRANS) 


命令功能 :

该命令用于开启事务。 




注意事项 :

无 




输入参数说明 :



输出参数说明 :

标识|名称|类型|说明
---|---|---|---
INFO|结果|参数可选性:任选参数；参数类型:字符型；参数范围为:1~65535个字符。|执行该命令的操作结果。






命令举例 :

BEGIN TRANS; 


开启一个事务。 






#### 结束事务(COMMIT TRANS) 
#### 结束事务(COMMIT TRANS) 


命令功能 :

该命令用于将事务中修改的数据同步到前台。 




注意事项 :

无 




输入参数说明 :



输出参数说明 :

标识|名称|类型|说明
---|---|---|---
INFO|结果|参数可选性:任选参数；参数类型:字符型；参数范围为:1~65535个字符。|执行该命令的操作结果。






命令举例 :

COMMIT TRANS; 


提交一个事务。 






#### 回滚事务(ROLLBACK TRANS) 
#### 回滚事务(ROLLBACK TRANS) 


命令功能 :

该命令用于将事务中修改的数据进行回退。 




注意事项 :

无 




输入参数说明 :



输出参数说明 :

标识|名称|类型|说明
---|---|---|---
INFO|结果|参数可选性:任选参数；参数类型:字符型；参数范围为:1~65535个字符。|执行该命令的操作结果。






命令举例 :

ROLLBACK TRANS; 


回滚一个事务。 






### 二次鉴权 
### 二次鉴权 


背景知识 :

为了尽可能减少误操作对网络产生的危害，网管要能够对危险操作进行二次授权。这些危险操作只有经过具有“二次授权”权限的人员的授权确认后才会生效。 


二次授权过程中，授权人员会对操作的必要性和危害进行二次评估，以最大限度防止误操作的发生。 






功能描述 :

向EM提供需要二次授权命令的列表，提供增加、删除、显示二次授权命令列表管理功能。 










#### 新增二次鉴权命令(ADD AUTHMML) 
#### 新增二次鉴权命令(ADD AUTHMML) 


命令功能 :
该命令用于新增二次鉴权命令，被添加的命令需要二次授权通过才会被执行。


注意事项 :
添加后该命令只有经过具有“二次授权”权限的人员的授权确认后才会生效。请评估命令的危险性后再添加，谨慎添加。


输入参数说明 :

标识|名称|类型|说明
---|---|---|---
CMD|命令助记符|参数可选性:必选参数；参数类型:字符型；参数范围为:1~100个字符。|命令助记符，即需要二次鉴权的命令。






输出参数说明 :



命令举例 :

将Nsmf_MP_0服务下的SET SMFNAME命令新增为二次鉴权命令。 


ADD AUTHMML:CMD="SET SMFNAME" 






#### 删除二次鉴权命令(DEL AUTHMML) 
#### 删除二次鉴权命令(DEL AUTHMML) 


命令功能 :
该命令用于删除二次鉴权命令。


注意事项 :
删除后该命令不再需要二次鉴权，请评估命令的危险性后，谨慎删除。


输入参数说明 :

标识|名称|类型|说明
---|---|---|---
CMD|命令助记符|参数可选性:必选参数；参数类型:字符型；参数范围为:1~100个字符。|命令助记符，即需要二次鉴权的命令。






输出参数说明 :



命令举例 :

将Nsmf_MP_0服务下的SET SMFNAME命令取消二次鉴权。 


DEL AUTHMML:CMD="SET SMFNAME" 






#### 查询二次鉴权命令(SHOW AUTHMML) 
#### 查询二次鉴权命令(SHOW AUTHMML) 


命令功能 :
该命令用于查询二次鉴权命令。


注意事项 :
无


输入参数说明 :

标识|名称|类型|说明
---|---|---|---
CMD|命令助记符|参数可选性:任选参数；参数类型:字符型；参数范围为:1~100个字符。|命令助记符，即需要二次鉴权的命令。






输出参数说明 :

标识|名称|类型|说明
---|---|---|---
CMD|命令助记符|参数可选性:任选参数；参数类型:字符型；参数范围为:1~100个字符。|命令助记符，即需要二次鉴权的命令。
CMDDESC|命令描述|参数可选性:任选参数；参数类型:字符型；参数范围为:1~255个字符。|二次鉴权的命令的简单描述。






命令举例 :

查询所有二次鉴权命令。 


SHOW AUTHMML 


`

(No.3) : SHOW AUTHMML
-----------------smoke_uspp_160----------------
操作维护        命令助记符   命令描述     
--------------------------------------------
复制 删除       SET UMMINFO  修改UMM配置  
--------------------------------------------
记录数：  1

执行成功
开始时间：2021-10-21 15:22:38.904 耗时：0.075秒
` 






### 探针工具 
### 探针工具 


背景知识 :

系统中出现前后台配置数据不一致告警，根据告警或比对出的不一致的表名，查询出前台内存中的数据和网管中的数据，以确定数据是否一致。 








#### 探查NFS-MP上数据库信息(PROBE MPDB) 
#### 探查NFS-MP上数据库信息(PROBE MPDB) 


命令功能 :
该命令用于查询NFS-MP上的所有数据库信息


注意事项 :
无


输入参数说明 :

标识|名称|类型|说明
---|---|---|---
NFSNAME|服务名称|参数可选性:必选参数；参数类型:字符型；参数范围为:1~200个字符。|服务名称






输出参数说明 :

标识|名称|类型|说明
---|---|---|---
INDEX|序号|参数可选性:任选参数；参数类型:整数。|序号
DBNAME|数据库名|参数可选性:任选参数；参数类型:字符型。|ZDB数据库名称






命令举例 :

`(No.1) : PROBE MPDB:NFSNAME="CommonS_TMSP_0"
-----------------DEV91----------------
序号  数据库名      
----------------------
1     SYS_DB        
2     DbmBasic      
3     TmspCfg       
4     DbmDyn        
5     VERINFO_DB    
6     HOTPATCH_DB   
7     SCR_ZDB_0     
8     LTM_DB        
9     TMSP_VRUS_DB  
----------------------
记录数：  9
` 






#### 探查NFS-MP上数据库的表信息(PROBE MPTBL) 
#### 探查NFS-MP上数据库的表信息(PROBE MPTBL) 


命令功能 :
该命令用于查询NFS-MP上的指定数据库中的表信息


注意事项 :

无 




输入参数说明 :

标识|名称|类型|说明
---|---|---|---
NFSNAME|服务名称|参数可选性:必选参数；参数类型:字符型；参数范围为:1~200个字符。|服务名称
DBNAME|数据库名|参数可选性:必选参数；参数类型:字符型；参数范围为:1~32个字符。|ZDB数据库名称






输出参数说明 :

标识|名称|类型|说明
---|---|---|---
INDEX|序号|参数可选性:任选参数；参数类型:整数。|序号
TABLENAME|表名|参数可选性:任选参数；参数类型:字符型。|表名






命令举例 :

`(No.1) : PROBE MPTBL:NFSNAME="CommonS_TMSP_0",DBNAME="TmspCfg"
-----------------DEV91----------------
序号  表名                 
-----------------------------
1     R_NOTIFYREG          
2     R_NOTIFYREGEX        
3     R_DBCHG              
4     R_SSTABLE            
5     R_SSFIELD            
6     R_SYNCSUB            
7     R_SYNCREQUEST
-----------------------------
记录数： 7
` 






#### 探查NFS-MP上数据库的表记录信息(PROBE MPREC) 
#### 探查NFS-MP上数据库的表记录信息(PROBE MPREC) 


命令功能 :
该命令用于查询NFS-MP上的指定数据库中的表数据记录


注意事项 :

无 




输入参数说明 :

标识|名称|类型|说明
---|---|---|---
NFSNAME|服务名称|参数可选性:必选参数；参数类型:字符型；参数范围为:1~200个字符。|服务名称
DBNAME|数据库名|参数可选性:必选参数；参数类型:字符型；参数范围为:1~32个字符。|ZDB数据库名称
TABLENAME|表名|参数可选性:必选参数；参数类型:字符型；参数范围为:1~20个字符。|表名
STARTNO|查询的起始记录号|参数可选性:必选参数；参数类型:整数；参数范围为:1~9000000。|查询的起始记录号
TUPLENUM|查询记录数|参数可选性:必选参数；参数类型:整数；参数范围为:1~10000。|查询记录数






输出参数说明 :

标识|名称|类型|说明
---|---|---|---
INDEX|序号|参数可选性:任选参数；参数类型:整数。|序号
RECORD|记录信息|参数可选性:任选参数；参数类型:字符型。|记录信息
TOTALNUM|总记录数|参数可选性:任选参数；参数类型:整数。|总记录数






命令举例 :

`
(No.1) : PROBE MPREC:NFSNAME="CommonS_TMSP_0",DBNAME="TmspCfg",TABLENAME="VMMGLBCFG",STARTNO=1,TUPLENUM=1
-----------------DEV91----------------
信息
序号  记录信息                                          
----------------------------------------------------------
0     ADDPKGCONCURRENCY       DWGINDEX                  
1     2                       1                         
----------------------------------------------------------
记录数：  2

总记录数  
------------
1         
------------
记录数：  1
` 






### 高危命令管理 
### 高危命令管理 


背景知识 :

为了防止一些高危命令被误操作，本模块提供了查询高危命令和管控高危命令的功能。 








#### 查询高危命令列表(SHOW HIGHRISK CMDLIST) 
#### 查询高危命令列表(SHOW HIGHRISK CMDLIST) 


命令功能 :
该命令用于查询系统内的高危命令列表


注意事项 :

无 




输入参数说明 :

标识|名称|类型|说明
---|---|---|---
CMD|命令助记符|参数可选性:任选参数；参数类型:字符型；参数范围为:0~255个字符。|命令助记符






输出参数说明 :

标识|名称|类型|说明
---|---|---|---
CMD|命令助记符|参数可选性:任选参数；参数类型:字符型；参数范围为:0~255个字符。|命令助记符
DESC|命令描述|参数可选性:任选参数；参数类型:字符型；参数范围为:0~255个字符。|命令助记符






命令举例 :

SHOW HIGHRISK CMDLIST:CMD="SYNA" 




#### 高危命令管控配置 
#### 高危命令管控配置 


背景知识 :

当希望管控一些高危命令时，可以使用下面的命令来配置一些高危命令，并且高危管控命令开关开启时，执行命令会报错，同时可以使用查询命令来查询配置的高危管控命令。 








##### 新增高危命令管控配置(ADD HIGHRISK CONTROL) 
##### 新增高危命令管控配置(ADD HIGHRISK CONTROL) 


命令功能 :
该命令用来增加高危管控命令。


注意事项 :
无。


参数说明 :

标识|名称|类型|说明
---|---|---|---
CMD|命令助记符|参数可选性:必选参数；参数类型:字符型；参数范围为:0~255个字符。|命令助记符
BEGINTIME|起始时间|参数可选性:必选参数；参数类型:日期|起始时间
ENDTIME|终止时间|参数可选性:必选参数；参数类型:日期|终止时间
CTIME|管控时段|参数可选性:必选参数；参数类型:复合参数|管控时段
TIPS|错误提示信息|参数可选性:任选参数；参数类型:字符型；参数范围为:0~255个字符。|错误提示信息






命令举例 :
ADD HIGHRISK CONTROL: CMD="LOAD LICENSE",CTIME="11:00"-"12:00";


##### 删除高危命令管控配置(DEL HIGHRISK CONTROL) 
##### 删除高危命令管控配置(DEL HIGHRISK CONTROL) 


命令功能 :
该命令用来删除高危管控命令。


注意事项 :
无。


参数说明 :

标识|名称|类型|说明
---|---|---|---
CMD|命令助记符|参数可选性:必选参数；参数类型:字符型；参数范围为:0~255个字符。|命令助记符
BEGINTIME|起始时间|参数可选性:必选参数；参数类型:日期|起始时间
ENDTIME|终止时间|参数可选性:必选参数；参数类型:日期|终止时间
CTIME|管控时段|参数可选性:任选参数；参数类型:复合参数|管控时段






命令举例 :
DEL HIGHRISK CONTROL: CMD="LOAD LICENSE",CTIME="11:00"-"12:00";


##### 查询高危命令管控配置(SHOW HIGHRISK CONTROL) 
##### 查询高危命令管控配置(SHOW HIGHRISK CONTROL) 


命令功能 :
该命令用来查询高危管控命令。


注意事项 :
无。


参数说明 :

标识|名称|类型|说明
---|---|---|---
CMD|命令助记符|参数可选性:任选参数；参数类型:字符型；参数范围为:0~255个字符。|命令助记符






输出参数说明 :

标识|名称|类型|说明
---|---|---|---
CMD|命令助记符|参数可选性:任选参数；参数类型:字符型。|命令助记符
BEGINTIME|起始时间|参数可选性:任选参数；参数类型:字符型。|起始时间
ENDTIME|终止时间|参数可选性:任选参数；参数类型:字符型。|终止时间
TIPS|错误提示信息|参数可选性:任选参数；参数类型:字符型。|错误提示信息






命令举例 :
SHOW HIGHRISK CONTROL;


## 系统管理 
## 系统管理 


背景知识 :

整个网管有很多功能模块组成，为从宏观上查询和调控整个网管系统的运行环境，需要对网管环境或数据进行查询、导出及各种设置。 




功能描述 :

用于了解环境的整体状态。 








### license管理 
### license管理 


背景知识 :

License即许可证，是对产品使用范围、期限、功能等进行授权、被授权的一种合约形式，通过License客户同时也获得供应商所承诺的相应服务。
网元产品通过License文件来实现License管理。
License文件是通过license制作工具生成的后缀为.lic的文件，当整个系统需要增加用户容量或增加某项功能时，系统管理员通过执行MML命令将对应License文件加载到网管系统中
 




功能描述 :

网元产品的License管理功能，主要包括License文件的查询、加载和回滚 








#### license文件管理 
#### license文件管理 


背景知识 :

License即许可证，是对产品使用范围、期限、功能等进行授权、被授权的一种合约形式，客户通过License也可以获得供应商所承诺的相应服务。网元产品通过License文件来实现License管理。 


License文件是通过license制作工具生成的后缀为.lic的文件，当整个系统需要增加用户容量或增加某项功能时，用户通过执行MML命令将对应的License文件加载到网管系统中，并可以查询或者回滚当前网元加载的License文件。 






功能描述 :

该功能用于实现对License文件进行管理的操作。包括如下操作： 



 
导入license文件，可以通过导入license文件命令进行导入操作。
 

 
导出license文件，可以通过导出license文件命令进行导出操作。
 

 
删除license文件，可以通过删除license文件命令进行删除操作。
 

 
查询指定导入License文件详情，可以通过查询指定导入License文件详情命令进行查询。
 

 
列表显示导入的license文件，可以通过列表显示导入的license文件命令进行查询。
 

 










##### 导入license文件(IMP LICFILE) 
##### 导入license文件(IMP LICFILE) 


命令功能 :

该命令用于将License文件从远端导入到网管系统，并持久化到数据库中。一般以下场景会用到该命令： 



 
当申请制作了新的License文件，需要导入到网管系统中时。
 

 
当网元实例化后，需要将License文件需要导入到网管系统中时。
 

 




注意事项 :
无。


输入参数说明 :

标识|名称|类型|说明
---|---|---|---
FILEURL|License文件URL|参数可选性:必选参数；参数类型:字符型；参数范围为:1~200个字符。|该参数用于设置License文件在SFTP服务器上的URL。导入的License文件需要先上传到该SFTP服务器。
USERNAME|SFTP用户名|参数可选性:必选参数；参数类型:字符型；参数范围为:1~100个字符。|该参数用于设置登录SFTP的用户名，用户需要具有该SFTP的URL的访问权限。
PASSWORD|SFTP密码|参数可选性:必选参数；参数类型:字符型；参数范围为:1~100个字符。|该参数用于设置登录SFTP的用户密码。






输出参数说明 :



命令举例 :

导入license文件，其中License文件URL为sftp://172.100.1.203:3600/licfile/SMF_20200321014843283.lic，SFTP用户名为user03，SFTP密码为***********。 


IMP LICFILE:FILEURL="sftp://172.100.1.203:3600/licfile/SMF_20200321014843283.lic",USERNAME="user03",PASSWORD="***********" 






##### 导出license文件(EXP LICFILE) 
##### 导出license文件(EXP LICFILE) 


命令功能 :

该命令用于将已经导入网管系统的License文件导出到远端SFTP服务器。当需要备份License文件时，使用该命令。 




注意事项 :
无。


输入参数说明 :

标识|名称|类型|说明
---|---|---|---
FILENAME|License文件名称|参数可选性:必选参数；参数类型:字符型；参数范围为:1~100个字符。|该参数用于设置需要导出的License文件的名称。
OUTPATH|SFTP路径（URL）|参数可选性:必选参数；参数类型:字符型；参数范围为:1~200个字符。|该参数用于设置需要将License文件导出到的SFTP服务器URL。
USERNAME|SFTP用户名|参数可选性:必选参数；参数类型:字符型；参数范围为:1~100个字符。|该参数用于设置登录SFTP的用户名，用户需要具有该SFTP的URL的上传文件权限。
PASSWORD|SFTP密码|参数可选性:必选参数；参数类型:字符型；参数范围为:1~100个字符。|该参数用于设置登录SFTP的用户密码。






输出参数说明 :



命令举例 :

导出license文件，其中License文件名称为SMF_20200321014843283.lic，SFTP路径为sftp://172.100.1.203:3600/licfile/，SFTP用户名为user03，SFTP密码为***********。 


EXP LICFILE:FILENAME="SMF_20200321014843283.lic",OUTPATH="sftp://172.100.1.203:3600/licfile/",USERNAME="user03",PASSWORD="***********" 






##### 删除license文件(DEL LICFILE) 
##### 删除license文件(DEL LICFILE) 


命令功能 :

该命令用于删除已经导入网管系统的License文件。 




注意事项 :

已经激活的License文件不能删除。 




输入参数说明 :

标识|名称|类型|说明
---|---|---|---
FILENAME|License文件名称|参数可选性:必选参数；参数类型:字符型；参数范围为:1~100个字符。|该参数用于设置需要删除的License文件的名称。






输出参数说明 :



命令举例 :

删除文件名称为SMF_20200321014843283.lic的license文件。 


DEL LICFILE:FILENAME="SMF_20200321014843283.lic" 






##### 查询指定导入License文件详情(SHOW LICFILE) 
##### 查询指定导入License文件详情(SHOW LICFILE) 


命令功能 :

该命令用于根据License文件名称查询已经导入网管系统的License文件的详细信息。 




注意事项 :
无。


输入参数说明 :

标识|名称|类型|说明
---|---|---|---
FILENAME|License文件名称|参数可选性:必选参数；参数类型:字符型；参数范围为:1~100个字符。|该参数用于设置需要查询详细信息的License文件的名称。






输出参数说明 :

标识|名称|类型|说明
---|---|---|---
PRODUCTNAME|网元产品名称|参数可选性:任选参数；参数类型:字符型。|该参数用于显示导入系统的License文件的网元类型。
PRODUCTVERSION|网元版本号|参数可选性:任选参数；参数类型:字符型。|该参数用于显示导入系统的License文件的网元版本号。
CREATEDATE|制作日期|参数可选性:任选参数；参数类型:字符型。|该参数用于显示License文件的制作日期。
DEADLINE|有效期|参数可选性:任选参数；参数类型:字符型。|该参数用于显示License文件的有效期。
SN|设备序列号|参数可选性:任选参数；参数类型:字符型。|License文件的设备序列号
NFSTYPE|服务类型|参数可选性:任选参数；参数类型:字符型。|该参数用于显示导入系统的License受控项的服务类型。
ITEMID|受控项ID|参数可选性:任选参数；参数类型:字符型。|该参数用于显示导入系统的License受控项标识，供系统内部使用。
ITEMNAME|受控项名称|参数可选性:任选参数；参数类型:字符型。|该参数用于显示导入系统的License受控项名称，即具体的功能或者性能指标名称。
ITEMVALUE|受控项值|参数可选性:任选参数；参数类型:字符型。|该参数用于显示License受控项配置的值，和受控项类型相关，分为开关类型和数值类型。
ITEMDEADLINE|受控项有效期|参数可选性:任选参数；参数类型:字符型。|该参数用于显示License受控项的有效期。






命令举例 :

查询指定导入的License文件的详细信息。 


SHOW LICFILE 


`

(No.1) : (No.2) : SHOW LICFILE:FILENAME="SMF_20200321014843283.lic"
-----------------DEVHASMFP2B4OAMB3UP----------------
网元产品名称  网元版本号  制作日期  有效期   设备序列号
SMF     V71912   2020-03-21   2020-12-21  5GC-2020317-103748785-6a5c9bbea2
执行成功耗时: 0.855 秒
` 






##### 列表显示导入的license文件(SHOW LICFILE LIST) 
##### 列表显示导入的license文件(SHOW LICFILE LIST) 


命令功能 :

该命令用于查询导入网管系统的License文件信息列表，以及License文件是否被加载激活。 




注意事项 :
无。


输入参数说明 :



输出参数说明 :

标识|名称|类型|说明
---|---|---|---
FILENAME|LICENSE文件名称|参数可选性:任选参数；参数类型:字符型。|该参数用于显示已经导入系统的License文件名称。
FILESTATUS|LICENSE文件状态|参数可选性:任选参数；参数类型:枚举。参见枚举定义。|该参数用于显示已经导入系统的License文件状态。未激活(NOACTIVE)：该文件当前未激活，且不是前一次被激活的文件。激活(ACTIVE)：该文件当前已经被激活。上次激活(PRVACTIVE)：该文件当前未激活，但是上一次被激活过。






命令举例 :

列表显示导入的license文件。 


SHOW LICFILE LIST 


`

(No.7) : SHOW LICFILE LIST:
-----------------DEVHASMFP2B4OAMB3UP----------------
LICENSE文件名称     LICENSE文件状态
SMF_20200321014843283.lic  未激活
----------------------------------------------------
执行成功耗时: 0.178 秒
` 






#### license使用管理 
#### license使用管理 


背景知识 :

License即许可证，是对产品使用范围、期限、功能等进行授权、被授权的一种合约形式，客户通过License也可以获得供应商所承诺的相应服务。网元产品通过License文件来实现License管理。 


License文件是通过license制作工具生成的后缀为.lic的文件，当整个系统需要增加用户容量或增加某项功能时，用户通过执行MML命令将对应的License文件加载到网管系统中，并可以查询或者回滚当前网元加载的License文件。 






功能描述 :

该功能用于实现License使用管理中的操作。包括如下操作： 



 
加载license，可以通过加载License命令进行加载操作。
 

 
回滚license，可以通过回滚License命令进行回滚操作。
 

 
查询license，可以通过查询License命令进行查询操作。
 

 
查询License使用情况，可以通过查询License使用情况命令进行查询操作。
 

 
查询网元序列号，可以通过查询网元序列号命令进行查询操作。
 

 










##### 加载License(LOAD LICENSE) 
##### 加载License(LOAD LICENSE) 


命令功能 :

该命令用于加载已经导入系统的License文件，加载成功后，可使用[查询License]命令查询加载的License信息。




注意事项 :

加载的License文件需提前导入系统，可通过[导入license文件]命令进行导入操作。




输入参数说明 :

标识|名称|类型|说明
---|---|---|---
FILENAME|License文件名称|参数可选性:必选参数；参数类型:字符型；参数范围为:1~100个字符。|该参数用于设置要加载的License文件名称。加载的License文件需提前导入系统，可通过导入license文件命令进行导入操作。






输出参数说明 :



命令举例 :

加载license，license文件名称为SMF_20200321014843283.lic 


LOAD LICENSE:FILENAME="SMF_20200321014843283.lic" 






相关命令 :



[查询LICENSE]





[回滚LICENSE]





##### 回滚License(ROLLBACK LICENSE) 
##### 回滚License(ROLLBACK LICENSE) 


命令功能 :

该命令用于将License回滚到上一个版本。如果当前网元没有加载License或者没有上一次加载的License，命令执行失败。 




注意事项 :

当前网元必须有上一次加载的License，才可以成功进行回滚操作。 




输入参数说明 :



输出参数说明 :



命令举例 :

回滚license。 


ROLLBACK LICENSE 


`

ROLLBACK LICENSE

执行结果
----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
成功
----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
记录数 1

命令执行成功（耗时 0.035 秒）。
` 






相关命令 :



[加载LICENSE]





[查询LICENSE]





##### 查询License(SHOW LICENSE) 
##### 查询License(SHOW LICENSE) 


命令功能 :

该命令用于查询本网元已经加载的License信息。 




注意事项 :
无。


输入参数说明 :



输出参数说明 :

标识|名称|类型|说明
---|---|---|---
STATUS|License运行状态|参数可选性:任选参数；参数类型:枚举。参见枚举定义。|该参数用于显示系统中是否加载过LICENSE，以及加载的LICENSE当前的状态。VALID：系统中加载的License运行正常。EXPIRED：系统中加载的License已经过期。PREEXPIRED：系统中加载的License即将过期。NO_LICENSE：系统中没有加载License。
PRODUCTNAME|网元产品名称|参数可选性:任选参数；参数类型:字符型；参数范围为:0~65535个字符。|该参数用于显示系统中加载的License文件的网元类型。
PRODUCTVERSION|网元版本号|参数可选性:任选参数；参数类型:字符型；参数范围为:0~21个字符。|该参数用于显示系统中加载的License文件的网元版本号。
CREATEDATE|创建日期|参数可选性:任选参数；参数类型:字符型；参数范围为:0~21个字符。|该参数用于显示系统中加载的License文件的创建日期。
DEADLINE|有效期|参数可选性:任选参数；参数类型:字符型；参数范围为:0~21个字符。|该参数用于显示系统中加载的License文件的有效期。
SN|设备序列号|参数可选性:任选参数；参数类型:字符型；参数范围为:0~100个字符。|该参数用于显示系统中加载的License文件中的设备序列号，用于License合法性校验。
REMAINDAYS|有效期剩余天数|参数可选性:任选参数；参数类型:字符型；参数范围为:0~40个字符。|该参数用于显示系统中加载的License文件的有效剩余天数，即距离License过期日期的天数。
NFSTYPE|受控项服务类型|参数可选性:任选参数；参数类型:字符型；参数范围为:0~100个字符。|该参数用于显示系统中加载的License受控项的服务类型。
ITEMID|受控项ID|参数可选性:任选参数；参数类型:字符型；参数范围为:0~100个字符。|该参数用于显示系统中加载的License受控项标识，供系统内部使用。
ITEMNAME|受控项名称|参数可选性:任选参数；参数类型:字符型；参数范围为:0~100个字符。|该参数用于显示系统中加载的License受控项名称，即具体的功能或者性能指标名称。
ITEMVALUE|受控项值|参数可选性:任选参数；参数类型:字符型；参数范围为:0~100个字符。|该参数用于显示License受控项配置的值，和受控项类型相关，分为开关类型和数值类型。
ITEMDEADLINE|受控项有效期|参数可选性:任选参数；参数类型:字符型；参数范围为:0~21个字符。|该参数用于显示License受控项的有效期。
ITEMSTATUS|受控项状态|参数可选性:任选参数；参数类型:枚举。参见枚举定义。|该参数用于显示License受控项的状态。NORMAL：License的受控项运行正常。EXPIRED：License的受控项已经过期。PREEXPIRED：License的受控项即将过期。
ITEMREMAINDAYS|受控项有效剩余天数|参数可选性:任选参数；参数类型:字符型；参数范围为:0~40个字符。|该参数用于显示License受控项的有效剩余天数。






命令举例 :

查询license。 


SHOW LICENSE 


`

SHOW LICENSE
-----------------SMF41----------------
License运行状态             网元产品名称 网元版本号 创建日期   有效期     设备序列号                       有效期剩余天数 
--------------------------------------------------------------------------------------------------------------------------
系统中加载的License运行正常 SMF          V7.21.20   2021-07-30 2099-12-31 5GC-2021729-17629782-ac6912d0184 28619          
--------------------------------------------------------------------------------------------------------------------------
记录数：1
受控项服务类型    受控项ID                     受控项名称                                  受控项值 受控项有效期 受控项状态              受控项有效剩余天数 
------------------------------------------------------------------------------------------------------------------------------------------------------------
Nsmf_PDUSession   Nsmf_PDUSession_10000001     PGW基本软件许可                             ON       N/A          License的受控项运行正常 N/A                
Nsmf_PDUSession   Nsmf_PDUSession_10000002     SGW基本软件许可                             ON       N/A          License的受控项运行正常 N/A                
Nsmf_PDUSession   Nsmf_PDUSession_10000003     SMF基本软件许可                             ON       N/A          License的受控项运行正常 N/A                
Nsmf_PDUSession   Nsmf_PDUSession_10000004     SGW支持NB-IoT功能                           ON       N/A          License的受控项运行正常 N/A                
Nsmf_PDUSession   Nsmf_PDUSession_10000005     PGW支持NB-IoT功能                           ON       N/A          License的受控项运行正常 N/A                
Nsmf_PDUSession   Nsmf_PDUSession_10000006     PCC及在线或内容计费功能                     ON       N/A          License的受控项运行正常 N/A                
                  Nsmf_PDUSession_10000007     应急通信保障类型                            0        N/A          License的受控项运行正常 N/A                
Nsmf_PDUSession   Nsmf_PDUSession_10000008     应急通信保障功能                            ON       N/A          License的受控项运行正常 N/A                
Nsmf_PDUSession   Nsmf_PDUSession_10000009     支持RoutingBehindMS功能                     ON       N/A          License的受控项运行正常 N/A                
Nsmf_PDUSession   Nsmf_PDUSession_10000011     N4口携带用户标识功能                        ON       N/A          License的受控项运行正常 N/A                
Nsmf_PDUSession   Nsmf_PDUSession_10000012     紧急呼叫业务                                ON       N/A          License的受控项运行正常 N/A                
Nsmf_PDUSession   Nsmf_PDUSession_10000013     PGW支持Proxy功能                            ON       N/A          License的受控项运行正常 N/A                
Nsmf_PDUSession   Nsmf_PDUSession_10000017     SMF支持EpsFallback功能                      ON       N/A          License的受控项运行正常 N/A                
Nsmf_PDUSession   Nsmf_PDUSession_10000018     SMF支持VoNR功能                             ON       N/A          License的受控项运行正常 N/A                
Nsmf_PDUSession   Nsmf_PDUSession_10000019     SMF支持N26互操作                            ON       N/A          License的受控项运行正常 N/A                
Nsmf_PDUSession   Nsmf_PDUSession_10000020     SMF支持无N26互操作                          ON       N/A          License的受控项运行正常 N/A                
Nsmf_PDUSession   Nsmf_PDUSession_10000023     最大容纳APN的数目                           1000     N/A          License的受控项运行正常 N/A                
Nsmf_PDUSession   Nsmf_PDUSession_10000024     PGW支持HSGW接入                             ON       N/A          License的受控项运行正常 N/A                
Nsmf_PDUSession   Nsmf_PDUSession_10000025     支持TDF功能                                 ON       N/A          License的受控项运行正常 N/A                
Nsmf_PDUSession   Nsmf_PDUSession_10000026     支持ADC功能                                 ON       N/A          License的受控项运行正常 N/A                
Nsmf_PDUSession   Nsmf_PDUSession_10000027     支持策略路由功能                            ON       N/A          License的受控项运行正常 N/A                
Nsmf_PDUSession   Nsmf_PDUSession_10000029     SGW支持NSA功能                              ON       N/A          License的受控项运行正常 N/A                
Nsmf_PDUSession   Nsmf_PDUSession_10000030     PGW支持NSA功能                              ON       N/A          License的受控项运行正常 N/A                
                  NF_0001                      支持GDPR功能                                OFF      N/A          License的受控项运行正常 N/A                
Nsmf_PDUSession   Nsmf_PDUSession_10000032     PGW支持ePDG接入                             ON       N/A          License的受控项运行正常 N/A                
Nsmf_PDUSession   Nsmf_PDUSession_10000033     支持Trace用户数                             1000     N/A          License的受控项运行正常 N/A                
Nsmf_PDUSession   Nsmf_PDUSession_10000034     支持跨SMF服务区互通                         ON       N/A          License的受控项运行正常 N/A                
Nsmf_PDUSession   Nsmf_PDUSession_10000035     支持某运营商定制N4接口                      ON       N/A          License的受控项运行正常 N/A                
Nsmf_PDUSession   Nsmf_PDUSession_10000036     支持跨PLMN漫游本地接入                      ON       N/A          License的受控项运行正常 N/A                
                  Nsmf_ResourceManage_10000001 PGW承载数                                   10000000 N/A          License的受控项运行正常 N/A                
                  Nsmf_ResourceManage_10000002 SGW承载数                                   10000000 N/A          License的受控项运行正常 N/A                
                  Nsmf_ResourceManage_10000003 SMF支持的QosFlow上下文最大数                10000000 N/A          License的受控项运行正常 N/A                
                  Nsmf_ResourceManage_10000004 SGW支持NB-IoT承载数目                       10000000 N/A          License的受控项运行正常 N/A                
                  Nsmf_ResourceManage_10000005 PGW支持NB-IoT承载数目                       10000000 N/A          License的受控项运行正常 N/A                
                  Nsmf_ResourceManage_10000006 全局承载数目:承载上下文个数，对SP合一算一个 10000000 N/A          License的受控项运行正常 N/A                
                  Nsmf_ResourceManage_10000007 SMF支持的会话数                             10000000 N/A          License的受控项运行正常 N/A                
                  Nsmf_ResourceManage_10000008 IMS会话数                                   10000000 N/A          License的受控项运行正常 N/A                
                  Nsmf_ResourceManage_10000009 SGW 5G NSA承载数                            10000000 N/A          License的受控项运行正常 N/A                
                  Nsmf_ResourceManage_10000010 PGW 5G NSA承载数                            10000000 N/A          License的受控项运行正常 N/A                
                  NF_0002                      支持容量突破                                ON       N/A          License的受控项运行正常 N/A                
                  NF_0003                      容量突破时间(天/年)                         30       N/A          License的受控项运行正常 N/A                
                  NF_0004                      容量突破比例(10%)                           5        N/A          License的受控项运行正常 N/A                
Nsmf_IPPoolManage Nsmf_IPPoolManage_10000001   SMF内置BSF功能                              ON       N/A          License的受控项运行正常 N/A                
------------------------------------------------------------------------------------------------------------------------------------------------------------
` 






相关命令 :



[加载LICENSE]





[回滚LICENSE]





##### 查询License使用情况(SHOW LICUSAGE) 
##### 查询License使用情况(SHOW LICUSAGE) 


命令功能 :

该命令用于查询License使用情况。使用情况由前台的License代理上报。 




注意事项 :
无。


输入参数说明 :



输出参数说明 :

标识|名称|类型|说明
---|---|---|---
NFSTYPE|服务类型|参数可选性:任选参数；参数类型:字符型。|该参数用于显示系统中加载的License受控项的服务类型。
ITEMID|受控项ID|参数可选性:任选参数；参数类型:字符型。|该参数用于显示系统中加载的License受控项标识，供系统内部使用。
ITEMNAME|受控项名称|参数可选性:任选参数；参数类型:字符型。|该参数用于显示系统中加载的License受控项名称，即具体的功能或者性能指标名称。
CURVAL|实际使用量|参数可选性:任选参数；参数类型:字符型。|该参数用于显示数值型License受控项的业务实际使用量。
CFGVAL|可使用总量|参数可选性:任选参数；参数类型:字符型。|该参数用于显示数值型License受控项的业务可使用总量,公式为(授权量*（1-超期递减比例(%)*License受控项过期月数/100）)。超期递减比例(%)是License文件中的一个受控项，当超期递减比例(%)取值为0，或License文件找不到该受控项时,可使用总量等于授权量。License受控项过期月数是指某个受控项的有效期相对于当前系统时间过期的月数。
AUTHAVL|授权量|参数可选性:任选参数；参数类型:字符型。|该参数用于显示数值型License受控项在License文件中的授权量。
USAGE|使用率(%)|参数可选性:任选参数；参数类型:字符型。|该参数用于显示数值型License受控项的业务使用率(%)，公式为((实际使用量/可使用总量)*100)。






命令举例 :

查询License使用情况 


SHOW LICUSAGE 


`

SHOW LICUSAGE
-----------------i5GC_5GC_33----------------
服务类型  受控项ID                        受控项名称                                   实际使用量  可使用总量  授权量  使用率(%)  
------------------------------------------------------------------------------------------------------------------------------------
          Nsmf_ResourceManage_10000001    PGW承载数                                    0           100         100     0.00       
          Nsmf_ResourceManage_10000002    SGW承载数                                    0           100         100     0.00       
          Nsmf_ResourceManage_10000004    SGW支持NB-IoT承载数目                        0           100         100     0.00       
          Nsmf_ResourceManage_10000005    PGW支持NB-IoT承载数目                        0           100         100     0.00       
          Nsmf_ResourceManage_10000006    全局承载数目:承载上下文个数，对SP合一算一个  0           100         100     0.00       
          Nsmf_PDUSession_10000023        最大容纳APN的数目                            2           100         100     2.00       
          Nsmf_ResourceManage_10000003    SMF支持的QosFlow上下文最大数                 0           100         100     0.00       
          Nsmf_ResourceManage_10000007    SMF支持的会话数                              0           100         100     0.00       
          Nsmf_ResourceManage_10000008    IMS会话数                                    0           100         100     0.00       
          Nsmf_PDUSession_10000033        支持Trace用户数                              0           100         100     0.00       
          Nsmf_ResourceManage_10000009    SGW 5G NSA承载数                             0           100         100     0.00       
          Nsmf_ResourceManage_10000010    PGW 5G NSA承载数                             0           100         100     0.00       
          uMAC_AMF_7301                   gNodeB容量                                   0           50          50      0.00       
          uMAC_Common_7200                5G注册用户数                                 1           50          50      2.00       
          uMAC_Common_7201                5G在线用户数                                 1           50          50      2.00       
          uMAC_Common_7126                总注册用户数                                 1           5           5       20.00      
          uMAC_Common_7127                总在线用户数                                 1           50          50      2.00       
          LIC_RCP_NUM_ONLINEUSER          在线用户数                                   0           1000        1000    0.00       
          LIC_RCP_NUM_ONLINESESSION       在线会话数                                   0           1000        1000    0.00       
          LIC_RCP_NUM_IMS_ONLINESESSION   在线IMS会话数                                0           1000        1000    0.00       
          LIC_RCP_NUM_DATA_ONLINESESSION  在线DATA会话数                               0           1000        1000    0.00       
          2001                            总鉴权用户数                                 1           1000        1000    0.10       
          2002                            总移动用户数                                 1           1000        1000    0.10       
          2055                            鉴权用户数                                   1           1000        1000    0.10       
          2005                            签约CFD的用户数                              0           1000        1000    0.00       
          16001                           5G静态用户数                                 1           1000        1000    0.10       
------------------------------------------------------------------------------------------------------------------------------------
` 






##### 查询网元序列号(SHOW NFSN) 
##### 查询网元序列号(SHOW NFSN) 


命令功能 :

该命令用于查询网元序列号，网元序列号用于申请制作License文件。加载License文件时也需要检查网元序列号，如果网元序列号不匹配，License文件不允许加载。 




注意事项 :
无。


输入参数说明 :



输出参数说明 :

标识|名称|类型|说明
---|---|---|---
NFSN|序列号|参数可选性:任选参数；参数类型:字符型。|该参数用于显示网元的设备序列号(用于制作License时填写)。






命令举例 :

该命令用于查询本机License控制序列号，查询结果示例如下： 


SHOW NFSN 


`

SHOW NFSN

序列号	
---------
123456	
---------
` 






相关命令 :



[../mml/.html]





#### license策略 
#### license策略 


背景知识 :

网元产品通过License文件来实现License管理。License文件是通过license制作工具生成的后缀为.lic的文件，当整个系统需要增加用户容量，或增加某项功能时，系统管理员通过执行MML命令将对应的License文件加载到网管系统中。 




功能描述 :

该功能用于实现License策略功能，网元产品的License策略功能，主要包括设置License策略和查询License策略，以便对license进行自定义管理。 



 
设置license策略，可以通过设置license告警策略命令进行设置。
 

 
查询license策略，可以通过查询license告警策略命令进行查询。
 

 










##### 设置license告警策略(SET LICPOLICY) 
##### 设置license告警策略(SET LICPOLICY) 


命令功能 :

该命令用于设置License策略，即距离License过期日期的天数小于该天数时，将提前通知，产生对应等级的告警。 




注意事项 :
无。


输入参数说明 :

标识|名称|类型|说明
---|---|---|---
NOTIFYDAYSLEVEL4|License即将过期4级告警提前天数|参数可选性:必选参数；参数类型:整数；参数范围为:1~180。默认值:30。|该参数用于设置License即将过期4级告警提前天数，距离License过期日期的天数小于该天数时，将产生4级告警。
NOTIFYDAYSLEVEL3|License即将过期3级告警提前天数|参数可选性:必选参数；参数类型:整数；参数范围为:1~180。默认值:15。|该参数用于设置License即将过期3级告警提前天数，距离License过期日期的天数小于该天数时，将产生3级告警。






输出参数说明 :



命令举例 :

设置license策略，License即将过期4级告警提前天数为30天，License即将过期3级告警提前天数为15天。 


SET LICPOLICY:NOTIFYDAYSLEVEL4=30,NOTIFYDAYSLEVEL3=15 






##### 查询license告警策略(SHOW LICPOLICY) 
##### 查询license告警策略(SHOW LICPOLICY) 


命令功能 :

该命令用于查询License策略，即距离License过期日期的天数小于该天数时，将提前通知，产生对应等级的告警。 




注意事项 :
无。


输入参数说明 :



输出参数说明 :

标识|名称|类型|说明
---|---|---|---
NOTIFYDAYSLEVEL4|License即将过期4级告警提前天数|参数可选性:任选参数；参数类型:字符型。|该参数用于显示License即将过期4级告警提前天数，距离License过期日期的天数小于该天数时，将产生4级告警。
NOTIFYDAYSLEVEL3|License即将过期3级告警提前天数|参数可选性:任选参数；参数类型:字符型。|该参数用于显示License即将过期3级告警提前天数，距离License过期日期的天数小于该天数时，将产生3级告警。






命令举例 :

查询license策略： 


SHOW LICPOLICY 


`

(No.14) : SHOW LICPOLICY:
-----------------DEVHASMFP2B4OAMB3UP---------------------------
License即将过期4级告警提前天数 License即将过期3级告警提前天数
30                              15
---------------------------------------------------------------
执行成功耗时: 0.208 秒
` 






#### license溢出容忍 
#### license溢出容忍 


背景知识 :

运营商需要在一些特殊时间，能允许使用超出用户容量的业务。 




功能描述 :

配置网元容量超出License溢出容忍的开关，并下发给网元。 


当网元容量超过License后，网元可以自动进行License紧急按一定比例进行扩容（License突破），或者短期不限制License容量（License宽限）。让网元能继续运行一段时间后才关掉紧急License，限制网元跑超出网元容量的业务。 


当License超出容量后上报License容量突破告警（告警码2365982735）。 


当紧急License时间到期前要求上报License容量宽限告警（告警码2365982736）。 










##### 查询License突破状态(SHOW LIC BREAKTHR) 
##### 查询License突破状态(SHOW LIC BREAKTHR) 


命令功能 :

该命令用于查询License突破状态信息。License突破功能是允许在一定比例范围内突破License容量。 


当License受控项NF_0002的值为ON时，显示业务实际突破项的详细信息，否则不显示。 




注意事项 :
无


输入参数说明 :



输出参数说明 :

标识|名称|类型|说明
---|---|---|---
STATUS|突破开关|参数可选性:任选参数；参数类型:字符型。|是否支持容量突破功能的开关。关闭：不支持容量突破功能打开：支持容量突破功能
MAXDAYS|最大突破天数|参数可选性:任选参数；参数类型:字符型。|当支持容量突破功能时，最大突破天数，默认30天，可通过受控项NF_0003配置。
LICID|受控项编号|参数可选性:任选参数；参数类型:字符型。|支持容量突破的受控项编号，唯一表示受控项的标识。
LICDESC|受控项描述|参数可选性:任选参数；参数类型:字符型。|支持容量突破的受控项描述
LOADVALUE|加载容量|参数可选性:任选参数；参数类型:整数。|突破情况下的配置容量
BREAKVALUE|突破容量|参数可选性:任选参数；参数类型:整数。|突破情况下的突破容量
BREAKDAYS|突破天数|参数可选性:任选参数；参数类型:整数。|突破情况下已经突破的天数






命令举例 :

查询License突破状态，结果示例如下： 


SHOW LIC BREAKTHR; 


`

(No.1) : SHOW LIC BREAKTHR:
-----------------AMF_98----------------
突破开关 最大突破天数 
----------------------
ON       7            
----------------------
记录数：1
受控项编号       受控项描述   加载容量 突破容量 突破天数 
---------------------------------------------------------
uMAC_Common_7200 5G注册用户数 100      150.00   2        
uMAC_Common_7201 5G在线用户数 100      150.00   2        
---------------------------------------------------------
记录数：2
执行成功开始时间:2020-09-14 15:17:02 耗时: 0.855 秒
` 






##### 激活License宽限(ACTIVATE LIC GRACE) 
##### 激活License宽限(ACTIVATE LIC GRACE) 


命令功能 :

该命令用于激活License宽限功能。License宽限功能是允许超过License突破的比例上限。 


当需要对License容量宽限时，通过此命令激活该功能。 


使用该命令激活宽限功能后，允许网元在一定天数内放宽License的容量限制，每个license文件只能激活三次，用完后就无法再使用。 




注意事项 :

危险命令，NF License宽限次数有限,使用后不能恢复。总共有三次宽限次数，每次可以宽限7天。 




输入参数说明 :



输出参数说明 :

标识|名称|类型|说明
---|---|---|---
RST|操作结果|参数可选性:任选参数；参数类型:枚举。参见枚举定义。|操作结果






命令举例 :

激活License宽限，结果示例如下： 


ACTIVATE LIC GRACE; 


`

(No.6) : ACTIVATE LIC GRACE:
-----------------AMF_98----------------
执行成功开始时间:2020-09-14 15:52:16 耗时: 0.168 秒
` 






##### 查询License宽限(SHOW LIC GRACE) 
##### 查询License宽限(SHOW LIC GRACE) 


命令功能 :
查询License宽限状态，包括：剩余宽限次数、剩余宽限天数。


注意事项 :
无


输入参数说明 :



输出参数说明 :

标识|名称|类型|说明
---|---|---|---
STATUS|宽限状态|参数可选性:任选参数；参数类型:枚举。参见枚举定义。|宽限状态未激活：未激活宽限功能激活：激活宽限功能
TIMES|剩余宽限次数|参数可选性:任选参数；参数类型:字符型。|剩余宽限次数
DAYS|剩余宽限天数|参数可选性:任选参数；参数类型:整数。|剩余宽限天数






命令举例 :

查询license宽限，结果示例如下： 


SHOW LIC GRACE; 


`

(No.1) : SHOW LIC GRACE:
-----------------AMF_98----------------
宽限状态 剩余宽限次数 剩余宽限天数 
-----------------------------------
未激活   2            0            
-----------------------------------
记录数：1
执行成功开始时间:2020-09-14 15:34:36 耗时: 0.195 秒
` 






##### License基础容量 
##### License基础容量 


背景知识 :

License基础容量是比运营商购买的License容量更小的一个值，用户可以定制，如果当前使用量超过基础容量，会产生业务告警。 




功能描述 :

当容量超过配置的基础容量后，会上报容量容灾告警。当不配置基础容量或容量未到达配置的基础容量时，不上报容量容灾告警。 








###### 新增License基础容量(ADD LIC BASECAP) 
###### 新增License基础容量(ADD LIC BASECAP) 


命令功能 :

该命令用于新增License受控项的基础容量。 


当需要通过告警提示运营商，受控项的当前使用量即将达到License容量上限时，可以通过该命令增加License受控项的基础容量。 


该命令配置的所有License受控项的基础容量，都支持溢出容忍功能。 




注意事项 :

新增的License受控项编号在License文件里要存在，可以通过[查询License]命令查看受控项编号，如果新增的受控项编号是不存在的，则该新增的受控项是无效的




输入参数说明 :

标识|名称|类型|说明
---|---|---|---
LICID|受控项编号|参数可选性:必选参数；参数类型:字符型；参数范围为:1~255个字符。|受控项编号，唯一表示受控项的标识。
LICVALUE|基础容量|参数可选性:必选参数；参数类型:整数；参数范围为:0~4294967295。|基础容量，业务根据该容量产生业务告警






输出参数说明 :

标识|名称|类型|说明
---|---|---|---
LICID|受控项编号|参数可选性:任选参数；参数类型:字符型。|受控项编号，唯一表示受控项的标识。
LICVALUE|基础容量|参数可选性:任选参数；参数类型:整数。|基础容量，业务根据该容量产生业务告警






命令举例 :

新增License基础容量： 


ADD LIC BASECAP:LICID="uMAC_Common_7201",LICVALUE=50; 






###### 修改License基础容量(SET LIC BASECAP) 
###### 修改License基础容量(SET LIC BASECAP) 


命令功能 :

该命令用于修改License受控项的基础容量。当需要对受控项使用量产生告警的值进行调整时，使用该命令。 




注意事项 :

修改的受控项必须是已经配置的，修改不存在的受控项会报错。 




输入参数说明 :

标识|名称|类型|说明
---|---|---|---
LICID|受控项编号|参数可选性:必选参数；参数类型:字符型；参数范围为:1~255个字符。|受控项编号，唯一表示受控项的标识。
LICVALUE|基础容量|参数可选性:必选参数；参数类型:整数；参数范围为:0~4294967295。|基础容量，业务根据该容量产生业务告警






输出参数说明 :



命令举例 :

修改License基础容量： 


SET LIC BASECAP:LICID="uMAC_Common_7201",LICVALUE=50; 






###### 删除License基础容量(DEL LIC BASECAP) 
###### 删除License基础容量(DEL LIC BASECAP) 


命令功能 :

该命令用于删除License受控项的基础容量。当不在需要根据受控项使用情况的产生告警时，使用该命令。 




注意事项 :

删除的受控项必须是已经配置的，删除不存在的受控项会报错。 




输入参数说明 :

标识|名称|类型|说明
---|---|---|---
LICID|受控项编号|参数可选性:必选参数；参数类型:字符型；参数范围为:1~255个字符。|受控项编号，唯一表示受控项的标识。






输出参数说明 :

标识|名称|类型|说明
---|---|---|---
LICID|受控项编号|参数可选性:任选参数；参数类型:字符型。|受控项编号，唯一表示受控项的标识。






命令举例 :

删除License基础容量： 


DEL LIC BASECAP:LICID="uMAC_Common_7201"; 






###### 查询License基础容量(SHOW LIC BASECAP) 
###### 查询License基础容量(SHOW LIC BASECAP) 


命令功能 :

该命令用于查询License基础容量信息，包括受控项编号，受控项描述和基础容量。 




注意事项 :
无


输入参数说明 :



输出参数说明 :

标识|名称|类型|说明
---|---|---|---
LICID|受控项编号|参数可选性:任选参数；参数类型:字符型。|受控项编号，唯一表示受控项的标识。
LICDESC|受控项描述|参数可选性:任选参数；参数类型:字符型。|对受控项的描述信息
LICVALUE|基础容量|参数可选性:任选参数；参数类型:整数。|基础容量，业务根据该容量产生业务告警






命令举例 :

查询License基础容量，结果示例如下： 


SHOW LIC BASECAP; 


`

(No.3) : SHOW LIC BASECAP:
-----------------AMF_98----------------
操作维护       受控项编号       受控项描述   基础容量 
------------------------------------------------------
复制 修改 删除 uMAC_Common_7200 5G注册用户数 50       
复制 修改 删除 uMAC_Common_7201 5G在线用户数 50       
------------------------------------------------------
记录数：2
执行成功开始时间:2020-09-14 15:49:50 耗时: 0.141 秒
` 






### 全局属性管理 
### 全局属性管理 


功能描述 :

用于配置或者查询oam及网元的链路状态，运行状态，记录通知单执行结果等全局属性 








#### 查询OAM的IP信息(SHOW OAMIP) 
#### 查询OAM的IP信息(SHOW OAMIP) 


命令功能 :
该命令用于重置OAM本地用户使用的全局账号规则。


注意事项 :
该命令用于重置OAM本地用户使用的全局账号规则。


输入参数说明 :



输出参数说明 :

标识|名称|类型|说明
---|---|---|---
FOLATIPV4|IPv4浮动地址|参数可选性:任选参数；参数类型:字符型；参数范围为:1~255个字符。|
FOLATIPV6|IPv6浮动地址|参数可选性:任选参数；参数类型:字符型；参数范围为:1~255个字符。|
FIX1IPV4|IPv4实地址1|参数可选性:任选参数；参数类型:字符型；参数范围为:0~255个字符。|
FIX1IPV6|IPv6实地址1|参数可选性:任选参数；参数类型:字符型；参数范围为:0~255个字符。|
FIX2IPV4|IPv4实地址2|参数可选性:任选参数；参数类型:字符型；参数范围为:0~255个字符。|
FIX2IPV6|IPv6实地址2|参数可选性:任选参数；参数类型:字符型；参数范围为:0~255个字符。|






命令举例 :





#### 状态管理 
#### 状态管理 


功能描述 :

用于配置或者查询OAM及网元的链路状态，运行状态，主备状态等信息。 








##### 查询OAM主备状态(SHOW OAM STATUS) 
##### 查询OAM主备状态(SHOW OAM STATUS) 


命令功能 :
该命令用于查询OAM主备状态


注意事项 :
无。


输入参数说明 :



输出参数说明 :

标识|名称|类型|说明
---|---|---|---
STATUS|主备状态|参数可选性:任选参数；参数类型:枚举。参见枚举定义。|主备状态
VMNAME|虚机名称|参数可选性:任选参数；参数类型:字符型。|虚机名称






命令举例 :

查询OAM主备状态。 


SHOW OAM STATUS 


`
(No.4) : SHOW OAM STATUS:
-----------------WCDMA_6----------------
主备状态 虚机名称                    
-------------------------------------
主机     WCDMA_6-VM-WCDMA_6OMUC40001 
-------------------------------------
记录数：1
执行成功开始时间:2020-09-02 14:07:06 耗时: 0.123 秒
` 






##### 链路状态管理 
##### 链路状态管理 


背景知识 :

在日常运维工作中，用户可以查询网元业务模块间链路的当前状态和历史状态，分析网元的运行状况。 


OAM为用户提供了可以登录的管理地址和端口，并提供了链路状态查询功能，用于满足日常运维工作的需求。 






功能描述 :

本功能包括OAM链路状态查询和网元当前、历史链路状态查询。 


OAM链路状态查询：用于查询到OAM管理地址和端口的链路状态。 

 
网元链路当前、历史状态查询：用于查询网元业务模块间链路的当前、历史状态，链路信息由网元上报给OAM。 

 










###### 查询OAM链路状态(SHOW OAM LINK) 
###### 查询OAM链路状态(SHOW OAM LINK) 


命令功能 :
该命令用于查询到OAM管理地址和端口的链路状态。


注意事项 :
无。


输入参数说明 :



输出参数说明 :

标识|名称|类型|说明
---|---|---|---
IP|管理IP|参数可选性:任选参数；参数类型:字符型；参数范围为:0~128个字符。|OAM对外提供的管理IP地址，用于维护管理时登录OAM使用。
PORT|管理端口|参数可选性:任选参数；参数类型:字符型；参数范围为:0~64个字符。|OAM对外提供的管理端口号。
STATUS|链路状态|参数可选性:任选参数；参数类型:枚举。参见枚举定义。|链路的当前状态，包括：中断正常
NFID|网络功能ID|参数可选性:任选参数；参数类型:字符型；参数范围为:0~64个字符。|网络功能ID，实例化时随机生成






命令举例 :

查询OAM链路状态。 


SHOW OAM LINK 


`


(No.3) : SHOW OAM LINK:
-----------------WCDMA_6----------------
管理IP                 管理端口 链路状态 网络功能ID                           
------------------------------------------------------------------------------
2019:2020:0:0:6:0:0:12 7722     正常     0d54b972-aa76-4c91-aa63-3a82968c4db7 
------------------------------------------------------------------------------
记录数：1
执行成功开始时间:2020-09-02 14:06:44 耗时: 0.173 秒
` 






###### 查询网元链路当前状态(SHOW NFLINK STATE) 
###### 查询网元链路当前状态(SHOW NFLINK STATE) 


命令功能 :
该命令用于查询网元业务模块间链路的当前状态


注意事项 :
无。


输入参数说明 :



输出参数说明 :

标识|名称|类型|说明
---|---|---|---
NFID|NF ID|参数可选性:任选参数；参数类型:字符型。|网络功能ID，实例化时随机生成
LINKTYPE|链路类型|参数可选性:任选参数；参数类型:字符型。|链路类型，由网元生成并上报给OAM
LINKID|链路ID|参数可选性:任选参数；参数类型:字符型。|链路ID，由网元生成并上报给OAM
STATE|链路状态|参数可选性:任选参数；参数类型:枚举。参见枚举定义。|链路的当前状态，包括：在线离线






命令举例 :

查询网元链路当前状态。 


SHOW NFLINK STATE 


`

(No.1) : SHOW NFLINK STATE
-----------------SMF160----------------
` 






###### 查询网元链路历史状态(SHOW NFLINK HISSTATE) 
###### 查询网元链路历史状态(SHOW NFLINK HISSTATE) 


命令功能 :
该命令用于查询网元业务模块间链路的历史状态


注意事项 :
无。


输入参数说明 :



输出参数说明 :

标识|名称|类型|说明
---|---|---|---
NFID|NF ID|参数可选性:任选参数；参数类型:字符型。|网络功能ID，实例化时随机生成
LINKTYPE|链路类型|参数可选性:任选参数；参数类型:字符型。|链路类型，由网元生成并上报给OAM
LINKID|链路ID|参数可选性:任选参数；参数类型:字符型。|链路ID，由网元生成并上报给OAM
STATE|链路状态|参数可选性:任选参数；参数类型:枚举。参见枚举定义。|链路的当前状态，包括：在线离线删除
MTIME|状态修改时间|参数可选性:任选参数；参数类型:字符型。|状态修改时间，由网元生成并上报给OAM






命令举例 :

查询网元链路历史状态。 


SHOW NFLINK HISSTATE 


`

(No.1) : SHOW NFLINK HISSTATE
-----------------SMF160----------------
` 






##### 网元状态管理 
##### 网元状态管理 


功能描述 :

管理网元的运行状态，查询网元当前及历史运行状态 








###### 设置网元运行状态(SET NF RUNSTATE) 
###### 设置网元运行状态(SET NF RUNSTATE) 


命令功能 :
设置网元运行状态


注意事项 :

无 




输入参数说明 :

标识|名称|类型|说明
---|---|---|---
STATE|运行状态|参数可选性:必选参数；参数类型:枚举。参见枚举定义。|运行状态






输出参数说明 :



命令举例 :

设置网元运行状态为在线。 


SET NF RUNSTATE:STATE="ONLINE" 






###### 查询网元运行状态(SHOW NF RUNSTATE) 
###### 查询网元运行状态(SHOW NF RUNSTATE) 


命令功能 :
查询网元运行状态


注意事项 :

无 




输入参数说明 :



输出参数说明 :

标识|名称|类型|说明
---|---|---|---
NFID|网络功能ID|参数可选性:任选参数；参数类型:字符型。|网络功能ID
STATE|运行状态|参数可选性:任选参数；参数类型:枚举。参见枚举定义。|运行状态






命令举例 :

查询网元运行状态。 


SHOW NF RUNSTATE 


`
(No.7) : SHOW NF RUNSTATE:
-----------------WCDMA_6----------------
操作维护       网络功能ID                           运行状态 
-------------------------------------------------------------
修改           0d54b972-aa76-4c91-aa63-3a82968c4db7 在线     
-------------------------------------------------------------
记录数：1
执行成功开始时间:2020-09-02 14:10:30 耗时: 0.132 秒
` 






###### 查询网元历史运行状态(SHOW NF HISSTATE) 
###### 查询网元历史运行状态(SHOW NF HISSTATE) 


命令功能 :
查询网元历史运行状态


注意事项 :

无 




输入参数说明 :



输出参数说明 :

标识|名称|类型|说明
---|---|---|---
NFID|网络功能ID|参数可选性:任选参数；参数类型:字符型。|网络功能ID
STATE|运行状态|参数可选性:任选参数；参数类型:枚举。参见枚举定义。|运行状态
MTIME|状态修改时间|参数可选性:任选参数；参数类型:字符型。|状态修改时间






命令举例 :

查询网元历史运行状态。 


SHOW NF HISSTATE 


`
(No.8) : SHOW NF HISSTATE:
-----------------WCDMA_6----------------
网络功能ID                           运行状态 状态修改时间 
-----------------------------------------------------------
0d54b972-aa76-4c91-aa63-3a82968c4db7 在线     N/A          
-----------------------------------------------------------
记录数：1
执行成功开始时间:2020-09-02 14:11:00 耗时: 0.159 秒
` 






###### 设置网元工作状态(SET NF WORKSTATE) 
###### 设置网元工作状态(SET NF WORKSTATE) 


命令功能 :
设置网元工作状态


注意事项 :

无 




输入参数说明 :

标识|名称|类型|说明
---|---|---|---
WORKSTATE|工作状态|参数可选性:必选参数；参数类型:枚举。参见枚举定义。|工作状态






输出参数说明 :



命令举例 :

SET NF WORKSTATE:WORKSTATE="Commercial"; 




###### 查询网元工作状态(SHOW NF WORKSTATE) 
###### 查询网元工作状态(SHOW NF WORKSTATE) 


命令功能 :
查询网元工作状态


注意事项 :

无 




输入参数说明 :



输出参数说明 :

标识|名称|类型|说明
---|---|---|---
NFID|网元ID|参数可选性:任选参数；参数类型:字符型；参数范围为:1~255个字符。|网络功能ID
WORKSTATE|工作状态|参数可选性:任选参数；参数类型:枚举。参见枚举定义。|工作状态






命令举例 :

SHOW  NF  WORKSTATE 




#### 技术通知单管理 
#### 技术通知单管理 


背景知识 :

在核心网产品现网局点执行完技术通知单后，需要将技术通知单的执行情况记录到网管中，为后续自动化工具检查技术通知单是否执行提供依据。 


对于现网实施的工程技术通知单，只需要记录操作实施类通知单，通告类通知单不需要记录。 






功能描述 :

该模块命令包括添加，删除，及查询网元记录技术通知单执行结果。 


现场执行完通知单，执行该组命令，手动输入通知单号及执行结果进行持久化。 










##### 增加网元记录技术通知单执行结果(ADD TECHNOTIFY) 
##### 增加网元记录技术通知单执行结果(ADD TECHNOTIFY) 


命令功能 :
该命令用于增加网元技术通知单的执行结果，当现场执行完技术通知单后，使用该命令增加技术通知单的执行结果。


注意事项 :
添加记录请保持与现场执行技术通知单结果一致。


输入参数说明 :

标识|名称|类型|说明
---|---|---|---
OPRESULT|执行结果|参数可选性:必选参数；参数类型:枚举。参见枚举定义。|通知单执行结果，包括：安装成功安装失败回滚成功回滚失败
NOTIFYID|通知单号|参数可选性:必选参数；参数类型:字符型；参数范围为:1~30个字符。|技术通知单号






输出参数说明 :



命令举例 :

增加网元记录技术通知单执行结果，执行结果为安装成功，通知单号为1。 


ADD TECHNOTIFY:OPRESULT="INSTALL-SUCC",NOTIFYID="1" 






##### 删除网元记录技术通知单执行结果(DEL TECHNOTIFY) 
##### 删除网元记录技术通知单执行结果(DEL TECHNOTIFY) 


命令功能 :
该命令用于删除网元技术通知单的执行结果，例如添加记录有误时，可使用该命令删除错误记录。


注意事项 :
删除记录请保持与现场执行技术通知单结果一致。


输入参数说明 :

标识|名称|类型|说明
---|---|---|---
OPRESULT|执行结果|参数可选性:必选参数；参数类型:枚举。参见枚举定义。|通知单执行结果，包括：安装成功安装失败回滚成功回滚失败
NOTIFYID|通知单号|参数可选性:必选参数；参数类型:字符型；参数范围为:1~30个字符。|技术通知单号






输出参数说明 :



命令举例 :

删除执行结果为安装成功，通知单号为1的网元技术通知单执行记录。 


DEL TECHNOTIFY:OPRESULT="INSTALL-SUCC",NOTIFYID="1" 






##### 查询网元记录技术通知单执行结果(SHOW TECHNOTIFY) 
##### 查询网元记录技术通知单执行结果(SHOW TECHNOTIFY) 


命令功能 :
查询当前网元已执行的所有通知单及执行结果。


注意事项 :
无


输入参数说明 :

标识|名称|类型|说明
---|---|---|---
OPRESULT|执行结果|参数可选性:任选参数；参数类型:枚举。参见枚举定义。|通知单执行结果，包括：安装成功安装失败回滚成功回滚失败
NOTIFYID|通知单号|参数可选性:任选参数；参数类型:字符型；参数范围为:1~30个字符。|技术通知单号
BEGINTIME|开始时间|参数可选性:任选参数；参数类型:日期|查询开始时间之后的通知单执行记录
ENDTIME|结束时间|参数可选性:任选参数；参数类型:日期|查询结束时间前的通知单执行记录






输出参数说明 :

标识|名称|类型|说明
---|---|---|---
NFID|网元ID|参数可选性:任选参数；参数类型:字符型。|网元ID，网元的唯一标识
ID|序号|参数可选性:任选参数；参数类型:整数。|序号，记录的唯一标识
OPRESULT|通知单执行结果|参数可选性:任选参数；参数类型:枚举。参见枚举定义。|通知单执行结果，包括：安装成功安装失败回滚成功回滚失败
NOTIFYID|通知单号|参数可选性:任选参数；参数类型:字符型。|技术通知单号
OPTIME|执行时间|参数可选性:任选参数；参数类型:字符型。|通知单执行时间






命令举例 :

查询所有网元记录技术通知单执行结果。 


SHOW TECHNOTIFY 


`
(No.2) : SHOW TECHNOTIFY:
-----------------smoke_uspp_80----------------
操作维护       网元ID                               序号  通知单执行结果 通知单号 执行时间            
------------------------------------------------------------------------------------------------------
复制  删除      76e1b97c-b2cd-461b-b087-c778c6245941 32674 安装成功       1        2021-08-11 16:27:06 
复制  删除      76e1b97c-b2cd-461b-b087-c778c6245941 32675 安装失败       1        2021-08-11 16:32:39 
------------------------------------------------------------------------------------------------------
记录数：2
执行成功开始时间:2021-08-11 16:48:37 耗时: 0.162 秒
` 






#### OAM接入EMS的NAT IP地址 
#### OAM接入EMS的NAT IP地址 


背景知识 :

为了解决EMS、VNFM和网元不在同一资源池，无法互通的问题，需要进行NAT网络地址转换，实现网元可以自动接入NAT转换后的EMS。 


OAM提供NAT地址配置SET/SHOW命令。对于已实例化V7网元，当需要使用NAT地址对接EMS时，支持修改NAT地址。 


OAM提供查询NAT地址的接口给VNFM，使得VNFM在实例化V7网元时，或V7网元修改NAT地址后能够获取V7网元的NAT地址。 






功能描述 :

该功能主要实现设置和查询OAM接入EMS的NAT IP地址。 










##### 设置OAM接入EMS的NAT IP地址(SET EMSNATIP) 
##### 设置OAM接入EMS的NAT IP地址(SET EMSNATIP) 


命令功能 :
设置OAM接入EMS的NAT IP地址,当需要进行NAT网络地址转换时，使用该命令。


注意事项 :
根据需要设置正确的EM地址。如果不需要配置NAT地址，将NAT IP设置为0.0.0.0。


输入参数说明 :

标识|名称|类型|说明
---|---|---|---
NATIP|OAM接入EMS的NAT IP地址|参数可选性:必选参数；参数类型:地址。|OAM接入EMS的NAT IP地址






输出参数说明 :



命令举例 :

设置OAM接入EMS的NAT IP地址为100.10.1.1 


SET EMSNATIP:NATIP="100.10.1.1"; 






##### 查询OAM接入EMS的NAT IP地址(SHOW EMSNATIP) 
##### 查询OAM接入EMS的NAT IP地址(SHOW EMSNATIP) 


命令功能 :
查询OAM接入EMS的NAT IP地址。


注意事项 :
无


输入参数说明 :



输出参数说明 :

标识|名称|类型|说明
---|---|---|---
NATIP|OAM接入EMS的NAT IP地址|参数可选性:任选参数；参数类型:字符型。|OAM接入EMS的NAT IP地址






命令举例 :

查询OAM接入EMS的NAT IP地址，结果示例如下： 


SHOW EMSNATIP 


`

(No.2) : SHOW EMSNATIP
-----------------smoke_smf_70----------------
操作维护        OAM接入EMS的NAT IP地址  
------------------------------------------
修改            10.228.158.91           
------------------------------------------
记录数：  1
` 






#### OAM代理配置 
#### OAM代理配置 


背景知识 :

BM(Bare Metal) CAAS下OAM网络平面的浮动地址不能直接提供给外部使用。需要通过在TECS Daisy界面和OAM配置界面分别配置对外的NAT地址和端口 


OAM Router进程的SFTP管理模块返回OAM SFTP信息时，根据SFTP的代理配置，把对外的SFTP地址和端口替换成NAT地址和端口，返回给使用方。 






功能描述 :

BM CAAS下OAM提供代理配置命令，由用户配置OAM对外的代理配置，主要用来配置OAM SFTP服务的对外NAT地址和端口号。 










##### 添加OAM代理配置(ADD PROXY CONFIG) 
##### 添加OAM代理配置(ADD PROXY CONFIG) 


命令功能 :
该命令用于添加OAM代理配置，当需要添加代理时使用该命令


注意事项 :
添加的OAM SFTP服务端口的对外NAT地址和端口需要和TECS daisy界面上的配置-网络管理-代理配置界面中配置的SFTP服务端口的对外NAT地址(原IP)和端口(原端口)保持一致。


输入参数说明 :

标识|名称|类型|说明
---|---|---|---
NATIP|NAT IP地址|参数可选性:必选参数；参数类型:地址。|NAT IP地址对应TECS daisy配置界面上的原IP
NATPORT|NAT端口|参数可选性:必选参数；参数类型:整数；参数范围为:0~65535。|NAT端口对应TECS daisy配置界面上的原端口
INNERPORT|内部端口|参数可选性:必选参数；参数类型:整数；参数范围为:0~65535。|OAM内部端口，如sftp的29029，https的8777端口等






输出参数说明 :



命令举例 :

添加OAM IP为10.228.122.241的代理配置，8777端口映射为18778 


ADD PROXY CONFIG:NATIP
="10.228.122.241",NATPORT="18778",INNERPORT="8777"; 






##### 删除OAM代理配置(DEL PROXY CONFIG) 
##### 删除OAM代理配置(DEL PROXY CONFIG) 


命令功能 :
该命令用于删除OAM代理配置，当需要删除代理时使用该命令


注意事项 :
无


输入参数说明 :

标识|名称|类型|说明
---|---|---|---
NATIP|NAT IP地址|参数可选性:必选参数；参数类型:地址。|NAT IP地址，可用SHOW PROXY CONFIG查询
NATPORT|NAT端口|参数可选性:必选参数；参数类型:整数；参数范围为:0~65535。|NAT端口，可用SHOW PROXY CONFIG查询
INNERPORT|内部端口|参数可选性:任选参数；参数类型:整数；参数范围为:0~65535。|OAM内部端口，可用SHOW PROXY CONFIG查询






输出参数说明 :



命令举例 :

删除OAM IP为10.228.122.241，NATPORT为18778的代理配置 


DEL PROXY CONFIG:NATIP
="10.228.122.241",NATPORT="18778"; 






##### 查询OAM代理配置(SHOW PROXY CONFIG) 
##### 查询OAM代理配置(SHOW PROXY CONFIG) 


命令功能 :
该命令用于查询OAM代理配置，当需要查询代理时使用该命令


注意事项 :
无


输入参数说明 :



输出参数说明 :

标识|名称|类型|说明
---|---|---|---
NATIP|NAT IP地址|参数可选性:任选参数；参数类型:地址。|NAT IP地址对应TECS daisy配置界面上的原IP
NATPORT|NAT端口|参数可选性:任选参数；参数类型:整数；参数范围为:0~65535。|NAT端口对应TECS daisy配置界面上的原端口
INNERPORT|内部端口|参数可选性:任选参数；参数类型:整数；参数范围为:0~65535。|OAM内部端口






命令举例 :

查询OAM的代理配置 


SHOW PROXY CONFIG 


`

(No.2) : SHOW PROXY CONFIG
-----------------bmcaas5300----------------
操作维护        NAT IP地址     NAT端口  内部端口  
----------------------------------------------------
复制 删除       10.228.48.231  29029    29028     
----------------------------------------------------
记录数：  1

执行成功
开始时间：2021-09-09 09:23:12.968 耗时：0.076秒
` 






#### EM接入管理 
#### EM接入管理 


背景知识 :

EMS曾接入过下级OAM，在EMS异常的情况下，另一EMS想接管此OAM，无法接入，需要提供方法删除OAM存储的EMS接入信息，由此，提供此手工删除EMS的命令，解决此故障。此命令只能用于以上异常场景，不能作为正常的EMS停止接入操作。 




功能描述 :

该功能主要实现查询和删除EMS接入信息。 








##### 查询EM接入信息(SHOW EM ACCESS) 
##### 查询EM接入信息(SHOW EM ACCESS) 


命令功能 :
查询EM接入信息


注意事项 :
无


输入参数说明 :



输出参数说明 :

标识|名称|类型|说明
---|---|---|---
EMSIP|EMS IP地址|参数可选性:任选参数；参数类型:字符型。|EMS IP地址
EMSPORT|EMS端口|参数可选性:任选参数；参数类型:字符型。|EMS端口
AUTHMETHOD|认证方式|参数可选性:任选参数；参数类型:枚举。参见枚举定义。|认证方式：1-单向认证；2-双向认证。
PROTOCOL|接入协议|参数可选性:任选参数；参数类型:字符型。|接入协议
TOKEN|是否鉴权|参数可选性:任选参数；参数类型:枚举。参见枚举定义。|是否鉴权：0-否，1-是。
ENCRYPT|是否加密|参数可选性:任选参数；参数类型:枚举。参见枚举定义。|是否加密：0-否，1-是。
STARTED|是否启动|参数可选性:任选参数；参数类型:枚举。参见枚举定义。|是否启动：0-否，1-是。






命令举例 :

查询EM接入信息： 


`SHOW EM ACCESS;` 






##### 删除EM接入信息(DEL EM ACCESS) 
##### 删除EM接入信息(DEL EM ACCESS) 


命令功能 :
删除EM接入信息


注意事项 :
此命令只能用于EMS异常、无法正常接入OAM的场景，不能作为正常的EMS停止接入操作使用。


输入参数说明 :



输出参数说明 :

标识|名称|类型|说明
---|---|---|---
RESULT|结果|参数可选性:任选参数；参数类型:枚举。参见枚举定义。|结果






命令举例 :

删除EMS的接入信息： 


`DEL EM ACCESS;` 






##### 检测EM SFTP连接状态(CHECK EM SFTP) 
##### 检测EM SFTP连接状态(CHECK EM SFTP) 


命令功能 :
检测EM SFTP连接状态


注意事项 :

无 




输入参数说明 :

标识|名称|类型|说明
---|---|---|---
IP|SFTP IP地址|参数可选性:任选参数；参数类型:地址。|SFTP IP地址
PORT|SFTP端口|参数可选性:任选参数；参数类型:整数；参数范围为:0~65535。默认值:21128。|SFTP端口
TIMEOUT|SFTP连接超时时间(单位秒)|参数可选性:任选参数；参数类型:整数；参数范围为:3~10。默认值:5。|SFTP连接超时时间(单位秒)






输出参数说明 :

标识|名称|类型|说明
---|---|---|---
STATE|连接状态|参数可选性:任选参数；参数类型:枚举。参见枚举定义。|






命令举例 :





### NDF管理 
### NDF管理 


背景知识 :

NMS（Network Management System，网络管理系统）与被管网元之间不经过第三方而直接进行互操作的网管接口，简称为网元NDF直连接口（NE Direct  connect Fucntion）。 






功能描述 :

该模块提供如下功能： 


查询操作命令：提供对服务下所属命令的查询功能。 

 
NDF功能开关：用于控制告警、性能数据的上报。开关打开就上报；开关关闭就不上报。 

 
性能统计NDF文件压缩状态：提供设置和查询性能统计NDF文件压缩状态命令。 

 
性能管理：提供性能统计NDF接口命令。 

 










#### 查询操作命令(SHOW CMD) 
#### 查询操作命令(SHOW CMD) 


命令功能 :
该命令用于查询操作命令，结果大于2000条则生成CSV文件。


注意事项 :
无


输入参数说明 :

标识|名称|类型|说明
---|---|---|---
NAME|命令名称|参数可选性:任选参数；参数类型:字符型；参数范围为:0~128个字符。|操作命令的名称助记符，又称为命令助记符，不区分大小写。
NFS|服务名称|参数可选性:任选参数；参数类型:字符型；参数范围为:0~128个字符。|网络功能服务名称。






输出参数说明 :

标识|名称|类型|说明
---|---|---|---
NAME|命令名称|参数可选性:任选参数；参数类型:字符型；参数范围为:1~100个字符。|操作命令的名称助记符，又称为命令助记符，不区分大小写。
DESC|命令描述|参数可选性:任选参数；参数类型:字符型；参数范围为:1~255个字符。|操作命令的描述信息。
NFS|服务名称|参数可选性:任选参数；参数类型:字符型；参数范围为:1~100个字符。|网络功能服务名称。






命令举例 :

查询OAM的所有操作命令。 


SHOW CMD:NFS="OAM" 


`

(No.2) : SHOW CMD:NFS="OAM"

命令名称                    命令描述                           服务名称 
------------------------------------------------------------------------
SYNA                        传送数据                           OAM      
SHOW CHG                    查询变化表                         OAM      
SHOW USERLOCK               查询用户锁                         OAM      
SYN ONLINE                  在线一致性同步                     OAM  
......
------------------------------------------------------------------------
记录数：145
执行成功开始时间:2020-09-02 09:41:36 耗时: 0.331 秒
` 






#### NDF功能开关 
#### NDF功能开关 


背景知识 :

网元NDF直连接口是NMS与被管网元之间不经过第三方，直接进行互操作的网管接口。用于将NMS直连至被管网元，不需要OMC或网管接口机等中间环节，实现NMS对被管网元的直接操作。 






功能描述 :

NDF功能开关用于控制告警（FM）和性能（PM）的上报。开关打开则上报告警和性能数据；开关关闭则不上报。 










##### 修改NDF功能开关(SET NDFSWITCH) 
##### 修改NDF功能开关(SET NDFSWITCH) 


命令功能 :
该命令用于修改NDF功能开关，当需要动态调整FM或PM的NDF监控状态时，使用该命令。命令执行成功后，通过[查询NDF功能开关]可以查看。


注意事项 :
如果开关项设置为关，则NDF终端将不在上报告警或性能。


输入参数说明 :

标识|名称|类型|说明
---|---|---|---
FMSWITCH|FM的NDF开关|参数可选性:任选参数；参数类型:枚举。参见枚举定义。|FM的NDF开关。OFF（关闭）：不上报告警ON（打开）：上报告警
PMSWITCH|PM的NDF开关|参数可选性:任选参数；参数类型:枚举。参见枚举定义。|PM的NDF开关。OFF（关闭）：不上报性能数据ON（打开）：上报性能数据






输出参数说明 :



命令举例 :

设置FM和PM的NDF开关均为关： 


SET NDFSWITCH:FMSWITCH="OFF",PMSWITCH="OFF" 






##### 查询NDF功能开关(SHOW NDFSWITCH) 
##### 查询NDF功能开关(SHOW NDFSWITCH) 


命令功能 :
该命令用于查询NDF功能开关，可以查询告警和性能NDF开关的状态。


注意事项 :
无


输入参数说明 :



输出参数说明 :

标识|名称|类型|说明
---|---|---|---
FMSWITCH|FM NDF 开关|参数可选性:任选参数；参数类型:枚举。参见枚举定义。|FM的NDF开关。OFF（关闭）：不上报告警ON（打开）：上报告警
PMSWITCH|PM NDF 开关|参数可选性:任选参数；参数类型:枚举。参见枚举定义。|PM的NDF开关。OFF（关闭）：不上报性能数据ON（打开）：上报性能数据






命令举例 :

查询NDF开关状态。 


SHOW NDFSWITCH 


`

(No.3) : SHOW NDFSWITCH

操作维护       FM NDF 开关 PM NDF 开关 
---------------------------------------
修改           关          关          
---------------------------------------
记录数：1
执行成功开始时间:2020-09-02 09:45:34 耗时: 1.017 秒` 






#### 性能统计NDF文件压缩状态 
#### 性能统计NDF文件压缩状态 


背景知识 :

性能统计NDF文件是性能统计功能通过NDF接口输出给第三方使用的性能统计数据文件。由于性能数据文件占用的磁盘空间可能很大，所以提供了压缩方式供用户选择。需要查询或者设置NDF接口输出的性能数据压缩格式的时候使用该功能。 




功能描述 :

该组命令用于设置和查询性能统计NDF接口输出的性能数据文件是否为压缩格式，默认是压缩格式。 








##### 查询性能统计NDF文件压缩状态(SHOW PM NDFZIPSTATE) 
##### 查询性能统计NDF文件压缩状态(SHOW PM NDFZIPSTATE) 


命令功能 :
该命令用于查询性能统计NDF文件压缩状态，返回压缩状态是否压缩。


注意事项 :
默认为压缩状态


输入参数说明 :



输出参数说明 :

标识|名称|类型|说明
---|---|---|---
ZIPSTATE|压缩状态|参数可选性:必选参数；参数类型:枚举。参见枚举定义。默认值:YES。|性能统计NDF文件压缩状态。否(NO)是(YES)






命令举例 :

查询性能统计NDF文件压缩状态 


SHOW PM NDFZIPSTATE 


`

(No.1) : SHOW PM NDFZIPSTATE
-----------------DEV_CPF_SMF_180----------------
操作维护        压缩状态  
----------------------------
修改            是        
----------------------------
记录数：  1
执行成功 开始时间：2021-05-27 15:37:40.413 耗时：0.23秒
` 






##### 设置性能统计NDF文件压缩状态(SET PM NDFZIPSTATE) 
##### 设置性能统计NDF文件压缩状态(SET PM NDFZIPSTATE) 


命令功能 :
该命令用于设置性能统计NDF文件压缩状态，当需要改变性能统计NDF接口输出的数据文件是否为压缩格式的时候使用该命令。


注意事项 :
默认为压缩状态，修改为非压缩状态需要注意对磁盘空间的占用影响。


输入参数说明 :

标识|名称|类型|说明
---|---|---|---
ZIPSTATE|压缩状态|参数可选性:必选参数；参数类型:枚举。参见枚举定义。|性能统计NDF文件压缩状态。否(NO)是(YES)






输出参数说明 :



命令举例 :

设置性能统计NDF文件压缩状态 


SET PM NDFZIPSTATE:ZIPSTATE="YES"; 


`

(No.1) : SET PM NDFZIPSTATE:ZIPSTATE="YES"
-----------------DEVUSPP188----------------
执行成功 开始时间：2021-06-17 18:41:29.462 耗时：0.143秒
` 






#### 性能管理 
#### 性能管理 


背景知识 :

为了评价一个通信网络运行的好坏，通过网管系统，指定网络单元按照规定的时间段进行性能数据的收集和记录的操作称之为性能管理或性能统计。
 




功能描述 :

针对网络、网络单元或设备进行性能监视，采集相关的性能统计数据，评价网络和网络单元的有效性，报告电信设备的状态，支持网络规划和网络分析，从而改进网络性能和效率。比如：接通率、信令链路不可用时长等。  








##### 查询测量类型(SHOW PMTYPE) 
##### 查询测量类型(SHOW PMTYPE) 


命令功能 :

该命令用于查询性能管理测量类型的基本信息，包括测量类型的标识、名称、描述，测量对象类型的标识，测量类型定义对象方式以及测量类型对应的服务名称。 




注意事项 :

如果输入参数不填，默认查询所有测量类型信息。 




输入参数说明 :

标识|名称|类型|说明
---|---|---|---
ID|测量类型标识|参数可选性:任意单选参数；参数类型:整数；参数范围为:1~4294967294。|该参数表示系统预定义的全局唯一的测量类型的标识，由5位数字组成。
NAME|测量类型名称|参数可选性:任意单选参数；参数类型:字符型；参数范围为:0~255个字符。|该参数表示系统预定义的测量类型的名称。
CLASSID|测量对象类型标识|参数可选性:任意单选参数；参数类型:整数；参数范围为:0~4294967294。|该参数表示测量类型对应的测量对象类型标识。系统中一个测量对象类型可同时对应多个测量类型。
SERVICENAME|服务名称|参数可选性:任意单选参数；参数类型:字符型；参数范围为:0~255个字符。|该参数表示测量类型对应的NFS服务名称。






输出参数说明 :

标识|名称|类型|说明
---|---|---|---
ID|测量类型标识|参数可选性:任选参数；参数类型:整数；参数范围为:1~4294967294。|该参数表示系统预定义的全局唯一的测量类型的标识，由5位数字组成。
NAME|测量类型名称|参数可选性:任选参数；参数类型:字符型；参数范围为:0~255个字符。|该参数表示系统预定义的测量类型的名称。
DESC|测量类型描述|参数可选性:任选参数；参数类型:字符型；参数范围为:0~255个字符。|该参数表示测量类型的描述信息。
CLASSID|测量对象类型标识|参数可选性:任选参数；参数类型:整数；参数范围为:0~4294967294。|该参数表示测量类型对应的测量对象类型标识。系统中一个测量对象类型可同时对应多个测量类型。
DEFINEOBJWAY|测量类型定义对象方式|参数可选性:任选参数；参数类型:枚举。参见枚举定义。|该参数表示测量类型定义的对象方式，包括：0：无对象1：有对象
SERVICENAME|服务名称|参数可选性:任选参数；参数类型:字符型；参数范围为:0~255个字符。|该参数表示测量类型对应的NFS服务名称。






命令举例 :

查询测量类型标识为55601的测量类型的基本信息。 


SHOW PMTYPE:ID="55601" 


`

(No.1) : SHOW PMTYPE:ID="55601"
-----------------DEV_SMF_JXM_95-------------------------------------------------------------------------------------------
测量类型标识 测量类型名称            测量类型描述           测量对象类型标识 测量类型定义对象方式 服务名称          
--------------------------------------------------------------------------------------------------------------------------
55601        HTTP客户端流程消息测量  HTTP客户端流程消息测量 61101            有测量对象            CommonS_HTTP_LB_0 
--------------------------------------------------------------------------------------------------------------------------
记录数：1
` 






##### 查询测量对象类型(SHOW PMOBJCLASS) 
##### 查询测量对象类型(SHOW PMOBJCLASS) 


命令功能 :

该命令用于查询性能管理测量对象类型的基本信息，包括测量对象类型的标识、名称、描述。 




注意事项 :

如果输入参数不填，默认查询所有测量对象类型信息。 




输入参数说明 :

标识|名称|类型|说明
---|---|---|---
ID|测量对象类型标识|参数可选性:任意单选参数；参数类型:整数；参数范围为:0~4294967294。|该参数表示测量类型对应的测量对象类型标识。系统中一个测量对象类型可同时对应多个测量类型。
NAME|测量对象类型名称|参数可选性:任意单选参数；参数类型:字符型；参数范围为:0~255个字符。|该参数表示测测量对象类型的名称。






输出参数说明 :

标识|名称|类型|说明
---|---|---|---
ID|测量对象类型标识|参数可选性:任选参数；参数类型:整数；参数范围为:0~4294967294。|该参数表示测量类型对应的测量对象类型标识。系统中一个测量对象类型可同时对应多个测量类型。
NAME|测量对象类型名称|参数可选性:任选参数；参数类型:字符型；参数范围为:0~255个字符。|该参数表示测测量对象类型的名称。
DESC|测量对象类型描述|参数可选性:任选参数；参数类型:字符型；参数范围为:0~255个字符。|该参数表示测测量对象类型的描述信息。
DEFINEOBJWAY|测量类型定义对象方式|参数可选性:任选参数；参数类型:枚举。参见枚举定义。|该参数表示测量类型定义的对象方式，包括：0：无对象1：有对象






命令举例 :

查询测量对象类型标识为61101的测量对象类型的基本信息。 


SHOW PMOBJCLASS:ID="61101 


`

(No.1) : SHOW PMOBJCLASS:ID="61101"
-----------------DEV_SMF_JXM_95----------------
测量对象类型标识 测量对象类型名称 测量对象类型描述 测量类型定义对象方式 
----------------------------------------------------------------
61101     HTTP流程测量    HTTP流程测量    有测量对象           
----------------------------------------------------------------
记录数：1
` 






##### 查询测量对象(SHOW PMOBJECT) 
##### 查询测量对象(SHOW PMOBJECT) 


命令功能 :

该命令用于查询性能管理某一类测量对象类型包含的所有对象信息，包括测量对象的标识、名称、描述以及归属的测量对象类型的标识、名称以及服务名称。 




注意事项 :
无


输入参数说明 :

标识|名称|类型|说明
---|---|---|---
CLASSID|测量对象类型标识|参数可选性:必须单选参数；参数类型:整数；参数范围为:0~4294967294。|该参数表示测量类型对应的测量对象类型标识。系统中一个测量对象类型可同时对应多个测量类型。
CLASSNAME|测量对象类型名称|参数可选性:必须单选参数；参数类型:字符型；参数范围为:0~255个字符。|该参数表示测测量对象类型的名称。






输出参数说明 :

标识|名称|类型|说明
---|---|---|---
ID|测量对象标识|参数可选性:任选参数；参数类型:字符型；参数范围为:0~255个字符。|该参数表示测量对象的标识。
NAME|测量对象名称|参数可选性:任选参数；参数类型:字符型；参数范围为:0~255个字符。|该参数表示测量对象的名称。
VALUE|测量对象值|参数可选性:任选参数；参数类型:字符型；参数范围为:0~255个字符。|该参数表示测量对象值。
DESC|测量对象描述|参数可选性:任选参数；参数类型:字符型；参数范围为:0~255个字符。|该参数表示测量对象的描述信息。
CLASSID|测量对象类型标识|参数可选性:任选参数；参数类型:整数；参数范围为:1~4294967294。|该参数表示测量类型对应的测量对象类型标识。系统中一个测量对象类型可同时对应多个测量类型。
SERVICENAME|服务名称|参数可选性:任选参数；参数类型:字符型；参数范围为:0~255个字符。|该参数表示测量类型对应的NFS服务名称。






命令举例 :

查询测量对象类型标识为61101的所有对象信息。 


SHOW PMOBJECT:CLASSID=61101 


`

(No.1) : SHOW PMOBJECT:CLASSID=61101
-----------------DEV_SMF_JXM_95----------------------------------------------------
测量对象标识 测量对象名称 测量对象值   测量对象描述 测量对象类型标识 服务名称          
-----------------------------------------------------------------------------------
11           TTP VERSION  1.1          HTTP流程测量 61101            CommonS_HTTP_LB_0 
20           HTTP VERSION 2            HTTP流程测量 61101            CommonS_HTTP_LB_0 
-----------------------------------------------------------------------------------
记录数：2
` 






##### 查询计数器(SHOW PMCOUNTER) 
##### 查询计数器(SHOW PMCOUNTER) 


命令功能 :

该命令用于根据测量类型标识或名称来查询某一类测量类型包含的所有计数器信息，或者根据计数器的标识或名称来查询计数器的基本信息。 




注意事项 :
无


输入参数说明 :

标识|名称|类型|说明
---|---|---|---
ID|计数器标识|参数可选性:必须单选参数；参数类型:整数；参数范围为:0~4294967294。|该参数表示系统预定义的计数器标识，由9位数字组成。
NAME|计数器名称|参数可选性:必须单选参数；参数类型:字符型；参数范围为:0~255个字符。|该参数表示系统预定义的计数器的名称。
TYPEID|测量类型标识|参数可选性:必须单选参数；参数类型:整数；参数范围为:1~4294967294。|该参数表示系统预定义的全局唯一的测量类型的标识，由5位数字组成。
TYPENAME|测量类型名称|参数可选性:必须单选参数；参数类型:字符型；参数范围为:0~255个字符。|该参数表示系统预定义的测量类型的名称。






输出参数说明 :

标识|名称|类型|说明
---|---|---|---
ID|计数器标识|参数可选性:任选参数；参数类型:整数；参数范围为:0~4294967294。|该参数表示系统预定义的计数器标识，由9位数字组成。
NAME|计数器名称|参数可选性:任选参数；参数类型:字符型；参数范围为:0~255个字符。|该参数表示系统预定义的计数器的名称。
DESC|计数器描述|参数可选性:任选参数；参数类型:字符型；参数范围为:0~255个字符。|该参数表示计数器的描述信息。






命令举例 :

查询id为556010001的计数器基本信息。 


SHOW PMCOUNTER:ID="556010001" 


`

(No.1) : SHOW PMCOUNTER:ID="556010001"
-----------------DEV_SMF_JXM_95----------------
计数器标识  计数器名称       计数器描述       
---------------------------------------------
556010001   发送的HTTP请求数 发送的HTTP请求数 
---------------------------------------------
记录数：1
` 






##### 测量任务管理 
##### 测量任务管理 


背景知识 :

在网管系统中通过测量任务进行性能数据的收集和记录，这类任务的管理称之为测量任务管理。 






功能描述 :

测量任务管理包括针对测量任务的增删改查、挂起和激活任务的操作。 










###### 创建测量任务(ADD PMJOB) 
###### 创建测量任务(ADD PMJOB) 


命令功能 :

该命令用于创建测量任务包括系统预定义的测量任务。当需要统计某测量类型的性能数据时，执行该命令。
 




注意事项 :
无


输入参数说明 :

标识|名称|类型|说明
---|---|---|---
NAME|任务名称|参数可选性:必选参数；参数类型:字符型；参数范围为:1~255个字符。|该参数表示测量任务的名称。
PMTYPE|测量类型标识|参数可选性:必选参数；参数类型:整数；参数范围为:1~4294967294。|该参数表示测量任务的测量类型标识。
SERVICENAME|服务名称|参数可选性:必选参数；参数类型:字符型；参数范围为:1~255个字符。|该参数表示测量任务的服务名称。
OBJECTLIST|测量对象标识|参数可选性:任选参数；参数类型:字符型；参数范围为:0~256个字符。|该参数表示测量任务的测量对象标识。
MEASUREGR|任务粒度|参数可选性:任选参数；参数类型:枚举。参见枚举定义。默认值:HOUR。|该参数表示测量任务的采集粒度，包括：5分钟、15分钟、30分钟、1小时、1天。
BEGINTIME|开始时间|参数可选性:任选参数；参数类型:日期|该参数表示测量任务的开始时间。开始时间必须早于结束时间。
ENDTIME|结束时间|参数可选性:任选参数；参数类型:日期|该参数表示测量任务的结束时间。结束时间必须迟于开始时间。
STATUS|任务状态|参数可选性:任选参数；参数类型:枚举。参见枚举定义。默认值:TASKSTATUS_ACTIVE。|该参数表示测量任务的状态，包括：激活、挂起。






输出参数说明 :

标识|名称|类型|说明
---|---|---|---
JOBID|任务标识|参数可选性:必选参数；参数类型:整数；参数范围为:1025~65535。|该参数表示测量任务的标识。






命令举例 :

创建测量任务，任务名称为55700ndftest，任务类型为55700，服务名为CommonS_TMSP_0，测量粒度为FIVE_MINUTE，任务状态为激活。 


ADD PMJOB:NAME="55700ndftest",PMTYPE=55700,SERVICENAME="CommonS_TMSP_0",MEASUREGR="FIVE_MINUTE",STATUS="TASKSTATUS_ACTIVE" 






###### 修改测量任务(SET PMJOB) 
###### 修改测量任务(SET PMJOB) 


命令功能 :

该命令用于修改测量任务，根据任务标识找到对应任务，可对其的任务名称、测量对象名称、任务粒度、开始时间和结束时间进行修改。 




注意事项 :
任务标识不可修改。


输入参数说明 :

标识|名称|类型|说明
---|---|---|---
JOBID|任务标识|参数可选性:必选参数；参数类型:整数；参数范围为:1025~65535。|该参数表示测量任务的标识。
NAME|任务名称|参数可选性:任选参数；参数类型:字符型；参数范围为:1~255个字符。|该参数表示测量任务的名称。
OBJECTLIST|测量对象标识|参数可选性:任选参数；参数类型:字符型；参数范围为:0~256个字符。|该参数表示测量任务的测量对象标识。
MEASUREGR|任务粒度|参数可选性:任选参数；参数类型:枚举。参见枚举定义。|该参数表示测量任务的采集粒度，包括：5分钟、15分钟、30分钟、1小时、1天。
BEGINTIME|开始时间|参数可选性:任选参数；参数类型:日期|该参数表示测量任务的开始时间。开始时间必须早于结束时间。
ENDTIME|结束时间|参数可选性:任选参数；参数类型:日期|该参数表示测量任务的结束时间。结束时间必须迟于开始时间。






输出参数说明 :



命令举例 :

修改编号为1026的测量任务的测量粒度为FIFTEEN_MINUTE。 


SET PMJOB:JOBID=1026,MEASUREGR="FIFTEEN_MINUTE" 






###### 删除测量任务(DEL PMJOB) 
###### 删除测量任务(DEL PMJOB) 


命令功能 :

该命令用于删除一个测量任务。 




注意事项 :
任务标识和任务名称只能输入且必须输入一个参数。


输入参数说明 :

标识|名称|类型|说明
---|---|---|---
JOBID|任务标识|参数可选性:必须单选参数；参数类型:整数；参数范围为:1025~65535。|该参数表示测量任务的标识。
NAME|任务名称|参数可选性:必须单选参数；参数类型:字符型；参数范围为:1~255个字符。|该参数表示测量任务的名称。






输出参数说明 :



命令举例 :

删除编号为1026的测量任务。 


DEL PMJOB:JOBID=1026 






###### 查询测量任务(SHOW PMJOB) 
###### 查询测量任务(SHOW PMJOB) 


命令功能 :

该命令用于查询测量任务，可以查询任务标识、任务名称、测量类型标识、创建者、修改者等信息。 




注意事项 :
无


输入参数说明 :

标识|名称|类型|说明
---|---|---|---
JOBID|任务标识|参数可选性:任意单选参数；参数类型:整数；参数范围为:1025~65535。|该参数表示测量任务的标识。
NAME|任务名称|参数可选性:任意单选参数；参数类型:字符型；参数范围为:1~255个字符。|该参数表示测量任务的名称。
TYPEID|测量类型标识|参数可选性:任意单选参数；参数类型:整数；参数范围为:1~4294967294。|该参数表示测量任务的测量类型标识。
CREATOR|创建者|参数可选性:任意单选参数；参数类型:字符型；参数范围为:1~255个字符。|该参数表示测量任务的创建者。
MODIFIER|修改者|参数可选性:任意单选参数；参数类型:字符型；参数范围为:1~255个字符。|该参数表示测量任务的修改者。
SERVICENAME|服务名称|参数可选性:任意单选参数；参数类型:字符型；参数范围为:1~255个字符。|该参数表示测量任务的服务名称。






输出参数说明 :

标识|名称|类型|说明
---|---|---|---
JOBID|任务标识|参数可选性:任选参数；参数类型:整数。|该参数表示测量任务的标识。
NAME|任务名称|参数可选性:任选参数；参数类型:字符型。|该参数表示测量任务的名称。
DESC|任务描述|参数可选性:任选参数；参数类型:字符型。|该参数表示测量任务的描述信息。
TYPEID|测量类型标识|参数可选性:任选参数；参数类型:整数。|该参数表示测量任务的测量类型标识。
TYPENAME|测量类型名称|参数可选性:任选参数；参数类型:字符型。|该参数表示测量任务的测量类型名称。
SERVICENAME|服务名称|参数可选性:任选参数；参数类型:字符型。|该参数表示测量任务的服务名称。
GRANULARITY|任务粒度|参数可选性:任选参数；参数类型:枚举。参见枚举定义。|该参数表示测量任务的采集粒度，包括：5分钟、15分钟、30分钟、1小时、1天。
STARTDATE|开始日期|参数可选性:任选参数；参数类型:日期|该参数表示测量任务的开始日期。开始日期必须早于结束日期。
ENDDATE|结束日期|参数可选性:任选参数；参数类型:日期|该参数表示测量任务的结束日期。结束日期必须迟于开始日期。
STATUS|任务状态|参数可选性:任选参数；参数类型:枚举。参见枚举定义。|该参数表示测量任务的状态，包括：激活、挂起。
SOURCE|任务来源|参数可选性:任选参数；参数类型:枚举。参见枚举定义。|该参数表示测量任务的来源。
CREATOR|创建者|参数可选性:任选参数；参数类型:字符型。|该参数表示测量任务的创建者。
CREATETIME|创建时间|参数可选性:任选参数；参数类型:字符型。|该参数表示测量任务的创建时间。
MODIFIER|修改者|参数可选性:任选参数；参数类型:字符型。|该参数表示测量任务的修改者。
MODIFYTIME|修改时间|参数可选性:任选参数；参数类型:字符型。|该参数表示测量任务的修改时间。
OBJECTMODE|对象关联方式|参数可选性:任选参数；参数类型:枚举。参见枚举定义。|该参数表示测量任务对象关联方式。






命令举例 :

查询所有的测量任务。 


SHOW PMJOB; 


`
              
(No.1) : SHOW PMJOB:
-----------------DEV_SMF_JXM_95----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
操作维护       任务标识 任务名称 任务描述 测量类型标识 测量类型名称           服务名称         任务粒度 开始日期            结束日期           任务状态 任务来源 创建者  创建时间           修改者 修改时间            对象关联方式 
-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
复制 修改 删除 1025     1111     1111     55700        虚拟机基本测量         CommonS_TMSP_0    5分钟   2021-08-21 11:03:01 2041-08-21 11:03:01 激活     直连接口 admin  2021-08-21 11:03:01                            全对象       
复制 修改 删除 1026     123      123      55601        HTTP客户端流程消息测量 CommonS_HTTP_LB_0 1小时   2021-08-23 10:00:34 2041-08-23 10:00:34 激活     直连接口 admin  2021-08-23 10:00:34 admin  2021-08-23 10:03:07 全对象       
-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
记录数：2
` 






###### 挂起测量任务(SUSPEND PMJOB) 
###### 挂起测量任务(SUSPEND PMJOB) 


命令功能 :

该命令用于挂起测量任务。当需要将激活的测量任务挂起时，执行该命令。 




注意事项 :
任务标识和任务名称只能输入且必须输入一个参数


输入参数说明 :

标识|名称|类型|说明
---|---|---|---
JOBID|任务标识|参数可选性:必须单选参数；参数类型:整数；参数范围为:1025~65535。|该参数表示测量任务的标识。
NAME|任务名称|参数可选性:必须单选参数；参数类型:字符型；参数范围为:1~255个字符。|该参数表示测量任务的名称。






输出参数说明 :

标识|名称|类型|说明
---|---|---|---
STATUS|测量任务状态|参数可选性:必选参数；参数类型:枚举。参见枚举定义。|该参数表示测量任务当前的状态。






命令举例 :

挂起编号为1026的测量任务。 


SUSPEND PMJOB:JOBID=1026 






###### 激活测量任务(ACTIVE PMJOB) 
###### 激活测量任务(ACTIVE PMJOB) 


命令功能 :

该命令用于激活测量任务。当需要将挂起的测量任务重新激活时，执行该命令。 




注意事项 :
任务标识和任务名称只能输入且必须输入一个参数


输入参数说明 :

标识|名称|类型|说明
---|---|---|---
JOBID|任务标识|参数可选性:必须单选参数；参数类型:整数；参数范围为:1025~65535。|该参数表示测量任务的标识。
NAME|任务名称|参数可选性:必须单选参数；参数类型:字符型；参数范围为:1~255个字符。|该参数表示测量任务的名称。






输出参数说明 :

标识|名称|类型|说明
---|---|---|---
STATUS|测量任务状态|参数可选性:任选参数；参数类型:枚举。参见枚举定义。|该参数表示测量任务的状态。






命令举例 :

激活编号为1026的测量任务。 


ACTIVE PMJOB:JOBID=1026 






#### SNMP管理 
#### SNMP管理 


背景知识 :

简单网络管理协议（SNMP） 是专门设计用于在 IP 网络管理网络节点（服务器、工作站、路由器、交换机及HUBS等）的一种标准协议，它是一种应用层协议。 




功能描述 :

本模块的主要功能是提供相关命令，用于管理（查询、配置等）OAM SNMP服务的配置参数，如服务启动开关、V3协议安全参数等，使得用户可以根据实际需要自由的对系统提供的SNMP服务进行控制。 








##### 查询SNMP参数(SHOW SNMPPARA) 
##### 查询SNMP参数(SHOW SNMPPARA) 


命令功能 :
查询SNMP服务器参数


注意事项 :
无。


输出参数说明 :

标识|名称|类型|说明
---|---|---|---
STATUS|SNMP服务开关状态|参数可选性:必选参数；参数类型:枚举。参见枚举定义。|SNMP服务开关状态
USERNAME|用户名|参数可选性:必选参数；参数类型:字符型。|用户名
AUTHTYPE|认证协议|参数可选性:必选参数；参数类型:枚举。参见枚举定义。|认证协议
PRIVTYPE|加密协议|参数可选性:必选参数；参数类型:枚举。参见枚举定义。|加密协议






命令举例 :
SHOW SNMPPARA


##### 设置SNMP参数(SET SNMPPARA) 
##### 设置SNMP参数(SET SNMPPARA) 


命令功能 :
设置SNMP参数


注意事项 :
无。


参数说明 :

标识|名称|类型|说明
---|---|---|---
STATUS|SNMP服务开关状态|参数可选性:任选参数；参数类型:枚举。参见枚举定义。|SNMP服务开关状态
AUTHTYPE|认证协议|参数可选性:任选参数；参数类型:枚举。参见枚举定义。|认证协议
AUTHKEY|认证秘钥|参数可选性:任选参数；参数类型:字符型；参数范围为:0~32个字符。|认证秘钥
PRIVTYPE|加密协议|参数可选性:任选参数；参数类型:枚举。参见枚举定义。|加密协议
PRIVKEY|加密秘钥|参数可选性:任选参数；参数类型:字符型；参数范围为:0~32个字符。|加密秘钥






命令举例 :
SET SNMPPARA:STATUS=ON


### HTTPS管理 
### HTTPS管理 


功能描述 :

OAM作为客户端和服务端，均支持双向认证的证书管理和token管理。 










#### VNFM HTTPS管理 
#### VNFM HTTPS管理 


背景知识 :

双向认证：就是客户端要校验服务端的合法性，同时服务端也要校验客户端的合法性。通信时，双方都要准备好对方信任的证书。 


单向认证：仅客户端需要校验服务端的合法性，服务端不需要验证客户端的合法性。通信时，服务端需要准备好客户端信任的证书。 


当前，一些场景下（如网元心跳上报、服务注册），OAM作为客户端访问VNFM服务端时，双方在通信时使用的是基于HTTPS的双向认证方式。此外，除了协议层的双向认证要求，在应用层也进行了基于token的访问控制，OAM作为客户端访问VNFM服务端时，需要使用经过VNFM授权的用户先向VNFM申请访问token，只有携带了合法token的客户端请求才会被VNFM服务端处理。 






功能描述 :

本功能用于管理OAM与VNFM之间基于HTTPS服务的双向认证的相关信息，如OAM作为客户端时使用的证书、token用户等，包括： 



 
提供一组命令用于管理OAM作为客户端访问VNFM时使用的客户端证书。
 

 
提供一组命令用于管理OAM向VNFM申请token时使用的用户信息。
 

 










##### 导入VNFM HTTPS证书(IMPORT MHS CERT) 
##### 导入VNFM HTTPS证书(IMPORT MHS CERT) 


命令功能 :
该命令用于导入OAM作为HTTPS通信的客户端访问VNFM时所使用的客户端证书。当VNFM的服务端证书发生变化时，需要使用该命令将与服务端证书配套的客户端证书导入OAM。命令执行成功后，OAM在下次访问VNFM时会使用导入的新证书进行HTTPS建链。


注意事项 :

命令执行前需要提前将相关证书文件上传到SFTP服务器上，且文件需要具有可读权限。 




输入参数说明 :

标识|名称|类型|说明
---|---|---|---
caCertPath|VNFM的CA根证书文件的SFTP路径|参数可选性:必选参数；参数类型:字符型；参数范围为:1~256个字符。|该参数用于表示所要导入的客户端根证书文件的完整SFTP路径。参数格式为：协议类型://ip:port/文件路径，如sftp://10.228.158.93:29029/Oamdata/vnfm.cli.org.ca.crt
caCertUser|VNFM的CA根证书文件的SFTP用户名|参数可选性:必选参数；参数类型:字符型；参数范围为:1~128个字符。|该参数用于表示下载caCertPath中指定文件所用的SFTP用户名。
caCertPwd|VNFM的CA根证书文件的SFTP密码|参数可选性:必选参数；参数类型:字符型；参数范围为:1~128个字符。|该参数用于表示下载caCertPath中指定文件所用的SFTP用户密码。
cltCertPath|VNFM的客户端证书文件的SFTP路径|参数可选性:必选参数；参数类型:字符型；参数范围为:1~256个字符。|该参数用于表示所要导入的客户端证书文件的完整SFTP路径。参数格式同caCertPath
cltCertUser|VNFM的客户端证书文件的SFTP用户名|参数可选性:必选参数；参数类型:字符型；参数范围为:1~128个字符。|该参数用于表示下载cltCertPath中指定文件所用的SFTP用户名。
cltCertPwd|VNFM的客户端证书文件的SFTP密码|参数可选性:必选参数；参数类型:字符型；参数范围为:1~128个字符。|该参数用于表示下载cltCertPath中指定文件所用的SFTP用户密码。
clientKeyPath|VNFM的客户端证书密钥文件的SFTP路径|参数可选性:必选参数；参数类型:字符型；参数范围为:1~256个字符。|该参数用于表示所要导入的客户端证书密钥文件的完整SFTP路径。参数格式同caCertPath
clientKeyUser|VNFM的客户端证书密钥文件的SFTP用户名|参数可选性:必选参数；参数类型:字符型；参数范围为:1~128个字符。|该参数用于表示下载clientKeyPath中指定文件所用的SFTP用户名。
clientKeyPwd|VNFM的客户端证书密钥文件的SFTP密码|参数可选性:必选参数；参数类型:字符型；参数范围为:1~128个字符。|该参数用于表示下载clientKeyPath中指定文件所用的SFTP用户密码。






输出参数说明 :



命令举例 :

导入新的VNFM客户端证书文件，VNFM的CA根证书文件的SFTP路径为sftp://10.228.158.93:29029/Oamdata/vnfm.cli.org.ca.crt，VNFM的CA根证书文件的SFTP用户名为cn-5g-inner-oper，VNFM的CA根证书文件的SFTP密码为***，VNFM的客户端证书文件的SFTP路径为sftp://10.228.158.93:29029/Oamdata/vnfm.cli.org.crt，VNFM的客户端证书文件的SFTP用户名为cn-5g-inner-oper，VNFM的客户端证书密钥文件的SFTP密码为***，VNFM的客户端证书密钥文件的SFTP用户名为cn-5g-inner-oper，VNFM的客户端证书密钥文件的SFTP密码为***，VNFM的客户端证书密钥文件的SFTP路径为sftp://10.228.158.93:29029/Oamdata/vnfm.cli.org.key。 


IMPORT MHS CERT:caCertPath="sftp://10.228.158.93:29029/Oamdata/vnfm.cli.org.ca.crt",caCertUser="cn-5g-inner-oper",caCertPwd="***",cltCertPath="sftp://10.228.158.93:29029/Oamdata/vnfm.cli.org.crt",cltCertUser="cn-5g-inner-oper",cltCertPwd="***",clientKeyUser="cn-5g-inner-oper",clientKeyPwd="***",clientKeyPath="sftp://10.228.158.93:29029/Oamdata/vnfm.cli.org.key" 






##### 设置VNFM HTTPS token用户(SET MHS TOKENUSER) 
##### 设置VNFM HTTPS token用户(SET MHS TOKENUSER) 


命令功能 :
该命令用于设置OAM作为HTTPS通信的客户端访问VNFM时向VNFM申请token所使用的用户信息。当VNFM服务端的token用户信息发生变化时，需要使用该命令更新OAM侧存储的token用户信息。命令执行成功后，OAM在下次访问VNFM时会使用设置的用户名和密码向VNFM申请token。


注意事项 :

该命令没有用户的合法性校验机制，设置时需要确保用户信息与VNFM服务端所使用的token用户信息一致，请勿在服务端的token用户未发生变化时随意设置。 




输入参数说明 :

标识|名称|类型|说明
---|---|---|---
NAME|token使用的用户名|参数可选性:必选参数；参数类型:字符型；参数范围为:1~64个字符。|该参数用于表示OAM向VNFM申请token所用的用户名。
PASSWORD|token使用的用户密码|参数可选性:必选参数；参数类型:字符型；参数范围为:1~64个字符。|该参数用于表示OAM向VNFM申请token所用的用户密码。
CONFIRMPASSWORD|token使用用户的确认密码|参数可选性:必选参数；参数类型:字符型；参数范围为:1~64个字符。|该参数用于表示OAM向VNFM申请token所用的用户密码确认。用户确认密码必须与用户密码一致。






输出参数说明 :



命令举例 :

设置OAM向VNFM申请token使用的用户为admin。 


SET MHS TOKENUSER:NAME="admin",PASSWORD="***",CONFIRMPASSWORD="***" 






##### 查询VNFM HTTPS参数(SHOW MHS PARA) 
##### 查询VNFM HTTPS参数(SHOW MHS PARA) 


命令功能 :

该命令用于查询VNFM服务端的HTTPS信息，如token用户、主机地址等。 


token用户就是OAM作为客户端访问VNFM时向VNFM申请token使用的用户。 


主机地址就是VNFM当前的主服务器地址，只有在VNFM发生主备倒换后才会输出，若VNFM在本网元实例化后一直未发生倒换，该信息不会输出。 




注意事项 :
无


输入参数说明 :



输出参数说明 :

标识|名称|类型|说明
---|---|---|---
tokenUser|token使用的用户名|参数可选性:任选参数；参数类型:字符型。|该参数用于表示OAM向VNFM申请token所用的用户名。
vnfmip|VNFM IP地址|参数可选性:任选参数；参数类型:字符型。|该参数用于表示当前VNFM服务器的IP地址。






命令举例 :

查询VNFM当前的HTTPS信息。 


SHOW MHS PARA 


`

(No.2) : SHOW MHS PARA
-----------------ST_OAM_UMAC_118----------------
token使用的用户名  VNFM IP地址     
-------------------------------------
admin              10.228.157.200  
-------------------------------------
记录数：  1
` 






#### OAM HTTPS管理 
#### OAM HTTPS管理 


背景知识 :

双向认证：就是客户端要校验服务端的合法性，同时服务端也要校验客户端的合法性。通信时，双方都要准备好对方信任的证书。 


单向认证：仅客户端需要校验服务端的合法性，服务端不需要验证客户端的合法性。通信时，服务端需要准备好客户端信任的证书。 


OAM作为服务端对外既提供了单向认证的HTTPS服务，也提供了双向认证的HTTPS服务。第三方客户端可以根据实际需要使用单向认证或者双向认证方式访问OAM，比如VNFM作为客户端访问OAM时使用的是双向认证，OAM作为客户端访问OAM时既支持单向认证也支持双向认证。此外，除了协议层的认证要求，在应用层也进行了基于token的访问控制，外部客户端访问OAM服务端时，需要使用经过OAM授权的用户先向OAM申请访问token，只有携带了合法token的客户端请求才会被OAM服务端处理。 






功能描述 :

本功能用于管理OAM提供的HTTPS服务相关信息，如OAM服务端证书、token用户等，包括： 



 
提供一组命令用于管理OAM作为服务端时使用的证书文件。
 

 
提供一组命令用于管理外部客户端访问OAM时向OAM申请token使用的用户信息。
 

 










##### 导入OAM HTTPS证书(IMPORT OAM CERT) 
##### 导入OAM HTTPS证书(IMPORT OAM CERT) 


命令功能 :
该命令用于导入OAM HTTPS单向认证和双向认证服务器使用的服务端证书。当OAM服务器当前使用服务端证书过期或者不符合运营商要求时，需要使用该命令导入新的OAM服务端证书。命令执行成功后，OAM会使用新的证书进行HTTPS认证。


注意事项 :

重新导入证书会影响到HTTPS客户端的访问，请确保在导入过程中没有HTTP客户端的访问。 


命令执行前需要提前将相关证书文件上传到SFTP服务器上，且文件权限需要为640。 


640指文件所有者需要对该文件拥有读与写的权限，与文件所有者同组的用户需要拥有读的权限，而其他用户没有任何权限。 




输入参数说明 :

标识|名称|类型|说明
---|---|---|---
caCertPath|OAM的CA根证书文件的SFTP路径|参数可选性:必选参数；参数类型:字符型；参数范围为:1~256个字符。|该参数用于表示所要导入的OAM服务端根证书文件的完整SFTP路径。参数格式为：协议类型://ip:port/文件路径，如sftp://10.228.158.93:29029/Oamdata/ca.crt
caCertUser|OAM的CA根证书文件的SFTP用户名|参数可选性:必选参数；参数类型:字符型；参数范围为:1~128个字符。|该参数用于表示下载caCertPath中指定文件所用的SFTP用户名。
caCertPwd|OAM的CA根证书文件的SFTP密码|参数可选性:必选参数；参数类型:字符型；参数范围为:1~128个字符。|该参数用于表示下载caCertPath中指定文件所用的SFTP用户密码。
svrCertPath|OAM的服务端证书文件的SFTP路径|参数可选性:必选参数；参数类型:字符型；参数范围为:1~256个字符。|该参数用于表示所要导入的OAM服务端证书文件的完整SFTP路径。参数格式同caCertPath
svrCertUser|OAM的服务端证书文件的SFTP用户名|参数可选性:必选参数；参数类型:字符型；参数范围为:1~128个字符。|该参数用于表示下载svrCertPath中指定文件所用的SFTP用户名。
svrCertPwd|OAM的服务端证书文件的SFTP密码|参数可选性:必选参数；参数类型:字符型；参数范围为:1~128个字符。|该参数用于表示下载svrCertPath中指定文件所用的SFTP用户密码。
svrKeyPath|OAM的服务端密钥文件的SFTP路径|参数可选性:必选参数；参数类型:字符型；参数范围为:1~256个字符。|该参数用于表示所要导入的OAM服务端证书密钥文件的完整SFTP路径。参数格式同caCertPath
svrKeyUser|OAM的服务端密钥文件的SFTP用户名|参数可选性:必选参数；参数类型:字符型；参数范围为:1~128个字符。|该参数用于表示下载svrKeyPath中指定文件所用的SFTP用户名。
svrKeyPwd|OAM的服务端密钥文件的SFTP密码|参数可选性:必选参数；参数类型:字符型；参数范围为:1~128个字符。|该参数用于表示下载svrKeyPath中指定文件所用的SFTP用户密码。






输出参数说明 :



命令举例 :

导入新的OAM服务端证书文件，OAM的CA根证书文件的SFTP路径为sftp://10.228.158.93:29029/Oamdata/ca.crt，OAM的CA根证书文件的SFTP用户名为cn-5g-inner-oper，OAM的CA根证书文件的SFTP密码为***，OAM的服务端证书文件的SFTP路径为sftp://10.228.158.93:29029/Oamdata/oam.srv.crt，OAM的服务端证书文件的SFTP用户名为cn-5g-inner-oper，OAM的服务端证书密钥文件的SFTP密码为***，OAM的服务端证书密钥文件的SFTP用户名为cn-5g-inner-oper，OAM的服务端证书密钥文件的SFTP密码为***，OAM的服务端证书密钥文件的SFTP路径为sftp://10.228.158.93:29029/Oamdata/oam.srv.key。 


IMPORT OAM CERT:caCertPath="sftp://10.228.158.93:29029/Oamdata/ca.crt",caCertUser="cn-5g-inner-oper",caCertPwd="***",svrCertPath="sftp://10.228.158.93:29029/Oamdata/oam.srv.crt",svrCertUser="cn-5g-inner-oper",svrCertPwd="***",svrKeyUser="cn-5g-inner-oper",svrKeyPwd="***",svrKeyPath="sftp://10.228.158.93:29029/Oamdata/oam.srv.key" 






##### 设置OAM HTTPS token用户(SET OAM TOKENUSER) 
##### 设置OAM HTTPS token用户(SET OAM TOKENUSER) 


命令功能 :
该命令用于设置外部客户端访问OAM服务端时向OAM申请token所使用的用户信息。当需要对OAM服务端token用户进行变更时，可以使用该命令进行设置。命令执行成功后，下次外部客户端向OAM申请token时，OAM会使用设置的用户名和密码对客户端进行合法性校验。


注意事项 :

修改token配置会影响到HTTPS客户端的访问，请保证HTTPS客户端同步修改。 


使用该命令修改了服务端token用户信息后，如果客户端请求中携带的用户信息未更新，则请求会被拒绝，请根据实际场景需要更新客户端中的相关信息。 




输入参数说明 :

标识|名称|类型|说明
---|---|---|---
NAME|token使用的用户名|参数可选性:必选参数；参数类型:字符型；参数范围为:1~64个字符。|该参数用于表示OAM服务端的token申请用户名。
OLDPASSWORD|token使用的用户密码|参数可选性:必选参数；参数类型:字符型；参数范围为:1~64个字符。|token使用的用户密码
PASSWORD|token使用的用户新密码|参数可选性:必选参数；参数类型:字符型；参数范围为:1~64个字符。|该参数用于表示OAM服务端的token申请用户密码。
CONFIRMPASSWORD|token使用的用户新密码确认|参数可选性:必选参数；参数类型:字符型；参数范围为:1~64个字符。|该参数用于表示OAM服务端的token申请密码确认。用户确认密码必须与用户密码一致。






输出参数说明 :



命令举例 :

设置OAM服务端token用户为admin。 


SET OAM TOKENUSER:NAME="admin",PASSWORD="***",CONFIRMPASSWORD="***" 






##### 查询OAM HTTPS参数(SHOW OAM HSPARA) 
##### 查询OAM HTTPS参数(SHOW OAM HSPARA) 


命令功能 :

该命令用于查询OAM服务端的HTTPS信息，如token用户等。 


token用户是外部客户端向OAM申请访问token时使用的用户。 




注意事项 :
无


输入参数说明 :



输出参数说明 :

标识|名称|类型|说明
---|---|---|---
tokenUser|token使用的用户名|参数可选性:任选参数；参数类型:字符型。|该参数用于表示OAM服务端的token申请用户名。






命令举例 :

查询OAM服务端当前的HTTPS信息。 


SHOW OAM HSPARA 


`

(No.3) : SHOW OAM HSPARA
-----------------ST_OAM_UMAC_118----------------
token使用的用户名  
---------------------
token_user         
---------------------
记录数：  1
` 






##### 查询当前证书日期(SHOW CERTFILE DATE) 
##### 查询当前证书日期(SHOW CERTFILE DATE) 


命令功能 :

该命令用于查询证书有效期只提供查询OAM服务端证书有效期 


OAM导入的EM和VNFM客户端证书的有效期不提供查询功能。 




注意事项 :
无


输入参数说明 :



输出参数说明 :

标识|名称|类型|说明
---|---|---|---
BEGINTIME|证书生效时间|参数可选性:任选参数；参数类型:字符型。|证书生效时间
ENDTIME|证书失效时间|参数可选性:任选参数；参数类型:字符型。|证书失效时间






命令举例 :

查询当前证书日期。 


SHOW CERTFILE DATE 


`

(No.3) :SHOW CERTFILE DATE
-----------------NRF226----------------
证书生效时间        证书失效时间        
----------------------------------------
2022-03-09 00:00:00 2032-03-13 06:15:10 
----------------------------------------
记录数：1
` 






#### EM HTTPS管理 
#### EM HTTPS管理 


背景知识 :

双向认证：就是客户端要校验服务端的合法性，同时服务端也要校验客户端的合法性。通信时，双方都要准备好对方信任的证书。 


单向认证：仅客户端需要校验服务端的合法性，服务端不需要验证客户端的合法性。通信时，服务端需要准备好客户端信任的证书。 


EM使用双向认证接入OAM后，OAM作为客户端访问EM服务端时也同样使用双向认证方式。此外，除了协议层的双向认证要求，在应用层也进行了基于token的访问控制。OAM作为客户端访问EM服务端时，需要使用经过EM服务端授权的用户先向EM服务端申请访问token，只有携带了合法token的客户端请求才会被EM服务端处理。 






功能描述 :

本功能用于管理OAM与EM之间基于HTTPS服务的双向认证的相关信息，如EM客户端证书、token用户等，包括： 



 
提供一组命令用于管理OAM作为客户端访问EM时使用的客户端证书。
 

 
提供一组命令用于管理OAM向EM申请token时使用的用户信息。
 

 










##### 导入EM HTTPS证书(IMPORT EM CERT) 
##### 导入EM HTTPS证书(IMPORT EM CERT) 


命令功能 :
该命令用于导入OAM作为HTTPS通信的客户端访问EM时所使用的客户端证书。当EM的服务端证书发生变化时，需要使用该命令将与EM服务端证书配套的客户端证书导入OAM。命令执行成功后，OAM在下次访问EM时会使用导入的新证书进行HTTPS建链。


注意事项 :

命令执行前需要提前将相关证书文件上传到SFTP服务器上，且证书文件需要具有可读权限。 




输入参数说明 :

标识|名称|类型|说明
---|---|---|---
caCertPath|EM的CA根证书文件的SFTP路径|参数可选性:必选参数；参数类型:字符型；参数范围为:1~256个字符。|EM的CA根证书文件的FTP/SFTP路径
caCertUser|EM的CA根证书文件的SFTP用户名|参数可选性:必选参数；参数类型:字符型；参数范围为:1~128个字符。|该参数用于表示下载caCertPath中指定文件所用的SFTP用户名。
caCertPwd|EM的CA根证书文件的SFTP密码|参数可选性:必选参数；参数类型:字符型；参数范围为:1~128个字符。|该参数用于表示下载caCertPath中指定文件所用的SFTP用户密码。
cltCertPath|EM的客户端证书文件的SFTP路径|参数可选性:必选参数；参数类型:字符型；参数范围为:1~256个字符。|该参数用于表示所要导入的EM客户端证书文件的完整SFTP路径。参数格式同caCertPath。
cltCertUser|EM的客户端证书文件的SFTP用户名|参数可选性:必选参数；参数类型:字符型；参数范围为:1~128个字符。|该参数用于表示下载cltCertPath中指定文件所用的SFTP用户名。
cltCertPwd|EM的客户端证书密钥文件的SFTP密码|参数可选性:必选参数；参数类型:字符型；参数范围为:1~128个字符。|该参数用于表示下载cltCertPath中指定文件所用的SFTP用户密码。
clientKeyPath|EM的客户端证书密钥文件的SFTP路径|参数可选性:必选参数；参数类型:字符型；参数范围为:1~256个字符。|该参数用于表示所要导入的EM客户端证书密钥文件的完整SFTP路径。参数格式同caCertPath。
clientKeyUser|EM的客户端证书密钥文件的SFTP用户名|参数可选性:必选参数；参数类型:字符型；参数范围为:1~128个字符。|该参数用于表示下载clientKeyPath中指定文件所用的SFTP用户名。
clientKeyPwd|EM的客户端证书密钥文件的SFTP密码|参数可选性:必选参数；参数类型:字符型；参数范围为:1~128个字符。|该参数用于表示下载clientKeyPath中指定文件所用的SFTP用户密码。






输出参数说明 :



命令举例 :

导入新的EM客户端证书文件，EM的CA根证书文件的SFTP路径为sftp://10.228.158.93:29029/Oamdata/em.cli.org.ca.crt，EM的CA根证书文件的SFTP用户名为cn-5g-inner-oper，EM的CA根证书文件的SFTP密码为***，EM的客户端证书文件的SFTP路径为sftp://10.228.158.93:29029/Oamdata/em.cli.org.crt，EM的客户端证书文件的SFTP用户名为cn-5g-inner-oper，EM的客户端证书密钥文件的SFTP密码为***，EM的客户端证书密钥文件的SFTP用户名为cn-5g-inner-oper，EM的客户端证书密钥文件的SFTP密码为***，EM的客户端证书密钥文件的SFTP路径为sftp://10.228.158.93:29029/Oamdata/em.cli.org.key。 


IMPORT EM CERT:caCertPath="sftp://10.228.158.93:29029/Oamdata/em.cli.org.ca.crt",caCertUser="cn-5g-inner-oper",caCertPwd="***",cltCertPath="sftp://10.228.158.93:29029/Oamdata/em.cli.org.crt",cltCertUser="cn-5g-inner-oper",cltCertPwd="***",clientKeyUser="cn-5g-inner-oper",clientKeyPwd="***",clientKeyPath="sftp://10.228.158.93:29029/Oamdata/em.cli.org.key" 






##### 设置EM HTTPS token用户(SET EM TOKENUSER) 
##### 设置EM HTTPS token用户(SET EM TOKENUSER) 


命令功能 :
该命令用于设置OAM作为HTTPS通信的客户端访问EM时向EM申请token所使用的用户信息。当EM服务端的token用户信息发生变化时，需要使用该命令更新OAM侧存储的token用户信息。命令执行成功后，OAM在下次访问EM时会使用设置的用户名和密码向EM申请token。


注意事项 :

该命令没有用户的合法性校验机制，设置时需要确保用户信息与EM服务端所使用的token用户信息一致，请勿在服务端的token用户未发生变化时随意设置。 




输入参数说明 :

标识|名称|类型|说明
---|---|---|---
NAME|token使用的用户名|参数可选性:必选参数；参数类型:字符型；参数范围为:1~64个字符。|该参数用于表示OAM向EM申请token所用的用户名。
PASSWORD|token使用的用户密码|参数可选性:必选参数；参数类型:字符型；参数范围为:8~64个字符。|该参数用于表示OAM向EM申请token所用的用户密码。
CONFIRMPASSWORD|token使用用户的确认密码|参数可选性:必选参数；参数类型:字符型；参数范围为:8~64个字符。|该参数用于表示OAM向EM申请token所用的用户确认密码。用户确认密码必须与用户密码一致。






输出参数说明 :



命令举例 :

设置OAM向EM申请token使用的用户为admin。 


SET EM TOKENUSER:NAME="admin",PASSWORD="***",CONFIRMPASSWORD="***" 






##### 查询EM HTTPS参数(SHOW EM TOKENUSER) 
##### 查询EM HTTPS参数(SHOW EM TOKENUSER) 


命令功能 :
该命令用于查询OAM作为HTTPS通信的客户端访问EM时向EM申请token所使用的用户信息。


注意事项 :
无


输入参数说明 :



输出参数说明 :

标识|名称|类型|说明
---|---|---|---
NAME|token使用的用户名|参数可选性:任选参数；参数类型:字符型。|该参数用于表示OAM向EM申请token所用的用户名。






命令举例 :

查询OAM向EM申请token使用的用户信息。 


SHOW EM TOKENUSER 


`

(No.3) : SHOW EM TOKENUSER
-----------------ST_OAM_UMAC_118----------------
token使用的用户名     
-------------------
admin              
-------------------
记录数：  1
` 






### 内控管理 
### 内控管理 


背景知识 :

内控管理包括修改内控帐号描述、查询内控帐号、修改帐号密码、修改内控密码策略、查询内控密码策略。 


接口内控管理包括修改接口内控帐号描述、查询接口内控帐号、修改接口帐号密码、修改接口内控密码策略、查询接口内控密码策略。 


内控管理和接口内控管理是互不相干的内控管理系统，各自管理不同的内控帐号。 






功能描述 :

OAM支持内控用户的查询和密码管理。 










#### 设置SFTP用户密码(SET SFTP PASSWORD) 
#### 设置SFTP用户密码(SET SFTP PASSWORD) 


命令功能 :
该命令用于设置SFTP用户的密码。当需要修改SFTP用户的密码时，执行该命令。


注意事项 :
为了系统运行安全，请在第一次登录后立即修改账号默认密码。


输入参数说明 :

标识|名称|类型|说明
---|---|---|---
USERNAME|用户名|参数可选性:必选参数；参数类型:字符型；参数范围为:1~64个字符。|SFTP的用户名。
OLDPASSWORD|用户原密码|参数可选性:必选参数；参数类型:字符型；参数范围为:1~64个字符。|SFTP用户的原密码。
NEWPASSWORD|用户新密码|参数可选性:必选参数；参数类型:字符型；参数范围为:8~64个字符。|SFTP用户的新密码。
CONFIRMPASSWORD|确认密码|参数可选性:必选参数；参数类型:字符型；参数范围为:8~64个字符。|确认密码，该密码必须与用户新密码一致。






输出参数说明 :



命令举例 :

修改用户名为"ems"的SFTP账户的密码，其旧密码为"***"，新密码为"***"，重复确认密码为"***"。 


SET SFTP PASSWORD:USERNAME="ems",OLDPASSWORD="***",NEWPASSWORD="***",CONFIRMPASSWORD="***" 






#### 查询所有SFTP用户(SHOW SFTP USER) 
#### 查询所有SFTP用户(SHOW SFTP USER) 


命令功能 :
该命令用于查询所有的SFTP用户。


注意事项 :
无


输入参数说明 :



输出参数说明 :

标识|名称|类型|说明
---|---|---|---
NAME|用户名|参数可选性:任选参数；参数类型:字符型；参数范围为:1~64个字符。|SFTP的用户名。






命令举例 :

查询所有的SFTP用户。 


SHOW SFTP USER; 


`

(No.2) : SHOW SFTP USER
-----------------XGW150----------------
用户名            
--------------------
ems               
ndf               
cn-5g-inner-oper  
inner-ndf         
rule_import       
--------------------
记录数：  5
执行成功 开始时间：2021-08-21 14:46:17.946耗时：0.776秒` 






#### 修改内控帐号密码(SET ACCOUNTPASSWD) 
#### 修改内控帐号密码(SET ACCOUNTPASSWD) 


命令功能 :
该命令用于修改内控帐号的密码。


注意事项 :
无


输入参数说明 :

标识|名称|类型|说明
---|---|---|---
TYPE|帐号类型|参数可选性:必选参数；参数类型:枚举。参见枚举定义。默认值:ACCOUNT_DB。|内控账号的类型，包括：数据文件帐号（ACCOUNT_DB）文件传输帐号（ACCOUNT_FTP）
ACCOUNT|帐号名称|参数可选性:必选参数；参数类型:字符型；参数范围为:0~255个字符。|内控账号的名称。
OLDPASSWORD|原密码|参数可选性:必选参数；参数类型:字符型；参数范围为:0~255个字符。|内控账号的原密码。
NEWPASSWORD|新密码|参数可选性:必选参数；参数类型:字符型；参数范围为:8~64个字符。|内控账号的新密码。
CONFIRMPASSWORD|确认密码|参数可选性:必选参数；参数类型:字符型；参数范围为:8~64个字符。|确认密码，该密码必须与内控账号的新密码一致。






输出参数说明 :



命令举例 :

修改内控账号密码，账号类型为ACCOUNT_DB，账号名称为data，原密码为"****"，修改后的新密码为"****"，重复确认密码为"****"。 


SET ACCOUNTPASSWD:TYPE="ACCOUNT_DB",ACCOUNT="data",OLDPASSWORD="****",NEWPASSWORD="****",CONFIRMPASSWORD="****"; 






#### 设置SFTP用户公钥(SET SFTP PUBKEY) 
#### 设置SFTP用户公钥(SET SFTP PUBKEY) 


命令功能 :
该命令用于设置SFTP用户的公钥。


注意事项 :
无


输入参数说明 :

标识|名称|类型|说明
---|---|---|---
USER|SFTP用户名|参数可选性:必选参数；参数类型:字符型；参数范围为:1~64个字符。|SFTP用户名
PUBKEY|用户公钥|参数可选性:必选参数；参数类型:字符型；参数范围为:1~2000个字符。|用户公钥。公钥可以使用ssh-keygen生成。内容格式参考此命令生成的公钥内容。






输出参数说明 :



命令举例 :

设置用户名为"ems"的SFTP公钥，公钥为"xxxxx"。 


SET SFTP PUBKEY:USER="ems",PUBKEY="xxxxx"; 






#### 查询SFTP用户公钥(SHOW SFTP PUBKEY) 
#### 查询SFTP用户公钥(SHOW SFTP PUBKEY) 


命令功能 :
该命令用于查询SFTP用户公钥。


注意事项 :
无


输入参数说明 :



输出参数说明 :

标识|名称|类型|说明
---|---|---|---
USER|SFTP用户名|参数可选性:任选参数；参数类型:字符型；参数范围为:0~64个字符。|SFTP用户名
PUBKEY|用户公钥|参数可选性:任选参数；参数类型:字符型；参数范围为:0~2000个字符。|用户公钥






命令举例 :

查询所有的SFTP用户使用的公钥。 


SHOW SFTP PUBKEY; 






#### 修改SFTP用户认证类型(SET SFTP AUTHTYPE) 
#### 修改SFTP用户认证类型(SET SFTP AUTHTYPE) 


命令功能 :
该命令用于设置SFTP用户认证类型。SFTP用户可以配置是本地认证还是TACACS+认证，默认是本地认证。 SFTP用户信息可以通过SHOW SFTP USER命令查询。


注意事项 :
如果认证方式选择TACACS+认证，则需要通过SET TACACSINFO命令设置TACACS+服务器信息；否则仍然使用本地认证的方式进行认证。


输入参数说明 :

标识|名称|类型|说明
---|---|---|---
USERNAME|用户名|参数可选性:必选参数；参数类型:字符型。|SFTP用户名,通过SHOW SFTP USER可以查询到所有SFTP用户名
AUTHENTYPE|认证方式|参数可选性:必选参数；参数类型:枚举。参见枚举定义。|用户登录认证的方式。    1、LOCAL（本地认证）：表示用户在OAM本地认证；    2、TACACS+(TACACS+认证)：需要到SET TACACSINFO命令设置的TACACS+服务器去进行安全认证，若连接TACACS+服务器失败，会自动转入OAM本地认证。






输出参数说明 :



命令举例 :





#### 查询OAM SFTP用户详细信息。(SHOW SFTP DUSER) 
#### 查询OAM SFTP用户详细信息。(SHOW SFTP DUSER) 


命令功能 :
查询OAM SFTP用户详细信息


注意事项 :

无 




输入参数说明 :



输出参数说明 :

标识|名称|类型|说明
---|---|---|---
NAME|用户名|参数可选性:任选参数；参数类型:字符型；参数范围为:1~64个字符。|用户名
AUTHENTYPE|认证方式|参数可选性:任选参数；参数类型:枚举。参见枚举定义。|认证方式






命令举例 :





### SSH管理 
### SSH管理 


背景知识 :

除了通过EM接入网元后在线执行配置命令方式外，OAM还支持通过SSH方式登录到系统进行相关配置操作。 






功能描述 :

本模块的主要功能是提供若干命令，用于管理（查询、配置等）OAM SSH服务的配置参数，如最大并发访问数、链路超时时间等，使得用户可以根据实际需要对系统提供的SSH服务进行控制。 










#### 设置SSH配置参数(SET SSHCONF) 
#### 设置SSH配置参数(SET SSHCONF) 


命令功能 :
该命令用于设置SSH配置参数。当需要调整SSH配置参数时，执行该命令。


注意事项 :
该命令会影响系统当前的资源占用以及用户使用感受。例如增加客户端最大连接数会使得服务端允许并行访问的客户端链接数增加，每条客户端链路都会占用一定的系统资源（如CPU 、存储等），该项设置过大时可能会对系统的整体运行造成一定压力；而设置登录空闲超时时间后，若用户登录后在该时间内未进行任何操作，服务端会自动断链，该值设置过短可能会影响用户使用感受。


输入参数说明 :

标识|名称|类型|说明
---|---|---|---
TYPE|SSH服务器类型|参数可选性:必选参数；参数类型:枚举。参见枚举定义。|要设置的SSH服务器类型。0：SSH，1：NDF
MAXCLIENTNUM|最大连接数|参数可选性:任选参数；参数类型:整数；参数范围为:1~100。|服务器能同时处理的最大连接数，即同时登录服务器的用户数。
LOGINIDLE|登录空闲超时时间(秒)|参数可选性:任选参数；参数类型:整数；参数范围为:1~60。|连接建立后，超过此时间不输入登录信息（用户名、密码），则自动断链。
LOGINTIMEOUT|登录超时时间(秒)|参数可选性:任选参数；参数类型:整数；参数范围为:1~15。|输入登录信息后，超过此时间无法获取登录结果，则自动断链。
INPUTIDLE|输入空闲超时时间（秒)|参数可选性:任选参数；参数类型:整数；参数范围为:60~3600。|登录系统后，超时此时间无任何操作，则自动断链。






输出参数说明 :



命令举例 :

修改SSH服务器类型为"SSH"的配置参数，将最大连接数修改为10，登录空闲超时时间修改为40秒，登录超时时间修改为10秒，输入空闲超时时间修改为600秒。 


SET SSHCONF:TYPE="SSH",MAXCLIENTNUM=10,LOGINIDLE=40,LOGINTIMEOUT=10,INPUTIDLE=600 






#### 查询SSH配置参数(SHOW SSHCONF) 
#### 查询SSH配置参数(SHOW SSHCONF) 


命令功能 :
该命令用于查询SSH配置参数，主要包括SSH服务器类型、最大连接数等参数。


注意事项 :
无


输入参数说明 :

标识|名称|类型|说明
---|---|---|---
TYPE|SSH服务器类型|参数可选性:任选参数；参数类型:枚举。参见枚举定义。|要设置的SSH服务器类型。0：SSH，1：NDF






输出参数说明 :

标识|名称|类型|说明
---|---|---|---
TYPE|SSH服务器类型|参数可选性:任选参数；参数类型:枚举。参见枚举定义。|要设置的SSH服务器类型。0：SSH，1：NDF
MAXCLIENTNUM|最大连接数|参数可选性:任选参数；参数类型:整数。|服务器能同时处理的最大连接数，即同时登录服务器的用户数。
LOGINIDLE|登录空闲超时时间(秒)|参数可选性:任选参数；参数类型:整数。|连接建立后，超过此时间不输入登录信息（用户名、密码），则自动断链。
LOGINTIMEOUT|登录超时时间(秒)|参数可选性:任选参数；参数类型:整数。|输入登录信息后，超过此时间无法获取登录结果，则自动断链。
INPUTIDLE|输入空闲超时时间(秒)|参数可选性:任选参数；参数类型:整数。|登录系统后，超时此时间无任何操作，则自动断链。
PORT|服务器端口|参数可选性:任选参数；参数类型:整数。|服务器的端口号，SSH类型服务器的默认端口号为7788，NDF类型服务器的默认端口号为7722。






命令举例 :

查询SSH的配置参数。 


SHOW SSHCONF 


`

(No.1) : SHOW SSHCONF
-----------------XGW150----------------
操作维护        SSH服务器类型  最大连接数  登录空闲超时时间(秒)  登录超时时间(秒)  输入空闲超时时间(秒)  服务器端口  
-----------------------------------------------------------------------------------------------------------------------
修改            SSH服务器      16          60                    15                900                   7788        
修改            NDF服务器      16          60                    15                900                   7722        
-----------------------------------------------------------------------------------------------------------------------
记录数：  2
执行成功 开始时间：2021-08-21 14:28:48.046耗时：0.094秒` 






#### 设置SSH私钥(IMPORT SSH PRIVKEY) 
#### 设置SSH私钥(IMPORT SSH PRIVKEY) 


命令功能 :
用于导入SSH服务端加载的私钥


注意事项 :
无。


参数说明 :

标识|名称|类型|说明
---|---|---|---
RSAPATH|RSA私钥文件的SFTP路径|参数可选性:特殊任选参数；参数类型:字符型；参数范围为:0~256个字符。|RSA私钥文件的SFTP路径
RSAFTPUSER|RSA私钥文件的SFTP用户名|参数可选性:特殊任选参数；参数类型:字符型；参数范围为:0~128个字符。|RSA私钥文件的SFTP用户名
RSAFTPPWD|RSA私钥文件的SFTP密码|参数可选性:特殊任选参数；参数类型:字符型；参数范围为:0~128个字符。|RSA私钥文件的SFTP密码
DSAPATH|DSA私钥文件的SFTP路径|参数可选性:特殊任选参数；参数类型:字符型；参数范围为:0~256个字符。|DSA私钥文件的SFTP路径
DSAFTPUSER|DSA私钥文件的SFTP用户名|参数可选性:特殊任选参数；参数类型:字符型；参数范围为:0~128个字符。|DSA私钥文件的SFTP用户名
DSAFTPPWD|DSA私钥文件的SFTP密码|参数可选性:特殊任选参数；参数类型:字符型；参数范围为:0~128个字符。|DSA私钥文件的SFTP密码






命令举例 :

设置SSH私钥。 


`IMPORT SSH PRIVKEY:RSAPATH="SFTP://10.228.122.36:22/sm/rsa.crt",RSAFTPUSER="cn-5g-inner-oper",RSAFTPPWD="***";` 




#### 删除已导入的SSH私钥(DEL SSH PRIVKEY) 
#### 删除已导入的SSH私钥(DEL SSH PRIVKEY) 


命令功能 :
用于删除已经导入SSH服务端的私钥。


注意事项 :
无。


输出参数说明 :

标识|名称|类型|说明
---|---|---|---
INFO|执行结果|参数可选性:任选参数；参数类型:字符型。|删除已导入的SSH私钥的返回信息






命令举例 :

删除SSH私钥。 


`DEL SSH PRIVKEY;` 




### 一键收集管理 
### 一键收集管理 


背景知识 :

一键收集管理主要收集NF、OAM、平台等完整故障信息，以便迅速分析定位解决故障，保障系统稳定运行，提升用户体验。 




功能描述 :

一键收集管理(非UMM节点下)包含12个收集项，各收集项功能如下： 



 
网元配置数据收集：收集网元下的所有配置数据。
 

 
网元License数据收集：收集网元下的License数据。
 

 
网元操作日志收集：收集网元的操作日志。
 

 
网元调试信息收集：收集支持该收集项的NFS下所有SC实例的调试信息。
 

 
平台异常日志收集：收集平台异常日志。
 

 
性能数据收集：根据输入参数收集相应的性能数据。
 

 
告警数据收集：根据输入参数收集相应的告警数据。
 

 
Rosng日志收集：收集Rosng的日志。
 

 
TCF日志收集：收集TCF的日志（仅在CAAS下支持）。
 

 
系统调试日志收集：收集系统调试日志。
 

 
系统诊断日志收集：收集系统诊断日志。
 

 
系统业务失败日志收集：收集系统业务失败日志。
 

 


此外，将OAM调试和状态信息收集置为“开”，则会额外收集OAM调试信息和OAM资源状态。 


UMM节点下一键收集只支持UMM配置数据收集和UMM操作日志收集。 










#### 查询一键收集项信息(SHOW COLLECT ITEM) 
#### 查询一键收集项信息(SHOW COLLECT ITEM) 


命令功能 :
该命令用于查询网元下可供收集的项目。


注意事项 :
无


输入参数说明 :



输出参数说明 :

标识|名称|类型|说明
---|---|---|---
TYPE|收集项类型|参数可选性:任选参数；参数类型:字符型。|收集项的类型，英文说明，一般显示为“service”。
TYPEDESC|收集项类型描述|参数可选性:任选参数；参数类型:字符型。|收集项的类型描述信息，一般显示“业务故障”。
ITEMID|收集项ID|参数可选性:任选参数；参数类型:字符型。|收集项的英文ID。
ITEMDESC|收集项描述|参数可选性:任选参数；参数类型:字符型。|收集项的描述信息。






命令举例 :

查询网元下可供收集的项目 


SHOW COLLECT ITEM 


`

(No.1) : SHOW COLLECT ITEM:
-----------------WCDMA_6----------------
收集项类型 收集项类型描述 收集项ID   收集项描述      
-----------------------------------------------------
service    业务故障       configdata 网元配置数据    
service    业务故障       licdata    网元License数据 
service    业务故障       debuginfo  网元调试信息    
service    业务故障       v6log      平台异常日志  
service    业务故障       operlog    网元操作日志    
service    业务故障       fmdata     告警数据        
service    业务故障       pmdata     性能数据        
service    业务故障       rosnglog   Rosng日志       
service    业务故障       tcflog     TCF日志         
service    业务故障       syslogdbg  系统调试日志      
service    业务故障       syslogdiag 系统诊断日志      
service    业务故障       syslogfail 系统业务失败日志         
-----------------------------------------------------
记录数：12
执行成功开始时间:2020-09-02 15:01:58 耗时: 0.14 秒
` 






#### 开始一键收集(START COLLECT INFO) 
#### 开始一键收集(START COLLECT INFO) 


命令功能 :
该命令用于收集网元的运行信息。根据选择参数的不同，可以灵活收集用户所需的收集项信息，默认收集所有采集项。收集成功后会生成可下载的ZIP文件。


注意事项 :
请尽快取走所收集的文件！


输入参数说明 :

标识|名称|类型|说明
---|---|---|---
ID|收集任务编号|参数可选性:任选参数；参数类型:整数；参数范围为:1~4294967295。默认值:1。|用户输入的收集任务编号。
NAME|收集任务名称|参数可选性:任选参数；参数类型:字符型；参数范围为:1~255个字符。默认值:default。|用户输入的收集任务名称。
ITEMLIST|收集项列表|参数可选性:任选参数；参数类型:枚举。参见枚举定义。|用户可选的收集项列表。
FILEPATH|收集文件路径|参数可选性:特殊任选参数；参数类型:字符型；参数范围为:1~1024个字符。|收集完文件的SFTP储存路径。
USERNAME|SFTP用户名|参数可选性:特殊任选参数；参数类型:字符型；参数范围为:0~32个字符。|访问存储文件的SFTP服务器的用户名。
PASSWORD|SFTP用户密码|参数可选性:特殊任选参数；参数类型:字符型；参数范围为:0~128个字符。|访问存储文件的SFTP服务器的用户密码。
FILENAME|收集文件名称|参数可选性:任选参数；参数类型:字符型；参数范围为:1~250个字符。|用户输入的收集文件的名称。
NFSLIST|NFS名称列表|参数可选性:任选参数；参数类型:字符型；参数范围为:1~200个字符。|需要采集的NFS的名称（仅“网元调试信息”、“平台异常日志”和“告警数据”支持按NFS粒度进行收集。），可在网元节点下查看NFS名称。
TIMERANGE|收集的时间范围（天）|参数可选性:任意单选参数；参数类型:整数；参数范围为:1~90。|收集的时间范围（天）。该项只与按时间粒度收集的项目有关。默认收集时间范围为一天。性能数据默认且最多收集一小时。
COLLECTOAM|OAM调试和状态信息收集|参数可选性:任选参数；参数类型:枚举。参见枚举定义。默认值:OFF。|是否收集OAM调试和状态信息。开：收集OAM的运行信息。关：不收集OAM的运行信息。
STARTTIME|开始时间|参数可选性:任选参数；参数类型:日期|与时间范围的相关项的收集开始时间
ENDTIME|结束时间|参数可选性:任选参数；参数类型:日期|与时间范围的相关项的收集结束时间
TIMEINFO|时间范围|参数可选性:任意单选参数；参数类型:复合参数|收集的时间范围（分钟）。该项只与按时间粒度收集的项目有关。默认收集时间范围为一天。性能数据默认且最多收集一小时。






输出参数说明 :

标识|名称|类型|说明
---|---|---|---
ID|收集任务编号|参数可选性:任选参数；参数类型:整数；参数范围为:1~4294967295。|用户输入的收集任务编号。
NAME|收集任务名称|参数可选性:任选参数；参数类型:字符型；参数范围为:0~255个字符。|用户输入的收集任务名称。
PROCESS|完成百分比|参数可选性:任选参数；参数类型:整数；参数范围为:0~100。|收集任务总进度的百分比。
PROCESSINFO|进度信息|参数可选性:任选参数；参数类型:字符型；参数范围为:0~255个字符。|当前收集项的进度信息。
RESULT|执行结果|参数可选性:任选参数；参数类型:枚举。参见枚举定义。|最终的执行结果，失败会有相应报错信息。
FILEURL|收集文件路径|参数可选性:任选参数；参数类型:字符型；参数范围为:0~1024个字符。|收集完文件的SFTP储存路径。
FILEMD5|收集文件的MD5码|参数可选性:任选参数；参数类型:字符型；参数范围为:0~1024个字符。|收集文件的MD5码。






命令举例 :

收集网元默认的全部收集项，收集任务编号为1，收集任务名称为test，收集文件名称为test，收集的时间范围为1天。 


START COLLECT INFO:ID=1,NAME="test",FILENAME="test",TIMERANGE=1; 






#### 查询一键收集项信息(SHOW UMM COLLECT ITEM) 
#### 查询一键收集项信息(SHOW UMM COLLECT ITEM) 


命令功能 :
该命令用于查询UMM下可供收集的项目。


注意事项 :
无


输入参数说明 :



输出参数说明 :

标识|名称|类型|说明
---|---|---|---
TYPE|收集项类型|参数可选性:任选参数；参数类型:字符型。|收集项的类型，英文说明，一般显示为“service”。
TYPEDESC|收集项类型描述|参数可选性:任选参数；参数类型:字符型。|收集项的类型描述信息，一般显示“业务故障”。
ITEMID|收集项ID|参数可选性:任选参数；参数类型:字符型。|收集项的英文ID。
ITEMDESC|收集项描述|参数可选性:任选参数；参数类型:字符型。|收集项的描述信息。






命令举例 :

查询UMM下可供收集的项目 


SHOW UMM COLLECT ITEM 


`

(No.1) : SHOW UMM COLLECT ITEM:
-----------------WCDMA_6----------------
收集项类型 收集项类型描述 收集项ID   收集项描述      
-----------------------------------------------------
service    业务故障       configdata 网元配置数据    
service    业务故障       operlog    网元操作日志           
-----------------------------------------------------
记录数：2
执行成功开始时间:2020-09-02 15:01:58 耗时: 0.14 秒
` 






#### 开始一键收集(START UMM COLLECT INFO) 
#### 开始一键收集(START UMM COLLECT INFO) 


命令功能 :
该命令用于收集UMM的运行信息，主要为UMM的配置数据和操作日志。收集成功后会生成可下载的ZIP文件。


注意事项 :
请尽快取走所收集的文件！


输入参数说明 :

标识|名称|类型|说明
---|---|---|---
ID|收集任务编号|参数可选性:任选参数；参数类型:整数；参数范围为:1~4294967295。默认值:1。|用户输入的收集任务编号。
NAME|收集任务名称|参数可选性:任选参数；参数类型:字符型；参数范围为:1~255个字符。默认值:default。|用户输入的收集任务名称。
ITEMLIST|收集项列表|参数可选性:任选参数；参数类型:枚举。参见枚举定义。|用户可选的收集项列表。
FILEPATH|收集文件路径|参数可选性:特殊任选参数；参数类型:字符型；参数范围为:1~1024个字符。|收集完文件的SFTP储存路径。
USERNAME|SFTP用户名|参数可选性:特殊任选参数；参数类型:字符型；参数范围为:0~32个字符。|访问存储文件的SFTP服务器的用户名。
PASSWORD|SFTP用户密码|参数可选性:特殊任选参数；参数类型:字符型；参数范围为:0~32个字符。|访问存储文件的SFTP服务器的用户密码。
FILENAME|收集文件名称|参数可选性:任选参数；参数类型:字符型；参数范围为:1~250个字符。|用户输入的收集文件的名称。
TIMERANGE|收集的时间范围（天）|参数可选性:任意单选参数；参数类型:整数；参数范围为:1~90。|收集的时间范围（天）。该项只与按时间粒度收集的项目有关。默认收集时间范围为一天。
STARTTIME|开始时间|参数可选性:任选参数；参数类型:日期|与时间范围的相关项的收集开始时间
ENDTIME|结束时间|参数可选性:任选参数；参数类型:日期|与时间范围的相关项的收集结束时间
TIMEINFO|时间范围|参数可选性:任意单选参数；参数类型:复合参数|收集的时间范围（分钟）。该项只与按时间粒度收集的项目有关。默认收集时间范围为一天。






输出参数说明 :

标识|名称|类型|说明
---|---|---|---
ID|收集任务编号|参数可选性:任选参数；参数类型:整数；参数范围为:1~4294967295。|用户输入的收集任务编号。
NAME|收集任务名称|参数可选性:任选参数；参数类型:字符型；参数范围为:0~255个字符。|用户输入的收集任务名称。
PROCESS|完成百分比|参数可选性:任选参数；参数类型:整数；参数范围为:0~100。|收集任务总进度的百分比。
PROCESSINFO|进度信息|参数可选性:任选参数；参数类型:字符型；参数范围为:0~255个字符。|当前收集项的进度信息。
RESULT|执行结果|参数可选性:任选参数；参数类型:枚举。参见枚举定义。|最终的执行结果，失败会有相应报错信息。
FILEURL|收集文件路径|参数可选性:任选参数；参数类型:字符型；参数范围为:0~1024个字符。|收集完文件的SFTP储存路径。
FILEMD5|收集文件的MD5码|参数可选性:任选参数；参数类型:字符型；参数范围为:0~1024个字符。|收集文件的MD5码。






命令举例 :

收集UMM默认的全部收集项，收集任务编号为1，收集任务名称为test，收集文件名称为test，收集的时间范围为1天。 


START UMM COLLECT INFO:ID=1,NAME="test",FILENAME="test",TIMERANGE=1； 






### 系统参数管理 
### 系统参数管理 


背景知识 :

系统参数是系统中一些功能模块运行时所需的一些关键变量，例如某功能开关是否打开、某功能参数的默认值等。这些变量在不同的环境下可能需要进行调整。 






功能描述 :

本配置用于系统参数的修改和查询。 










#### 设置系统参数(SET SYSPARA) 
#### 设置系统参数(SET SYSPARA) 


命令功能 :
该命令用于修改OAM中系统参数。当系统参数不满足用户需求时，执行该命令。


注意事项 :
可用[查询系统参数]查询系统参数当前值及含义，根据需要进行修改。


输入参数说明 :

标识|名称|类型|说明
---|---|---|---
NO|参数编号|参数可选性:必选参数；参数类型:整数；参数范围为:100000~299999。|系统参数的唯一编号，可执行查询系统参数命令查询。
VALUE|参数值|参数可选性:必选参数；参数类型:字符型；参数范围为:0~64个字符。|系统参数当前值。






输出参数说明 :

标识|名称|类型|说明
---|---|---|---
NO|参数编号|参数可选性:任选参数；参数类型:整数；参数范围为:100000~299999。|系统参数的唯一编号，可执行查询系统参数命令查询。
NAME|参数名称|参数可选性:任选参数；参数类型:字符型；参数范围为:0~32个字符。|系统参数的名称。
MODULE|参数归属模块|参数可选性:任选参数；参数类型:枚举。参见枚举定义。|系统参数归属的模块。
VALUE|参数当前值|参数可选性:任选参数；参数类型:字符型；参数范围为:0~64个字符。|系统参数当前值。
DFTVAL|参数默认值|参数可选性:任选参数；参数类型:字符型；参数范围为:0~64个字符。|系统参数的默认值。
PARATYPE|参数类型|参数可选性:任选参数；参数类型:枚举。参见枚举定义。|系统参数的数据类型，包括整形、枚举。
RANGE|参数取值范围|参数可选性:任选参数；参数类型:字符型；参数范围为:0~200个字符。|系统参数取值范围。
DESC|参数描述|参数可选性:任选参数；参数类型:字符型；参数范围为:1~100个字符。|系统参数的含义描述。
NOTICE|提示信息|参数可选性:任选参数；参数类型:字符型；参数范围为:0~200个字符。|修改系统参数的注意事项。






命令举例 :

设置编号为200000的系统参数值为ABC。 


SET SYSPARA:NO=200000,VALUE="ABC" 






#### 查询系统参数(SHOW SYSPARA) 
#### 查询系统参数(SHOW SYSPARA) 


命令功能 :
该命令用于查询OAM中各系统参数的当前值。


注意事项 :
无


输入参数说明 :

标识|名称|类型|说明
---|---|---|---
NO|参数编号|参数可选性:任选参数；参数类型:整数；参数范围为:100000~299999。|系统参数的唯一编号，可执行查询系统参数命令查询。






输出参数说明 :

标识|名称|类型|说明
---|---|---|---
NO|参数编号|参数可选性:任选参数；参数类型:整数；参数范围为:100000~299999。|系统参数的唯一编号，可执行查询系统参数命令查询。
NAME|参数名称|参数可选性:任选参数；参数类型:字符型；参数范围为:0~32个字符。|系统参数的名称。
MODULE|参数归属模块|参数可选性:任选参数；参数类型:枚举。参见枚举定义。|系统参数归属的模块。
VALUE|参数当前值|参数可选性:任选参数；参数类型:字符型；参数范围为:0~64个字符。|系统参数当前值。
DFTVAL|参数默认值|参数可选性:任选参数；参数类型:字符型；参数范围为:0~64个字符。|系统参数的默认值。
PARATYPE|参数类型|参数可选性:任选参数；参数类型:枚举。参见枚举定义。|系统参数的数据类型，包括整形、枚举。
RANGE|参数取值范围|参数可选性:任选参数；参数类型:字符型；参数范围为:0~200个字符。|系统参数取值范围。
DESC|参数描述|参数可选性:任选参数；参数类型:字符型；参数范围为:0~100个字符。|系统参数的含义描述。
NOTICE|提示信息|参数可选性:任选参数；参数类型:字符型；参数范围为:0~200个字符。|修改系统参数的注意事项。






命令举例 :

查询编号为100101的系统参数的值。 


SHOW SYSPARA:NO=100101 


`

(No.1) : SHOW SYSPARA:NO=100101
-----------------STSMF216OAM12B2----------------
操作维护        参数编号  参数名称                参数归属模块  参数当前值  参数默认值  参数类型  参数取值范围  参数描述                                            提示信息                                      
--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
修改            100101    comm.clis.rlock.enable  配置          1           1           枚举      0,1           跨NFS全局锁（CLIS远程锁）功能总控开关（O:关;1:开）  属性修改后需要重启主备vru-oam-main容器生效。  
--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
记录数：  1

执行成功
开始时间：2021-08-19 16:04:22.742 耗时：0.906秒
` 






### 诊断修复 
### 诊断修复 


背景知识 :

系统在极端异常情况下，可能会出现一些不可预知的软件故障。对于这些故障，需要有快捷的定位和修复手段。 




功能描述 :

本模块用于检测、查询系统中可能出现的软件故障，并对一些故障提供解决手段。 








#### NFS一致性比对修复 
#### NFS一致性比对修复 


背景知识 :

在升级操作前后，OAM为用户提供了检查网元内部NFS信息一致性的功能，保证升级操作的正常执行。 


当网元内部NFS信息不一致时，提供一种解决方法，帮助快速恢复环境正常。 






功能描述 :

本功能包括网元内部NFS信息一致性查询和NFS信息不一致时处理方法。 


网元内部NFS信息一致性查询：用于查询OAM和TMSP之间、OAM-MAIN和OAM-CCMF之间的NFS信息是否一致。 

 
NFS信息不一致时处理方法：当网元内部NFS信息不一致时，提供了一种删除OAM中实体和数据的处理方法，处理后可以执行命令查询CCMF的NFS实体状态查询CCMF的实体状态。 

 










##### 查询NFS一致性(TMSP OAM)(SHOW NFS DIFF OUTER) 
##### 查询NFS一致性(TMSP OAM)(SHOW NFS DIFF OUTER) 


命令功能 :
该命令用于查询TMSP和OAM之间的信息一致性。如果出现不一致，请联系中兴通讯进行处理。


注意事项 :
无


输入参数说明 :



输出参数说明 :

标识|名称|类型|说明
---|---|---|---
NFSNAME|NFS名称|参数可选性:任选参数；参数类型:字符型。|NFS的名称。
ISDIFFERENT|是否存在差异|参数可选性:任选参数；参数类型:枚举。参见枚举定义。|是否存在差异，包括：是：请联系中兴通讯进行处理。否：环境正常。
NETYPEIDTMSP|网元类型标识 (TMSP)|参数可选性:任选参数；参数类型:字符型。|TMSP中网元类型标识，需要和OAM中网元类型标识一致。
NETYPEIDOAM|网元类型标识 (OAM)|参数可选性:任选参数；参数类型:字符型。|OAM中网元类型标识，需要和TMSP中网元类型标识一致。
OTHERDIFF|其它差异项|参数可选性:任选参数；参数类型:字符型。|其它的差异项，包括NF版本号等。






命令举例 :

查询TMSP的NFS和OAM的NFS的一致性。 


SHOW NFS DIFF OUTER; 


`

(No.1) : SHOW NFS DIFF OUTER:
-----------------smoke_uspp_80---------------------------------------------------------------------------------------------------------------------------------------------
NFS名称     是否存在差异  网元类型标识 (TMSP)          网元类型标识 (OAM) 其它差异项
SDM_CMS_0   否     USPP.AUSF|HSS|UDM|UDR|WCN    USPP.AUSF|HSS|UDM|UDR|WCN       N/A
---------------------------------------------------------------------------------------------------------------------------------------------------------------------------
执行成功耗时: 0.208 秒
` 






##### 查询NFS一致性(OAM-MAIN OAM-CCMF)(SHOW NFS DIFF INNER) 
##### 查询NFS一致性(OAM-MAIN OAM-CCMF)(SHOW NFS DIFF INNER) 


命令功能 :
该命令用于查询OAM-MAIN和OAM-CCMF之间的信息一致性，如果出现不一致，请联系中兴通讯进行处理


注意事项 :
无


输入参数说明 :



输出参数说明 :

标识|名称|类型|说明
---|---|---|---
NEID|NE标识|参数可选性:任选参数；参数类型:字符型。|NE的标识，NE标识由OAM生成，每个NFS一个NE标识。
ISDIFFERENT|是否存在差异|参数可选性:任选参数；参数类型:枚举。参见枚举定义。|是否存在差异，包括：是：请联系中兴通讯进行处理。否：环境正常。
NFNAMEMAIN|NF名称（MAIN）|参数可选性:任选参数；参数类型:字符型。|OAM-MAIN中NF版本号，需要和OAM-CCMF中NF版本号一致。
NFNAMECCMF|NF名称（CCMF）|参数可选性:任选参数；参数类型:字符型。|OAM-CCMF中NF版本号，需要和OAM-MAIN中NF版本号一致。
NFSNAMEMAIN|NFS名称（MAIN）|参数可选性:任选参数；参数类型:字符型。|OAM-MAIN中包含的NFS名称，需要和OAM-CCMF中包含的NFS名称一致。
NFSNAMECCMF|NFS名称（CCMF）|参数可选性:任选参数；参数类型:字符型。|OAM-CCMF中包含的NFS名称，需要和OAM-MAIN中包含的NFS名称一致。
OTHERDIFF|其它差异项|参数可选性:任选参数；参数类型:字符型。|其它的差异项，包括NF版本号等。






命令举例 :

查询OAM-MAIN的NFS和OAM-CCMF的NFS的一致性。 


SHOW NFS DIFF INNER; 


`

(No.2) : SHOW NFS DIFF INNER:
-----------------smoke_uspp_80-----------------------------------------------------------------------------------------------------------
NE标识 是否存在差异 NF名称（MAIN） NF名称（CCMF） NFS名称（MAIN） NFS名称（CCMF） 其它差异项
1      否           smoke_uspp_80  smoke_uspp_80  SDM_FE_UDM_0    SDM_FE_UDM_0         N/A
2      否           smoke_uspp_80  smoke_uspp_80  CommonS_IPS_0   CommonS_IPS_0         N/A
-------------------------------------------------------------------------------------------------------------------------------------------
执行成功耗时: 0.208 秒
` 






##### 删除OAM中的NFS实体和数据(DEL OAMNFS) 
##### 删除OAM中的NFS实体和数据(DEL OAMNFS) 


命令功能 :
该命令用于删除OAM中的NFS实体和数据。当需要NFS信息不一致且OAM中出现NFS信息冗余时，使用该命令。执行成功后，表示冗余NFS信息已被删除


注意事项 :
删除后NFS实体和数据将全部丢失，有可能会影响业务，请谨慎操作


输入参数说明 :

标识|名称|类型|说明
---|---|---|---
NFNAME|NF名称(内部)|参数可选性:必选参数；参数类型:字符型；参数范围为:1~32个字符。|内部NF的名称。
SERVICENAME|服务名称(内部)|参数可选性:必选参数；参数类型:字符型；参数范围为:1~200个字符。|内部服务的名称。
DELOPT|删除选项|参数可选性:必选参数；参数类型:枚举。参见枚举定义。默认值:ALL。|删除选项，包括：所有：删除OAM-MAIN和OAM-CCMF中的实体和数据。CCMF：仅删除OAM-CCMF中的NFS实体和数据。






输出参数说明 :

标识|名称|类型|说明
---|---|---|---
RESULT|结果|参数可选性:任选参数；参数类型:字符型。|命令的执行结果。失败时，系统会提示具体的失败原因。






命令举例 :

删除OAM中的NFS实体和数据。 


DEL OAMNFS; 






##### 查询CCMF的NFS实体状态(SHOW CCMFNFSSTAT) 
##### 查询CCMF的NFS实体状态(SHOW CCMFNFSSTAT) 


命令功能 :
该命令用于查询CCMF的NFS实体状态


注意事项 :
无


输入参数说明 :



输出参数说明 :

标识|名称|类型|说明
---|---|---|---
NEID|内部唯一标识|参数可选性:任选参数；参数类型:字符型；参数范围为:1~5个字符。|NE的标识，NE标识由OAM生成，每个NFS一个NE标识。
NFNAME|NF名称(内部)|参数可选性:任选参数；参数类型:字符型；参数范围为:1~32个字符。|内部NF的名称。
SERVICENAME|服务名称(内部)|参数可选性:任选参数；参数类型:字符型；参数范围为:1~200个字符。|内部服务的名称。
STATUS|状态|参数可选性:任选参数；参数类型:字符型；参数范围为:1~32个字符。|状态信息，包括安装完成、恢复完成、升级完成、安装失败、恢复失败、升级失败等。
ERRCODE|错误码|参数可选性:任选参数；参数类型:字符型；参数范围为:1~10个字符。|错误码，需要查看错误码对应的错误信息。
ERRREASON|错误原因|参数可选性:任选参数；参数类型:字符型；参数范围为:1~100个字符。|命令提供的错误原因分析。
SUGGESTION|处理建议|参数可选性:任选参数；参数类型:字符型；参数范围为:1~100个字符。|命令提供的处理建议。






命令举例 :

查询CCMF的NFS实体状态 


SHOW CCMFNFSSTAT; 


`

(No.1) : SHOW CCMFNFSSTAT
-----------------ST_SMF136_OAM11B2----------------
内部唯一标识 NF名称(内部)      服务名称(内部)                     状态     错误码 错误原因          处理建议                   
-------------------------------------------------------------------------------------------------------------------------------
1            ST_SMF136_OAM11B2 Nudsf_UnstructuredDataManagement_0 恢复完成 0      [OAMCCMF]执行成功 当前状态正常，无需任何处理 
2            ST_SMF136_OAM11B2 Nsmf_ResourceManage_0              恢复完成 0      [OAMCCMF]执行成功 当前状态正常，无需任何处理 
3            ST_SMF136_OAM11B2 CommonS_IPS_0                      恢复完成 0      [OAMCCMF]执行成功 当前状态正常，无需任何处理 
4            ST_SMF136_OAM11B2 Ncudr_SystemManagement_0           恢复完成 0      [OAMCCMF]执行成功 当前状态正常，无需任何处理 
5            ST_SMF136_OAM11B2 CommonS_HTTP_LB_0                  恢复完成 0      [OAMCCMF]执行成功 当前状态正常，无需任何处理 
6            ST_SMF136_OAM11B2 Nsmf_NupfManage_0                  恢复完成 0      [OAMCCMF]执行成功 当前状态正常，无需任何处理 
7            ST_SMF136_OAM11B2 Nsmf_IPPoolManage_0                恢复完成 0      [OAMCCMF]执行成功 当前状态正常，无需任何处理 
8            ST_SMF136_OAM11B2 CommonS_TMSP_0                     恢复完成 0      [OAMCCMF]执行成功 当前状态正常，无需任何处理 
9            ST_SMF136_OAM11B2 Nsmf_MP_0                          恢复完成 0      [OAMCCMF]执行成功 当前状态正常，无需任何处理 
10           ST_SMF136_OAM11B2 Nsmf_dap_0                         恢复完成 0      [OAMCCMF]执行成功 当前状态正常，无需任何处理
-------------------------------------------------------------------------------------------------------------------------------
记录数：10
` 






#### 升级任务清理 
#### 升级任务清理 


背景知识 :

升级异常终止情况下，会残留任务信息，导致下次升级加载版本包失败，故需要在升级前清理残留的任务信息。 




功能描述 :

一键清理升级任务信息。 








##### 清理升级任务(CLEAR UPGRADE TASK) 
##### 清理升级任务(CLEAR UPGRADE TASK) 


命令功能 :
该命令用于清理残留的升级任务状态信息。


注意事项 :
该命令是危险命令！禁止在升级过程中使用！否则直接导致升级失败！使用该命令后，当前任务无法继续升级或回退！


输入参数说明 :



输出参数说明 :



命令举例 :

清理升级任务 


`CLEAR UPGRADE TASK` 


`

(No.1) : CLEAR UPGRADE TASK:
-----------------ST_SMF120----------------
执行成功开始时间:2020-09-10 13:13:02 耗时: 23.505 秒
` 






#### 命令检查 
#### 命令检查 


功能描述 :

检查范围：OAM加载的挂树命令
检查项目：不同NFS下重复的命令；不合法的枚举项（包括枚举值为空，枚举值重复，枚举类型不正确） 








##### 查询命令检查结果(SHOW CMDCHECKRST) 
##### 查询命令检查结果(SHOW CMDCHECKRST) 


命令功能 :
查询命令检查结果


注意事项 :

无 




输入参数说明 :

标识|名称|类型|说明
---|---|---|---
ITEM|检查项|参数可选性:任选参数；参数类型:枚举。参见枚举定义。|检查项






输出参数说明 :

标识|名称|类型|说明
---|---|---|---
NAME|命令名称|参数可选性:任选参数；参数类型:字符型；参数范围为:1~128个字符。|命令名称
DESC|命令描述|参数可选性:任选参数；参数类型:字符型；参数范围为:1~2000个字符。|命令描述
ENUMNAME|枚举码|参数可选性:任选参数；参数类型:字符型；参数范围为:1~200个字符。|枚举码
ENUMMACRO|枚举名称|参数可选性:任选参数；参数类型:字符型；参数范围为:1~200个字符。|枚举名称
NFS|服务名称|参数可选性:任选参数；参数类型:字符型；参数范围为:1~200个字符。|服务名称
ITEM|检查项|参数可选性:任选参数；参数类型:枚举。参见枚举定义。|检查项






命令举例 :

SHOW CMDCHECKRST:ITEM="DUPLCMD"
`

SHOW CMDCHECKRST:ITEM="DUPLCMD";
命令名称         命令描述          服务名称                  检查项        
---------------------------------------------------------------------------
SHOW LMLINKINFO  查询跨局链路信息  SDM_FE_UDM_0              命令助记符重复
SHOW LMLINKINFO  查询跨局链路信息  Ncudr_SystemManagement_0  命令助记符重复
---------------------------------------------------------------------------
` 






### PG数据库管理 
### PG数据库管理 


背景知识 :

PG数据库管理由数据库整体状态查询、数据可信任状态设置和数据脑裂解决方法三部分组成。 



 
数据库整体状态查询：提供数据库各个实例的启动状态、实例主备之间的同步状态和各个实例的数据可信任状态信息。
 

 
数据可信任状态设置：将配置实例数据库中的数据标记为可信任数据。
 

 
数据脑裂解决方法：当双机环境的两台数据库分别以单主运行，且数据不一致时会发生数据脑裂。此时采用收集脑裂数据命令可以分析主备上数据差异，采用数据库选主命令解除数据脑裂。
由于业务操作或虚机异常等原因导致的主备数据库容器上业务数据不一致的现象为脑裂，此时网管数据库会开启保护，禁止配置命令执行。
 

 






功能描述 :

PG数据库管理包括： 



 
设置配置数据的可信任状态。
 

 
修改数据库密码的加密算法。
 

 
检查PG数据库状态。
 

 
收集脑裂数据。
 

 
进行数据库选主。
 

 










#### 设置配置数据可信程度(SET DATA CREDIBILITY) 
#### 设置配置数据可信程度(SET DATA CREDIBILITY) 


命令功能 :
该命令用于设置配置数据的可信程度。当需要将数据可信任程度从未知修改为可信任时，使用该命令。命令执行成功后，数据可信任状态为可信任。


注意事项 :


 
本命令执行前采用SHOW命令确认业务数据可信任。
 

 




输入参数说明 :



输出参数说明 :



命令举例 :

设置此时数据库数据为可信任状态。 


`

SET DATA CREDIBILITY;
` 






#### 修改数据库加密算法(SET PG ENCRPYTION ALGORITHM) 
#### 修改数据库加密算法(SET PG ENCRPYTION ALGORITHM) 


命令功能 :
该命令用于修改数据库的加密算法。


注意事项 :


 
本命令执行期间不允许倒换主备OMU虚机。
 

 




输入参数说明 :

标识|名称|类型|说明
---|---|---|---
USERNAME|数据库账号名称|参数可选性:必选参数；参数类型:字符型；参数范围为:0~255个字符。|该参数用于输入数据库的账号名称。
PASSWORD|数据库密码|参数可选性:必选参数；参数类型:字符型；参数范围为:0~255个字符。|该参数用于输入数据库的密码。
ALGORITHM|数据库加密算法|参数可选性:必选参数；参数类型:枚举。参见枚举定义。|该参数用于设置数据库的加密算法，包括：简单加密算法SCRAM-SHA-256算法加密






输出参数说明 :



命令举例 :

修改数据库的加密算法，USERNAME、PASSWORD、ALGORITHM均为必填参数。 


`

SET PG ENCRPYTION ALGORITHM:USERNAME="postgres",PASSWORD="***",ALGORITHM="SIMPLE";
` 






#### 检查PG数据库状态(SHOW PG STATUS) 
#### 检查PG数据库状态(SHOW PG STATUS) 


命令功能 :
该命令用于检查PG数据库的状态。


注意事项 :

无 




输入参数说明 :

标识|名称|类型|说明
---|---|---|---
DBINSTANCE|数据库实例名称|参数可选性:必选参数；参数类型:枚举。参见枚举定义。默认值:ALL。|该参数用于显示数据库实例的名称，包括：配置数据库工具数据库所有数据库






输出参数说明 :

标识|名称|类型|说明
---|---|---|---
DBINSTANCE|数据库实例名称|参数可选性:任选参数；参数类型:枚举。参见枚举定义。|该参数用于显示数据库实例的名称，包括：配置数据库工具数据库所有数据库
MASTERSTATE|主PG状态|参数可选性:任选参数；参数类型:枚举。参见枚举定义。默认值:UNKNOWN。|该参数用于显示实例对应的主PG状态，包括：正常。不在线：对应数据库高可用进程未启动。未启动：对应数据库实例未启动。脑裂：发生了数据脑裂现象，需要人工处理。未知：发生了未知的数据库故障，需要人工处理。
SLAVESTATE|备PG状态|参数可选性:任选参数；参数类型:枚举。参见枚举定义。默认值:UNKNOWN。|该参数用于显示实例对应的备PG状态，包括：正常。不在线：对应数据库高可用进程未启动。未启动：对应数据库实例未启动。脑裂：发生了数据脑裂现象，需要人工处理。未知：发生了未知的数据库故障，需要人工处理。
SYNCSTATE|同步状态|参数可选性:任选参数；参数类型:枚举。参见枚举定义。默认值:FAIL。|该参数用于显示实例的主备同步状态，包括：成功：主备数据库完成同步失败：主备数据未完成同步
CREDIBILITY|数据可信程度|参数可选性:任选参数；参数类型:枚举。参见枚举定义。默认值:UNKNOWN。|数据可信任状态，包括：可信：数据库数据可信任。未知：数据库数据可信程度未知。异常：发生了数据库数据脑裂等异常。N/A：本实例数据库是高可靠实例，非高可信实例，不提供数据可信任状态。






命令举例 :

检查PG数据库状态，命令举例： 


`

(No.1) : SHOW PG STATUS:DBINSTANCE="ALL"
-----------------smoke_smf_70----------------
数据库实例名称 主PG状态 备PG状态 同步状态 
------------------------------------------
配置数据库     正常     正常     成功     
性能告警数据库 正常     正常     成功     
------------------------------------------
记录数：2
` 






#### 收集脑裂数据(COLLECT BRAINSPLIT DATA) 
#### 收集脑裂数据(COLLECT BRAINSPLIT DATA) 


命令功能 :
该命令用于收集脑裂数据。


注意事项 :

无 




输入参数说明 :



输出参数说明 :

标识|名称|类型|说明
---|---|---|---
Result|结果|参数可选性:任选参数；参数类型:枚举。参见枚举定义。默认值:FAIL。|该参数用于显示脑裂数据收集的结果，包括：成功失败






命令举例 :

收集脑裂数据，命令举例： 


`

COLLECT BRAINSPLIT DATA;
` 






#### 数据库选主(BRAINSPLIT SELECT MASTER) 
#### 数据库选主(BRAINSPLIT SELECT MASTER) 


命令功能 :
该命令用于数据库选主。当发生数据库脑裂时，使用该命令。命令执行成功后，数据库恢复正常。


注意事项 :


 
本命令会强制覆盖主备机后台数据库，请务必注意。命令执行前确保执行期间主备OMU上容器不会重启。
 

 




输入参数说明 :

标识|名称|类型|说明
---|---|---|---
TRUSTVRUNAME|可信VRU名称|参数可选性:必选参数；参数类型:字符型；参数范围为:1~300个字符。|该参数用于设置可信VRU名称，根据COLLECT BRAINSPLIT DATA命令结果进行设置。






输出参数说明 :



命令举例 :

数据库选主，trustVruname是必填参数，命令入参区分大小写，该参数是信任的VRU名称，可以参考COLLECT BRAINSPLIT DATA结果输入该参数，命令举例： 


`

BRAINSPLIT SELECT MASTER:trustVruname="vru-oam-postgres-0";
` 






### 辅助命令 
### 辅助命令 


背景知识 :

系统需要用到的一些辅助命令 






功能描述 :

客户端批处理支持延迟功能需要用到的WAIT命令等 










#### 等待(WAIT) 
#### 等待(WAIT) 


命令功能 :
该命令用来等待一段时间。


注意事项 :
WAIT


参数说明 :

标识|名称|类型|说明
---|---|---|---
DELAYTIME|等待时间(单位:秒)|参数可选性:必选参数；参数类型:整数；参数范围为:0~60。默认值:10。|等待时间(单位:秒)。






命令举例 :
WAIT:DELAYTIME=10;


### 时区管理 
### 时区管理 


背景知识 :

网元内当前是由TMSP提供的设置时区命令，设置的是时区偏移量，而EM接入管理需要网元上报格式类似Asia/shanghai的时区的地区信息。该模块提供时区管理命令，设置当前网元所在地区的具体时区地区信息。 




功能描述 :


OAM提供专门的时区地区设置命令，用来设置时区偏移量对应的时区地区信息，并把用户设置的时区地区信息上报给EM的接入管理模块。
 








#### 设置本地时区地区信息(SET TZAREA) 
#### 设置本地时区地区信息(SET TZAREA) 


命令功能 :
设置本地时区地区信息


注意事项 :
本命令设置的时区地区信息需要和TMSP提供的SET TIMEZONE命令设置的时区偏移量匹配。比如SET TIMEZONE命令设置的当前时区偏移量为GMT+08:00,则SET TZAREA命令只能设置和GMT+08:00匹配的时区地区枚举项值。


输入参数说明 :

标识|名称|类型|说明
---|---|---|---
TZAREA|本地时区地区信息|参数可选性:必选参数；参数类型:枚举。参见枚举定义。|本地时区地区信息






输出参数说明 :



命令举例 :

设置时区信息 


SET TZAREA:TZAREA="Africa/Abidjan"; 






#### 查询本地时区信息(SHOW TZAREA) 
#### 查询本地时区信息(SHOW TZAREA) 


命令功能 :
查询本地时区信息


注意事项 :
无


输入参数说明 :



输出参数说明 :

标识|名称|类型|说明
---|---|---|---
TZAREA|本地时区地区信息|参数可选性:必选参数；参数类型:枚举。参见枚举定义。|本地时区地区信息






命令举例 :

查询时区信息。 


`

(No.5):SHOW TZAREA
-----------------smoke_uspp_160----------------

操作维护  本地时区地区信息
--------------------------
修改      Africa/Abidjan  
--------------------------
记录数：  1
执行成功
开始时间: 2021-12-28 14:34:15.903 耗时：1.187秒
` 






### 认证管理 
### 认证管理 






#### TACACS+服务器配置 
#### TACACS+服务器配置 






##### 修改TACACS+配置信息(SET TACACSINFO) 
##### 修改TACACS+配置信息(SET TACACSINFO) 


命令功能 :
该命令用于设置OAM和TACACS+服务器的互联互通信息。当系统中有TACACS+用户，需要到TACACS+服务器进行认证时，需要执行此命令。TACACS+服务器设置成功后，所有系统中的TACACS+用户登录时都会到TACACS+服务器上去认证。SSH/SFTP/LMT客户端用户输入用户名/密码登录到OAM的SSH服务器/SFTP服务器/LMT时，OAM作为TACACS+客户端使用TACACS+协议的ASCII Login认证流程，TACACS+服务器对OAM发送的用户名/密码进行合法性认证,将认证结果返回OAM的TACACS+客户端。认证通过时,用户可以登录OAM，否则就拒绝登录。


注意事项 :


 
为了避免OAM和TACACS+服务器之间的安全传输风险，建议OAM和TACACS+服务器之间的通信网络部署在一个安全域中。 

 
为了确保认证双方的身份合法性，要求OAM配置的密钥与TACACS服务器的密钥必须相同。 

 
系统中只能配置一个TACACS+服务器。第一次设置相当于增加，后面设置相当于修改。 

 
TACACS+用户登录鉴权时，首先会尝试连接TACACS+服务器，若连接失败，将转OMM本地登录流程；若连接成功，将到TACACS+服务器进行鉴权认证。 

 
当TACACS+服务器状态为其他原因时，请确定密钥正确性。 

 




参数说明 :

标识|名称|类型|说明
---|---|---|---
SVRIP|TACACS+服务器IP地址|参数可选性:任选参数；参数类型:地址|TACACS+服务器的物理IP地址信息。
SVRPORT|TACACS+服务器端口|参数可选性:任选参数；参数类型:整数；参数范围为:1~65535。|TACACS+服务器的端口号。
KEY|密钥|参数可选性:任选参数；参数类型:字符型；参数范围为:0~128个字符。|登录TACACS+服务器时的密码。






命令举例 :
SET TACACSINFO:SVRIP="10.44.20.201",SVRPORT=49;


##### 查询TACACS+配置信息(SHOW TACACSINFO) 
##### 查询TACACS+配置信息(SHOW TACACSINFO) 


命令功能 :
该命令用于查询OMM系统与TACACS+服务器互联互通设置信息。


注意事项 :
无。


输出参数说明 :

标识|名称|类型|说明
---|---|---|---
SVRIP|TACACS+服务器IP地址|参数可选性:任选参数；参数类型:地址|网管系统中已经配置的TACACS+服务器的IP地址。
SVRPORT|TACACS+服务器端口|参数可选性:任选参数；参数类型:整数；参数范围为:1~65535。|网管系统中已经配置的TACACS+服务器的端口号。
STATUS|TACACS+服务器状态|参数可选性:任选参数；参数类型:枚举。参见枚举定义。|网管系统会与到已经配置的TACACS+服务器进行连接测试，测试状态包括如下信息：0：通过1：无法连接2：其他






命令举例 :
SHOW TACACSINFO;


## 日志管理 
## 日志管理 






### 操作日志管理 
### 操作日志管理 






#### 通过直连接口查询操作日志(SHOW OPLOG) 
#### 通过直连接口查询操作日志(SHOW OPLOG) 


命令功能 :
该命令用于通过直连接口查询操作日志，适用于NDF客户端使用。


注意事项 :
只有具有管理员角色权限的用户可以查询所有用户的操作日志，非管理员角色权限的用户只能查看自己的操作日志。查询该用户角色信息可通过[SHOW USER ROLE]命令查看，若查询结果的“角色名称”字段包含“管理员角色”，则该用户具有管理员权限。


参数说明 :

标识|名称|类型|说明
---|---|---|---
RESULT|操作结果|参数可选性:任选参数；参数类型:枚举。参见枚举定义。|选择操作的结果。成功(SUCCESS，SUCCESS是命令参数里的枚举值)：用户对网管和网元的操作事件执行成功的记录。失败(FAILURE，FAILURE是命令参数里的枚举值)：用户对网管和网元的操作事件执行失败的记录。
MODE|接入方式|参数可选性:任选参数；参数类型:枚举。参见枚举定义。默认值:TERM_NDF。|选择用户登录网管或网元接入方式。OMM终端(TERM_WEB_GUI，TERM_WEB_GUI是命令参数里的枚举值)TELNET客户端(TERM_TELNET_SERVER，TERM_TELNET_SERVER是命令参数里的枚举值)EMS客户端(TERM_EMS，TERM_EMS是命令参数里的枚举值)NDF客户端(TERM_NDF，TERM_NDF是命令参数里的枚举值)SSH客户端(TERM_SSH_SERVER，TERM_SSH_SERVER是命令参数里的枚举值)4A客户端(TERM_4A，TERM_4A是命令参数里的枚举值)
BEGINDATE|开始时间|参数可选性:任选参数；参数类型:日期|配置查询某个时间段内操作日志的开始时间，单击输入文本框时，可以通过自动弹出的控件选择具体查询的时间，时间精确到秒。
ENDDATE|结束时间|参数可选性:任选参数；参数类型:日期|配置查询某个时间段内操作日志的结束时间，单击输入文本框时，可以通过自动弹出的控件选择具体查询的时间，时间精确到秒。






输出参数说明 :

标识|名称|类型|说明
---|---|---|---
SERVERID|操作响应者|参数可选性:任选参数；参数类型:字符型。|操作响应者
USERNAME|操作员|参数可选性:任选参数；参数类型:字符型。|该操作事件的用户名。用户名信息可通过SHOW USER命令查看。若执行该命令的用户具有管理员角色权限，可查询所有用户的日志；若执行该命令的用户不具有管理员角色权限，只能查询出当前用户的操作日志。
RESULT|操作结果|参数可选性:任选参数；参数类型:枚举。参见枚举定义。|操作的结果。成功(SUCCESS，SUCCESS是命令参数里的枚举值)：用户对网管和网元的操作事件执行成功的记录。失败(FAILURE，FAILURE是命令参数里的枚举值)：用户对网管和网元的操作事件执行失败的记录。
MODE|接入方式|参数可选性:任选参数；参数类型:枚举。参见枚举定义。|用户登录网管或网元接入方式。OMM终端(TERM_WEB_GUI，TERM_WEB_GUI是命令参数里的枚举值)TELNET客户端(TERM_TELNET_SERVER，TERM_TELNET_SERVER是命令参数里的枚举值)EMS客户端(TERM_EMS，TERM_EMS是命令参数里的枚举值)NDF客户端(TERM_NDF，TERM_NDF是命令参数里的枚举值)SSH客户端(TERM_SSH_SERVER，TERM_SSH_SERVER是命令参数里的枚举值)4A客户端(TERM_4A，TERM_4A是命令参数里的枚举值)
BEGINDATE|开始时间|参数可选性:任选参数；参数类型:字符型。|该操作事件执行的开始时间，时间精确到秒。
ENDDATE|结束时间|参数可选性:任选参数；参数类型:字符型。|该操作事件执行的结束时间，时间精确到秒。
REASON|操作失败原因|参数可选性:任选参数；参数类型:字符型。|该操作失败的具体原因。若该操作执行成功，该内容为空。
DETAIL|操作详细信息|参数可选性:任选参数；参数类型:字符型。|该操作的具体信息，如一条完整的人机命令，包括命令助记符以及对操作输入的配置参数值。






命令举例 :

查询通过NDF客户端登陆网管系统的操作日志。 


`SHOW OPLOG:MODE=TERM_NDF;` 


`

命令 (No.1): SHOW OPLOG:MODE=TERM_NDF;

  操作响应者	                         操作员   操作结果   接入方式       开始时间              结束时间              操作失败原因   操作详细信息
-----------------------------------------------------------------------------------------------------------------------------------------------------
  77fad44b-0080-4887-ad9c-b2370dbbeba8   admin    成功       NDF客户端      2019-12-03 09:09:11   2019-12-03 09:09:11                  show nf;
-----------------------------------------------------------------------------------------------------------------------------------------------------
记录数：1

执行成功耗时: 0.408 秒
` 




#### 备份操作日志(BAK OPLOG) 
#### 备份操作日志(BAK OPLOG) 


命令功能 :
该命令用于通过直连接口方式备份操作日志，适用于NDF客户端。


注意事项 :
无。


参数说明 :

标识|名称|类型|说明
---|---|---|---
FILENAME|文件名称|参数可选性:必选参数；参数类型:字符型；参数范围为:1~128个字符。|备份文件名称。
MODE|接入方式|参数可选性:任选参数；参数类型:枚举。参见枚举定义。默认值:TERM_NDF。|选择用户登录网管或网元接入方式。OMM终端(TERM_WEB_GUI，TERM_WEB_GUI是命令参数里的枚举值)TELNET客户端(TERM_TELNET_SERVER，TERM_TELNET_SERVER是命令参数里的枚举值)EMS客户端(TERM_EMS，TERM_EMS是命令参数里的枚举值)NDF客户端(TERM_NDF，TERM_NDF是命令参数里的枚举值)SSH客户端(TERM_SSH_SERVER，TERM_SSH_SERVER是命令参数里的枚举值)4A客户端(TERM_4A，TERM_4A是命令参数里的枚举值)
TIMERANGE|时间范围(天)|参数可选性:任选参数；参数类型:整数；参数范围为:1~90。默认值:1。|备份操作日志时，只会备份该设置天数内的操作日志记录。
FTPPATH|备份文件SFTP路径|参数可选性:特殊任选参数；参数类型:字符型；参数范围为:1~255个字符。|备份文件SFTP路径，例如：sftp://10.0.0.35/backup/。
FTPUSER|SFTP服务器用户名|参数可选性:特殊任选参数；参数类型:字符型；参数范围为:1~128个字符。|SFTP服务器用户名
FTPPWD|SFTP服务器密码|参数可选性:特殊任选参数；参数类型:字符型；参数范围为:1~64个字符。|SFTP服务器密码
FILETYPE|文件类型|参数可选性:任选参数；参数类型:枚举。参见枚举定义。默认值:TXT。|文件类型






命令举例 :

备份操作日志文件名为"TEST",接入方式为"TERM_WEB_GUI",时间范围为5天. 


`BAK OPLOG:FILENAME="TEST",MODE="TERM_WEB_GUI",TIMERANGE=5;` 




#### 导出操作日志(EXPORT OPLOG) 
#### 导出操作日志(EXPORT OPLOG) 


命令功能 :
导出操作日志。如果查询结果集大于60000条，将不能导出。


注意事项 :
无。


参数说明 :

标识|名称|类型|说明
---|---|---|---
MODE|接入方式|参数可选性:任选参数；参数类型:枚举。参见枚举定义。默认值:TERM_NDF。|选择用户登录网管或网元接入方式。OMM终端(TERM_WEB_GUI，TERM_WEB_GUI是命令参数里的枚举值)TELNET客户端(TERM_TELNET_SERVER，TERM_TELNET_SERVER是命令参数里的枚举值)EMS客户端(TERM_EMS，TERM_EMS是命令参数里的枚举值)NDF客户端(TERM_NDF，TERM_NDF是命令参数里的枚举值)SSH客户端(TERM_SSH_SERVER，TERM_SSH_SERVER是命令参数里的枚举值)4A客户端(TERM_4A，TERM_4A是命令参数里的枚举值)
BEGINTIME|开始时间|参数可选性:任选参数；参数类型:日期|配置导出某个时间段内操作日志的开始时间
ENDTIME|结束时间|参数可选性:任选参数；参数类型:日期|配置导出某个时间段内操作日志的结束时间
FTPPATH|备份文件SFTP路径|参数可选性:特殊任选参数；参数类型:字符型；参数范围为:1~255个字符。|备份文件SFTP路径
FTPUSER|SFTP服务器用户名|参数可选性:特殊任选参数；参数类型:字符型；参数范围为:1~128个字符。|SFTP服务器用户名
FTPPWD|SFTP服务器密码|参数可选性:特殊任选参数；参数类型:字符型；参数范围为:1~64个字符。|SFTP服务器密码






命令举例 :

导出操作日志。 


`EXPORT OPLOG;` 


`

命令 (No.1): EXPORT OPLOG;

 SFTP IP地址   SFTP端口   用户名   密码   备份目录                                            FTP类型
-------------------------------------------------------------------------------------------------------
 10.42.7.53    29029      ndf      ***    ndf/oplog/nf-2/Handwork-export/20191212092949.txt   SFTP
-------------------------------------------------------------------------------------------------------
记录数 1

命令执行成功（耗时 0.034 秒）。
` 




#### 查询操作日志(SHOW CMDLOG) 
#### 查询操作日志(SHOW CMDLOG) 


命令功能 :

操作日志用于记录用户对网管和网元操作的详细信息。当需要追踪和审查用户在一定时间范围内相应的操作记录时，用户可使用该命令。系统根据输入的查询条件执行成功后，将在客户端返回满足用户需要的结果信息。 


如果查询结果集个数小于2000条，查询结果将直接显示在客户端供用户查看；如果查询结果集大于2000条且小于60000条，将生成文件并在客户端返回URL信息供用户点击下载查看；如果查询结果集大于60000条，将不能导出。 




注意事项 :
只有具有管理员角色权限的用户可以查询所有用户的操作日志，非管理员角色权限的用户只能查看自己的操作日志。查询该用户角色信息可通过[SHOW USER ROLE]命令查看，若查询结果的“角色名称”字段包含“管理员角色”，则该用户具有管理员权限。


参数说明 :

标识|名称|类型|说明
---|---|---|---
USERNAME|操作员|参数可选性:任选参数；参数类型:字符型；参数范围为:0~128个字符。|选择所需要查询的用户。用户名信息可通过SHOW USER命令查看。若执行该命令的用户具有管理员角色权限，则此处不填，可查询所有用户的日志；若执行该命令的用户不具有管理员角色权限，则此处不填，只能查询出当前用户的操作日志。
LEVEL|操作级别|参数可选性:任选参数；参数类型:枚举。参见枚举定义。|选择所需要查询的操作等级，该等级由操作命令自身属性中的命令级别决定。非常重要(VERYIMPT，VERYIMPT是命令参数中的枚举项)：表示该操作的命令级别很高，通常为新增、删除、修改操作。重要(IMPT，IMPT是命令参数中的枚举项)：表示该操作的命令级别较高，通常为新增、删除、修改操作。注意(NOTICE，NOTICE是命令参数中的枚举项)：表示该操作的命令级别中等，通常为新增、修改操作。一般(NORMAL，NORMAL是命令参数中的枚举项)：表示该操作的命令级别低，通常为查询操作。
MODULE|操作模块|参数可选性:任选参数；参数类型:枚举。参见枚举定义。|选择所需要查询的模块类型，对应于OMM系统的各个操作维护模块。告警管理(ALARM，ALARM是命令参数里的枚举值)性能管理(PERFORMANCE，PERFORMANCE是命令参数里的枚举值)日志管理(LOG，LOG是命令参数里的枚举值)安全管理(SECURITY，SECURITY是命令参数里的枚举值)配置管理(CONFIGURATION，CONFIGURATION是命令参数里的枚举值)跟踪管理(TRACE，TRACE是命令参数里的枚举值)备份恢复(BRM，BRM是命令参数里的枚举值)主控管理(OAMCTRL，OAMCTRL是命令参数里的枚举值)内控管理(OAM_INNER_CTRL，OAM_INNER_CTRL是命令参数里的枚举值)其他管理(OTHER，OTHER是命令参数里的枚举值)全局属性管理(OAM STATE MANAGERMENT,OAM STATE MANAGERMENT是命令参数里的枚举值)License管理(LICENSE，LICENSE是命令参数里的枚举值)导出配置(EXMMLCTRL，EXMMLCTRL是命令参数里的枚举值)稳定性事件(SAM，SAM是命令参数里的枚举值)
IPADDR|IP地址|参数可选性:任选参数；参数类型:地址|选择操作员维护终端的IP地址。
RESULT|操作结果|参数可选性:任选参数；参数类型:枚举。参见枚举定义。|选择操作的结果。成功(SUCCESS，SUCCESS是命令参数里的枚举值)：用户对网管和网元的操作事件执行成功的记录。失败(FAILURE，FAILURE是命令参数里的枚举值)：用户对网管和网元的操作事件执行失败的记录。
MODE|接入方式|参数可选性:任选参数；参数类型:枚举。参见枚举定义。|选择用户登录网管或网元接入方式。OMM终端(TERM_WEB_GUI，TERM_WEB_GUI是命令参数里的枚举值)TELNET客户端(TERM_TELNET_SERVER，TERM_TELNET_SERVER是命令参数里的枚举值)EMS客户端(TERM_EMS，TERM_EMS是命令参数里的枚举值)NDF客户端(TERM_NDF，TERM_NDF是命令参数里的枚举值)SSH客户端(TERM_SSH_SERVER，TERM_SSH_SERVER是命令参数里的枚举值)4A客户端(TERM_4A，TERM_4A是命令参数里的枚举值)
DETAIL|操作详细信息|参数可选性:任选参数；参数类型:字符型；参数范围为:1~2000个字符。|用户操作的具体信息，如一条完整的人机命令，包括命令助记符以及对操作输入的配置参数值。
BEGINDATE|开始时间|参数可选性:任选参数；参数类型:日期|配置查询某个时间段内操作日志的开始时间，单击输入文本框时，可以通过自动弹出的控件选择具体查询的时间，时间精确到秒。
ENDDATE|结束时间|参数可选性:任选参数；参数类型:日期|配置查询某个时间段内操作日志的结束时间，单击输入文本框时，可以通过自动弹出的控件选择具体查询的时间，时间精确到秒。
MMLCODE|命令码|参数可选性:任选参数；参数类型:字符型；参数范围为:0~32个字符。|选择用户操作的命令对应的命令码。命令码为对应操作命令的内部编码。






输出参数说明 :

标识|名称|类型|说明
---|---|---|---
USERNAME|操作员|参数可选性:任选参数；参数类型:字符型。|该操作事件的用户名。用户名信息可通过SHOW USER命令查看。若执行该命令的用户具有管理员角色权限，可查询所有用户的日志；若执行该命令的用户不具有管理员角色权限，只能查询出当前用户的操作日志。
CMDFUNC|操作功能|参数可选性:任选参数；参数类型:字符型。|用户对网管和网元的操作事件的功能说明。
LEVEL|操作级别|参数可选性:任选参数；参数类型:枚举。参见枚举定义。|该操作事件的操作等级，该等级由操作命令自身属性中的命令级别决定。非常重要(VERYIMPT，VERYIMPT是命令参数中的枚举项)：表示该操作的命令级别很高，通常为新增、删除、修改操作。重要(IMPT，IMPT是命令参数中的枚举项)：表示该操作的命令级别较高，通常为新增、删除、修改操作。注意(NOTICE，NOTICE是命令参数中的枚举项)：表示该操作的命令级别中等，通常为新增、修改操作。一般(NORMAL，NORMAL是命令参数中的枚举项)：表示该操作的命令级别低，通常为查询操作。
MODULE|操作模块|参数可选性:任选参数；参数类型:枚举。参见枚举定义。|选择所需要查询的模块类型，对应于OMM系统的各个操作维护模块。告警管理(ALARM，ALARM是命令参数里的枚举值)性能管理(PERFORMANCE，PERFORMANCE是命令参数里的枚举值)日志管理(LOG，LOG是命令参数里的枚举值)安全管理(SECURITY，SECURITY是命令参数里的枚举值)配置管理(CONFIGURATION，CONFIGURATION是命令参数里的枚举值)跟踪管理(TRACE，TRACE是命令参数里的枚举值)备份恢复(BRM，BRM是命令参数里的枚举值)主控管理(OAMCTRL，OAMCTRL是命令参数里的枚举值)内控管理(OAM_INNER_CTRL，OAM_INNER_CTRL是命令参数里的枚举值)其他管理(OTHER，OTHER是命令参数里的枚举值)全局属性管理(OAM STATE MANAGERMENT,OAM STATE MANAGERMENT是命令参数里的枚举值)License管理(LICENSE，LICENSE是命令参数里的枚举值)导出配置(EXMMLCTRL，EXMMLCTRL是命令参数里的枚举值)稳定性事件(SAM，SAM是命令参数里的枚举值)
IPADDR|IP地址|参数可选性:任选参数；参数类型:字符型。|操作员维护终端的IP地址。
RESULT|操作结果|参数可选性:任选参数；参数类型:枚举。参见枚举定义。|操作的结果。成功(SUCCESS，SUCCESS是命令参数里的枚举值)：用户对网管和网元的操作事件执行成功的记录。失败(FAILURE，FAILURE是命令参数里的枚举值)：用户对网管和网元的操作事件执行失败的记录。
MODE|接入方式|参数可选性:任选参数；参数类型:枚举。参见枚举定义。|用户登录网管或网元接入方式。OMM终端(TERM_WEB_GUI，TERM_WEB_GUI是命令参数里的枚举值)TELNET客户端(TERM_TELNET_SERVER，TERM_TELNET_SERVER是命令参数里的枚举值)EMS客户端(TERM_EMS，TERM_EMS是命令参数里的枚举值)NDF客户端(TERM_NDF，TERM_NDF是命令参数里的枚举值)SSH客户端(TERM_SSH_SERVER，TERM_SSH_SERVER是命令参数里的枚举值)4A客户端(TERM_4A，TERM_4A是命令参数里的枚举值)
BEGINDATE|开始时间|参数可选性:任选参数；参数类型:字符型。|该操作事件执行的开始时间，时间精确到秒。
ENDDATE|结束时间|参数可选性:任选参数；参数类型:字符型。|该操作事件执行的结束时间，时间精确到秒。
MMLCODE|命令码|参数可选性:任选参数；参数类型:字符型。|该操作的命令对应的命令码。命令码为对应操作命令的内部编码。
REASON|操作失败原因|参数可选性:任选参数；参数类型:字符型。|该操作失败的具体原因。若该操作执行成功，该内容为空。
DETAIL|操作详细信息|参数可选性:任选参数；参数类型:字符型。|该操作的具体信息，如一条完整的人机命令，包括命令助记符以及对操作输入的配置参数值。
FILEURL|输出文件路径|参数可选性:任选参数；参数类型:字符型。|查询结果在2千条至6万条之间输出查询结果文件路径。






命令举例 :

查询用户admin, 且该用户的终端的IP地址为10.42.16.141, 在2019-12-12 09:00:00至2019-12-12 11:00:00时间范围内，执行成功的操作日志。 


`SHOW CMDLOG:USERNAME="admin",IPADDR="10.42.16.141",RESULT="SUCCESS",BEGINDATE="2019-12-12 09:00:00",ENDDATE="2019-12-12 11:00:00";` 


`

命令 (No.1): SHOW CMDLOG:USERNAME="admin",IPADDR="10.42.16.141",RESULT="SUCCESS",BEGINDATE="2019-12-12 09:00:00",ENDDATE="2019-12-12 11:00:00";

  操作员   操作功能            操作级别   操作模块   IP地址         操作结果   接入方式       开始时间              结束时间              命令码    操作失败原因   操作详细信息
--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
  admin    查询NDF功能开关     一般       主控管理   10.42.16.141   成功       SSH客户端      2019-12-12 09:59:18   2019-12-12 09:59:18   1850246                  SHOW NDFSWITCH;
  admin    查询自动备份策略    一般       备份恢复   10.42.16.141   成功       SSH客户端      2019-12-12 09:58:33   2019-12-12 09:58:33   1850220                  SHOW AUTO STRATEGY;
  admin    导出操作日志        重要       日志管理   10.42.16.141   成功       SSH客户端      2019-12-12 09:29:49   2019-12-12 09:29:50   1414233                  EXPORT OPLOG;  
--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
记录数 3

命令执行成功（耗时 0.034 秒）。
` 




#### 查询所有操作日志(SHOW ALL CMDLOG) 
#### 查询所有操作日志(SHOW ALL CMDLOG) 


命令功能 :

操作日志用于记录用户对网管和网元操作的详细信息。当需要追踪和审查用户在一定时间范围内相应的操作记录时，用户可使用该命令。系统根据输入的查询条件执行成功后，将在客户端返回满足用户需要的结果信息。 


如果查询结果集个数小于2000条，查询结果将直接显示在客户端供用户查看；如果查询结果集大于2000条且小于60000条，将生成文件并在客户端返回URL信息供用户点击下载查看；如果查询结果集大于60000条，将不能导出。 




注意事项 :
无。


参数说明 :

标识|名称|类型|说明
---|---|---|---
USERNAME|操作员|参数可选性:任选参数；参数类型:字符型；参数范围为:0~128个字符。|选择所需要查询的用户。用户名信息可通过SHOW USER命令查看。若执行该命令的用户具有管理员角色权限，则此处不填，可查询所有用户的日志；若执行该命令的用户不具有管理员角色权限，则此处不填，只能查询出当前用户的操作日志。
LEVEL|操作级别|参数可选性:任选参数；参数类型:枚举。参见枚举定义。|选择所需要查询的操作等级，该等级由操作命令自身属性中的命令级别决定。非常重要(VERYIMPT，VERYIMPT是命令参数中的枚举项)：表示该操作的命令级别很高，通常为新增、删除、修改操作。重要(IMPT，IMPT是命令参数中的枚举项)：表示该操作的命令级别较高，通常为新增、删除、修改操作。注意(NOTICE，NOTICE是命令参数中的枚举项)：表示该操作的命令级别中等，通常为新增、修改操作。一般(NORMAL，NORMAL是命令参数中的枚举项)：表示该操作的命令级别低，通常为查询操作。
MODULE|操作模块|参数可选性:任选参数；参数类型:枚举。参见枚举定义。|选择所需要查询的模块类型，对应于OMM系统的各个操作维护模块。告警管理(ALARM，ALARM是命令参数里的枚举值)性能管理(PERFORMANCE，PERFORMANCE是命令参数里的枚举值)日志管理(LOG，LOG是命令参数里的枚举值)安全管理(SECURITY，SECURITY是命令参数里的枚举值)配置管理(CONFIGURATION，CONFIGURATION是命令参数里的枚举值)跟踪管理(TRACE，TRACE是命令参数里的枚举值)备份恢复(BRM，BRM是命令参数里的枚举值)主控管理(OAMCTRL，OAMCTRL是命令参数里的枚举值)内控管理(OAM_INNER_CTRL，OAM_INNER_CTRL是命令参数里的枚举值)其他管理(OTHER，OTHER是命令参数里的枚举值)全局属性管理(OAM STATE MANAGERMENT,OAM STATE MANAGERMENT是命令参数里的枚举值)License管理(LICENSE，LICENSE是命令参数里的枚举值)导出配置(EXMMLCTRL，EXMMLCTRL是命令参数里的枚举值)稳定性事件(SAM，SAM是命令参数里的枚举值)
IPADDR|IP地址|参数可选性:任选参数；参数类型:地址|选择操作员维护终端的IP地址。
RESULT|操作结果|参数可选性:任选参数；参数类型:枚举。参见枚举定义。|选择操作的结果。成功(SUCCESS，SUCCESS是命令参数里的枚举值)：用户对网管和网元的操作事件执行成功的记录。失败(FAILURE，FAILURE是命令参数里的枚举值)：用户对网管和网元的操作事件执行失败的记录。
MODE|接入方式|参数可选性:任选参数；参数类型:枚举。参见枚举定义。|选择用户登录网管或网元接入方式。OMM终端(TERM_WEB_GUI，TERM_WEB_GUI是命令参数里的枚举值)TELNET客户端(TERM_TELNET_SERVER，TERM_TELNET_SERVER是命令参数里的枚举值)EMS客户端(TERM_EMS，TERM_EMS是命令参数里的枚举值)NDF客户端(TERM_NDF，TERM_NDF是命令参数里的枚举值)SSH客户端(TERM_SSH_SERVER，TERM_SSH_SERVER是命令参数里的枚举值)4A客户端(TERM_4A，TERM_4A是命令参数里的枚举值)
DETAIL|操作详细信息|参数可选性:任选参数；参数类型:字符型；参数范围为:1~2000个字符。|用户操作的具体信息，如一条完整的人机命令，包括命令助记符以及对操作输入的配置参数值。
BEGINDATE|开始时间|参数可选性:任选参数；参数类型:日期|配置查询某个时间段内操作日志的开始时间，单击输入文本框时，可以通过自动弹出的控件选择具体查询的时间，时间精确到秒。
ENDDATE|结束时间|参数可选性:任选参数；参数类型:日期|配置查询某个时间段内操作日志的结束时间，单击输入文本框时，可以通过自动弹出的控件选择具体查询的时间，时间精确到秒。
MMLCODE|命令码|参数可选性:任选参数；参数类型:字符型；参数范围为:0~32个字符。|选择用户操作的命令对应的命令码。命令码为对应操作命令的内部编码。






输出参数说明 :

标识|名称|类型|说明
---|---|---|---
USERNAME|操作员|参数可选性:任选参数；参数类型:字符型。|该操作事件的用户名。用户名信息可通过SHOW USER命令查看。若执行该命令的用户具有管理员角色权限，可查询所有用户的日志；若执行该命令的用户不具有管理员角色权限，只能查询出当前用户的操作日志。
CMDFUNC|操作功能|参数可选性:任选参数；参数类型:字符型。|用户对网管和网元的操作事件的功能说明。
LEVEL|操作级别|参数可选性:任选参数；参数类型:枚举。参见枚举定义。|该操作事件的操作等级，该等级由操作命令自身属性中的命令级别决定。非常重要(VERYIMPT，VERYIMPT是命令参数中的枚举项)：表示该操作的命令级别很高，通常为新增、删除、修改操作。重要(IMPT，IMPT是命令参数中的枚举项)：表示该操作的命令级别较高，通常为新增、删除、修改操作。注意(NOTICE，NOTICE是命令参数中的枚举项)：表示该操作的命令级别中等，通常为新增、修改操作。一般(NORMAL，NORMAL是命令参数中的枚举项)：表示该操作的命令级别低，通常为查询操作。
MODULE|操作模块|参数可选性:任选参数；参数类型:枚举。参见枚举定义。|选择所需要查询的模块类型，对应于OMM系统的各个操作维护模块。告警管理(ALARM，ALARM是命令参数里的枚举值)性能管理(PERFORMANCE，PERFORMANCE是命令参数里的枚举值)日志管理(LOG，LOG是命令参数里的枚举值)安全管理(SECURITY，SECURITY是命令参数里的枚举值)配置管理(CONFIGURATION，CONFIGURATION是命令参数里的枚举值)跟踪管理(TRACE，TRACE是命令参数里的枚举值)备份恢复(BRM，BRM是命令参数里的枚举值)主控管理(OAMCTRL，OAMCTRL是命令参数里的枚举值)内控管理(OAM_INNER_CTRL，OAM_INNER_CTRL是命令参数里的枚举值)其他管理(OTHER，OTHER是命令参数里的枚举值)全局属性管理(OAM STATE MANAGERMENT,OAM STATE MANAGERMENT是命令参数里的枚举值)License管理(LICENSE，LICENSE是命令参数里的枚举值)导出配置(EXMMLCTRL，EXMMLCTRL是命令参数里的枚举值)稳定性事件(SAM，SAM是命令参数里的枚举值)
IPADDR|IP地址|参数可选性:任选参数；参数类型:字符型。|操作员维护终端的IP地址。
RESULT|操作结果|参数可选性:任选参数；参数类型:枚举。参见枚举定义。|操作的结果。成功(SUCCESS，SUCCESS是命令参数里的枚举值)：用户对网管和网元的操作事件执行成功的记录。失败(FAILURE，FAILURE是命令参数里的枚举值)：用户对网管和网元的操作事件执行失败的记录。
MODE|接入方式|参数可选性:任选参数；参数类型:枚举。参见枚举定义。|用户登录网管或网元接入方式。OMM终端(TERM_WEB_GUI，TERM_WEB_GUI是命令参数里的枚举值)TELNET客户端(TERM_TELNET_SERVER，TERM_TELNET_SERVER是命令参数里的枚举值)EMS客户端(TERM_EMS，TERM_EMS是命令参数里的枚举值)NDF客户端(TERM_NDF，TERM_NDF是命令参数里的枚举值)SSH客户端(TERM_SSH_SERVER，TERM_SSH_SERVER是命令参数里的枚举值)4A客户端(TERM_4A，TERM_4A是命令参数里的枚举值)
BEGINDATE|开始时间|参数可选性:任选参数；参数类型:字符型。|该操作事件执行的开始时间，时间精确到秒。
ENDDATE|结束时间|参数可选性:任选参数；参数类型:字符型。|该操作事件执行的结束时间，时间精确到秒。
MMLCODE|命令码|参数可选性:任选参数；参数类型:字符型。|该操作的命令对应的命令码。命令码为对应操作命令的内部编码。
REASON|操作失败原因|参数可选性:任选参数；参数类型:字符型。|该操作失败的具体原因。若该操作执行成功，该内容为空。
DETAIL|操作详细信息|参数可选性:任选参数；参数类型:字符型。|该操作的具体信息，如一条完整的人机命令，包括命令助记符以及对操作输入的配置参数值。
FILEURL|输出文件路径|参数可选性:任选参数；参数类型:字符型。|查询结果在2千条至6万条之间输出查询结果文件路径。






命令举例 :

查询用户admin, 且该用户的终端的IP地址为10.42.16.141, 在2019-12-12 09:00:00至2019-12-12 11:00:00时间范围内，执行成功的操作日志。 


`SHOW ALL CMDLOG:USERNAME="admin",IPADDR="10.42.16.141",RESULT="SUCCESS",BEGINDATE="2019-12-12 09:00:00",ENDDATE="2019-12-12 11:00:00";` 


`

命令 (No.1): SHOW ALL CMDLOG:USERNAME="admin",IPADDR="10.42.16.141",RESULT="SUCCESS",BEGINDATE="2019-12-12 09:00:00",ENDDATE="2019-12-12 11:00:00";

  操作员   操作功能            操作级别   操作模块   IP地址         操作结果   接入方式       开始时间              结束时间              命令码    操作失败原因   操作详细信息
--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
  admin    查询NDF功能开关     一般       主控管理   10.42.16.141   成功       SSH客户端      2019-12-12 09:59:18   2019-12-12 09:59:18   1850246                  SHOW NDFSWITCH;
  admin    查询自动备份策略    一般       备份恢复   10.42.16.141   成功       SSH客户端      2019-12-12 09:58:33   2019-12-12 09:58:33   1850220                  SHOW AUTO STRATEGY;
  admin    导出操作日志        重要       日志管理   10.42.16.141   成功       SSH客户端      2019-12-12 09:29:49   2019-12-12 09:29:50   1414233                  EXPORT OPLOG;  
--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
记录数 3

命令执行成功（耗时 0.034 秒）。
` 




#### 打印操作日志(PRINT CMDLOG) 
#### 打印操作日志(PRINT CMDLOG) 


命令功能 :

操作日志用于记录用户对网管和网元操作的详细信息。当需要追踪和审查用户在一定时间范围内相应的操作记录时，用户可使用该命令。系统根据输入的查询条件执行成功后，将在客户端返回满足用户需要的结果信息。 


只有查询结果集小于6万条，则可以进行打印。 




注意事项 :
无。


参数说明 :

标识|名称|类型|说明
---|---|---|---
USERNAME|操作员|参数可选性:任选参数；参数类型:字符型；参数范围为:0~128个字符。|选择所需要查询的用户。用户名信息可通过SHOW USER命令查看。若执行该命令的用户具有管理员角色权限，则此处不填，可查询所有用户的日志；若执行该命令的用户不具有管理员角色权限，则此处不填，只能查询出当前用户的操作日志。
LEVEL|操作级别|参数可选性:任选参数；参数类型:枚举。参见枚举定义。|选择所需要查询的操作等级，该等级由操作命令自身属性中的命令级别决定。非常重要(VERYIMPT，VERYIMPT是命令参数中的枚举项)：表示该操作的命令级别很高，通常为新增、删除、修改操作。重要(IMPT，IMPT是命令参数中的枚举项)：表示该操作的命令级别较高，通常为新增、删除、修改操作。注意(NOTICE，NOTICE是命令参数中的枚举项)：表示该操作的命令级别中等，通常为新增、修改操作。一般(NORMAL，NORMAL是命令参数中的枚举项)：表示该操作的命令级别低，通常为查询操作。
MODULE|操作模块|参数可选性:任选参数；参数类型:枚举。参见枚举定义。|选择所需要查询的模块类型，对应于OMM系统的各个操作维护模块。告警管理(ALARM，ALARM是命令参数里的枚举值)性能管理(PERFORMANCE，PERFORMANCE是命令参数里的枚举值)日志管理(LOG，LOG是命令参数里的枚举值)安全管理(SECURITY，SECURITY是命令参数里的枚举值)配置管理(CONFIGURATION，CONFIGURATION是命令参数里的枚举值)跟踪管理(TRACE，TRACE是命令参数里的枚举值)备份恢复(BRM，BRM是命令参数里的枚举值)主控管理(OAMCTRL，OAMCTRL是命令参数里的枚举值)内控管理(OAM_INNER_CTRL，OAM_INNER_CTRL是命令参数里的枚举值)其他管理(OTHER，OTHER是命令参数里的枚举值)全局属性管理(OAM STATE MANAGERMENT,OAM STATE MANAGERMENT是命令参数里的枚举值)License管理(LICENSE，LICENSE是命令参数里的枚举值)导出配置(EXMMLCTRL，EXMMLCTRL是命令参数里的枚举值)稳定性事件(SAM，SAM是命令参数里的枚举值)
IPADDR|IP地址|参数可选性:任选参数；参数类型:地址|选择操作员维护终端的IP地址。
RESULT|操作结果|参数可选性:任选参数；参数类型:枚举。参见枚举定义。|选择操作的结果。成功(SUCCESS，SUCCESS是命令参数里的枚举值)：用户对网管和网元的操作事件执行成功的记录。失败(FAILURE，FAILURE是命令参数里的枚举值)：用户对网管和网元的操作事件执行失败的记录。
MODE|接入方式|参数可选性:任选参数；参数类型:枚举。参见枚举定义。|选择用户登录网管或网元接入方式。OMM终端(TERM_WEB_GUI，TERM_WEB_GUI是命令参数里的枚举值)TELNET客户端(TERM_TELNET_SERVER，TERM_TELNET_SERVER是命令参数里的枚举值)EMS客户端(TERM_EMS，TERM_EMS是命令参数里的枚举值)NDF客户端(TERM_NDF，TERM_NDF是命令参数里的枚举值)SSH客户端(TERM_SSH_SERVER，TERM_SSH_SERVER是命令参数里的枚举值)4A客户端(TERM_4A，TERM_4A是命令参数里的枚举值)
DETAIL|操作详细信息|参数可选性:任选参数；参数类型:字符型；参数范围为:0~2000个字符。|用户操作的具体信息，如一条完整的人机命令，包括命令助记符以及对操作输入的配置参数值。
BEGINDATE|开始时间|参数可选性:任选参数；参数类型:日期|配置查询某个时间段内操作日志的开始时间，单击输入文本框时，可以通过自动弹出的控件选择具体查询的时间，时间精确到秒。
ENDDATE|结束时间|参数可选性:任选参数；参数类型:日期|配置查询某个时间段内操作日志的结束时间，单击输入文本框时，可以通过自动弹出的控件选择具体查询的时间，时间精确到秒。
MMLCODE|命令码|参数可选性:任选参数；参数类型:字符型；参数范围为:0~32个字符。|选择用户操作的命令对应的命令码。命令码为对应操作命令的内部编码。






命令举例 :

查询通过OMM客户端登陆网管系统的用户admin, 且该用户的终端的IP地址为10.42.16.141, 在2013-12-12 12:00:00至2013-12-12 14:00:00时间范围内，执行成功的操作日志。 


`PRINT CMDLOG:USERNAME="admin",IPADDR="10.42.16.141",RESULT="SUCCESS",BEGINDATE="2013-12-12 12:00:00",ENDDATE="2013-12-12 14:00:00";` 




#### 修改操作日志自动备份参数(SET AUTOBAKOPLOG) 
#### 修改操作日志自动备份参数(SET AUTOBAKOPLOG) 


命令功能 :
该命令用于设置操作日志自动备份参数。


注意事项 :
无。


参数说明 :

标识|名称|类型|说明
---|---|---|---
FILENAME|文件名称|参数可选性:任选参数；参数类型:字符型；参数范围为:1~128个字符。|文件名称
MODE|接入方式|参数可选性:任选参数；参数类型:枚举。参见枚举定义。|选择用户登录网管或网元接入方式。OMM终端(TERM_WEB_GUI，TERM_WEB_GUI是命令参数里的枚举值)TELNET客户端(TERM_TELNET_SERVER，TERM_TELNET_SERVER是命令参数里的枚举值)EMS客户端(TERM_EMS，TERM_EMS是命令参数里的枚举值)NDF客户端(TERM_NDF，TERM_NDF是命令参数里的枚举值)SSH客户端(TERM_SSH_SERVER，TERM_SSH_SERVER是命令参数里的枚举值)4A客户端(TERM_4A，TERM_4A是命令参数里的枚举值)
MAXFILE|最大备份文件数|参数可选性:任选参数；参数类型:整数；参数范围为:0~90。|最大备份文件数
FTPPATH|备份文件SFTP路径|参数可选性:特殊任选参数；参数类型:字符型；参数范围为:1~255个字符。|备份文件SFTP路径
FTPUSER|SFTP服务器用户名|参数可选性:特殊任选参数；参数类型:字符型；参数范围为:1~128个字符。|SFTP服务器用户名
FTPPWD|SFTP服务器密码|参数可选性:特殊任选参数；参数类型:字符型；参数范围为:1~64个字符。|SFTP服务器密码






命令举例 :

修改操作日志自动备份参数文件名为TEST,接入方式为NDF客户端,最大备份文件数为10. 


`SET AUTOBAKOPLOG:FILENAME="TEST",MODE="TERM_NDF",MAXFILE=10;` 




#### 查询操作日志自动备份参数(SHOW AUTOBAKOPLOG) 
#### 查询操作日志自动备份参数(SHOW AUTOBAKOPLOG) 


命令功能 :
该命令用于查询操作日志自动备份参数。


注意事项 :
无。


输出参数说明 :

标识|名称|类型|说明
---|---|---|---
FILENAME|文件名称|参数可选性:任选参数；参数类型:字符型。|备份文件名
MODE|接入方式|参数可选性:任选参数；参数类型:枚举。参见枚举定义。|用户登录网管或网元接入方式。OMM终端(TERM_WEB_GUI，TERM_WEB_GUI是命令参数里的枚举值)TELNET客户端(TERM_TELNET_SERVER，TERM_TELNET_SERVER是命令参数里的枚举值)EMS客户端(TERM_EMS，TERM_EMS是命令参数里的枚举值)NDF客户端(TERM_NDF，TERM_NDF是命令参数里的枚举值)SSH客户端(TERM_SSH_SERVER，TERM_SSH_SERVER是命令参数里的枚举值)4A客户端(TERM_4A，TERM_4A是命令参数里的枚举值)
MAXFILE|最大备份文件数|参数可选性:任选参数；参数类型:字符型。|最大备份文件数
FTPPATH|备份文件SFTP路径|参数可选性:任选参数；参数类型:字符型。|备份文件SFTP路径
FTPUSER|SFTP服务器用户名|参数可选性:任选参数；参数类型:字符型。|SFTP服务器用户名
FTPPWD|SFTP服务器密码|参数可选性:任选参数；参数类型:字符型。|SFTP服务器密码






命令举例 :

查询操作日志自动备份参数。 


`SHOW AUTOBAKOPLOG;` 


`

命令 (No.1): SHOW AUTOBAKOPLOG;

  文件名称   接入方式    最大备份文件数   备份文件SFTP路径             SFTP服务器用户名   SFTP服务器密码    
----------------------------------------------------------------------------------------------------------
  TEST       NDF客户端   10               sftp://10.42.7.53:22/home    root               ***               
----------------------------------------------------------------------------------------------------------
记录数 1

命令执行成功（耗时 0.034 秒）。
` 




### 安全日志管理 
### 安全日志管理 






#### 查询安全日志(SHOW SCRTLOG) 
#### 查询安全日志(SHOW SCRTLOG) 


命令功能 :

安全日志用于记录用户执行的安全事件，包括登录、注销、锁定用户、解锁用户等事件的详细信息。当需要追踪和审查用户在一定时间范围内相应的安全操作记录时，用户可使用该命令。系统根据输入的查询条件执行成功后，将在客户端返回满足用户需要的结果信息。 


如果查询结果集个数小于2000条，查询结果将直接显示在客户端供用户查看；如果查询结果集大于2000条且小于60000条，将生成文件并在客户端返回URL信息供用户点击下载查看；如果查询结果集大于60000条，将不能导出。 




注意事项 :
只有具有管理员角色权限的用户可以查询所有用户的安全日志，非管理员角色权限的用户只能查看自己的安全日志。查询该用户角色信息可通过[SHOW USER ROLE]命令查看，若查询结果的“角色名称”字段包含“管理员角色”，则该用户具有管理员权限。


参数说明 :

标识|名称|类型|说明
---|---|---|---
USERNAME|操作员|参数可选性:任选参数；参数类型:字符型；参数范围为:0~128个字符。|选择所需要查询的用户。用户名信息可通过SHOW USER命令查看。如果不设置该参数，则查询所有日志。
IPADDR|IP地址|参数可选性:任选参数；参数类型:地址|选择操作员维护终端的IP地址。
OPERATE|安全操作|参数可选性:任选参数；参数类型:枚举。参见枚举定义。|选择操作员登陆网管或网元所执行的安全操作。如果不设置该参数，则查询所有日志。登录成功(LOGINSUC，LOGINSUC是命令参数里的枚举值)：表示操作员通过本地认证登录网管客户端成功。登录失败(LOGINFAILURE，LOGINFAILURE是命令参数里的枚举值)：表示操作员通过本地认证登录网管客户端失败。注销(LOGOUT，LOGOUT是命令参数里的枚举值)：表示操作员成功退出网管客户端。安全事件(SECURITYEVENT，SECURITYEVENT是命令参数里的枚举值)：表示操作员在网管系统中的安全事件。用户生效,无效(USER VALID,INVALID，USER VALID,INVALID是命令参数里的枚举值)：表示用户生效,无效。操作鉴权成功(OPER AUTH SUCCESS，OPER AUTH SUCCESS是命令参数里的枚举值)：表示操作鉴权成功。操作鉴权失败(OPER AUTH FAIL，SECURITYEVE是命令参数里的枚举值)：表示操作鉴权失败。用户锁定(USER LOCKED，USER LOCKED是命令参数里的枚举值)：表示用户被锁定。用户踢出(USER SHOT OFF，USER SHOT OFF是命令参数里的枚举值)：表示用户被踢出。用户解锁(USER UNLOCKED，USER UNLOCKED是命令参数里的枚举值)：表示用户解锁。
MODE|接入方式|参数可选性:任选参数；参数类型:枚举。参见枚举定义。|选择用户登录网管或网元接入方式。OMM终端(TERM_WEB_GUI，TERM_WEB_GUI是命令参数里的枚举值)TELNET客户端(TERM_TELNET_SERVER，TERM_TELNET_SERVER是命令参数里的枚举值)EMS客户端(TERM_EMS，TERM_EMS是命令参数里的枚举值)NDF客户端(TERM_NDF，TERM_NDF是命令参数里的枚举值)SSH客户端(TERM_SSH_SERVER，TERM_SSH_SERVER是命令参数里的枚举值)4A客户端(TERM_4A，TERM_4A是命令参数里的枚举值)
DETAIL|操作详细信息|参数可选性:任选参数；参数类型:字符型；参数范围为:1~2000个字符。|选择操作员登陆网管或网元所执行的安全操作的详细信息。
BEGINDATE|开始时间|参数可选性:任选参数；参数类型:日期|配置查询某个时间段内安全日志的开始时间，单击输入文本框时，可以通过自动弹出的控件选择具体查询的时间，时间精确到秒。
ENDDATE|结束时间|参数可选性:任选参数；参数类型:日期|配置查询某个时间段内安全日志的结束时间，单击输入文本框时，可以通过自动弹出的控件选择具体查询的时间，时间精确到秒。






输出参数说明 :

标识|名称|类型|说明
---|---|---|---
USERNAME|操作员|参数可选性:任选参数；参数类型:字符型；参数范围为:0~128个字符。|发生该安全操作事件的操作员的用户名。
IPADDR|IP地址|参数可选性:任选参数；参数类型:字符型；参数范围为:0~60个字符。|执行该操作时，操作员维护终端的IP地址。
OPERATE|安全操作|参数可选性:任选参数；参数类型:枚举。参见枚举定义。|选择操作员登陆网管或网元所执行的安全操作。如果不设置该参数，则查询所有日志。登录成功(LOGINSUC，LOGINSUC是命令参数里的枚举值)：表示操作员通过本地认证登录网管客户端成功。登录失败(LOGINFAILURE，LOGINFAILURE是命令参数里的枚举值)：表示操作员通过本地认证登录网管客户端失败。注销(LOGOUT，LOGOUT是命令参数里的枚举值)：表示操作员成功退出网管客户端。安全事件(SECURITYEVENT，SECURITYEVENT是命令参数里的枚举值)：表示操作员在网管系统中的安全事件。用户生效,无效(USER VALID,INVALID，USER VALID,INVALID是命令参数里的枚举值)：表示用户生效,无效。操作鉴权成功(OPER AUTH SUCCESS，OPER AUTH SUCCESS是命令参数里的枚举值)：表示操作鉴权成功。操作鉴权失败(OPER AUTH FAIL，SECURITYEVE是命令参数里的枚举值)：表示操作鉴权失败。用户锁定(USER LOCKED，USER LOCKED是命令参数里的枚举值)：表示用户被锁定。用户踢出(USER SHOT OFF，USER SHOT OFF是命令参数里的枚举值)：表示用户被踢出。用户解锁(USER UNLOCKED，USER UNLOCKED是命令参数里的枚举值)：表示用户解锁。
DATE|操作时间|参数可选性:任选参数；参数类型:字符型；参数范围为:0~100个字符。|该安全操作事件执行的开始时间。
MODE|接入方式|参数可选性:任选参数；参数类型:枚举。参见枚举定义。|该安全操作事件发生时，操作员接入网管的方式。OMM终端(TERM_WEB_GUI，TERM_WEB_GUI是命令参数里的枚举值)TELNET客户端(TERM_TELNET_SERVER，TERM_TELNET_SERVER是命令参数里的枚举值)EMS客户端(TERM_EMS，TERM_EMS是命令参数里的枚举值)NDF客户端(TERM_NDF，TERM_NDF是命令参数里的枚举值)SSH客户端(TERM_SSH_SERVER，TERM_SSH_SERVER是命令参数里的枚举值)4A客户端(TERM_4A，TERM_4A是命令参数里的枚举值)
DETAIL|操作详细信息|参数可选性:任选参数；参数类型:字符型；参数范围为:0~2000个字符。|操作员登陆网管或网元所执行的安全操作事件的详细信息。






命令举例 :

查询用户admin, 且该用户的终端的IP地址为10.42.16.141, 在2019-12-12 09:00:00至2019-12-12 10:00:00时间范围内，登录成功的安全日志。 


`SHOW SCRTLOG:USERNAME="admin",IPADDR="10.42.16.141",BEGINDATE="2019-12-12 09:00:00",ENDDATE="2019-12-12 10:00:00";` 


`

命令 (No.1): SHOW SCRTLOG:USERNAME="admin",IPADDR="10.42.16.141",BEGINDATE="2019-12-12 09:00:00",ENDDATE="2019-12-12 10:00:00";

  操作员   IP地址         安全操作   操作时间              接入方式       操作详细信息
----------------------------------------------------------------------------------------
  admin    10.42.16.141   登录成功   2019-12-12 10:04:23   SSH客户端
  admin    10.42.16.141   登录成功   2019-12-12 09:57:04   SSH客户端
----------------------------------------------------------------------------------------
记录数 2

命令执行成功（耗时 0.057 秒）。
` 




#### 备份安全日志(BAK SCRTLOG) 
#### 备份安全日志(BAK SCRTLOG) 


命令功能 :
该命令用于通过直连接口方式备份安全日志，适用于NDF客户端。


注意事项 :
无。


参数说明 :

标识|名称|类型|说明
---|---|---|---
FILENAME|文件名称|参数可选性:必选参数；参数类型:字符型；参数范围为:1~128个字符。|备份文件名称。
MODE|接入方式|参数可选性:任选参数；参数类型:枚举。参见枚举定义。默认值:TERM_NDF。|选择用户登录网管或网元接入方式。OMM终端(TERM_WEB_GUI，TERM_WEB_GUI是命令参数里的枚举值)TELNET客户端(TERM_TELNET_SERVER，TERM_TELNET_SERVER是命令参数里的枚举值)EMS客户端(TERM_EMS，TERM_EMS是命令参数里的枚举值)NDF客户端(TERM_NDF，TERM_NDF是命令参数里的枚举值)SSH客户端(TERM_SSH_SERVER，TERM_SSH_SERVER是命令参数里的枚举值)4A客户端(TERM_4A，TERM_4A是命令参数里的枚举值)
TIMERANGE|时间范围(天)|参数可选性:任选参数；参数类型:整数；参数范围为:1~90。默认值:1。|时间范围(天)
FTPPATH|备份文件SFTP路径|参数可选性:特殊任选参数；参数类型:字符型；参数范围为:1~255个字符。|备份文件SFTP路径，例如：sftp://10.0.0.35/backup/。
FTPUSER|SFTP服务器用户名|参数可选性:特殊任选参数；参数类型:字符型；参数范围为:1~128个字符。|SFTP服务器用户名
FTPPWD|SFTP服务器密码|参数可选性:特殊任选参数；参数类型:字符型；参数范围为:1~64个字符。|SFTP服务器密码






命令举例 :

备份安全日志文件名为"TEST",接入方式为"TERM_WEB_GUI",时间范围为5天. 


`BAK SCRTLOG:FILENAME="TEST",MODE="TERM_WEB_GUI",TIMERANGE=5;` 




#### 导出安全日志(EXPORT SCRTLOG) 
#### 导出安全日志(EXPORT SCRTLOG) 


命令功能 :
导出安全日志。如果查询结果集大于60000条，将不能导出。


注意事项 :
无。


参数说明 :

标识|名称|类型|说明
---|---|---|---
MODE|接入方式|参数可选性:任选参数；参数类型:枚举。参见枚举定义。默认值:TERM_NDF。|选择用户登录网管或网元接入方式。OMM终端(TERM_WEB_GUI，TERM_WEB_GUI是命令参数里的枚举值)TELNET客户端(TERM_TELNET_SERVER，TERM_TELNET_SERVER是命令参数里的枚举值)EMS客户端(TERM_EMS，TERM_EMS是命令参数里的枚举值)NDF客户端(TERM_NDF，TERM_NDF是命令参数里的枚举值)SSH客户端(TERM_SSH_SERVER，TERM_SSH_SERVER是命令参数里的枚举值)4A客户端(TERM_4A，TERM_4A是命令参数里的枚举值)
BEGINTIME|开始时间|参数可选性:任选参数；参数类型:日期|配置导出某个时间段内安全日志的开始时间
ENDTIME|结束时间|参数可选性:任选参数；参数类型:日期|配置导出某个时间段内安全日志的结束时间
FTPPATH|备份文件SFTP路径|参数可选性:特殊任选参数；参数类型:字符型；参数范围为:1~255个字符。|备份文件SFTP路径
FTPUSER|SFTP服务器用户名|参数可选性:特殊任选参数；参数类型:字符型；参数范围为:1~128个字符。|SFTP服务器用户名
FTPPWD|SFTP服务器密码|参数可选性:特殊任选参数；参数类型:字符型；参数范围为:1~64个字符。|SFTP服务器密码






命令举例 :

导出安全日志。 


`EXPORT SCRTLOG;` 


`

命令 (No.1): EXPORT SCRTLOG;

 SFTP IP地址   SFTP端口   用户名   密码   备份目录                                            FTP类型
-------------------------------------------------------------------------------------------------------
 10.42.7.53    29029      ndf      ***    ndf/scrtlog/Handwork-export/20200923081533.txt   SFTP
-------------------------------------------------------------------------------------------------------
记录数 1

命令执行成功（耗时 0.034 秒）。
` 




#### 查询所有安全日志(SHOW ALL SCRTLOG) 
#### 查询所有安全日志(SHOW ALL SCRTLOG) 


命令功能 :

安全日志用于记录用户执行的安全事件，包括登录、注销、锁定用户、解锁用户等事件的详细信息。当需要追踪和审查用户在一定时间范围内相应的安全操作记录时，用户可使用该命令。系统根据输入的查询条件执行成功后，将在客户端返回满足用户需要的结果信息。 


如果查询结果集个数小于2000条，查询结果将直接显示在客户端供用户查看；如果查询结果集大于2000条且小于60000条，将生成文件并在客户端返回URL信息供用户点击下载查看；如果查询结果集大于60000条，将不能导出。 




注意事项 :
无。


参数说明 :

标识|名称|类型|说明
---|---|---|---
USERNAME|操作员|参数可选性:任选参数；参数类型:字符型；参数范围为:0~128个字符。|选择所需要查询的用户。用户名信息可通过SHOW USER命令查看。如果不设置该参数，则查询所有日志。
IPADDR|IP地址|参数可选性:任选参数；参数类型:地址|选择操作员维护终端的IP地址。
OPERATE|安全操作|参数可选性:任选参数；参数类型:枚举。参见枚举定义。|选择操作员登陆网管或网元所执行的安全操作。如果不设置该参数，则查询所有日志。登录成功(LOGINSUC，LOGINSUC是命令参数里的枚举值)：表示操作员通过本地认证登录网管客户端成功。登录失败(LOGINFAILURE，LOGINFAILURE是命令参数里的枚举值)：表示操作员通过本地认证登录网管客户端失败。注销(LOGOUT，LOGOUT是命令参数里的枚举值)：表示操作员成功退出网管客户端。安全事件(SECURITYEVENT，SECURITYEVENT是命令参数里的枚举值)：表示操作员在网管系统中的安全事件。用户生效,无效(USER VALID,INVALID，USER VALID,INVALID是命令参数里的枚举值)：表示用户生效,无效。操作鉴权成功(OPER AUTH SUCCESS，OPER AUTH SUCCESS是命令参数里的枚举值)：表示操作鉴权成功。操作鉴权失败(OPER AUTH FAIL，SECURITYEVE是命令参数里的枚举值)：表示操作鉴权失败。用户锁定(USER LOCKED，USER LOCKED是命令参数里的枚举值)：表示用户被锁定。用户踢出(USER SHOT OFF，USER SHOT OFF是命令参数里的枚举值)：表示用户被踢出。用户解锁(USER UNLOCKED，USER UNLOCKED是命令参数里的枚举值)：表示用户解锁。
MODE|接入方式|参数可选性:任选参数；参数类型:枚举。参见枚举定义。|选择用户登录网管或网元接入方式。OMM终端(TERM_WEB_GUI，TERM_WEB_GUI是命令参数里的枚举值)TELNET客户端(TERM_TELNET_SERVER，TERM_TELNET_SERVER是命令参数里的枚举值)EMS客户端(TERM_EMS，TERM_EMS是命令参数里的枚举值)NDF客户端(TERM_NDF，TERM_NDF是命令参数里的枚举值)SSH客户端(TERM_SSH_SERVER，TERM_SSH_SERVER是命令参数里的枚举值)4A客户端(TERM_4A，TERM_4A是命令参数里的枚举值)
DETAIL|操作详细信息|参数可选性:任选参数；参数类型:字符型；参数范围为:1~2000个字符。|选择操作员登陆网管或网元所执行的安全操作的详细信息。
BEGINDATE|开始时间|参数可选性:任选参数；参数类型:日期|配置查询某个时间段内安全日志的开始时间，单击输入文本框时，可以通过自动弹出的控件选择具体查询的时间，时间精确到秒。
ENDDATE|结束时间|参数可选性:任选参数；参数类型:日期|配置查询某个时间段内安全日志的结束时间，单击输入文本框时，可以通过自动弹出的控件选择具体查询的时间，时间精确到秒。






输出参数说明 :

标识|名称|类型|说明
---|---|---|---
USERNAME|操作员|参数可选性:任选参数；参数类型:字符型；参数范围为:0~128个字符。|发生该安全操作事件的操作员的用户名。
IPADDR|IP地址|参数可选性:任选参数；参数类型:字符型；参数范围为:0~60个字符。|执行该操作时，操作员维护终端的IP地址。
OPERATE|安全操作|参数可选性:任选参数；参数类型:枚举。参见枚举定义。|选择操作员登陆网管或网元所执行的安全操作。如果不设置该参数，则查询所有日志。登录成功(LOGINSUC，LOGINSUC是命令参数里的枚举值)：表示操作员通过本地认证登录网管客户端成功。登录失败(LOGINFAILURE，LOGINFAILURE是命令参数里的枚举值)：表示操作员通过本地认证登录网管客户端失败。注销(LOGOUT，LOGOUT是命令参数里的枚举值)：表示操作员成功退出网管客户端。安全事件(SECURITYEVENT，SECURITYEVENT是命令参数里的枚举值)：表示操作员在网管系统中的安全事件。用户生效,无效(USER VALID,INVALID，USER VALID,INVALID是命令参数里的枚举值)：表示用户生效,无效。操作鉴权成功(OPER AUTH SUCCESS，OPER AUTH SUCCESS是命令参数里的枚举值)：表示操作鉴权成功。操作鉴权失败(OPER AUTH FAIL，SECURITYEVE是命令参数里的枚举值)：表示操作鉴权失败。用户锁定(USER LOCKED，USER LOCKED是命令参数里的枚举值)：表示用户被锁定。用户踢出(USER SHOT OFF，USER SHOT OFF是命令参数里的枚举值)：表示用户被踢出。用户解锁(USER UNLOCKED，USER UNLOCKED是命令参数里的枚举值)：表示用户解锁。
DATE|操作时间|参数可选性:任选参数；参数类型:字符型；参数范围为:0~100个字符。|该安全操作事件执行的开始时间。
MODE|接入方式|参数可选性:任选参数；参数类型:枚举。参见枚举定义。|该安全操作事件发生时，操作员接入网管的方式。OMM终端(TERM_WEB_GUI，TERM_WEB_GUI是命令参数里的枚举值)TELNET客户端(TERM_TELNET_SERVER，TERM_TELNET_SERVER是命令参数里的枚举值)EMS客户端(TERM_EMS，TERM_EMS是命令参数里的枚举值)NDF客户端(TERM_NDF，TERM_NDF是命令参数里的枚举值)SSH客户端(TERM_SSH_SERVER，TERM_SSH_SERVER是命令参数里的枚举值)4A客户端(TERM_4A，TERM_4A是命令参数里的枚举值)
DETAIL|操作详细信息|参数可选性:任选参数；参数类型:字符型；参数范围为:0~2000个字符。|操作员登陆网管或网元所执行的安全操作事件的详细信息。






命令举例 :

查询用户admin, 且该用户的终端的IP地址为10.42.16.141, 在2019-12-12 09:00:00至2019-12-12 10:00:00时间范围内，登录成功的安全日志。 


`SHOW ALL SCRTLOG:USERNAME="admin",IPADDR="10.42.16.141",BEGINDATE="2019-12-12 09:00:00",ENDDATE="2019-12-12 10:00:00";` 


`

命令 (No.1): SHOW ALL SCRTLOG:USERNAME="admin",IPADDR="10.42.16.141",BEGINDATE="2019-12-12 09:00:00",ENDDATE="2019-12-12 10:00:00";

  操作员   IP地址         安全操作   操作时间              接入方式       操作详细信息
----------------------------------------------------------------------------------------
  admin    10.42.16.141   登录成功   2019-12-12 10:04:23   SSH客户端
  admin    10.42.16.141   登录成功   2019-12-12 09:57:04   SSH客户端
----------------------------------------------------------------------------------------
记录数 2

命令执行成功（耗时 0.057 秒）。
` 




### 系统日志管理 
### 系统日志管理 






#### 查询系统日志(SHOW SYSLOG) 
#### 查询系统日志(SHOW SYSLOG) 


命令功能 :

系统日志用于记录服务器定时任务的完成情况，包括日志名称、详细信息、操作开始时间、操作结束时间。当需要查询服务器在一定时间范围内相应的操作记录时，用户可使用该命令。系统根据输入的查询条件执行成功后，将在客户端返回满足用户需要的结果信息。 


如果查询结果集个数小于2000条，查询结果将直接显示在客户端供用户查看；如果查询结果集大于2000条且小于60000条，将生成文件并在客户端返回URL信息供用户点击下载查看；如果查询结果集大于60000条，将不能导出。 




注意事项 :
无。


参数说明 :

标识|名称|类型|说明
---|---|---|---
SYSRAND|级别|参数可选性:任选参数；参数类型:枚举。参见枚举定义。|选择系统日志的级别。系统上报时会上报日志所对应的级别，该级别信息不能被用户设定。如果不设置该参数，则查询所有日志。致命：系统执行的操作存在严重问题，应立即被纠正。严重：系统执行的操作存在严重错误。重要：系统执行的操作存在问题。警告：系统执行操作属于警告级别。提醒：系统执行的操作需要注意。正常：系统执行的操作正常。
FUNCNAME|功能名称|参数可选性:任选参数；参数类型:字符型；参数范围为:0~200个字符。|输入系统日志的功能名称。发生该系统上报日志的管理模块。如果不设置该参数，则查询所有日志。
LOGNAME|日志名称|参数可选性:任选参数；参数类型:字符型；参数范围为:0~500个字符。|输入选择系统日志的名称。该名称为系统执行的任务。如果不设置该参数，则查询所有日志。
SYSDETAIL|操作详细信息|参数可选性:任选参数；参数类型:字符型；参数范围为:1~2000个字符。|输入日志的详细信息。即系统执行任务中所涉及的详细信息。如果不设置该参数，则查询所有日志。
BEGINDATE|开始时间|参数可选性:任选参数；参数类型:日期|配置查询某个时间段内系统日志的开始时间，单击输入文本框时，可以通过自动弹出的控件选择具体查询的时间，时间精确到秒。
ENDDATE|结束时间|参数可选性:任选参数；参数类型:日期|配置查询某个时间段内系统日志的结束时间，单击输入文本框时，可以通过自动弹出的控件选择具体查询的时间，时间精确到秒。






输出参数说明 :

标识|名称|类型|说明
---|---|---|---
SYSRAND|级别|参数可选性:任选参数；参数类型:枚举。参见枚举定义。|系统日志的级别。系统上报时会上报日志所对应的级别，该级别信息不能被用户设定。如果不设置该参数，则查询所有日志。致命：系统执行的操作存在严重问题，应立即被纠正。严重：系统执行的操作存在严重错误。重要：系统执行的操作存在问题。警告：系统执行操作属于警告级别。提醒：系统执行的操作需要注意。正常：系统执行的操作正常。
FUNCNAME|功能名称|参数可选性:任选参数；参数类型:字符型；参数范围为:0~200个字符。|系统日志的功能名称。发生该系统上报日志的管理模块。
LOGNAME|日志名称|参数可选性:任选参数；参数类型:字符型；参数范围为:0~500个字符。|系统日志的名称。该名称为系统执行的任务。
SYSDETAIL|详细信息|参数可选性:任选参数；参数类型:字符型；参数范围为:0~2000个字符。|日志的详细信息。即系统执行任务中所涉及的详细信息。
BEGINDATE|开始时间|参数可选性:任选参数；参数类型:字符型；参数范围为:0~100个字符。|该日志事件执行的开始时间，精确到秒。
ENDDATE|结束时间|参数可选性:任选参数；参数类型:字符型；参数范围为:0~100个字符。|该日志事件执行的结束时间，精确到秒。






命令举例 :

查询日志级别为普通，在2019-12-12 04:20:00与2019-12-12 06:00:00时间范围内的系统日志。 


`SHOW SYSLOG:SYSRAND="INFORMATION",BEGINDATE="2019-12-12 04:20:00",ENDDATE="2019-12-12 06:00:00";` 


`

命令 (No.1): SHOW SYSLOG:SYSRAND="INFORMATION",BEGINDATE="2019-12-12 04:20:00",ENDDATE="2019-12-12 06:00:00";

  级别   功能名称       日志名称       详细信息                                                                                                          开始时间              结束时间
--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
  普通   备份恢复管理   自动备份任务   输出目录:sftp://10.42.7.53:29029/Oamdata/default_bureau/oam/autobackup/5/,文件名:20191212042003_DBFILE_nf_2.zip   2019-12-12 04:20:04   2019-12-12 04:20:04
--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
记录数 1

命令执行成功（耗时 0.031 秒）。
` 




### 日志网关管理 
### 日志网关管理 






#### 设置日志网关推送配置(SET LOGGATEWAYCFG) 
#### 设置日志网关推送配置(SET LOGGATEWAYCFG) 


命令功能 :
设置日志网关推送配置


注意事项 :
无。


参数说明 :

标识|名称|类型|说明
---|---|---|---
OPLOGSWITCH|是否推送操作日志|参数可选性:任选参数；参数类型:枚举。参见枚举定义。|是否推送操作日志
OPLOGLEVEL|推送的操作日志级别|参数可选性:任选参数；参数类型:枚举。参见枚举定义。|推送的操作日志级别
SCRTLOGSWITCH|是否推送安全日志|参数可选性:任选参数；参数类型:枚举。参见枚举定义。|是否推送安全日志
SYSLOGSWITCH|是否推送系统日志|参数可选性:任选参数；参数类型:枚举。参见枚举定义。|是否推送系统日志
SENDTYPE|日志推送方式|参数可选性:任选参数；参数类型:枚举。参见枚举定义。|日志推送方式
ALARMSWITCH|是否推送告警信息|参数可选性:任选参数；参数类型:枚举。参见枚举定义。|是否推送告警信息
ALARMLEVEL|推送的告警级别|参数可选性:任选参数；参数类型:枚举。参见枚举定义。|推送的告警级别






命令举例 :
SET LOGGATEWAYCFG:OPLOGSWITCH="NO",SCRTLOGSWITCH="NO",SYSLOGSWITCH="NO",ALARMSWITCH="NO";


#### 查询日志网关推送配置(SHOW LOGGATEWAYCFG) 
#### 查询日志网关推送配置(SHOW LOGGATEWAYCFG) 


命令功能 :
查询日志网关推送配置


注意事项 :
无。


输出参数说明 :

标识|名称|类型|说明
---|---|---|---
OPLOGSWITCH|是否推送操作日志|参数可选性:任选参数；参数类型:枚举。参见枚举定义。|是否推送操作日志
OPLOGLEVEL|推送的操作日志级别|参数可选性:任选参数；参数类型:枚举。参见枚举定义。|推送的操作日志级别
SCRTLOGSWITCH|是否推送安全日志|参数可选性:任选参数；参数类型:枚举。参见枚举定义。|是否推送安全日志
SYSLOGSWITCH|是否推送系统日志|参数可选性:任选参数；参数类型:枚举。参见枚举定义。|是否推送系统日志
SENDTYPE|日志推送方式|参数可选性:任选参数；参数类型:枚举。参见枚举定义。|日志推送方式
ALARMSWITCH|是否推送告警信息|参数可选性:任选参数；参数类型:枚举。参见枚举定义。|是否推送告警信息
ALARMLEVEL|推送的告警级别|参数可选性:任选参数；参数类型:枚举。参见枚举定义。|推送的告警级别






命令举例 :

查询日志网关推送配置 


`SHOW LOGGATEWAYCFG;` 


`

命令(No.2): SHOW LOGGATEWAYCFG;
是否推送操作日志   推送的操作日志级别   是否推送安全日志   是否推送系统日志   日志推送方式   是否推送告警信息    推送的告警级别
--------------------------------------------------------------------------------------------------------------------------------
否                 非常重要             否                 否                 TCP            是                  严重
--------------------------------------------------------------------------------------------------------------------------------
记录数: 1

执行成功   耗时: 0.056 秒
` 




#### 导入TLS证书(IMPORT TLS CERT) 
#### 导入TLS证书(IMPORT TLS CERT) 


命令功能 :
导入TLS证书


注意事项 :
无。


参数说明 :

标识|名称|类型|说明
---|---|---|---
CACERTPATH|CA根证书文件的SFTP路径|参数可选性:必选参数；参数类型:字符型；参数范围为:1~256个字符。|CA根证书文件的SFTP路径
CACERTUSER|CA根证书文件的SFTP用户名|参数可选性:必选参数；参数类型:字符型；参数范围为:1~128个字符。|CA根证书文件的SFTP用户名
CACERTPWD|CA根证书文件的SFTP密码|参数可选性:必选参数；参数类型:字符型；参数范围为:1~128个字符。|CA根证书文件的SFTP密码
CLTCERTPATH|客户端证书文件的SFTP路径|参数可选性:必选参数；参数类型:字符型；参数范围为:1~256个字符。|客户端证书文件的SFTP路径
CLTCERTUSER|客户端证书文件的SFTP用户名|参数可选性:必选参数；参数类型:字符型；参数范围为:1~128个字符。|客户端证书文件的SFTP用户名
CLTCERTPWD|客户端证书文件的SFTP密码|参数可选性:必选参数；参数类型:字符型；参数范围为:1~128个字符。|客户端证书文件的SFTP密码
CLIENTKEYPATH|客户端证书密钥文件的SFTP路径|参数可选性:必选参数；参数类型:字符型；参数范围为:1~256个字符。|客户端证书密钥文件的SFTP路径
CLIENTKEYUSER|客户端证书密钥文件的SFTP用户名|参数可选性:必选参数；参数类型:字符型；参数范围为:1~128个字符。|客户端证书密钥文件的SFTP用户名
CLIENTKEYPWD|客户端证书密钥文件的SFTP密码|参数可选性:必选参数；参数类型:字符型；参数范围为:1~128个字符。|客户端证书密钥文件的SFTP密码






命令举例 :

导入TLS证书。 


`IMPORT TLS CERT:CACERTPATH="SFTP://10.228.122.36:22/Oamdata/log/ca.crt",CACERTUSER="cn-5g-inner-oper",CACERTPWD="***",CLTCERTPATH="SFTP://10.228.122.36:22/Oamdata/log/client.crt",CLTCERTUSER="cn-5g-inner-oper",CLTCERTPWD="***",CLIENTKEYPATH="SFTP://10.228.122.36:22/Oamdata/log/client.key",CLIENTKEYUSER="cn-5g-inner-oper",CLIENTKEYPWD="***";` 




#### 新增日志网关服务器(ADD LOGGATEWAY SERVER) 
#### 新增日志网关服务器(ADD LOGGATEWAY SERVER) 


命令功能 :
新增日志网关服务器


注意事项 :
无。


参数说明 :

标识|名称|类型|说明
---|---|---|---
IP|日志网关地址|参数可选性:必选参数；参数类型:地址|日志网关地址
PORT|日志网关端口|参数可选性:必选参数；参数类型:整数；参数范围为:0~65535。|日志网关端口






命令举例 :
ADD LOGGATEWAY SERVER:IP="10.220.1.100",PORT=514;


#### 删除日志网关服务器(DEL LOGGATEWAY SERVER) 
#### 删除日志网关服务器(DEL LOGGATEWAY SERVER) 


命令功能 :
删除日志网关服务器


注意事项 :
无。


参数说明 :

标识|名称|类型|说明
---|---|---|---
IP|日志网关地址|参数可选性:必选参数；参数类型:地址|日志网关地址
PORT|日志网关端口|参数可选性:必选参数；参数类型:整数；参数范围为:0~65535。|日志网关端口






命令举例 :
DEL LOGGATEWAY SERVER:IP="10.220.1.100",PORT=514;


#### 查询日志网关服务器(SHOW LOGGATEWAY SERVER) 
#### 查询日志网关服务器(SHOW LOGGATEWAY SERVER) 


命令功能 :
查询日志网关服务器


注意事项 :
无。


参数说明 :

标识|名称|类型|说明
---|---|---|---
IP|日志网关地址|参数可选性:任选参数；参数类型:地址|日志网关地址
PORT|日志网关端口|参数可选性:任选参数；参数类型:整数；参数范围为:0~65535。|日志网关端口






输出参数说明 :

标识|名称|类型|说明
---|---|---|---
IP|日志网关地址|参数可选性:任选参数；参数类型:地址|日志网关地址
PORT|日志网关端口|参数可选性:任选参数；参数类型:整数。|日志网关端口






命令举例 :

查询日志网关服务器 


`SHOW LOGGATEWAY SERVER;` 


`

命令(No.2): SHOW LOGGATEWAY SERVER;
日志网关地址   日志网关端口
---------------------------
10.220.1.100   514    
---------------------------
记录数: 1

执行成功   耗时: 0.026 秒
` 




#### 设置Syslog服务器(SET SYSLOG SVR) 
#### 设置Syslog服务器(SET SYSLOG SVR) 


命令功能 :
该命令用于设置Syslog服务器的参数。


注意事项 :
设置Syslog服务器的参数。如果是首次设置且所有参数都为空，则默认添加参数：IP=127.0.0.1,PORT=514,LOGTYPE=操作，安全，系统日志


参数说明 :

标识|名称|类型|说明
---|---|---|---
IP|IP地址|参数可选性:任选参数；参数类型:地址|Syslog服务器的IP地址
PORT|端口|参数可选性:任选参数；参数类型:整数；参数范围为:1~65535。|Syslog服务器的端口
LOGTYPE|日志类型|参数可选性:任选参数；参数类型:枚举。参见枚举定义。|日志类型






命令举例 :
SET SYSLOG SVR:IP="1.1.1.1",PORT=514,LOGTYPE="Oplog"


#### 删除Syslog服务器(DEL SYSLOG SVR) 
#### 删除Syslog服务器(DEL SYSLOG SVR) 


命令功能 :
该命令用于删除Syslog服务器的参数。


注意事项 :
删除Syslog服务器的参数


输出参数说明 :

标识|名称|类型|说明
---|---|---|---
IP|IP地址|参数可选性:任选参数；参数类型:字符型；参数范围为:1~64个字符。|Syslog服务器的IP地址
PORT|端口|参数可选性:任选参数；参数类型:整数；参数范围为:1~65535。|Syslog服务器的端口
LOGTYPE|日志类型|参数可选性:任选参数；参数类型:枚举。参见枚举定义。|日志类型






命令举例 :
DEL SYSLOG SVR


#### 查询Syslog服务器(SHOW SYSLOG SVR) 
#### 查询Syslog服务器(SHOW SYSLOG SVR) 


命令功能 :
该命令用于查询Syslog服务器的参数。


注意事项 :
查询Syslog服务器信息


输出参数说明 :

标识|名称|类型|说明
---|---|---|---
IP|IP地址|参数可选性:任选参数；参数类型:字符型；参数范围为:1~64个字符。|Syslog服务器的IP地址
PORT|端口|参数可选性:任选参数；参数类型:整数；参数范围为:1~65535。|Syslog服务器的端口
LOGTYPE|日志类型|参数可选性:任选参数；参数类型:枚举。参见枚举定义。|日志类型






命令举例 :

查询Syslog服务器 


`SHOW SYSLOG SVR;` 


`

命令(No.2): SHOW SYSLOG SVR;
IP地址     端口   日志类型
---------------------------
10.1.1.1   514    操作日志
---------------------------
记录数: 1

执行成功   耗时: 0.026 秒
` 




### 导出日志管理 
### 导出日志管理 






#### 修改日志数据导出清理参数(SET LOGCLEAR PARAM) 
#### 修改日志数据导出清理参数(SET LOGCLEAR PARAM) 


命令功能 :

该命令用于修改日志数据导出清理参数相关配置信息。当需要修改系统清理日志数据的时间点、日志数据保留的天数、关闭或者开启每日定时清理数据任务以及修改导出文件保留的天数等信息时，用户可使用该命令。设置成功后，将在客户端返回修改后的配置参数信息供用户查看。 




注意事项 :


 
导出数据文件非永久保存，保存天数由“导出文件保存的天数”决定，过期将被删除。 

 




参数说明 :

标识|名称|类型|说明
---|---|---|---
CMDLOGDAY|操作日志保留天数|参数可选性:任选参数；参数类型:整数；参数范围为:1~1000。|操作日志需要保留的天数。定时清理操作日志时，会删除超过该设置天数的操作日志记录。
SECLOGDAY|安全日志保留天数|参数可选性:任选参数；参数类型:整数；参数范围为:1~1000。|安全日志需要保留的天数。定时清理安全日志时，会删除超过该设置天数的安全日志记录。
SYSLOGDAY|系统日志保留天数|参数可选性:任选参数；参数类型:整数；参数范围为:1~1000。|系统日志需要保留的天数。定时清理系统日志时，会删除超过该设置天数的系统日志记录。
MAXCOUNT|最大保存记录数(万)|参数可选性:任意单选参数；参数类型:整数；参数范围为:12~1000。|最大保存日志记录数，单位为万。当定时清理日志时，若发现操作日志表，安全日志表以及系统日志表中的数据记录数超过该值时，将删除多余的最早的日志记录。
MAXSPACE|最大保存空间(M)|参数可选性:任意单选参数；参数类型:整数；参数范围为:120~10000。|最大保存空间(M)
CLEARINGTIME|每日导出清理的时间点|参数可选性:任选参数；参数类型:枚举。参见枚举定义。|选择每日开始执行清理导出数据的时间点。00:00 01:00 02:00 03:00 04:00 05:00
IFEXPORT|是否导出清理数据|参数可选性:任选参数；参数类型:枚举。参见枚举定义。|选择是否需要系统将每日定时清理的数据导出。是(YES，YES是命令参数里的枚举值)：表示需要系统将每日定时清理的数据导出。否(NO，NO是命令参数里的枚举值)：表示不需要系统将每日定时清理的数据导出。
EXPORTFILEDAY|导出文件保存天数|参数可选性:任选参数；参数类型:整数；参数范围为:1~90。|清理数据所生成的文件保存的天数。
IFUPLOAD|是否转储导出文件|参数可选性:任选参数；参数类型:枚举。参见枚举定义。|选择清理数据所生成的文件是否需要上传到SFTP服务器上。是(YES，YES是命令参数里的枚举值)：表示清理数据所生成的文件需要转储到SFTP服务器上。否(NO，NO是命令参数里的枚举值)：表示清理数据所生成的文件不需要转储到SFTP服务器上。
FTPPATH|转储路径|参数可选性:特殊任选参数；参数类型:字符型；参数范围为:1~255个字符。|转储文件上传到某服务器上的具体路径。
FTPUSER|转储服务器用户名|参数可选性:特殊任选参数；参数类型:字符型；参数范围为:1~128个字符。|上传的SFTP服务器的用户名。
FTPPWD|转储服务器密码|参数可选性:特殊任选参数；参数类型:字符型；参数范围为:1~64个字符。|上传到SFTP服务器的密码。






命令举例 :

修改操作日志、安全日志、系统日志保留天数为30天。 


`SET LOGCLEAR PARAM:CMDLOGDAY=30,SECLOGDAY=30,SYSLOGDAY=30;` 




#### 查询日志数据导出清理参数(SHOW LOGCLEAR PARAM) 
#### 查询日志数据导出清理参数(SHOW LOGCLEAR PARAM) 


命令功能 :

该命令用于查询日志数据导出清理参数。 




注意事项 :


 
导出数据文件非永久保存，保存天数由“导出文件保存的天数”决定，过期将被删除。 

 




输出参数说明 :

标识|名称|类型|说明
---|---|---|---
CMDLOGDAY|操作日志保留天数|参数可选性:任选参数；参数类型:整数。|操作日志需要保留的天数。定时清理操作日志时，会删除超过该设置天数的操作日志记录。
SECLOGDAY|安全日志保留天数|参数可选性:任选参数；参数类型:整数。|安全日志需要保留的天数。定时清理安全日志时，会删除超过该设置天数的安全日志记录。
SYSLOGDAY|系统日志保留天数|参数可选性:任选参数；参数类型:整数。|系统日志需要保留的天数。定时清理系统日志时，会删除超过该设置天数的系统日志记录。
MAXCOUNT|最大保存记录数(万)|参数可选性:任选参数；参数类型:整数。|最大保存日志记录数，单位为万。当定时清理日志时，若发现操作日志表，安全日志表以及系统日志表中的数据记录数超过该值时，将删除多余的最早的日志记录。
MAXSPACE|最大保存空间(M)|参数可选性:任选参数；参数类型:整数。|最大保存空间(M)
CLEARINGTIME|每日导出清理的时间点|参数可选性:任选参数；参数类型:枚举。参见枚举定义。|选择每日开始执行清理导出数据的时间点。00:00 01:00 02:00 03:00 04:00 05:00
IFEXPORT|是否导出清理数据|参数可选性:任选参数；参数类型:枚举。参见枚举定义。|选择是否需要系统将每日定时清理的数据导出。是(YES，YES是命令参数里的枚举值)：表示需要系统将每日定时清理的数据导出。否(NO，NO是命令参数里的枚举值)：表示不需要系统将每日定时清理的数据导出。
EXPORTFILEDAY|导出文件保存天数|参数可选性:任选参数；参数类型:整数。|清理数据所生成的文件保存的天数。
IFUPLOAD|是否转储导出文件|参数可选性:任选参数；参数类型:枚举。参见枚举定义。|选择清理数据所生成的文件是否需要上传到SFTP服务器上。是(YES，YES是命令参数里的枚举值)：表示清理数据所生成的文件需要转储到SFTP服务器上。否(NO，NO是命令参数里的枚举值)：表示清理数据所生成的文件不需要转储到SFTP服务器上。
FTPPATH|转储路径|参数可选性:任选参数；参数类型:字符型。|转储文件上传到某服务器上的具体路径。
FTPUSER|转储服务器用户名|参数可选性:任选参数；参数类型:字符型。|上传的SFTP服务器的用户名。






命令举例 :

查询日志数据导出清理参数。 


`SHOW LOGCLEAR PARAM;` 


`

命令 (No.1): SHOW LOGCLEAR PARAM;

 操作日志保留天数   安全日志保留天数   系统日志保留天数   最大保存记录数(万)   最大保存空间(M)   每日导出清理的时间点   是否导出清理数据   导出文件保存天数   是否转储导出文件   转储路径   转储服务器用户名
-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
 1                  1                  13                 12                   120               02:00                  是                 5                  否                                            
-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
记录数 1

命令执行成功（耗时 0.034 秒）。
` 




#### 添加导出日志服务器(ADD LOGEXPORT PARAM) 
#### 添加导出日志服务器(ADD LOGEXPORT PARAM) 


命令功能 :
该命令用于新增SFTP服务器用于存储日志


注意事项 :
保存sftp地址用来上传日志


参数说明 :

标识|名称|类型|说明
---|---|---|---
FTPPATH|SFTP路径|参数可选性:必选参数；参数类型:字符型；参数范围为:1~255个字符。|备份文件SFTP路径
FTPUSER|SFTP服务器用户名|参数可选性:必选参数；参数类型:字符型；参数范围为:1~128个字符。|SFTP服务器用户名
FTPPWD|SFTP服务器密码|参数可选性:必选参数；参数类型:字符型；参数范围为:1~64个字符。|SFTP服务器密码
EXPTTIME|日志导出时间|参数可选性:必选参数；参数类型:枚举。参见枚举定义。|日志导出时间
LOGTYPE|日志类型|参数可选性:必选参数；参数类型:枚举。参见枚举定义。|日志类型






命令举例 :
ADD LOGEXPORT PARAM:EXPTTIME=02:30,LOGTYPE=1,FTPPATH="sftp://10.42.6.12:22/root/log",FTPUSER="root",FTPPWD="***"


#### 删除导出日志服务器(DEL LOGEXPORT PARAM) 
#### 删除导出日志服务器(DEL LOGEXPORT PARAM) 


命令功能 :
该命令用于删除指定的SFTP服务器。


注意事项 :
删除导出日志的sftp信息


参数说明 :

标识|名称|类型|说明
---|---|---|---
ID|SFTP服务ID|参数可选性:必选参数；参数类型:整数；参数范围为:1~5。|SFTP服务ID






命令举例 :
DEL LOGEXPORT PARAM:ID=1


#### 修改导出日志服务器(SET LOGEXPORT PARAM) 
#### 修改导出日志服务器(SET LOGEXPORT PARAM) 


命令功能 :
该命令用于设置SFTP服务器的参数。


注意事项 :
设置上传日志的sftp信息


参数说明 :

标识|名称|类型|说明
---|---|---|---
ID|SFTP服务ID|参数可选性:必选参数；参数类型:整数；参数范围为:1~5。|SFTP服务ID
FTPPATH|SFTP路径|参数可选性:特殊任选参数；参数类型:字符型；参数范围为:1~255个字符。|备份文件SFTP路径
FTPUSER|SFTP服务器用户名|参数可选性:特殊任选参数；参数类型:字符型；参数范围为:1~128个字符。|SFTP服务器用户名
FTPPWD|SFTP服务器密码|参数可选性:特殊任选参数；参数类型:字符型；参数范围为:1~64个字符。|SFTP服务器密码
EXPTTIME|日志导出时间|参数可选性:任选参数；参数类型:枚举。参见枚举定义。|日志导出时间
LOGTYPE|日志类型|参数可选性:任选参数；参数类型:枚举。参见枚举定义。|日志类型






命令举例 :
SET LOGEXPORT PARAM:ID=1,LOGTYPE=2


#### 查询导出日志服务器(SHOW LOGEXPORT PARAM) 
#### 查询导出日志服务器(SHOW LOGEXPORT PARAM) 


命令功能 :
该命令用于查询SFTP服务器记录。


注意事项 :
查询上传日志的sftp信息


输出参数说明 :

标识|名称|类型|说明
---|---|---|---
ID|保存SFTP服务ID|参数可选性:任选参数；参数类型:整数。|保存SFTP服务ID
FTPPATH|SFTP路径|参数可选性:任选参数；参数类型:字符型。|转储路径
FTPUSER|转储服务器用户名|参数可选性:任选参数；参数类型:字符型。|转储服务器用户名
LOGTYPE|日志类型|参数可选性:任选参数；参数类型:枚举。参见枚举定义。|日志类型
EXPTIME|导出时间|参数可选性:任选参数；参数类型:枚举。参见枚举定义。|导出时间






命令举例 :

查询SFTP记录. 


`SHOW LOGEXPORT PARAM` 


`

命令(No.2): SHOW LOGEXPORT PARAM
保存SFTP服务ID 转储路径                      转储服务器用户名 日志类型 导出时间 
--------------------------------------------------------------------------------
1              sftp://10.42.6.12:22/root/log root             操作日志 02:30   
--------------------------------------------------------------------------------
记录数: 1
命令执行成功(耗时: 0.056秒)
` 




#### 将要求时间内的日志推送到指定服务器(EXPORT ALLLOGTIME PARAM) 
#### 将要求时间内的日志推送到指定服务器(EXPORT ALLLOGTIME PARAM) 


命令功能 :
该命令用于将指定类型、指定范围的日志推送到SFTP服务器。


注意事项 :
无。


参数说明 :

标识|名称|类型|说明
---|---|---|---
BEGINTIME|开始时间|参数可选性:必选参数；参数类型:日期|配置查询某个时间段内操作日志的开始时间，单击输入文本框时，可以通过自动弹出的控件选择具体查询的时间，时间精确到秒。
ENDTIME|结束时间|参数可选性:必选参数；参数类型:日期|配置查询某个时间段内操作日志的结束时间，单击输入文本框时，可以通过自动弹出的控件选择具体查询的时间，时间精确到秒。
FTPPATH|SFTP路径|参数可选性:必选参数；参数类型:字符型；参数范围为:1~255个字符。|备份文件SFTP路径
FTPUSER|SFTP服务器用户名|参数可选性:必选参数；参数类型:字符型；参数范围为:1~128个字符。|SFTP服务器用户名
FTPPWD|SFTP服务器密码|参数可选性:必选参数；参数类型:字符型；参数范围为:1~64个字符。|SFTP服务器密码
LOGTYPE|日志类型|参数可选性:必选参数；参数类型:枚举。参见枚举定义。|日志类型






命令举例 :
EXPORT ALLLOGTIME PARAM:BEGINTIME=2019-01-13 00:00:00,ENDTIME=2019-01-14 00:00:00,FTPPATH="sftp://10.42.6.12:22/root/log",FTPUSER="root",FTPPWD="***",LOGTYPE=1


### 远程日志推送管理 
### 远程日志推送管理 






#### 新增远程日志推送配置(ADD REMOTE LOGSVR) 
#### 新增远程日志推送配置(ADD REMOTE LOGSVR) 


命令功能 :
新增接收日志的远程服务器信息


注意事项 :
无。


参数说明 :

标识|名称|类型|说明
---|---|---|---
FTPPATH|数据远程保存路径|参数可选性:必选参数；参数类型:字符型；参数范围为:1~200个字符。|数据远程保存的SFTP路径，例如：sftp://10.10.1.1:22/logs/。
FTPUSER|SFTP用户名|参数可选性:必选参数；参数类型:字符型；参数范围为:1~32个字符。|SFTP用户名
FTPPWD|SFTP用户密码|参数可选性:必选参数；参数类型:字符型；参数范围为:1~100个字符。|SFTP用户密码
GRANULARITY|上报粒度(分钟)|参数可选性:必选参数；参数类型:整数；参数范围为:30~1440。|日志文件的上报周期，只允许是30的倍数，进行修改后，在下一次日志文件上报后才会使用更新后的粒度值。
LOGTYPE|日志推送类型|参数可选性:必选参数；参数类型:枚举。参见枚举定义。|日志推送类型。操作日志(OPLOG):OAM系统的操作日志安全日志(SCRTLOG):OAM系统的安全日志系统日志(SYSLOG):业务的调试和诊断日志失败日志(FAILLOG):业务的失败日志事件日志(EVENTLOG):OAM系统的系统日志
ISOMC|是否EMS下发|参数可选性:任选参数；参数类型:枚举。参见枚举定义。默认值:false。|是否EMS下发






命令举例 :
ADD REMOTE LOGSVR:FTPPATH="sftp://10.10.1.1:22/logs/",FTPUSER="username",FTPPWD="******",GRANULARITY=60,LOGTYPE="OPLOG";


#### 修改远程日志推送配置(SET REMOTE LOGSVR) 
#### 修改远程日志推送配置(SET REMOTE LOGSVR) 


命令功能 :
修改接收日志的远程服务器信息


注意事项 :
无。


参数说明 :

标识|名称|类型|说明
---|---|---|---
FTPPATH|数据远程保存路径|参数可选性:任选参数；参数类型:字符型；参数范围为:0~200个字符。|数据远程保存的SFTP路径，例如：sftp://10.10.1.1:22/logs/。
FTPUSER|SFTP用户名|参数可选性:任选参数；参数类型:字符型；参数范围为:0~32个字符。|SFTP用户名
FTPPWD|SFTP用户密码|参数可选性:任选参数；参数类型:字符型；参数范围为:0~100个字符。|SFTP用户密码
GRANULARITY|上报粒度(分钟)|参数可选性:任选参数；参数类型:整数；参数范围为:30~1440。|日志文件的上报周期，只允许是30的倍数，进行修改后，在下一次日志文件上报后才会使用更新后的粒度值。
LOGTYPE|日志推送类型|参数可选性:任选参数；参数类型:枚举。参见枚举定义。|日志推送类型。操作日志(OPLOG):OAM系统的操作日志安全日志(SCRTLOG):OAM系统的安全日志系统日志(SYSLOG):业务的调试和诊断日志失败日志(FAILLOG):业务的失败日志事件日志(EVENTLOG):OAM系统的系统日志
ISOMC|是否EMS下发|参数可选性:任选参数；参数类型:枚举。参见枚举定义。|是否EMS下发






命令举例 :
SET REMOTE LOGSVR:FTPPATH="sftp://10.10.1.1:22/logs/",FTPUSER="username",FTPPWD="******",GRANULARITY=60,LOGTYPE="OPLOG";


#### 删除远程日志推送配置(DEL REMOTE LOGSVR) 
#### 删除远程日志推送配置(DEL REMOTE LOGSVR) 


命令功能 :
删除接收日志的远程服务器信息


注意事项 :
无。


输出参数说明 :

标识|名称|类型|说明
---|---|---|---
FTPPATH|数据远程保存路径|参数可选性:任选参数；参数类型:字符型。|数据远程保存的SFTP路径，例如：sftp://10.10.1.1:22/logs/。
FTPUSER|SFTP用户名|参数可选性:任选参数；参数类型:字符型。|SFTP用户名
GRANULARITY|上报粒度(分钟)|参数可选性:任选参数；参数类型:整数。|日志文件的上报周期，只允许是30的倍数，进行修改后，在下一次日志文件上报后才会使用更新后的粒度值。
LOGTYPE|日志推送类型|参数可选性:任选参数；参数类型:枚举。参见枚举定义。|日志推送类型。操作日志(OPLOG):OAM系统的操作日志安全日志(SCRTLOG):OAM系统的安全日志系统日志(SYSLOG):业务的调试和诊断日志失败日志(FAILLOG):业务的失败日志事件日志(EVENTLOG):OAM系统的系统日志
ISOMC|是否EMS下发|参数可选性:任选参数；参数类型:枚举。参见枚举定义。|是否EMS下发






命令举例 :
DEL REMOTE LOGSVR;


#### 查询远程日志推送配置(SHOW REMOTE LOGSVR) 
#### 查询远程日志推送配置(SHOW REMOTE LOGSVR) 


命令功能 :
查询接收日志的远程服务器信息


注意事项 :
无。


输出参数说明 :

标识|名称|类型|说明
---|---|---|---
FTPPATH|数据远程保存路径|参数可选性:任选参数；参数类型:字符型。|数据远程保存的SFTP路径，例如：sftp://10.10.1.1:22/logs/。
FTPUSER|SFTP用户名|参数可选性:任选参数；参数类型:字符型。|SFTP用户名
GRANULARITY|上报粒度(分钟)|参数可选性:任选参数；参数类型:整数。|日志文件的上报周期，只允许是30的倍数，进行修改后，在下一次日志文件上报后才会使用更新后的粒度值。
LOGTYPE|日志推送类型|参数可选性:任选参数；参数类型:枚举。参见枚举定义。|日志推送类型。操作日志(OPLOG):OAM系统的操作日志安全日志(SCRTLOG):OAM系统的安全日志系统日志(SYSLOG):业务的调试和诊断日志失败日志(FAILLOG):业务的失败日志事件日志(EVENTLOG):OAM系统的系统日志
ISOMC|是否EMS下发|参数可选性:任选参数；参数类型:枚举。参见枚举定义。|是否EMS下发






命令举例 :

查询远程日志推送配置。 


`SHOW REMOTE LOGSVR;` 


`

命令(No.4): SHOW REMOTE LOGSVR
数据远程保存路径            SFTP用户名   上报粒度(分钟)   日志推送类型        是否EMS下发
-----------------------------------------------------------------------------------------
sftp://10.10.1.1:22/logs/   username     60               操作日志&安全日志   是
-----------------------------------------------------------------------------------------
记录数: 1
命令执行成功(耗时: 0.1秒)
` 




## 告警管理 
## 告警管理 


背景知识 :

告警管理模块的主要功能是实时展现系统运行中的异常或者关键事件，以便操作人员及时采取措施解决故障，或者了解系统过往运行过程中的关键信息，从而保证系统长期正常稳定运行。 




功能描述 :

告警管理包含告警查询功能和告警设置功能 








### 查询实时告警(SHOW FAULTALARM) 
### 查询实时告警(SHOW FAULTALARM) 


命令功能 :

该命令用于查询系统中未被过滤的当前告警。当需要确认系统中是否有某种或某些异常事件时，或者需要查看系统中全部未被过滤的当前告警时，使用本命令。命令执行成功后，OAM服务端从其缓存中，查询出符合用户条件的当前告警详细信息，并返回给用户。 




注意事项 :

查询当前告警，是在OAM服务端的缓存中查询的，结果为系统中所有当前告警的一部分，不包括被告警过滤规则过滤了的当前告警。 




输入参数说明 :

标识|名称|类型|说明
---|---|---|---
ALARMTYPE|告警类型|参数可选性:任选参数；参数类型:枚举。参见枚举定义。|根据3GPP协议，异常事件的类型（在命令中，不管是告警还是通知事件的类型，都统一称为告警类型）分为五类：COMMUNICATION（通信告警）：与信息传输过程相关的告警类型。EXCEPTION（处理错误告警）：与软件或进程故障相关的告警类型。ENVIRONMENT（环境告警）：与设备所处的环境相关的告警类型。QoS（服务质量告警）：与服务质量降级相关的告警类型；例如：QoS服务质量告警EQUIPMENT（设备告警）：与设备故障相关的告警类型。
ALARMCODE|告警码|参数可选性:任选参数；参数类型:整数；参数范围为:0~4294967294。|为了区分不同的异常事件，系统为每一种告警、通知事件分配的编号。在同一系统类型下，事件不同，则编号不同，并且编号唯一。
ALARMREASON|告警原因码|参数可选性:任选参数；参数类型:整数；参数范围为:0~4294967294。|系统为告警、通知事件的可能原因分配的编号。同一个事件，可能原因可以有多种，其编号不能相同。
SEVERITY|级别|参数可选性:任选参数；参数类型:枚举。参见枚举定义。|告警级别用于标识异常事件的严重程度。按严重程度可以将异常事件分为四类：CR（严重告警）：指在系统运行中出现严重错误导致系统陷于瘫痪，并且无法自行恢复正常的故障。MJ（主要告警）：指系统功能出现严重错误，严重影响系统运行和用户使用，但无需重启系统就可以恢复,或者无法自行恢复但对系统影响相对较小的故障。MI（次要告警）：系统功能实现上出现错误，导致某些功能不能正常使用，或者系统某些功能未能实现，但对系统其他功能没有严重影响的故障。WR（警告告警）：系统的重要和基本功能都已实现，但存在某些轻微的界面问题，或者功能实现不合理，功能使用不方便，对用户使用造成轻微影响。UD（未确定告警）：根据事件告警级别的开关，若开则上报5级的未确定告警，若关则根据上报的级别进行告警上报。
BEGINTIME|查询开始时间（告警产生时间）|参数可选性:任选参数；参数类型:日期|本条件将作用于告警的产生时间属性上，如果某告警的产生时间早于（不包含等于）本参数的值，则表示不满足查询条件。开始时间不能早于或等于2000年1月1日0时0分0秒，也不能晚于2059年1月1日0时0分0秒。
ENDTIME|查询结束时间（告警产生时间）|参数可选性:任选参数；参数类型:日期|本条件将作用于告警的产生时间属性上，如果某告警的产生时间晚于（不包含等于）本参数的值，则表示不满足查询条件。结束时间不能早于或等于2000年1月1日0时0分0秒，也不能晚于2059年1月1日0时0分0秒。
BEGINSEQ|起始序列号|参数可选性:任选参数；参数类型:字符型；参数范围为:0~20个字符。|查询起始序列号
ENDSEQ|结束序列号|参数可选性:任选参数；参数类型:字符型；参数范围为:0~20个字符。|查询结束序列号






输出参数说明 :

标识|名称|类型|说明
---|---|---|---
ALMSEQ|告警序列号|参数可选性:任选参数；参数类型:字符型。|上报EMS告警流水号
AID|告警标识|参数可选性:任选参数；参数类型:字符型；参数范围为:0~256个字符。|为唯一确定一条告警事件，每当触发一次告警事件，系统就为其分配一个唯一编号，称为流水号。告警事件一旦触发，流水号将成为告警的基本属性。流水号由小到大分配，由于其唯一性，操作维护人员可依据它进行派单。
ALARMTYPE|告警类型|参数可选性:任选参数；参数类型:枚举。参见枚举定义。|根据3GPP协议，异常事件的类型（在命令中，不管是告警还是通知事件的类型，都统一称为告警类型）分为五类：COMMUNICATION（通信告警）：与信息传输过程相关的告警类型。EXCEPTION（处理错误告警）：与软件或进程故障相关的告警类型。ENVIRONMENT（环境告警）：与设备所处的环境相关的告警类型。QoS（服务质量告警）：与服务质量降级相关的告警类型；例如：QoS服务质量告警EQUIPMENT（设备告警）：与设备故障相关的告警类型。
ALARMCODE|告警码|参数可选性:任选参数；参数类型:整数。|为了区分不同的异常事件，系统为每一种告警、通知事件分配的编号。在同一系统类型下，事件不同，则编号不同，并且编号唯一。
ALARMCODENAME|告警码名称|参数可选性:任选参数；参数类型:字符型。|告警码的名称
ALARMREASON|告警原因码|参数可选性:任选参数；参数类型:整数。|系统为告警、通知事件的可能原因分配的编号。同一个事件，可能原因可以有多种，其编号不能相同。
ALARMREASONNAME|告警原因|参数可选性:任选参数；参数类型:字符型。|告警的原因
SEVERITY|告警级别|参数可选性:任选参数；参数类型:枚举。参见枚举定义。|告警级别用于标识异常事件的严重程度。按严重程度可以将异常事件分为四类：CR（严重告警）：指在系统运行中出现严重错误导致系统陷于瘫痪，并且无法自行恢复正常的故障。MJ（主要告警）：指系统功能出现严重错误，严重影响系统运行和用户使用，但无需重启系统就可以恢复,或者无法自行恢复但对系统影响相对较小的故障。MI（次要告警）：系统功能实现上出现错误，导致某些功能不能正常使用，或者系统某些功能未能实现，但对系统其他功能没有严重影响的故障。WR（警告告警）：系统的重要和基本功能都已实现，但存在某些轻微的界面问题，或者功能实现不合理，功能使用不方便，对用户使用造成轻微影响。UD（未确定告警）：根据事件告警级别的开关，若开则上报5级的未确定告警，若关则根据上报的级别进行告警上报。
HAPPENTIME|告警产生时间|参数可选性:任选参数；参数类型:字符型；参数范围为:0~50个字符。|异常事件的触发时间。该时间是计算了时区信息后的时间，如果所在地区启用了夏令时，则夏令时信息也计算在内。
SLICEID|切片ID|参数可选性:任选参数；参数类型:字符型。|切片信息
NFID|网元ID|参数可选性:任选参数；参数类型:字符型。|网络功能ID
NFNAME|网元名称|参数可选性:任选参数；参数类型:字符型。|网元名称
NFTYPE|网元类型|参数可选性:任选参数；参数类型:字符型。|网元类型
PVFrag|网元虚实性|参数可选性:任选参数；参数类型:字符型。|网元虚实
ADDINFO|附加信息|参数可选性:任选参数；参数类型:字符型；参数范围为:0~2048个字符。|当告警描述、可能原因描述、位置信息还不足以让操作维护人员精确定位异常事件的触发者，或者想让操作维护人员了解更多关于本异常的信息时，告警源会在本属性中补充其他信息，例如：当系统出现CPU过负荷异常时，可在附加信息中描述哪些功能占用较多的CPU，以及用户配置的CPU告警门限信息。当OMM与第三方服务器，例如NTP服务器的链路有异常时，可在附加信息中描述该NTP服务器的IP地址。当系统挂接多个硬盘时，可在附加信息中指明哪块硬盘。
RESPOS|位置信息|参数可选性:任选参数；参数类型:字符型；参数范围为:0~256个字符。|位置信息可能包括物理位置、逻辑位置和资源信息三部分：物理位置：由机架号-机框号-槽位号-CPU号组成的一个逻辑概念，最终对应机架上的一个物理实体（例如某块单板），或者一个该实体上的一个逻辑功能模块（例如某块单板上的一个CPU）。逻辑位置：由模块号、单元号、子单元号组成的一个逻辑概念。可对应一个或多个物理实体。资源信息：由操作维护人员配置的系统资源，例如局向、链路信息，有了这些信息，可帮助操作维护人员更精确定位异常事件所在位置。不同系统类型的告警，其位置信息包含的内容不同：对于网元告警，其位置信息可能包含上述三部分。对于网管系统告警，由于告警源均部属在OMM服务器上，因此其位置信息就是OMM服务器的物理位置。对于外围节点告警，其位置信息为模块号。
OBJECTNAME|位置对象名称|参数可选性:任选参数；参数类型:字符型。|网元位置对象名称
PROVINCE|网元服务省份|参数可选性:任选参数；参数类型:字符型。|网元服务省份
ALMSTATUS|告警状态|参数可选性:任选参数；参数类型:布尔|告警状态






命令举例 :

查询当前告警。 


`SHOW FAULTALARM;` 


`

命令 (No.1):SHOW FAULTALARM
-----------------smoke_uspp_183----------------

告警序列号     告警标识                 告警类型      告警码      告警码名称             告警原因码  告警原因                                      告警级别  告警产生时间         切片ID  网元ID                                网元名称        网元类型  网元虚实性  附加信息                                                                                                                                                             位置信息                                                                                                                                                 位置对象名称                          网元服务省份  告警状态
----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
1637995849415  83889664176912713172   处理错误告警  3356098571  NF向NRF注册或更新失败  3356098571  NF向NRF注册失败                               主要      2021-11-26 19:48:37          6bfc5c74-d4fb-4ed7-9e7d-3c59829d3b95  smoke_uspp_183  USPP      VNF         实例名=vru-sdm-fe-udm-0;网元名=UDM ;详细信息=Response code: 420, problem detail: All NRF offline,Fail to send register request message to nrf!!!                     service=SDM_FE_UDM_0,vruname=Type<sc-sdm-fe-udm>:Group<1>:InstNo<0>,vmname=MANO-COMM-OAM-VM-USPP_183GSUCA0002,vmid=65181c06-dd7e-4084-b284-b7e12efc757e  65181c06-dd7e-4084-b284-b7e12efc757e                1       
1637995849416  83889664166912713172   处理错误告警  3356098569  网元注册信息配置错误   3356098569  网元注册信息配置错误                          主要      2021-11-26 19:48:37          6bfc5c74-d4fb-4ed7-9e7d-3c59829d3b95  smoke_uspp_183  USPP      VNF         实例名=vru-sdm-fe-udm-0;网元名=AUSF ;详细信息=One or more of the GROUP_ID, SUPI_RANGES and ROUTING_IND parameters are not set.                                       service=SDM_FE_UDM_0,vruname=Type<sc-sdm-fe-udm>:Group<1>:InstNo<0>,vmname=MANO-COMM-OAM-VM-USPP_183GSUCA0002,vmid=65181c06-dd7e-4084-b284-b7e12efc757e  65181c06-dd7e-4084-b284-b7e12efc757e                1       
1637995849417  83889664156912711352   处理错误告警  3356098569  网元注册信息配置错误   3356098569  网元注册信息配置错误                          主要      2021-11-26 19:45:35          6bfc5c74-d4fb-4ed7-9e7d-3c59829d3b95  smoke_uspp_183  USPP      VNF         实例名=vru-sdm-fe-udm-0;网元名=UDM ;详细信息=One or more of the GROUP_ID, SUPI_RANGES, GPSI_RANGES, EXTERN_GROUP_ID_RANGES, and ROUTING_IND parameters are not set.  service=SDM_FE_UDM_0,vruname=Type<sc-sdm-fe-udm>:Group<1>:InstNo<0>,vmname=MANO-COMM-OAM-VM-USPP_183GSUCA0002,vmid=65181c06-dd7e-4084-b284-b7e12efc757e  65181c06-dd7e-4084-b284-b7e12efc757e                1       
1637995849419  134217830516912640923  通信告警      2007        主备通讯异常           2007        模块重启或链路异常导致主备模块之间通讯异常。  次要      2021-11-26 17:48:12  NA      6bfc5c74-d4fb-4ed7-9e7d-3c59829d3b95  smoke_uspp_183  USPP      VNF         本端IP:[192.183.1.3]:6218;对端IP:;传输层协议:UDP                                                                                                                     service=SDM_PROV_PGW_0,vruname=Type<sc-sdm-prov-pgw>:Group<1>:InstNo<0>,vmname=MANO-COMM-OAM-VM-USPP_183CDUPROVM0001                                                                                         1       
----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
记录数：  4

执行成功
开始时间：2021-11-27 15:39:30.917 耗时：0.108秒
` 






相关命令 :



[查询告警码]





[查询告警原因码]





### 查询历史告警(SHOW HISTORYALARM) 
### 查询历史告警(SHOW HISTORYALARM) 


命令功能 :

该命令用于查询系统中的历史告警。当需要查询系统触发过哪些异常事件时，或者在排查系统异常需要确认某时间段内是否触发过某异常事件时，使用该命令。命令执行成功后，OAM服务端中查询出符合用户查询条件的所有历史告警，并根据查询结果集情况，返回不同的信息给用户。 




注意事项 :
如果系统中历史告警过多，使用本命令会影响OAM系统的性能。 


如果有多个用户通过不同的客户端同时查询，会影响查询效率，并且历史告警数量越多，对效率的影响会越明显。


输入参数说明 :

标识|名称|类型|说明
---|---|---|---
ALARMTYPE|告警类型|参数可选性:任选参数；参数类型:枚举。参见枚举定义。|根据3GPP协议，异常事件的类型（在命令中，不管是告警还是通知事件的类型，都统一称为告警类型）分为五类：COMMUNICATION（通信告警）：与信息传输过程相关的告警类型。EXCEPTION（处理错误告警）：与软件或进程故障相关的告警类型。ENVIRONMENT（环境告警）：与设备所处的环境相关的告警类型。QoS（服务质量告警）：与服务质量降级相关的告警类型；例如：QoS服务质量告警EQUIPMENT（设备告警）：与设备故障相关的告警类型。
ALARMCODE|告警码|参数可选性:任选参数；参数类型:整数；参数范围为:0~4294967294。|为了区分不同的异常事件，系统为每一种告警、通知事件分配的编号。在同一系统类型下，事件不同，则编号不同，并且编号唯一。
ALARMREASON|告警原因码|参数可选性:任选参数；参数类型:整数；参数范围为:0~4294967294。|系统为告警、通知事件的可能原因分配的编号。同一个事件，可能原因可以有多种，其编号不能相同。
SEVERITY|级别|参数可选性:任选参数；参数类型:枚举。参见枚举定义。|告警级别用于标识异常事件的严重程度。按严重程度可以将异常事件分为四类：CR（严重告警）：指在系统运行中出现严重错误导致系统陷于瘫痪，并且无法自行恢复正常的故障。MJ（主要告警）：指系统功能出现严重错误，严重影响系统运行和用户使用，但无需重启系统就可以恢复,或者无法自行恢复但对系统影响相对较小的故障。MI（次要告警）：系统功能实现上出现错误，导致某些功能不能正常使用，或者系统某些功能未能实现，但对系统其他功能没有严重影响的故障。WR（警告告警）：系统的重要和基本功能都已实现，但存在某些轻微的界面问题，或者功能实现不合理，功能使用不方便，对用户使用造成轻微影响。UD（未确定告警）：根据事件告警级别的开关，若开则上报5级的未确定告警，若关则根据上报的级别进行告警上报。
BEGINTIME|查询开始时间（告警发生时间）|参数可选性:任选参数；参数类型:日期|本条件将作用于告警的产生时间属性上，如果某告警的产生时间早于（不包含等于）本参数的值，则表示不满足查询条件。开始时间不能早于或等于2000年1月1日0时0分0秒，也不能晚于2059年1月1日0时0分0秒。
ENDTIME|查询结束时间（告警发生时间）|参数可选性:任选参数；参数类型:日期|本条件将作用于告警的产生时间属性上，如果某告警的产生时间晚于（不包含等于）本参数的值，则表示不满足查询条件。结束时间不能早于或等于2000年1月1日0时0分0秒，也不能晚于2059年1月1日0时0分0秒。
RESTORETYPE|恢复类型|参数可选性:任选参数；参数类型:枚举。参见枚举定义。|表明该告警恢复的触发者，有几种类型：NORMAL（正常恢复）：表示该故障的触发条件已经不存在导致的告警恢复。例如由于操作维护人员的介入，该故障已经被修复；或者系统自行修复。绝大部分告警的恢复类型都是正常恢复DELETE（用户手工清除）：表示该告警是由操作维护人员执行DEL ALARM命令而恢复的。极少数情况下，例如当系统中存在误警，或者由于外在条件限制产生了告警但当前无法解决时，可以先将该告警手工清除。RESTORATION（告警源重启或断链时恢复）：表示该告警源重启或者断链时候，触发的恢复消息SYNCHRONIZED（同步时恢复）：表示前后台同步时，告警不一致导致的恢复NONE（无效）：表示该故障是无效的如果不想使用本参数进行查询，则不需要输入；如果已经输入了条件，例如选择了“NORMAL（正常恢复）”，后续又不想使用该参数作为查询条件时，请选择“N/A”来清空本参数条件。本参数不常用，一般在查询通过用户手工清除的告警时使用本参数。
RBEGINTIME|查询开始时间（告警恢复时间）|参数可选性:任选参数；参数类型:日期|本条件将作用于告警的恢复时间属性上，如果某告警的恢复时间早于（不包含等于）本参数的值，则表示不满足查询条件。开始时间不能早于或等于2000年1月1日0时0分0秒，也不能晚于2059年1月1日0时0分0秒。
RENDTIME|查询结束时间（告警恢复时间）|参数可选性:任选参数；参数类型:日期|本条件将作用于告警的恢复时间属性上，如果某告警的恢复时间晚于（不包含等于）本参数的值，则表示不满足查询条件。结束时间不能早于或等于2000年1月1日0时0分0秒，也不能晚于2059年1月1日0时0分0秒。
AID|告警唯一标识|参数可选性:任选参数；参数类型:字符型；参数范围为:0~128个字符。|为唯一确定一条告警事件，每当触发一次告警事件，系统就为其分配一个唯一编号，称为流水号。告警事件一旦触发，流水号将成为告警的基本属性。流水号由小到大分配，由于其唯一性，操作维护人员可依据它进行派单。
BEGINSEQ|起始序列号|参数可选性:任选参数；参数类型:字符型；参数范围为:0~20个字符。|查询起始序列号
ENDSEQ|结束序列号|参数可选性:任选参数；参数类型:字符型；参数范围为:0~20个字符。|查询结束序列号






输出参数说明 :

标识|名称|类型|说明
---|---|---|---
ALMSEQ|告警序列号|参数可选性:任选参数；参数类型:字符型。|上报EMS告警流水号
AID|告警唯一标识|参数可选性:任选参数；参数类型:字符型；参数范围为:0~256个字符。|为唯一确定一条告警事件，每当触发一次告警事件，系统就为其分配一个唯一编号，称为流水号。告警事件一旦触发，流水号将成为告警的基本属性。流水号由小到大分配，由于其唯一性，操作维护人员可依据它进行派单。
ALARMTYPE|告警类型|参数可选性:任选参数；参数类型:枚举。参见枚举定义。|根据3GPP协议，异常事件的类型（在命令中，不管是告警还是通知事件的类型，都统一称为告警类型）分为五类：COMMUNICATION（通信告警）：与信息传输过程相关的告警类型。EXCEPTION（处理错误告警）：与软件或进程故障相关的告警类型。ENVIRONMENT（环境告警）：与设备所处的环境相关的告警类型。QoS（服务质量告警）：与服务质量降级相关的告警类型；例如：QoS服务质量告警EQUIPMENT（设备告警）：与设备故障相关的告警类型。
ALARMCODE|告警码|参数可选性:任选参数；参数类型:整数。|为了区分不同的异常事件，系统为每一种告警、通知事件分配的编号。在同一系统类型下，事件不同，则编号不同，并且编号唯一。
ALARMCODENAME|告警码名称|参数可选性:任选参数；参数类型:字符型。|告警码的名称
ALARMREASON|告警原因码|参数可选性:任选参数；参数类型:整数。|系统为告警、通知事件的可能原因分配的编号。同一个事件，可能原因可以有多种，其编号不能相同。
ALARMREASONNAME|告警原因|参数可选性:任选参数；参数类型:字符型。|告警的原因
SEVERITY|告警级别|参数可选性:任选参数；参数类型:枚举。参见枚举定义。|告警级别用于标识异常事件的严重程度。按严重程度可以将异常事件分为四类：CR（严重告警）：指在系统运行中出现严重错误导致系统陷于瘫痪，并且无法自行恢复正常的故障。MJ（主要告警）：指系统功能出现严重错误，严重影响系统运行和用户使用，但无需重启系统就可以恢复,或者无法自行恢复但对系统影响相对较小的故障。MI（次要告警）：系统功能实现上出现错误，导致某些功能不能正常使用，或者系统某些功能未能实现，但对系统其他功能没有严重影响的故障。WR（警告告警）：系统的重要和基本功能都已实现，但存在某些轻微的界面问题，或者功能实现不合理，功能使用不方便，对用户使用造成轻微影响。UD（未确定告警）：根据事件告警级别的开关，若开则上报5级的未确定告警，若关则根据上报的级别进行告警上报。
HAPPENTIME|告警产生时间|参数可选性:任选参数；参数类型:字符型；参数范围为:0~50个字符。|异常事件的触发时间。该时间是计算了时区信息后的时间，如果所在地区启用了夏令时，则夏令时信息也计算在内。
RESTORETIME|恢复时间|参数可选性:任选参数；参数类型:字符型；参数范围为:0~50个字符。|异常事件的恢复时间。该时间是计算了时区信息后的时间，如果所在地区启用了夏令时，则夏令时信息也计算在内。
RESTORETYPE|恢复类型|参数可选性:任选参数；参数类型:枚举。参见枚举定义。|表明该告警恢复的触发者，有几种类型：NORMAL（正常恢复）：表示该故障的触发条件已经不存在导致的告警恢复。例如由于操作维护人员的介入，该故障已经被修复；或者系统自行修复。绝大部分告警的恢复类型都是正常恢复DELETE（用户手工清除）：表示该告警是由操作维护人员执行DEL ALARM命令而恢复的。极少数情况下，例如当系统中存在误警，或者由于外在条件限制产生了告警但当前无法解决时，可以先将该告警手工清除。RESTORATION（告警源重启或断链时恢复）：表示该告警源重启或者断链时候，触发的恢复消息SYNCHRONIZED（同步时恢复）：表示前后台同步时，告警不一致导致的恢复NONE（无效）：表示该故障是无效的如果不想使用本参数进行查询，则不需要输入；如果已经输入了条件，例如选择了“NORMAL（正常恢复）”，后续又不想使用该参数作为查询条件时，请选择“N/A”来清空本参数条件。本参数不常用，一般在查询通过用户手工清除的告警时使用本参数。
NFID|网元ID|参数可选性:任选参数；参数类型:字符型。|网络功能ID
NFNAME|网元名称|参数可选性:任选参数；参数类型:字符型。|网元名称
NFTYPE|网元类型|参数可选性:任选参数；参数类型:字符型。|网元类型
PVFrag|网元虚实性|参数可选性:任选参数；参数类型:字符型。|网元虚实
RESPOS|位置信息|参数可选性:任选参数；参数类型:字符型；参数范围为:0~256个字符。|位置信息可能包括物理位置、逻辑位置和资源信息三部分：物理位置：由机架号-机框号-槽位号-CPU号组成的一个逻辑概念，最终对应机架上的一个物理实体（例如某块单板），或者一个该实体上的一个逻辑功能模块（例如某块单板上的一个CPU）。逻辑位置：由模块号、单元号、子单元号组成的一个逻辑概念。可对应一个或多个物理实体。资源信息：由操作维护人员配置的系统资源，例如局向、链路信息，有了这些信息，可帮助操作维护人员更精确定位异常事件所在位置。不同系统类型的告警，其位置信息包含的内容不同：对于网元告警，其位置信息可能包含上述三部分。对于网管系统告警，由于告警源均部属在OMM服务器上，因此其位置信息就是OMM服务器的物理位置。对于外围节点告警，其位置信息为模块号。
OBJECTNAME|位置对象名称|参数可选性:任选参数；参数类型:字符型。|网元位置对象名称
PROVINCE|网元服务省份|参数可选性:任选参数；参数类型:字符型。|网元服务省份
ALMSTATUS|告警状态|参数可选性:任选参数；参数类型:布尔|告警状态






命令举例 :

SHOW HISTORYALARM 




相关命令 :



[查询告警码]





[查询告警原因码]





### 查询通知信息(SHOW NOTIFICATION) 
### 查询通知信息(SHOW NOTIFICATION) 


命令功能 :

该命令用于查询系统中的通知事件。当需要查询系统触发过哪些通知事件时，或者在排查系统异常需要确认某时间段内是否触发过某通知事件时，使用该命令。命令执行成功后，网管服务端从数据库中查询出符合用户查询条件的所有通知，并根据查询结果集情况，返回不同的信息给用户。 




注意事项 :


 
如果系统中通知过多，使用本命令会影响OAM系统的性能。 

 
如果有多个用户通过不同的客户端同时查询，会影响查询效率，并且通知数量越多，对效率的影响会越明显。 

 




输入参数说明 :

标识|名称|类型|说明
---|---|---|---
ALARMTYPE|告警类型|参数可选性:任选参数；参数类型:枚举。参见枚举定义。|根据3GPP协议，异常事件的类型（在命令中，不管是告警还是通知事件的类型，都统一称为告警类型）分为五类：COMMUNICATION（通信告警）：与信息传输过程相关的告警类型。EXCEPTION（处理错误告警）：与软件或进程故障相关的告警类型。ENVIRONMENT（环境告警）：与设备所处的环境相关的告警类型。QoS（服务质量告警）：与服务质量降级相关的告警类型；例如：QoS服务质量告警EQUIPMENT（设备告警）：与设备故障相关的告警类型。
ALARMCODE|告警码|参数可选性:任选参数；参数类型:整数；参数范围为:0~4294967294。|为了区分不同的异常事件，系统为每一种告警、通知事件分配的编号。在同一系统类型下，事件不同，则编号不同，并且编号唯一。
ALARMREASON|告警原因码|参数可选性:任选参数；参数类型:整数；参数范围为:0~4294967294。|系统为告警、通知事件的可能原因分配的编号。同一个事件，可能原因可以有多种，其编号不能相同。
BEGINTIME|查询开始时间（通知发生时间）|参数可选性:任选参数；参数类型:日期|本条件将作用于告警的产生时间属性上，如果某告警的产生时间早于（不包含等于）本参数的值，则表示不满足查询条件。开始时间不能早于或等于2000年1月1日0时0分0秒，也不能晚于2059年1月1日0时0分0秒。
ENDTIME|查询结束时间（通知发生时间）|参数可选性:任选参数；参数类型:日期|本条件将作用于告警的产生时间属性上，如果某告警的产生时间晚于（不包含等于）本参数的值，则表示不满足查询条件。结束时间不能早于或等于2000年1月1日0时0分0秒，也不能晚于2059年1月1日0时0分0秒。
ADDINFO|附加信息|参数可选性:任选参数；参数类型:字符型；参数范围为:0~2048个字符。|当告警描述、可能原因描述、位置信息还不足以让操作维护人员精确定位异常事件的触发者，或者想让操作维护人员了解更多关于本异常的信息时，告警源会在本属性中补充其他信息，例如：当系统出现CPU过负荷异常时，可在附加信息中描述哪些功能占用较多的CPU，以及用户配置的CPU告警门限信息。当OMM与第三方服务器，例如NTP服务器的链路有异常时，可在附加信息中描述该NTP服务器的IP地址。当系统挂接多个硬盘时，可在附加信息中指明哪块硬盘。
BEGINSEQ|起始序列号|参数可选性:任选参数；参数类型:字符型；参数范围为:0~20个字符。|查询起始序列号
ENDSEQ|结束序列号|参数可选性:任选参数；参数类型:字符型；参数范围为:0~20个字符。|查询结束序列号






输出参数说明 :

标识|名称|类型|说明
---|---|---|---
ALMSEQ|通知序列号|参数可选性:任选参数；参数类型:字符型。|通知序列号
ALARMTYPE|告警类型|参数可选性:任选参数；参数类型:枚举。参见枚举定义。|根据3GPP协议，异常事件的类型（在命令中，不管是告警还是通知事件的类型，都统一称为告警类型）分为五类：COMMUNICATION（通信告警）：与信息传输过程相关的告警类型。EXCEPTION（处理错误告警）：与软件或进程故障相关的告警类型。ENVIRONMENT（环境告警）：与设备所处的环境相关的告警类型。QoS（服务质量告警）：与服务质量降级相关的告警类型；例如：QoS服务质量告警EQUIPMENT（设备告警）：与设备故障相关的告警类型。
ALARMCODE|告警码|参数可选性:任选参数；参数类型:整数。|为了区分不同的异常事件，系统为每一种告警、通知事件分配的编号。在同一系统类型下，事件不同，则编号不同，并且编号唯一。
ALARMCODENAME|告警码名称|参数可选性:任选参数；参数类型:字符型。|告警码名称
ALARMREASON|告警原因码|参数可选性:任选参数；参数类型:整数。|系统为告警、通知事件的可能原因分配的编号。同一个事件，可能原因可以有多种，其编号不能相同。
SEVERITY|级别|参数可选性:任选参数；参数类型:枚举。参见枚举定义。|告警级别用于标识异常事件的严重程度。按严重程度可以将异常事件分为四类：CR（严重告警）：指在系统运行中出现严重错误导致系统陷于瘫痪，并且无法自行恢复正常的故障。MJ（主要告警）：指系统功能出现严重错误，严重影响系统运行和用户使用，但无需重启系统就可以恢复,或者无法自行恢复但对系统影响相对较小的故障。MI（次要告警）：系统功能实现上出现错误，导致某些功能不能正常使用，或者系统某些功能未能实现，但对系统其他功能没有严重影响的故障。WR（警告告警）：系统的重要和基本功能都已实现，但存在某些轻微的界面问题，或者功能实现不合理，功能使用不方便，对用户使用造成轻微影响。UD（未确定告警）：根据事件告警级别的开关，若开则上报5级的未确定告警，若关则根据上报的级别进行告警上报。
HAPPENTIME|产生时间|参数可选性:任选参数；参数类型:字符型；参数范围为:0~50个字符。|异常事件的触发时间。该时间是计算了时区信息后的时间，如果所在地区启用了夏令时，则夏令时信息也计算在内。
RESPOS|位置信息|参数可选性:任选参数；参数类型:字符型；参数范围为:0~256个字符。|位置信息可能包括物理位置、逻辑位置和资源信息三部分：物理位置：由机架号-机框号-槽位号-CPU号组成的一个逻辑概念，最终对应机架上的一个物理实体（例如某块单板），或者一个该实体上的一个逻辑功能模块（例如某块单板上的一个CPU）。逻辑位置：由模块号、单元号、子单元号组成的一个逻辑概念。可对应一个或多个物理实体。资源信息：由操作维护人员配置的系统资源，例如局向、链路信息，有了这些信息，可帮助操作维护人员更精确定位异常事件所在位置。不同系统类型的告警，其位置信息包含的内容不同：对于网元告警，其位置信息可能包含上述三部分。对于网管系统告警，由于告警源均部属在OMM服务器上，因此其位置信息就是OMM服务器的物理位置。对于外围节点告警，其位置信息为模块号。
ADDINFO|附加信息|参数可选性:任选参数；参数类型:字符型；参数范围为:0~2048个字符。|当告警描述、可能原因描述、位置信息还不足以让操作维护人员精确定位异常事件的触发者，或者想让操作维护人员了解更多关于本异常的信息时，告警源会在本属性中补充其他信息，例如：当系统出现CPU过负荷异常时，可在附加信息中描述哪些功能占用较多的CPU，以及用户配置的CPU告警门限信息。当OMM与第三方服务器，例如NTP服务器的链路有异常时，可在附加信息中描述该NTP服务器的IP地址。当系统挂接多个硬盘时，可在附加信息中指明哪块硬盘。






命令举例 :

SHOW NOTIFICATION 




### 查询EM屏蔽规则(SHOW MASK RULE) 
### 查询EM屏蔽规则(SHOW MASK RULE) 


命令功能 :
查询告警屏蔽规则


注意事项 :
查询告警屏蔽规则


输入参数说明 :

标识|名称|类型|说明
---|---|---|---
NAME|规则名称|参数可选性:任选参数；参数类型:字符型；参数范围为:0~50个字符。|规则名称，用于描述规则






输出参数说明 :

标识|名称|类型|说明
---|---|---|---
NAME|规则名称|参数可选性:任选参数；参数类型:字符型；参数范围为:0~50个字符。|规则名称，用于描述规则
NFID|网络功能ID|参数可选性:任选参数；参数类型:字符型；参数范围为:0~128个字符。|网络功能ID
STARTTIME|生效时间|参数可选性:任选参数；参数类型:字符型；参数范围为:0~50个字符。|规则的生效时间
ENDTIME|失效时间|参数可选性:任选参数；参数类型:字符型；参数范围为:0~50个字符。|规则的失效时间
ALARMCODE|告警码|参数可选性:任选参数；参数类型:字符型；参数范围为:0~2048个字符。|为了区分不同的异常事件，系统为每一种告警、通知事件分配的编号。在同一系统类型下，事件不同，则编号不同，并且编号唯一。
NUMBER|规则总数|参数可选性:任选参数；参数类型:整数；参数范围为:0~4294967294。|所有规则的数量






命令举例 :

SHOW MASK RULE 




### 查询告警原因码(SHOW ALARMREASON) 
### 查询告警原因码(SHOW ALARMREASON) 


命令功能 :

针对每种异常事件，系统定义了可能触发该事件的原因和对应的处理建议。该命令用于查询系统中定义的可能原因和处理建议。当需要了解某异常事件的可能原因或处理建议时，或者已知告警原因码，需要详细了解其描述和对应的处理建议时，使用该命令。该命令执行成功后，OAM服务端返回某异常事件可能原因、处理建议给用户。 




注意事项 :
查询告警原因码


输入参数说明 :

标识|名称|类型|说明
---|---|---|---
CODE|告警码|参数可选性:任选参数；参数类型:整数；参数范围为:0~4294967294。|为了区分不同的异常事件，系统为每一种告警、通知事件分配的编号。在同一系统类型下，事件不同，则编号不同，并且编号唯一。
REASON|告警原因码|参数可选性:任选参数；参数类型:整数；参数范围为:0~4294967294。|系统为告警、通知事件的可能原因分配的编号。同一个事件，可能原因可以有多种，其编号不能相同。






输出参数说明 :

标识|名称|类型|说明
---|---|---|---
CODE|告警码|参数可选性:任选参数；参数类型:整数。|为了区分不同的异常事件，系统为每一种告警、通知事件分配的编号。在同一系统类型下，事件不同，则编号不同，并且编号唯一。
REASON|告警原因码|参数可选性:任选参数；参数类型:整数。|系统为告警、通知事件的可能原因分配的编号。同一个事件，可能原因可以有多种，其编号不能相同。
SERVICEINFO|服务信息|参数可选性:任选参数；参数类型:字符型；参数范围为:0~2048个字符。|服务信息
DESC|原因描述|参数可选性:任选参数；参数类型:字符型；参数范围为:0~2048个字符。|异常事件的触发原因，可能有多种，本参数用来列举本异常的所有可能原因。
ADVICE|处理建议|参数可选性:任选参数；参数类型:字符型；参数范围为:0~4000个字符。|异常事件的触发原因，可能有多种，针对每种可能原因，本参数用来列举具体的、可操作的处理措施。






命令举例 :

查询告警码为“2365981697”的所有可能原因及其对应的处理建议。 


`SHOW ALARMREASON:CODE=2365981697;` 


`

命令 (No.1): SHOW ALARMREASON:CODE=2365981697;

告警码       告警原因码   原因描述                                      处理建议
--------------------------------------------------------------------------------
2365981697   2365981697   1. 网络连接故障。                             1. 检查断链节点和网管服务器之间网络物理连接是否正常。
                          2. 网管服务器配置的节点的IP地址或端口错误。   是->3
                                                                        否->2 
                                                                        2. 排除网络物理连接故障，查看告警是否恢复。
                                                                        是->结束 
                                                                        否->3 
                                                                        3. 通过人机命令CHECK OMC LINK查看网管服务器上配置的节点的IP地址和端口是否正确。
                                                                        是->5 
                                                                        否->4 
                                                                        4. 重新创建正确的OMS Socket链路，并删除配置错误的链路，查看告警是否恢复。
                                                                        是->结束 
                                                                        否->5 
                                                                        5. 请联系中兴通讯。
--------------------------------------------------------------------------------
记录数 1

命令执行成功（耗时 0.023 秒）。
` 






相关命令 :



[查询告警码]





### 查询告警码(SHOW ALARMCODE) 
### 查询告警码(SHOW ALARMCODE) 


命令功能 :

系统定义了OAM以及被管对象中可能触发的所有异常事件，有告警事件，也有通知事件。该命令用于查询系统中定义的异常事件。当需要确认系统中是否有定义某种或某些异常事件时，或者需要了解某异常事件的所有信息时，使用该命令。该命令执行成功后，OAM服务端从所有的异常事件模型中，查询出符合用户条件的异常事件详细信息，并返回给用户。 




注意事项 :
查询告警码


输入参数说明 :

标识|名称|类型|说明
---|---|---|---
SERVICENAME|服务名称|参数可选性:任选参数；参数类型:字符型；参数范围为:0~128个字符。|服务名称
CODE|告警码|参数可选性:任选参数；参数类型:整数；参数范围为:0~4294967294。|为了区分不同的异常事件，系统为每一种告警、通知事件分配的编号。在同一系统类型下，事件不同，则编号不同，并且编号唯一。
CODETYPE|告警码类型|参数可选性:任选参数；参数类型:枚举。参见枚举定义。|指异常事件的类型，分为两类：ALARM（告警）：对应系统中比较严重的错误或故障事件。NOTIFICATION（通知）：对应系统运行中发生的轻微的不需要维护人员干预的事件。






输出参数说明 :

标识|名称|类型|说明
---|---|---|---
CODE|告警码|参数可选性:任选参数；参数类型:整数。|为了区分不同的异常事件，系统为每一种告警、通知事件分配的编号。在同一系统类型下，事件不同，则编号不同，并且编号唯一。
SEVERITY|级别|参数可选性:任选参数；参数类型:枚举。参见枚举定义。|告警级别用于标识异常事件的严重程度。按严重程度可以将异常事件分为四类：CR（严重告警）：指在系统运行中出现严重错误导致系统陷于瘫痪，并且无法自行恢复正常的故障。MJ（主要告警）：指系统功能出现严重错误，严重影响系统运行和用户使用，但无需重启系统就可以恢复,或者无法自行恢复但对系统影响相对较小的故障。MI（次要告警）：系统功能实现上出现错误，导致某些功能不能正常使用，或者系统某些功能未能实现，但对系统其他功能没有严重影响的故障。WR（警告告警）：系统的重要和基本功能都已实现，但存在某些轻微的界面问题，或者功能实现不合理，功能使用不方便，对用户使用造成轻微影响。UD（未确定告警）：根据事件告警级别的开关，若开则上报5级的未确定告警，若关则根据上报的级别进行告警上报。
ALARMTYPE|告警类型|参数可选性:任选参数；参数类型:枚举。参见枚举定义。|根据3GPP协议，异常事件的类型（在命令中，不管是告警还是通知事件的类型，都统一称为告警类型）分为五类：COMMUNICATION（通信告警）：与信息传输过程相关的告警类型。EXCEPTION（处理错误告警）：与软件或进程故障相关的告警类型。ENVIRONMENT（环境告警）：与设备所处的环境相关的告警类型。QoS（服务质量告警）：与服务质量降级相关的告警类型；例如：QoS服务质量告警EQUIPMENT（设备告警）：与设备故障相关的告警类型。
CODEDESC|告警描述|参数可选性:任选参数；参数类型:字符型；参数范围为:0~512个字符。|异常事件的描述信息，向操作维护人员表明系统发生了什么异常。
CODETYPE|告警码类型|参数可选性:任选参数；参数类型:枚举。参见枚举定义。|指异常事件的类型，分为两类：ALARM（告警）：对应系统中比较严重的错误或故障事件。NOTIFICATION（通知）：对应系统运行中发生的轻微的不需要维护人员干预的事件。
SERVICEINFO|服务信息|参数可选性:任选参数；参数类型:字符型；参数范围为:0~2048个字符。|服务信息






命令举例 :

查询服务名为CommonS_TMSP_0、告警码为2007的告警详细信息。 


`SHOW ALARMCODE:SERVICENAME="CommonS_TMSP_0",CODE=2007;` 


`

命令 (No.1):SHOW ALARMCODE:SERVICENAME="CommonS_TMSP_0",CODE=2007;
-----------------DEV_SMF_JXM_95----------------

告警码  级别  告警类型  告警描述      告警码类型  服务信息      
----------------------------------------------------------------
2007    次要  通信告警  主备通讯异常  告警        CommonS_TMSP_0
----------------------------------------------------------------
记录数：  1

执行成功
开始时间：2021-11-30 19:28:47.239 耗时：0.163秒
` 






相关命令 :



[查询告警原因码]





### 删除实时告警(DEL ALARM) 
### 删除实时告警(DEL ALARM) 


命令功能 :
删除告警


注意事项 :
删除告警


输入参数说明 :

标识|名称|类型|说明
---|---|---|---
AID|告警标识|参数可选性:必选参数；参数类型:字符型；参数范围为:0~128个字符。|告警的唯一标识






输出参数说明 :

标识|名称|类型|说明
---|---|---|---
SUCC|删除成功的告警标识|参数可选性:任选参数；参数类型:字符型；参数范围为:0~1024个字符。|删除成功的告警标识
FAIL|删除失败的告警标识|参数可选性:任选参数；参数类型:字符型；参数范围为:0~1024个字符。|删除失败的告警标识
NOTEXIST|未找到的告警标识|参数可选性:任选参数；参数类型:字符型；参数范围为:0~1024个字符。|未找到的告警标识






命令举例 :

DEL ALARM:AID=0; 




### 告警数据导出清理 
### 告警数据导出清理 


背景知识 :

系统中的动态告警数据（即系统运行过程中产生的告警数据，主要涉及历史告警和通知）会不断增加，需定期进行备份清理，以防止告警数据占用磁盘空间大、告警使用（如告警查询分析）效率低等问题。 


系统会预定义默认的告警数据导出清理策略，只提供对其进行修改和查询。 






功能描述 :

用于查询和修改告警导出清理参数 








#### 修改告警数据导出清理参数(SET FMCLEARPARA) 
#### 修改告警数据导出清理参数(SET FMCLEARPARA) 


命令功能 :

该命令用于修改告警数据导出清理的各项参数。主要包括调整保存天数、最大保存条数和清理时间点。 


本命令的使用场景为: 日常的操作维护中，操作员可根据实际需要使用此命令修改告警数据导出清理的策略，防止告警日志量过大影响查询效率。 




注意事项 :
导出文件位于SFTP目录下/Oamdata/NF名称/oam/oam/fm/expdata/


输入参数说明 :

标识|名称|类型|说明
---|---|---|---
RAWDATADURATION|历史告警的原始数据保存天数|参数可选性:任选参数；参数类型:整数；参数范围为:1~90。|数据文件中的历史告警保存的天数。每日定时清理的时间点到，会根据此参数配置的时长决定导出或删除哪些历史数据。
EVENTDURATION|通知的原始数据保存天数|参数可选性:任选参数；参数类型:整数；参数范围为:1~90。|数据文件中的通知保存的天数。每日定时清理的时间点到，会根据此参数配置的时长决定导出或删除哪些历史数据。
CLEARTIME|每日导出清理的时间点|参数可选性:任选参数；参数类型:枚举。参见枚举定义。|每日定时导出清理的时间点。00: 00(00: 00): 凌晨0点01: 00(01: 00): 凌晨1点02: 00(02: 00): 凌晨2点03: 00(03: 00): 凌晨3点04: 00(04: 00): 凌晨4点05: 00(05: 00): 凌晨5点
OPTYPE|是否导出清理数据|参数可选性:任选参数；参数类型:枚举。参见枚举定义。|是否导出待清理的数据。YES(是): 待清理的数据导出成文件后再清除。NO(否): 待清理的数据直接清除，不导出成文件。
FILENUM|导出文件保存天数|参数可选性:任选参数；参数类型:整数；参数范围为:1~90。|当是否导出清理参数选择“是”，则每次清理数据前会把满足条件的数据先导出成文件，此文件保存的天数由此配置项确定。
RAWDATANUM|历史告警最大保存数目（万条）|参数可选性:任选参数；参数类型:整数；参数范围为:1~20。|数据文件中的历史告警保存的最大条数。每日定时清理的时间点到，会根据此参数配置的条数决定导出或删除哪些历史数据。
EVENTNUM|通知最大保存数目（万条）|参数可选性:任选参数；参数类型:整数；参数范围为:1~20。|数据文件中的通知保存的最大条数。每日定时清理的时间点到，会根据此参数配置的条数决定导出或删除哪些历史数据。






输出参数说明 :



命令举例 :

设置告警清理时间为每天1点，历史告警原始数据保存天数为5天 


`SET FMCLEARPARA: CLEARTIME =1:00,RAWDATADURATION=5;` 






#### 查询告警数据导出清理参数(SHOW FMCLEARPARA) 
#### 查询告警数据导出清理参数(SHOW FMCLEARPARA) 


命令功能 :
该命令用于查询告警数据导出清理的各项参数。


注意事项 :
导出文件位于SFTP目录下/Oamdata/NF名称/oam/oam/fm/expdata/


输入参数说明 :



输出参数说明 :

标识|名称|类型|说明
---|---|---|---
RAWDATADURATION|历史告警的原始数据保存天数|参数可选性:任选参数；参数类型:整数；参数范围为:1~90。|数据文件中的历史告警保存的天数。每日定时清理的时间点到，会根据此参数配置的时长决定导出或删除哪些历史数据。
EVENTDURATION|通知的原始数据保存天数|参数可选性:任选参数；参数类型:整数；参数范围为:1~90。|数据文件中的通知保存的天数。每日定时清理的时间点到，会根据此参数配置的时长决定导出或删除哪些历史数据。
CLEARTIME|每日导出清理的时间点|参数可选性:任选参数；参数类型:枚举。参见枚举定义。|每日定时导出清理的时间点。00: 00(00: 00): 凌晨0点01: 00(01: 00): 凌晨1点02: 00(02: 00): 凌晨2点03: 00(03: 00): 凌晨3点04: 00(04: 00): 凌晨4点05: 00(05: 00): 凌晨5点
OPTYPE|是否导出清理数据|参数可选性:任选参数；参数类型:枚举。参见枚举定义。|是否导出待清理的数据。YES(是): 待清理的数据导出成文件后再清除。NO(否): 待清理的数据直接清除，不导出成文件。
FILENUM|导出文件保存天数|参数可选性:任选参数；参数类型:整数；参数范围为:1~90。|当是否导出清理参数选择“是”，则每次清理数据前会把满足条件的数据先导出成文件，此文件保存的天数由此配置项确定。
RAWDATANUM|历史告警最大保存数目（万条）|参数可选性:任选参数；参数类型:整数；参数范围为:1~20。|数据文件中的历史告警保存的最大条数。每日定时清理的时间点到，会根据此参数配置的时长决定导出或删除哪些历史数据。
EVENTNUM|通知最大保存数目（万条）|参数可选性:任选参数；参数类型:整数；参数范围为:1~20。|数据文件中的通知保存的最大条数。每日定时清理的时间点到，会根据此参数配置的时长决定导出或删除哪些历史数据。






命令举例 :

查询告警导出清理参数 


`SHOW FMCLEARPARA;` 






### ADMC告警管理 
### ADMC告警管理 


背景知识 :

系统中有些告警，由于无法自动恢复，只能以通知的形式上报，上报之后转换为告警，即为ADMC告警。 




功能描述 :

查询和设置ADMC告警的相关参数。 








#### 查询ADMC告警码(SHOW ADMCCODE) 
#### 查询ADMC告警码(SHOW ADMCCODE) 


命令功能 :
查询系统中定义的ADMC告警码属性


注意事项 :
查询系统中定义的ADMC告警码属性


输入参数说明 :



输出参数说明 :

标识|名称|类型|说明
---|---|---|---
SERVICENAME|服务名称|参数可选性:任选参数；参数类型:字符型。|服务名称
CODE|告警码|参数可选性:任选参数；参数类型:整数。|告警码
SEVERITY|级别|参数可选性:任选参数；参数类型:枚举。参见枚举定义。|级别
ALARMTYPE|告警类型|参数可选性:任选参数；参数类型:枚举。参见枚举定义。|告警类型
CODEDESC|告警描述|参数可选性:任选参数；参数类型:字符型；参数范围为:0~512个字符。|告警描述
CODETYPE|事件类型|参数可选性:任选参数；参数类型:枚举。参见枚举定义。|事件类型






命令举例 :

SHOW ADMCCODE; 




#### 查询ADMC告警清除策略(SHOW ADMCCLEAR) 
#### 查询ADMC告警清除策略(SHOW ADMCCLEAR) 


命令功能 :
查询ADMC告警清除策略


注意事项 :
查询ADMC告警清除策略


输入参数说明 :



输出参数说明 :

标识|名称|类型|说明
---|---|---|---
TYPE|清除类型|参数可选性:任选参数；参数类型:枚举。参见枚举定义。|清除类型
VALIDTIME|ADMC告警存续时长(单位:秒)|参数可选性:任选参数；参数类型:整数。|ADMC告警存续时长(单位:秒)






命令举例 :

SHOW ADMCCLEAR; 




#### 设置ADMC清除策略(SET ADMCCLEAR) 
#### 设置ADMC清除策略(SET ADMCCLEAR) 


命令功能 :
设置ADMC清除策略


注意事项 :
设置ADMC清除策略


输入参数说明 :

标识|名称|类型|说明
---|---|---|---
TYPE|清除类型|参数可选性:必选参数；参数类型:枚举。参见枚举定义。|清除类型，设置为“用户手工清除”后，ADMC告警存续时长不生效，SHOW命令不回显。
VALIDTIME|ADMC告警存续时长(单位：秒)|参数可选性:任选参数；参数类型:整数；参数范围为:60~65535。|ADMC告警存续时长(单位：秒)，默认值900秒






输出参数说明 :



命令举例 :

该命令用于设置AMDC告警清除策略为系统定时清除。 


`SET ADMCCLEAR:TYPE="SYSTEM";` 






### 告警设置 
### 告警设置 


背景知识 :

用于新增/修改/删除/查询告警规则 




功能描述 :

用于新增/修改/删除/查询告警规则 








#### 新增告警过滤规则(ADD FILTER) 
#### 新增告警过滤规则(ADD FILTER) 


命令功能 :
新增告警过滤规则


注意事项 :
新增告警过滤规则


输入参数说明 :

标识|名称|类型|说明
---|---|---|---
NAME|过滤规则名称|参数可选性:必选参数；参数类型:字符型；参数范围为:1~50个字符。|过滤规则名称
DESC|过滤规则描述|参数可选性:任选参数；参数类型:字符型；参数范围为:0~100个字符。|过滤规则描述
ACTIVITY|规则状态|参数可选性:必选参数；参数类型:枚举。参见枚举定义。|规则状态
EVENTTYPE|规则类型|参数可选性:必选参数；参数类型:枚举。参见枚举定义。|规则类型
VMNAME|虚拟机名称|参数可选性:任选参数；参数类型:字符型；参数范围为:0~1024个字符。|虚拟机名称
SERVICENAME|服务名称|参数可选性:任选参数；参数类型:字符型；参数范围为:1~64个字符。|服务名称
ALARMCODE|告警码|参数可选性:任选参数；参数类型:整数；参数范围为:0~4294967294。|告警码
SEVERITY|级别|参数可选性:任选参数；参数类型:枚举。参见枚举定义。|级别
ALARMTYPE|告警类型|参数可选性:任选参数；参数类型:枚举。参见枚举定义。|告警类型
BEGINTIME|起始时间|参数可选性:任选参数；参数类型:日期|起始时间
ENDTIME|终止时间|参数可选性:任选参数；参数类型:日期|终止时间






输出参数说明 :



命令举例 :

ADD FILTER:NAME="ruletest",ACTIVITY="ENABLED",EVENTTYPE="ALARM",ALARMCODE="2001" 




#### 修改告警过滤规则(SET FILTER) 
#### 修改告警过滤规则(SET FILTER) 


命令功能 :
修改告警过滤规则


注意事项 :
修改告警过滤规则


输入参数说明 :

标识|名称|类型|说明
---|---|---|---
NO|过滤规则编号|参数可选性:必选参数；参数类型:整数；参数范围为:0~100。|过滤规则编号
NAME|过滤规则名称|参数可选性:任选参数；参数类型:字符型；参数范围为:1~50个字符。|过滤规则名称
DESC|过滤规则描述|参数可选性:任选参数；参数类型:字符型；参数范围为:0~100个字符。|过滤规则描述
ACTIVITY|规则状态|参数可选性:任选参数；参数类型:枚举。参见枚举定义。|规则状态
EVENTTYPE|规则类型|参数可选性:任选参数；参数类型:枚举。参见枚举定义。|规则类型
VMNAME|虚拟机名称|参数可选性:任选参数；参数类型:字符型；参数范围为:0~1024个字符。|虚拟机名称
SERVICENAME|服务名称|参数可选性:任选参数；参数类型:字符型；参数范围为:1~64个字符。|服务名称
ALARMCODE|告警码|参数可选性:任选参数；参数类型:整数；参数范围为:0~4294967294。|告警码
SEVERITY|级别|参数可选性:任选参数；参数类型:枚举。参见枚举定义。|级别
ALARMTYPE|告警类型|参数可选性:任选参数；参数类型:枚举。参见枚举定义。|告警类型
BEGINTIME|起始时间|参数可选性:任选参数；参数类型:日期|起始时间
ENDTIME|终止时间|参数可选性:任选参数；参数类型:日期|终止时间
CLEARPARAMS|清空参数|参数可选性:任选参数；参数类型:枚举。参见枚举定义。|清空参数






输出参数说明 :



命令举例 :

SET FILTER:NO=1,ACTIVITY="DISABLED" 




#### 删除告警过滤规则(DEL FILTER) 
#### 删除告警过滤规则(DEL FILTER) 


命令功能 :
删除告警过滤规则


注意事项 :
删除告警过滤规则


输入参数说明 :

标识|名称|类型|说明
---|---|---|---
NO|过滤规则编号|参数可选性:必须单选参数；参数类型:整数；参数范围为:0~100。|过滤规则编号
NAME|过滤规则名称|参数可选性:必须单选参数；参数类型:字符型；参数范围为:1~50个字符。|过滤规则名称






输出参数说明 :



命令举例 :

DEL FILTER:NO=1 




#### 查询告警过滤规则(SHOW FILTER) 
#### 查询告警过滤规则(SHOW FILTER) 


命令功能 :
查询告警过滤规则


注意事项 :
查询告警过滤规则


输入参数说明 :

标识|名称|类型|说明
---|---|---|---
NO|过滤规则编号|参数可选性:任意单选参数；参数类型:整数；参数范围为:0~100。|过滤规则编号
NAME|过滤规则名称|参数可选性:任意单选参数；参数类型:字符型；参数范围为:0~50个字符。|过滤规则名称






输出参数说明 :

标识|名称|类型|说明
---|---|---|---
NO|过滤规则编号|参数可选性:必选参数；参数类型:整数。|过滤规则编号
NAME|过滤规则名称|参数可选性:任选参数；参数类型:字符型。|过滤规则名称
DESC|过滤规则描述|参数可选性:任选参数；参数类型:字符型。|过滤规则描述
ACTIVITY|规则状态|参数可选性:任选参数；参数类型:枚举。参见枚举定义。|规则状态
EVENTTYPE|规则类型|参数可选性:任选参数；参数类型:枚举。参见枚举定义。|规则类型
VMNAME|虚拟机名称|参数可选性:任选参数；参数类型:字符型。|虚拟机名称
SERVICENAME|服务名称|参数可选性:任选参数；参数类型:字符型。|服务名称
ALARMCODE|告警码|参数可选性:任选参数；参数类型:整数。|告警码
SEVERITY|级别|参数可选性:任选参数；参数类型:字符型。|级别
ALARMTYPE|告警类型|参数可选性:任选参数；参数类型:字符型。|告警类型
BEGINTIME|起始时间|参数可选性:任选参数；参数类型:字符型。|起始时间
ENDTIME|终止时间|参数可选性:任选参数；参数类型:字符型。|终止时间






命令举例 :

SHOW FILTER 




### 防抖闪断设置 
### 防抖闪断设置 


背景知识 :

由于外部环境的不稳定，例如线路老化、对端异常等，可能会频繁的触发某些告警和恢复。例如MTP3 链路不可达告警，在某些现场可能每天产生/恢复1.5万条数据，这些消息从前台网元、到OMM，到EMS，到NMS，占用通讯资源，占用储存空间，使得每一阶段的处理性能下降，并且严重影响了维护人员正常的派单流程。 




功能描述 :

告警闪断和抖动控制，就是将这些消息限制在告警代理侧，让维护人员不感知。其中闪断是指延迟上报，防抖是指延迟恢复。 








#### 设置控制开关(SET CONTROL SWITCH) 
#### 设置控制开关(SET CONTROL SWITCH) 


命令功能 :
设置控制开关，目前仅包含告警防抖控制和告警闪断控制开关设置。


注意事项 :
设置控制开关，目前仅包含告警防抖控制和告警闪断控制开关设置。


输入参数说明 :

标识|名称|类型|说明
---|---|---|---
NO|控制开关编号|参数可选性:必选参数；参数类型:整数；参数范围为:1~65535。|控制开关编号
STATUS|控制开关状态|参数可选性:必选参数；参数类型:枚举。参见枚举定义。|控制开关状态






输出参数说明 :



命令举例 :

SET CONTROL SWITCH:NO=1,STATUS="ON"; 




#### 查询控制开关(SHOW CONTROL SWITCH) 
#### 查询控制开关(SHOW CONTROL SWITCH) 


命令功能 :
查询控制开关，目前仅包含告警防抖控制和告警闪断控制开关设置。


注意事项 :
查询控制开关，目前仅包含告警防抖控制和告警闪断控制开关设置。


输入参数说明 :



输出参数说明 :

标识|名称|类型|说明
---|---|---|---
NO|控制开关编号|参数可选性:任选参数；参数类型:整数。|控制开关编号
NAME|控制开关名称|参数可选性:任选参数；参数类型:字符型；参数范围为:1~100个字符。|控制开关名称(WOBBLESWITCH :防抖开关；FLASHSWITCH:闪断开关)
STATUS|控制开关状态|参数可选性:任选参数；参数类型:枚举。参见枚举定义。|控制开关状态






命令举例 :

SHOW CONTROL SWITCH; 




#### 新增防抖控制(ADD WOBBLE) 
#### 新增防抖控制(ADD WOBBLE) 


命令功能 :
新增防抖控制，以配置需要参与防抖控制的告警。


注意事项 :
新增防抖控制，以配置需要参与防抖控制的告警。


输入参数说明 :

标识|名称|类型|说明
---|---|---|---
ALARMCODE|告警码|参数可选性:必选参数；参数类型:整数；参数范围为:1~4294967294。|告警码
TIMEFORDELAY|延迟恢复时长（秒）|参数可选性:必选参数；参数类型:整数；参数范围为:1~65535。|延迟恢复时长（秒）






输出参数说明 :



命令举例 :

ADD WOBBLE:ALARMCODE=2005,TIMEFORDELAY=10; 




#### 修改防抖控制(SET WOBBLE) 
#### 修改防抖控制(SET WOBBLE) 


命令功能 :
修改防抖控制，以调整需要参与防抖控制的告警配置参数。


注意事项 :
修改防抖控制，以调整需要参与防抖控制的告警配置参数。


输入参数说明 :

标识|名称|类型|说明
---|---|---|---
ALARMCODE|告警码|参数可选性:必选参数；参数类型:整数；参数范围为:1~4294967294。|告警码
TIMEFORDELAY|延迟恢复时长（秒）|参数可选性:必选参数；参数类型:整数；参数范围为:1~65535。|延迟恢复时长（秒）






输出参数说明 :



命令举例 :

SET WOBBLE:ALARMCODE=1,TIMEFORDELAY=1; 




#### 删除防抖控制(DEL WOBBLE) 
#### 删除防抖控制(DEL WOBBLE) 


命令功能 :
删除指定告警码对应的防抖控制配置信息。


注意事项 :
删除指定告警码对应的防抖控制配置信息。


输入参数说明 :

标识|名称|类型|说明
---|---|---|---
ALARMCODE|告警码|参数可选性:必选参数；参数类型:整数；参数范围为:1~4294967294。|告警码






输出参数说明 :

标识|名称|类型|说明
---|---|---|---
ALARMCODE|告警码|参数可选性:任选参数；参数类型:整数。|告警码






命令举例 :

DEL WOBBLE:ALARMCODE=0; 




#### 查询防抖控制(SHOW WOBBLE) 
#### 查询防抖控制(SHOW WOBBLE) 


命令功能 :
查询防抖控制配置参数及其开关状态。


注意事项 :
查询防抖控制配置参数及其开关状态。


输入参数说明 :

标识|名称|类型|说明
---|---|---|---
ALARMCODE|告警码|参数可选性:任选参数；参数类型:整数；参数范围为:1~4294967294。|告警码






输出参数说明 :

标识|名称|类型|说明
---|---|---|---
STATUS|防抖控制开关状态|参数可选性:必选参数；参数类型:枚举。参见枚举定义。|防抖控制开关状态
ALARMCODE|告警码|参数可选性:任选参数；参数类型:整数。|告警码
TIMEFORDELAY|延迟恢复时长（秒）|参数可选性:任选参数；参数类型:整数。|延迟恢复时长（秒）






命令举例 :

SHOW WOBBLE; 




#### 新增闪断控制(ADD FLASH) 
#### 新增闪断控制(ADD FLASH) 


命令功能 :
新增闪断控制，以配置需要参与防抖控制的告警。


注意事项 :
新增闪断控制，以配置需要参与防抖控制的告警。


输入参数说明 :

标识|名称|类型|说明
---|---|---|---
ALARMCODE|告警码|参数可选性:必选参数；参数类型:整数；参数范围为:1~4294967294。|告警码
TIMEFORDELAY|延迟上报时长（秒）|参数可选性:必选参数；参数类型:整数；参数范围为:1~65535。|延迟上报时长（秒）






输出参数说明 :



命令举例 :

ADD FLASH:ALARMCODE=2005,TIMEFORDELAY=10; 




#### 修改闪断控制(SET FLASH) 
#### 修改闪断控制(SET FLASH) 


命令功能 :
修改闪断控制，以调整需要参与防抖控制的告警配置参数。


注意事项 :
修改闪断控制，以调整需要参与防抖控制的告警配置参数。


输入参数说明 :

标识|名称|类型|说明
---|---|---|---
ALARMCODE|告警码|参数可选性:必选参数；参数类型:整数；参数范围为:1~4294967294。|告警码
TIMEFORDELAY|延迟上报时长（秒）|参数可选性:必选参数；参数类型:整数；参数范围为:1~65535。|延迟上报时长（秒）






输出参数说明 :



命令举例 :

SET FLASH:ALARMCODE=1,TIMEFORDELAY=1; 




#### 删除闪断控制(DEL FLASH) 
#### 删除闪断控制(DEL FLASH) 


命令功能 :
删除指定告警码对应的闪断控制配置信息。


注意事项 :
删除指定告警码对应的闪断控制配置信息。


输入参数说明 :

标识|名称|类型|说明
---|---|---|---
ALARMCODE|告警码|参数可选性:必选参数；参数类型:整数；参数范围为:1~4294967294。|告警码






输出参数说明 :



命令举例 :

DEL FLASH:ALARMCODE=1; 




#### 查询闪断控制(SHOW FLASH) 
#### 查询闪断控制(SHOW FLASH) 


命令功能 :
查询闪断控制配置参数及其开关状态。


注意事项 :
查询闪断控制配置参数及其开关状态。


输入参数说明 :

标识|名称|类型|说明
---|---|---|---
ALARMCODE|告警码|参数可选性:任选参数；参数类型:整数；参数范围为:1~4294967294。|告警码






输出参数说明 :

标识|名称|类型|说明
---|---|---|---
STATUS|闪断控制开关状态|参数可选性:必选参数；参数类型:枚举。参见枚举定义。|闪断控制开关状态
ALARMCODE|告警码|参数可选性:任选参数；参数类型:整数。|告警码
TIMEFORDELAY|延迟上报时长（秒）|参数可选性:任选参数；参数类型:整数。|延迟上报时长（秒）






命令举例 :

SHOW FLASH:ALARMCODE=1; 




#### 设置通知抑制周期(SET NOTICECONTROLPERIOD) 
#### 设置通知抑制周期(SET NOTICECONTROLPERIOD) 


命令功能 :
设置通知抑制周期。


注意事项 :
设置通知抑制周期。


输入参数说明 :

标识|名称|类型|说明
---|---|---|---
TIME|通知抑制周期（秒）|参数可选性:必选参数；参数类型:整数；参数范围为:10~3600。|通知抑制周期（秒）






输出参数说明 :



命令举例 :

SET NOTICECONTROLPERIOD:TIME=10; 




#### 查询通知抑制周期(SHOW NOTICECONTROLPERIOD) 
#### 查询通知抑制周期(SHOW NOTICECONTROLPERIOD) 


命令功能 :
查询通知抑制周期。


注意事项 :
查询通知抑制周期。


输入参数说明 :



输出参数说明 :

标识|名称|类型|说明
---|---|---|---
TIME|通知抑制周期（秒）|参数可选性:必选参数；参数类型:整数；参数范围为:10~3600。|通知抑制周期（秒）






命令举例 :

SHOW NOTICECONTROLPERIOD; 




#### 查询抖动次数(SHOW WOBBLECOUNT) 
#### 查询抖动次数(SHOW WOBBLECOUNT) 


命令功能 :
查询抖动次数


注意事项 :
查询抖动次数


输入参数说明 :

标识|名称|类型|说明
---|---|---|---
AID|告警标识|参数可选性:必选参数；参数类型:字符型；参数范围为:1~128个字符。|告警标识






输出参数说明 :

标识|名称|类型|说明
---|---|---|---
COUNT|抖动次数|参数可选性:任选参数；参数类型:整数。|抖动次数
ErrorMsg|错误信息|参数可选性:任选参数；参数类型:字符型。|错误信息






命令举例 :

SHOW WOBBLECOUNT:AID=""; 




### 外围设备SNMP参数设置 
### 外围设备SNMP参数设置 


背景知识 :

OAM告警管理需要支持接收外围设备上报的告警，外围设备和OAM之间使用SNMP（Simple Network Management Protocol，简单网络管理协议）协议通讯。 






功能描述 :

该组命令用于管理外围设备和OAM之间通讯的SNMP协议参数，包括新增、删除、修改、查询外围设备和OAM之间通讯的SNMP协议参数。 


目前仅支持VNFM类型的外围设备。 










#### 增加外围设备SNMP参数(ADD FMEXDEVICE SNMPCFG) 
#### 增加外围设备SNMP参数(ADD FMEXDEVICE SNMPCFG) 


命令功能 :

该命令用于新增外围设备和OAM之间通讯的SNMP协议参数。当需要新增OAM对接的外围设备时，使用此命令配置外围设备与OAM之间通讯的SNMP协议参数。该命令执行成功后，OAM将接收此外围设备上报的告警信息。 




注意事项 :

目前支持与OAM对接的外围设备个数最大为1。 




输入参数说明 :

标识|名称|类型|说明
---|---|---|---
STATE|是否接收外围设备的告警|参数可选性:必选参数；参数类型:枚举。参见枚举定义。默认值:YES。|该参数用于表示OAM是否接收外围设备上报的告警。YES（是）：表示OAM接收外围设备上报告警，OAM上将显示告警信息。NO（否）：表示OAM不接收外围设备上报告警，OAM上将不显示告警信息。
IP|外围设备的浮动IP|参数可选性:必选参数；参数类型:地址。|该参数用于设置外围设备与OAM通讯使用的浮动IP地址。
FIXIPS|外围设备的物理IP|参数可选性:任选参数；参数类型:地址。|该参数用于设置外围设备与OAM通讯使用的物理IP地址。
PORT|通讯端口|参数可选性:必选参数；参数类型:整数；参数范围为:0~65535。|该参数用于设置外围设备与OAM通讯使用的端口号。
TYPE|外围设备的类型|参数可选性:必选参数；参数类型:枚举。参见枚举定义。|该参数用于设置向OAM上报告警的外围设备类型。目前只有VNFM一种外围设备。
USERNAME|用户名|参数可选性:必选参数；参数类型:字符型；参数范围为:1~20个字符。|该参数用于设置外围设备向OAM通讯上报告警时使用的用户名。
SECURITYLEVEL|安全级别|参数可选性:必选参数；参数类型:枚举。参见枚举定义。默认值:authPriv。|该参数用于设置外围设备与OAM通讯使用SNMP协议的安全级别。外围设备与OAM间可以使用不同安全级别的SNMP通讯协议，以区分是否对用户密钥进行认证，以及是否对外围设备上报的告警内容进行加密。目前有三种安全级别：noAuthNoPriv：使用SNMP V2版本通讯协议，不认证不加密。authNoPriv：使用SNMP V3版本通讯协议，认证但不加密。authPriv：使用SNMP V3版本通讯协议，认证加密。
AUTHTYPE|认证协议|参数可选性:任选参数；参数类型:枚举。参见枚举定义。默认值:NONE。|该参数用于设置外围设备与OAM间SNMP通讯协议采用的认证算法，对用户密钥进行认证。当外围设备与OAM间使用SNMP V2版本通讯协议，即“安全级别”参数设置为“noAuthNoPriv”时，需要将该参数值设为“NONE”。当外围设备与OAM间使用SNMP V3版本通讯协议，即“安全级别”参数设置为“authNoPriv”或“authPriv”时，需要将该参数设置为“MD5”（Message Digest 5 Algorithm，信息-摘要算法）认证算法或“SHA”（Secure Hash Algorithm，安全哈希算法）认证算法。
AUTHKEY|认证密钥|参数可选性:任选参数；参数类型:字符型；参数范围为:0~32个字符。|该参数用于设置外围设备与OAM间SNMP通讯协议采用的认证密钥。当外围设备与OAM间使用SNMP V3版本通讯协议，且需要对用户密钥进行认证，即“安全级别”参数配置为“authNoPriv”或“authPriv”时，需要设置该参数。
PRIVTYPE|加密协议|参数可选性:任选参数；参数类型:枚举。参见枚举定义。默认值:NONE。|该参数用于设置外围设备与OAM间SNMP通讯采用的加密协议，对外围设备上报给OAM的告警内容进行加密。NONE：外围设备向OAM上报的告警内容不加密。DES：外围设备向OAM上报的告警内容采用用DES（Data Encryption Standard，数据加密标准）加密。AES：外围设备向OAM上报的告警内容采用AES（Advanced Encryption Standard，高级加密标准）加密。该参数需要结合“安全级别”参数值配置：当“安全级别”参数设置为“noAuthNoPriv”或“authNoPriv”时，将该参数值设为“NONE”。当“安全级别”参数设置为“authPriv”时，将该参数设置为“DES”或“AES”。
PRIVKEY|加密密钥|参数可选性:任选参数；参数类型:字符型；参数范围为:0~32个字符。|该参数用于设置外围设备与OAM间SNMP通讯采用的加密密钥，对外围设备上报给OAM的告警内容进行加密。
RPTSTATUS|是否上报EMS|参数可选性:必选参数；参数类型:枚举。参见枚举定义。默认值:NO。|该参数用于设置OAM接收外围设备上报告警后，是否将外围设备告警上报EM。






输出参数说明 :



命令举例 :

增加外围设备的SNMP参数配置：IP地址为“1.1.1.1”，通讯端口为“2345”，外围设备的类型为“VNFM”。 


`ADD FMEXDEVICE SNMPCFG:IP="1.1.1.1",PORT=2345,TYPE="VNFM",USERNAME="User_01";` 






相关命令 :



[修改SNMP参数]





[查询SNMP参数]





[删除SNMP参数]





#### 删除外围设备SNMP参数(DEL FMEXDEVICE SNMPCFG) 
#### 删除外围设备SNMP参数(DEL FMEXDEVICE SNMPCFG) 


命令功能 :

该命令用于删除外围设备和OAM之间通讯的SNMP协议参数。当OAM不需要接收某个外围设备告警上报时，执行该命令删除外围设备与OAM之间通讯的SNMP协议参数。 




注意事项 :

删除外围设备和OAM之间通讯的SNMP协议参数后，OAM将收不到该外围设备的告警信息。 




输入参数说明 :

标识|名称|类型|说明
---|---|---|---
IP|外围设备的浮动IP|参数可选性:必选参数；参数类型:地址。|该参数用于设置外围设备与OAM通讯使用的浮动IP地址。






输出参数说明 :



命令举例 :

删除外围设备的SNMP参数配置：IP地址为“10.40.70.80”。 


`DEL FMEXDEVICE SNMPCFG:IP="10.40.70.80";` 






相关命令 :



[增加SNMP参数]





[查询SNMP参数]





[修改SNMP参数]





#### 修改外围设备SNMP参数(SET FMEXDEVICE SNMPCFG) 
#### 修改外围设备SNMP参数(SET FMEXDEVICE SNMPCFG) 


命令功能 :

该命令用于修改外围设备和OAM之间通讯的SNMP协议参数。当与OAM对接的外围设备的SNMP协议参数发生变化时，执行该命令。 




注意事项 :

修改外围设备和OAM之间通讯的SNMP协议参数时，请务必与外围设备的实际SNMP信息保持一致。 




输入参数说明 :

标识|名称|类型|说明
---|---|---|---
IP|外围设备的浮动IP|参数可选性:必选参数；参数类型:地址。|该参数用于设置外围设备与OAM通讯使用的浮动IP地址。
STATE|是否接收外围设备的告警|参数可选性:任选参数；参数类型:枚举。参见枚举定义。|该参数用于设置OAM接收外围设备上报告警后，是否将外围设备告警上报EM。
FIXIPS|外围设备的物理IP|参数可选性:任选参数；参数类型:地址。|该参数用于设置外围设备与OAM通讯使用的物理IP地址。
PORT|通讯端口|参数可选性:任选参数；参数类型:整数；参数范围为:0~65535。|该参数用于设置外围设备与OAM通讯使用的端口号。
TYPE|外围设备的类型|参数可选性:任选参数；参数类型:枚举。参见枚举定义。|该参数用于设置向OAM上报告警的外围设备类型。目前只有VNFM一种外围设备。
USERNAME|用户名|参数可选性:任选参数；参数类型:字符型；参数范围为:1~20个字符。|该参数用于设置外围设备向OAM通讯上报告警时使用的用户名。
SECURITYLEVEL|安全级别|参数可选性:任选参数；参数类型:枚举。参见枚举定义。|该参数用于设置外围设备与OAM通讯使用SNMP协议的安全级别。外围设备与OAM间可以使用不同安全级别的SNMP通讯协议，以区分是否对用户密钥进行认证，以及是否对外围设备上报的告警内容进行加密。目前有三种安全级别：noAuthNoPriv：使用SNMP V2版本通讯协议，不认证不加密。authNoPriv：使用SNMP V3版本通讯协议，认证但不加密。authPriv：使用SNMP V3版本通讯协议，认证加密。
AUTHTYPE|认证协议|参数可选性:任选参数；参数类型:枚举。参见枚举定义。|该参数用于设置外围设备与OAM间SNMP通讯协议采用的认证算法，对用户密钥进行认证。当外围设备与OAM间使用SNMP V2版本通讯协议，即“安全级别”参数设置为“noAuthNoPriv”时，需要将该参数值设为“NONE”。当外围设备与OAM间使用SNMP V3版本通讯协议，即“安全级别”参数设置为“authNoPriv”或“authPriv”时，需要将该参数设置为“MD5”（Message Digest 5 Algorithm，信息-摘要算法）认证算法或“SHA”（Secure Hash Algorithm，安全哈希算法）认证算法。
AUTHKEY|认证密钥|参数可选性:任选参数；参数类型:字符型；参数范围为:0~32个字符。|该参数用于设置外围设备与OAM间SNMP通讯协议采用的认证密钥。当外围设备与OAM间使用SNMP V3版本通讯协议，且需要对用户密钥进行认证，即“安全级别”参数配置为“authNoPriv”或“authPriv”时，需要设置该参数。
PRIVTYPE|加密协议|参数可选性:任选参数；参数类型:枚举。参见枚举定义。|该参数用于设置外围设备与OAM间SNMP通讯采用的加密协议，对外围设备上报给OAM的告警内容进行加密。NONE：外围设备向OAM上报的告警内容不加密。DES：外围设备向OAM上报的告警内容采用用DES（Data Encryption Standard，数据加密标准）加密。AES：外围设备向OAM上报的告警内容采用AES（Advanced Encryption Standard，高级加密标准）加密。该参数需要结合“安全级别”参数值配置：当“安全级别”参数设置为“noAuthNoPriv”或“authNoPriv”时，将该参数值设为“NONE”。当“安全级别”参数设置为“authPriv”时，将该参数设置为“DES”或“AES”。
PRIVKEY|加密密钥|参数可选性:任选参数；参数类型:字符型；参数范围为:0~32个字符。|该参数用于设置外围设备与OAM间SNMP通讯采用的加密密钥，对外围设备上报给OAM的告警内容进行加密。






输出参数说明 :



命令举例 :

修改外围设备的SNMP参数配置：IP地址为“1.1.1.1”，通讯端口为“2345”，外围设备类型是“VNFM”。 


`SET FMEXDEVICE SNMPCFG:IP=1.1.1.1,STATE=YES,PORT=2345,TYPE=VNFM,USERNAME="User_01",SECURITYLEVEL=authPriv,AUTHTYPE=NONE,PRIVTYPE=NONE` 






相关命令 :



[修改SNMP参数]





[查询SNMP参数]





[删除SNMP参数]





#### 查询外围设备SNMP参数(SHOW FMEXDEVICE SNMPCFG) 
#### 查询外围设备SNMP参数(SHOW FMEXDEVICE SNMPCFG) 


命令功能 :

该命令用于查询外围设备和OAM之间通讯的SNMP协议参数信息。 




注意事项 :
无。


输入参数说明 :



输出参数说明 :

标识|名称|类型|说明
---|---|---|---
STATE|是否接收外围设备的告警|参数可选性:任选参数；参数类型:枚举。参见枚举定义。|该参数用于表示OAM是否接收外围设备上报的告警。YES（是）：表示OAM接收外围设备上报告警，OAM上将显示告警信息。NO（否）：表示OAM不接收外围设备上报告警，OAM上将不显示告警信息。
IP|外围设备的浮动IP|参数可选性:任选参数；参数类型:字符型。|该参数用于设置外围设备与OAM通讯使用的浮动IP地址。
FIXIPS|外围设备的物理IP|参数可选性:任选参数；参数类型:字符型。|该参数用于设置外围设备与OAM通讯使用的物理IP地址。
PORT|通讯端口|参数可选性:任选参数；参数类型:整数。|该参数用于设置外围设备与OAM通讯使用的端口号。
TYPE|外围设备的类型|参数可选性:任选参数；参数类型:枚举。参见枚举定义。|该参数用于设置向OAM上报告警的外围设备类型。目前只有VNFM一种外围设备。
USERNAME|用户名|参数可选性:任选参数；参数类型:字符型；参数范围为:1~20个字符。|该参数用于设置外围设备向OAM通讯上报告警时使用的用户名。
SECURITYLEVEL|安全级别|参数可选性:任选参数；参数类型:枚举。参见枚举定义。|该参数用于设置外围设备与OAM通讯使用SNMP协议的安全级别。外围设备与OAM间可以使用不同安全级别的SNMP通讯协议，以区分是否对用户密钥进行认证，以及是否对外围设备上报的告警内容进行加密。目前有三种安全级别：noAuthNoPriv：使用SNMP V2版本通讯协议，不认证不加密。authNoPriv：使用SNMP V3版本通讯协议，认证但不加密。authPriv：使用SNMP V3版本通讯协议，认证加密。
AUTHTYPE|认证协议|参数可选性:任选参数；参数类型:枚举。参见枚举定义。|该参数用于设置外围设备与OAM间SNMP通讯协议采用的认证算法，对用户密钥进行认证。当外围设备与OAM间使用SNMP V2版本通讯协议，即“安全级别”参数设置为“noAuthNoPriv”时，需要将该参数值设为“NONE”。当外围设备与OAM间使用SNMP V3版本通讯协议，即“安全级别”参数设置为“authNoPriv”或“authPriv”时，需要将该参数设置为“MD5”（Message Digest 5 Algorithm，信息-摘要算法）认证算法或“SHA”（Secure Hash Algorithm，安全哈希算法）认证算法。
AUTHKEY|认证密钥|参数可选性:任选参数；参数类型:字符型；参数范围为:0~32个字符。|该参数用于设置外围设备与OAM间SNMP通讯协议采用的认证密钥。当外围设备与OAM间使用SNMP V3版本通讯协议，且需要对用户密钥进行认证，即“安全级别”参数配置为“authNoPriv”或“authPriv”时，需要设置该参数。
PRIVTYPE|加密协议|参数可选性:任选参数；参数类型:枚举。参见枚举定义。|该参数用于设置外围设备与OAM间SNMP通讯采用的加密协议，对外围设备上报给OAM的告警内容进行加密。NONE：外围设备向OAM上报的告警内容不加密。DES：外围设备向OAM上报的告警内容采用用DES（Data Encryption Standard，数据加密标准）加密。AES：外围设备向OAM上报的告警内容采用AES（Advanced Encryption Standard，高级加密标准）加密。该参数需要结合“安全级别”参数值配置：当“安全级别”参数设置为“noAuthNoPriv”或“authNoPriv”时，将该参数值设为“NONE”。当“安全级别”参数设置为“authPriv”时，将该参数设置为“DES”或“AES”。
PRIVKEY|加密密钥|参数可选性:任选参数；参数类型:字符型；参数范围为:0~32个字符。|该参数用于设置外围设备与OAM间SNMP通讯采用的加密密钥，对外围设备上报给OAM的告警内容进行加密。
RPTSTATUS|告警是否上报EMS|参数可选性:任选参数；参数类型:枚举。参见枚举定义。|该参数用于设置OAM接收外围设备上报告警后，是否将外围设备告警上报EM。






命令举例 :

查询外围设备和OAM之间通讯的SNMP协议参数。 


`SHOW FMEXDEVICE SNMPCFG;` 






相关命令 :



[修改SNMP参数]





[查询SNMP参数]





[删除SNMP参数]





## 性能管理 
## 性能管理 


背景知识 :

为了评价一个通信网络运行的好坏，通过网管系统，指定网络单元按照规定的时间段进行性能数据的收集和记录的操作称之为性能管理或性能统计。性能管理的要点是性能统计任务和测量结果，通过性能管理为指定的测量对象创建测量任务，并得到测量结果。 




功能描述 :

该模块用于查询测量任务及其测量数据的查询和导出、查询计数器映射表、查看所有监控、查看和设置性能数据保存时长和删除EM性能任务。 








### 查询统计数据 
### 查询统计数据(SHOW PMDATA) 


命令功能 :

该命令用于查询测量任务的测量数据。当需要了解系统某项运行情况的统计数据时，使用该命令。能够完成以下功能： 



 
查询相关测量任务下所有测量数据。 

 
查询相关测量任务所关联的测量对象上统计的测量数据。 

 
按时间粒度查询相关测量任务的测量数据。 

 
查询相关测量任务下的计数器或指标上的数据。 

 
查询相关测量任务在一定日期内的测量数据。 

 
查询相关测量任务在每天某段时间的测量数据。 

 
结束时间默认当前时间，开始时间默认当前时间往前推4小时。查询时间段范围不能超过1天 

 




注意事项 :
如果不输入开始时间和结束时间，则默认输出最近4小时的数据
当查询粒度为天时，开始时间与结束时间中的小时和分钟无效。


输入参数说明 :

标识|名称|类型|说明
---|---|---|---
TASKID|任务标识|参数可选性:必选参数；参数类型:整数；参数范围为:1~9223372036854775807。|需要查询的数据所属的任务的标识。可通过SHOW PM TASK命令查询已存在的测量任务标识。
OBJECTVALUE|对象值|参数可选性:任选参数；参数类型:字符型；参数范围为:0~256个字符。|需要查询的测量数据涉及的测量对象的值。可以通过执行SHOW PMOBJECT命令来获得。
PERIOD|查询粒度|参数可选性:任选参数；参数类型:枚举。参见枚举定义。|需要查询的测量任务采集数据的时间间隔。 该间隔应小于任务最小粒度。
COUNTERID|计数器标识|参数可选性:任选参数；参数类型:字符型；参数范围为:0~65535个字符。|根据计数器标识查询其对应的测量类型信息。默认查询当前系统的所有测量类型。
STARTDATE|开始时间|参数可选性:任选参数；参数类型:日期|要查询的测量数据的开始测量时间。如果只输入结束日期时，默认开始日期是结束日期向前4小时。
ENDDATE|结束时间|参数可选性:任选参数；参数类型:日期|要查询的测量数据的结束测量时间。如果只输入开始测量时间时，默认截止日期就是当前执行查询测量数据的时间。
DISPTYPE|是否显示计数器名称|参数可选性:任选参数；参数类型:枚举。参见枚举定义。|






输出参数说明 :

标识|名称|类型|说明
---|---|---|---
PARA|参数|参数可选性:任选参数；参数类型:字符型；参数范围为:0~1000个字符。|输出记录结果的标识。该参数随着不同的测试类型，显示不同的内容。
INFO|输出记录|参数可选性:任选参数；参数类型:|






命令举例 :

该命令用于查询测量任务标识为1025，采集2021-09-13 09:00:00到2021-09-13 09:05:00时间段的测量数据，查询结果示例如下： 


`SHOW PMDATA:TASKID=1025,STARTDATE="2021-09-13 09:00:00",ENDDATE="2021-09-13 09:05:00";` 


`

命令 (No.1): SHOW PMDATA:TASKID=1025,STARTDATE="2021-09-13 09:00:00",ENDDATE="2021-09-13 09:05:00";
-----------------DEVSMF180----------------
行号  子网ID  切片  子切片  网络功能ID                            服务组ID                              服务实例ID                            微服务实例ID                           服务版本号  开始时间        结束时间        时区偏移信息  夏令时信息  粒度  测量对象  C557000001  C557000002  C557000003  C557000004  C557000005  C557000006  C557000007  C557000008  C557000009  C557000010  C557000011  C557000012  
-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
1                           00599fc6-5971-4ae2-a5b2-50c936670925  65c9668e-886d-4a9a-bc2d-424fae2412be  65c9668e-886d-4a9a-bc2d-424fae2412be  Type<sc-tmsp-agt>:Group<1>:InstNo<14>  0           20210913090000  20210913090500  28800         0           300   test      0           0           0           0           0           0           0           0           0           0           0           0           
2                           00599fc6-5971-4ae2-a5b2-50c936670925  65c9668e-886d-4a9a-bc2d-424fae2412be  65c9668e-886d-4a9a-bc2d-424fae2412be  Type<sc-tmsp-agt>:Group<1>:InstNo<4>   0           20210913090000  20210913090500  28800         0           300   test      0           0           0           0           0           0           0           0           0           0           0           0           
3                           00599fc6-5971-4ae2-a5b2-50c936670925  65c9668e-886d-4a9a-bc2d-424fae2412be  65c9668e-886d-4a9a-bc2d-424fae2412be  Type<sc-tmsp-agt>:Group<1>:InstNo<8>   0           20210913090000  20210913090500  28800         0           300   test      0           0           0           0           0           0           0           0           0           0           0           0           
4                           00599fc6-5971-4ae2-a5b2-50c936670925  65c9668e-886d-4a9a-bc2d-424fae2412be  65c9668e-886d-4a9a-bc2d-424fae2412be  Type<sc-tmsp-agt>:Group<1>:InstNo<0>   0           20210913090000  20210913090500  28800         0           300   test      0           0           0           0           0           0           0           0           0           0           0           0           
5                           00599fc6-5971-4ae2-a5b2-50c936670925  65c9668e-886d-4a9a-bc2d-424fae2412be  65c9668e-886d-4a9a-bc2d-424fae2412be  Type<sc-tmsp-agt>:Group<1>:InstNo<1>   0           20210913090000  20210913090500  28800         0           300   test      0           0           0           0           0           0           0           0           0           0           0           0           
6                           00599fc6-5971-4ae2-a5b2-50c936670925  65c9668e-886d-4a9a-bc2d-424fae2412be  65c9668e-886d-4a9a-bc2d-424fae2412be  Type<sc-tmsp-agt>:Group<1>:InstNo<12>  0           20210913090000  20210913090500  28800         0           300   test      0           0           0           0           0           0           0           0           0           0           0           0           
7                           00599fc6-5971-4ae2-a5b2-50c936670925  65c9668e-886d-4a9a-bc2d-424fae2412be  65c9668e-886d-4a9a-bc2d-424fae2412be  Type<sc-tmsp-agt>:Group<1>:InstNo<6>   0           20210913090000  20210913090500  28800         0           300   test      0           0           0           0           0           0           0           0           0           0           0           0           
-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
记录数：  7

执行成功
开始时间：2021-09-13 14:17:08.710 耗时：1.138秒
` 






相关命令 :



[查询测量类型]





[查询测量对象]





[查询测量对象类型]





[查询计数器]





### 查看PO的EM映射表(SHOW PM EMTYPE) 
### 查看PO的EM映射表(SHOW PM EMTYPE) 


命令功能 :

该命令用于查询PO（Performacne Object，测量对象）的EM映射表，即EM测量对象及其对应的OAM中测量对象的对应关系表。 


使用该命令，能够查询所有EM测量对象编号和对应的OAM测量对象编号以及引用平台的测量对象。 




注意事项 :
无


输入参数说明 :



输出参数说明 :

标识|名称|类型|说明
---|---|---|---
EMTYPE|EMPO编号|参数可选性:任选参数；参数类型:字符型；参数范围为:1~255个字符。|该参数表示EM测量类型编号。
OAMTYPE|OAMPO编号|参数可选性:任选参数；参数类型:字符型；参数范围为:1~255个字符。|该参数表示OAM测量类型编号。
PLATTYPE|引用的平台PO|参数可选性:任选参数；参数类型:字符型；参数范围为:0~255个字符。|该参数表示引用的TMSP平台测量类型编号。






命令举例 :

查询PO的EM映射表。 


SHOW PM EMTYPE 


`

(No.1) : SHOW PM EMTYPE
-----------------DEV_SMF_JXM_95----------------
EMPO编号 OAMPO编号 引用的平台PO 
--------------------------------
55601    55601     NULL         
55602    55602     NULL         
55603    55603     NULL                  
--------------------------------
记录数：3
` 






### 查看平台服务的计数器映射表(SHOW PM PLAT COUNTER) 
### 查看平台服务的计数器映射表(SHOW PM PLAT COUNTER) 


命令功能 :

该命令用于查询平台服务的计数器映射表，即由网元制定的一系列计数器，这些计数器的值取自于平台部分计数器的值。 


运维人员可根据EM测量对象编号查找其对应的计数器列表及引用平台的计数器列表。 




注意事项 :
无


输入参数说明 :

标识|名称|类型|说明
---|---|---|---
EMTYPE|EMPO编号|参数可选性:必选参数；参数类型:字符型；参数范围为:1~255个字符。|该参数表示EM测量类型编号，可以通过[/topic/body/section/table/tgroup/tbody/row/entry/p/a     {""}) SHOW PM EMTYPE (a]查询。






输出参数说明 :

标识|名称|类型|说明
---|---|---|---
COUNTERID|EMPO计数器列表|参数可选性:任选参数；参数类型:字符型；参数范围为:1~255个字符。|该参数表示EM测量类型对应的计数器列表。
PLATCOUNTERID|引用的平台计数器列表|参数可选性:任选参数；参数类型:字符型；参数范围为:0~255个字符。|该参数表示引用的平台计数器列表即由网元制定的一系列计数器，这些计数器的值取自于平台部分计数器的值。






命令举例 :

查询平台服务中EMTYPE为55700的计数器映射表。 


SHOW PM PLAT COUNTER:EMTYPE="55700"; 






### 查看所有的任务(SHOW PM TASK) 
### 查看所有的任务(SHOW PM TASK) 


命令功能 :

该命令用于查看所有测量任务。命令执行成功后，能够查询所有的任务信息，包括任务标识、任务来源、EMPO编号、引用的平台EMPO列表、粒度、对象列表、开始时间和结束时间。 




注意事项 :
无


输入参数说明 :



输出参数说明 :

标识|名称|类型|说明
---|---|---|---
TASKID|任务标识|参数可选性:任选参数；参数类型:字符型；参数范围为:1~100个字符。|该参数表示性能任务编号。
TASKSRC|任务来源|参数可选性:任选参数；参数类型:枚举。参见枚举定义。|该参数表示性能统计任务来源，来源为以下几种之一：预定义好的任务、从EMS客户端下发的任务以及从中国电信约定的端口下发的直连接口任务。
EMTYPE|EMPO编号|参数可选性:任选参数；参数类型:字符型；参数范围为:1~255个字符。|该参数表示EM测量类型编号，可以通过[/topic/body/section/table/tgroup/tbody/row/entry/p/a     {""}) SHOW PM EMTYPE (a]查询。
SERVICEID|服务编号|参数可选性:任选参数；参数类型:字符型；参数范围为:1~255个字符。|该参数表示服务编号。全局唯一的uuid（通用唯一识别码）。
REFERTASK|引用的平台EMPO列表|参数可选性:任选参数；参数类型:字符型；参数范围为:0~65535个字符。|该参数表示该任务引用的平台测量类型编号。
GP|粒度(秒)|参数可选性:任选参数；参数类型:字符型。|该参数表示测量任务的采集粒度。
OBJLIST|对象列表|参数可选性:任选参数；参数类型:字符型；参数范围为:0~512个字符。|该参数表示测量任务对象列表。
STARTTIME|开始时间|参数可选性:任选参数；参数类型:字符型；参数范围为:1~40个字符。|该参数表示测量任务的开始时间。
ENDTTIME|结束时间|参数可选性:任选参数；参数类型:字符型；参数范围为:1~40个字符。|该参数表示测量任务的结束时间。






命令举例 :

查询所有任务。 


SHOW PM TASK 


`

(No.1) : SHOW PM TASK
-----------------DEV_SMF_JXM_95----------------
任务标识      任务来源 EMPO编号 服务编号                             引用的平台EMPO列表 粒度(秒) 对象列表 开始时间            结束时间            
-----------------------------------------------------------------------------------------------------------------------------------------
1025          直连接口 55700    2b18756b-e6c4-41cc-8cea-56749e708d48 NULL               300      *        2021-08-21 11:03:01 2041-08-21 11:03:01 
1026          直连接口 55601    3bad04dc-0e65-4e64-966b-ebe9517947fe NULL               300      *        2021-08-23 10:00:34 2041-08-23 10:00:34 
1027          本地     55601    3bad04dc-0e65-4e64-966b-ebe9517947fe NULL               3600     *        2021-08-23 10:07:49 2041-08-23 10:07:49 
1628602546096 EM       5121     325a9c02-1acf-4bc6-aa02-4a805a5e7255 NULL               900      *        2021-08-12 08:58:57 2071-08-12 09:00:00 
-----------------------------------------------------------
记录数：4
` 






### 查看所有的监控(SHOW PM MONITOR) 
### 查看所有的监控(SHOW PM MONITOR) 


命令功能 :

该命令用于查询测量任务的门限告警。 


当需要查看某个任务包含的所有门限，或者是查看某个具体的门限时，可以使用该命令。命令执行成功后，会在客户端界面显示所有门限信息。 




注意事项 :
无


输入参数说明 :



输出参数说明 :

标识|名称|类型|说明
---|---|---|---
EMTYPE|EMPO编号|参数可选性:任选参数；参数类型:字符型；参数范围为:1~255个字符。|该参数表示该任务对应的EM测量类型编号。
SERVICEID|服务编号|参数可选性:任选参数；参数类型:字符型；参数范围为:1~255个字符。|该参数表示服务编号。
REFERTASK|引用的平台计数器列表|参数可选性:任选参数；参数类型:字符型；参数范围为:0~65535个字符。|该参数表示引用的平台计数器列表。
COUNTLIST|计数器列表|参数可选性:任选参数；参数类型:字符型；参数范围为:0~65535个字符。|该参数表示该监控任务的计数器列表。
OBJLIST|对象列表|参数可选性:任选参数；参数类型:字符型；参数范围为:0~512个字符。|该参数表示该监控任务的对象列表。






命令举例 :

查询所有的监控。 


SHOW PM MONITOR; 






### 查询性能数据保存时长(SHOW PM DATASAVE) 
### 查询性能数据保存时长(SHOW PM DATASAVE) 


命令功能 :

该命令用于查询性能数据保存时长。当需要查询当前配置的性能数据保护时长参数时，可以执行该命令。 




注意事项 :
无


输入参数说明 :



输出参数说明 :

标识|名称|类型|说明
---|---|---|---
DAYS|天数|参数可选性:任选参数；参数类型:整数；参数范围为:1~31。默认值:7。|性能统计sftp性能文件保存天数






命令举例 :

查询性能数据保存时长。 


`SHOW PM DATASAVE` 


`

(No.1) : SHOW PM DATASAVE
-----------------DEV_SMF_JXM_95----------------
操作维护       天数 
--------------------
修改           7    
--------------------
记录数：1
` 






### 设置性能数据保存时长(SET PM DATASAVE) 
### 设置性能数据保存时长(SET PM DATASAVE) 


命令功能 :

该命令用于设置性能数据保存时长。当需要修改性能数据保存时长时，执行该命令。命令执行成功后，系统按修改后的时长保存性能数据。 




注意事项 :
无


输入参数说明 :

标识|名称|类型|说明
---|---|---|---
DAYS|设置性能数据保存时长（天数）|参数可选性:任选参数；参数类型:整数；参数范围为:1~31。默认值:7。|该参数表示设置性能数据保存时长（天数）。






输出参数说明 :



命令举例 :

将性能数据保存时长设为15天。 


SET PM DATASAVE:DAYS=15 






### 删除EM所有的性能任务(DEL EM PMTASK) 
### 删除EM所有的性能任务(DEL EM PMTASK) 


命令功能 :

该命令用于删除EM所有的测量任务。当不再需要某EM标识对应的EM测量任务时，使用该命令，根据输入的EM标识删除对应的EM测量任务。 




注意事项 :
该命令会删除对应EM标识的所有测量任务，请谨慎使用。


输入参数说明 :

标识|名称|类型|说明
---|---|---|---
EMDN|EM标识|参数可选性:必选参数；参数类型:字符型；参数范围为:1~255个字符。|该参数表示当前OAM接入过的EM标识。可通过[/topic/body/section/table/tgroup/tbody/row/entry/p/a     {""}) SHOW PM EMDN (a]查询。






输出参数说明 :



命令举例 :

删除EMDN为189ae9fb-4f37-4c1d-97d2-5bf1a611e124的性能任务。 


DEL EM PMTASK:EMDN="189ae9fb-4f37-4c1d-97d2-5bf1a611e124"; 






### 查询性能任务的EM标识(SHOW PM EMDN) 
### 查询性能任务的EM标识(SHOW PM EMDN) 


命令功能 :

该命令用于查询性能任务的EM标识。当需要查询OAM接入过并且创建过性能任务的的所有EM的标识时，执行该命令。命令执行成后过，系统显示EM的标识和对应EM中性能任务变更的最后时间。 




注意事项 :
无


输入参数说明 :



输出参数说明 :

标识|名称|类型|说明
---|---|---|---
EMDN|EM标识|参数可选性:任选参数；参数类型:字符型。|该参数表示当前OAM接入过的EM标识。
LASTTIME|性能任务变更的最后时间|参数可选性:任选参数；参数类型:字符型。|该参数表示EM所有任务中最后修改时间。






命令举例 :

查询性能任务的EM标识。 


SHOW PM EMDN; 






### 导出性能数据文件(EXPORT PM DATA FILE) 
### 导出性能数据文件(EXPORT PM DATA FILE) 


命令功能 :

该命令用于导出指定测量任务的测量数据。当运维人员需要查看指定任务的测量数据时，执行该任务。执行成功后，系统将数据导出为文件，方便查看。 




注意事项 :
入参开始时间与结束时间最大不超过一天。


输入参数说明 :

标识|名称|类型|说明
---|---|---|---
TYPEID|测量类型编号|参数可选性:必选参数；参数类型:整数；参数范围为:1~4294967294。|该参数表示要导出的测量类型编号。可通过[/topic/body/section/table/tgroup/tbody/row/entry/p/a     {""}) SHOW PM EMTYPE (a]查询。
STARTTIME|开始时间|参数可选性:必选参数；参数类型:日期|该参数表示要导出的测量任务的开始时间。
ENDTIME|结束时间|参数可选性:必选参数；参数类型:日期|该参数表示要导出的测量任务的结束时间。






输出参数说明 :



命令举例 :

导出性能数据文件，其中测量类型编号为55700，开始时间为2021-10-19 20:42:56，结束时间为2021-10-20 15:43:00。 


EXPORT PM DATA FILE:TYPEID=55700,STARTTIME="2021-10-19 20:42:56",ENDTIME="2021-10-20 15:43:00"; 






### 本地任务管理 
### 本地任务管理 


背景知识 :

在网管系统中通过测量任务进行性能数据的收集和记录，这类任务的管理称之为测量任务管理。本地任务是指在网元没有接入EM时，运维人员通过本地Web或SSH登录OAM，在本地进行的任务操作。通过以下两种方式创建的任务也作为本地任务。 



 
在本地终端（SYS_TERMTYPE为OMM或WEB）执行ADD LOCAL PMJOB命令创建的测量任务。 

 
在EM的配置页面执行ADD LOCAL PMJOB命令创建的测量任务。 

 






功能描述 :

配置该组命令可以实现通过本地SSH对测量任务进行增加、删除、修改、查询，以及性能数据查询、挂起和激活任务的操作。当需要进行性能数据的收集和记录且当网元没有接入EM时，可以执行该组命令。 








#### 创建本地测量任务(ADD LOCAL PMJOB) 
#### 创建本地测量任务(ADD LOCAL PMJOB) 


命令功能 :

该命令用于创建本地测量任务。当需要采集相应测量对象的数据信息时，使用该命令。 


命令执行成功且任务激活成功后，测量数据才会被上报给OAM。 




注意事项 :
无


输入参数说明 :

标识|名称|类型|说明
---|---|---|---
NAME|任务名称|参数可选性:必选参数；参数类型:字符型；参数范围为:1~255个字符。|该参数表示测量任务的名称。用于指定新增任务的名称。名称是测量任务的唯一标识，后续可以通过名称对任务进行一系列操作。 任务名称是全局唯一的且不能为空。
PMTYPE|测量类型标识|参数可选性:必选参数；参数类型:整数；参数范围为:1~4294967294。|该参数表示测量任务的测量类型标识。通过[/topic/body/section/table/tgroup/tbody/row/entry/p/a     {""}) SHOW PMJOB (a]命令可以查询已存在的测量类型标识。
SERVICENAME|服务名称|参数可选性:必选参数；参数类型:字符型；参数范围为:1~255个字符。|该参数表示测量任务的服务名称。
OBJECTLIST|测量对象标识|参数可选性:任选参数；参数类型:字符型；参数范围为:0~256个字符。|该参数表示测量任务的对象标识列表。当测量对象关联方式为全对象，不必填写此参数。当测量对象关联方式为默认时，需要指定测量对象的标识。可根据测量类型标识通过[/topic/body/section/table/tgroup/tbody/row/entry/ul/li/a     {""}) SHOW PMTYPE (a]命令查出对应的测量对象类型标识，再根据测量对象类型标识通过[/topic/body/section/table/tgroup/tbody/row/entry/ul/li/a     {""}) SHOW PMOBJECT (a]命令查出对应的测量对象标识。
MEASUREGR|任务粒度|参数可选性:任选参数；参数类型:枚举。参见枚举定义。默认值:HOUR。|该参数用于指定测量任务采集数据的时间间隔。目前支持以下几种类型：5分钟：采集数据间隔为5分钟。一般用于少量数据的测试。15分钟：采集数据间隔为15分钟。30分钟：采集数据间隔为30分钟。1小时：采集数据间隔为60分钟。
BEGINTIME|开始时间|参数可选性:任选参数；参数类型:日期|该参数表示测量任务的开始时间。
ENDTIME|结束时间|参数可选性:任选参数；参数类型:日期|该参数表示测量任务的结束时间。
STATUS|任务状态|参数可选性:任选参数；参数类型:枚举。参见枚举定义。默认值:TASKSTATUS_ACTIVE。|该参数表示测量任务的状态。目前支持以下两种状态：挂起：任务创建成功后处于挂起状态，此时并不采集数据，直到后续运维人员主动激活。激活：任务创建成功后就处于激活状态，注意此时任务必须在生效时间段内，才能真正开始采集数据。






输出参数说明 :

标识|名称|类型|说明
---|---|---|---
JOBID|任务标识|参数可选性:必选参数；参数类型:整数；参数范围为:1025~65535。|该参数表示测量任务标识。可通过[/topic/body/section/table/tgroup/tbody/row/entry/p/a     {""}) SHOW PM TASK (a]命令查询已存在的测量任务标识。






命令举例 :

创建本地测量任务，任务名称为55700，任务类型为55700，服务名为CommonS_TMSP_0，测量粒度为HOUR，任务状态为激活。 


ADD LOCAL PMJOB:NAME="test",PMTYPE=55700,SERVICENAME="CommonS_TMSP_0",MEASUREGR="HOUR",STATUS="TASKSTATUS_ACTIVE" 






#### 修改本地测量任务(SET LOCAL PMJOB) 
#### 修改本地测量任务(SET LOCAL PMJOB) 


命令功能 :

该命令用于修改本地测量任务。 


当需要对已创建的本地测量任务的信息进行修改时，使用该命令。 


执行成功后系统根据修改后的测量任务上报数据给OAM。 




注意事项 :
无


输入参数说明 :

标识|名称|类型|说明
---|---|---|---
JOBID|任务标识|参数可选性:必选参数；参数类型:整数；参数范围为:1025~65535。|该参数表示测量任务标识。可通过[/topic/body/section/table/tgroup/tbody/row/entry/p/a     {""}) SHOW PM TASK (a]命令查询已存在的测量任务标识。
NAME|任务名称|参数可选性:任选参数；参数类型:字符型；参数范围为:1~255个字符。|该参数表示测量任务的名称。用于指定新增任务的名称。名称是测量任务的唯一标识，后续可以通过名称对任务进行一系列操作。 任务名称是全局唯一的且不能为空。
OBJECTLIST|测量对象标识|参数可选性:任选参数；参数类型:字符型；参数范围为:0~256个字符。|该参数表示测量任务的对象标识列表。当测量对象关联方式为全对象，不必填写此参数。当测量对象关联方式为默认时，需要指定测量对象的标识。可根据测量类型标识通过[/topic/body/section/table/tgroup/tbody/row/entry/ul/li/a     {""}) SHOW PMTYPE (a]命令查出对应的测量对象类型标识，再根据测量对象类型标识通过[/topic/body/section/table/tgroup/tbody/row/entry/ul/li/a     {""}) SHOW PMOBJECT (a]命令查出对应的测量对象标识。
MEASUREGR|任务粒度|参数可选性:任选参数；参数类型:枚举。参见枚举定义。|该参数用于指定测量任务采集数据的时间间隔。目前支持以下几种类型：5分钟：采集数据间隔为5分钟。一般用于少量数据的测试。15分钟：采集数据间隔为15分钟。30分钟：采集数据间隔为30分钟。1小时：采集数据间隔为60分钟。
BEGINTIME|开始时间|参数可选性:任选参数；参数类型:日期|该参数表示测量任务的开始时间。
ENDTIME|结束时间|参数可选性:任选参数；参数类型:日期|该参数表示测量任务的结束时间。






输出参数说明 :



命令举例 :

修改任务标识为1025的本地测量任务，将粒度修改为5分钟。 


SET LOCAL PMJOB:JOBID=1025,MEASUREGR="FIVE_MINUTE" 






#### 删除本地测量任务(DEL LOCAL PMJOB) 
#### 删除本地测量任务(DEL LOCAL PMJOB) 


命令功能 :

该命令用于删除一个本地测量任务。当不需要某项测量任务时，执行该命令，成功后系统不再根据该测量任务上报数据
。 




注意事项 :
任务标识和任务名称只能输入且必须输入一个参数。


输入参数说明 :

标识|名称|类型|说明
---|---|---|---
JOBID|任务标识|参数可选性:必须单选参数；参数类型:整数；参数范围为:1025~65535。|该参数表示测量任务标识。可通过[/topic/body/section/table/tgroup/tbody/row/entry/p/a     {""}) SHOW PM TASK (a]命令查询已存在的测量任务标识。
NAME|任务名称|参数可选性:必须单选参数；参数类型:字符型；参数范围为:1~255个字符。|该参数表示测量任务的名称。用于指定新增任务的名称。名称是测量任务的唯一标识，后续可以通过名称对任务进行一系列操作。 任务名称是全局唯一的且不能为空。






输出参数说明 :



命令举例 :

删除任务标识为1025的本地测量任务。 


DEL LOCAL PMJOB:JOBID=1025 






#### 挂起本地测量任务(SUSPEND LOCAL PMJOB) 
#### 挂起本地测量任务(SUSPEND LOCAL PMJOB) 


命令功能 :

该命令用于挂起本地测量任务。当需要让处于激活状态的本地测量任务停止采集数据时，执行该命令。 


执行成功后，该任务将停止采集数据，直到后续运维人员主动激活。 




注意事项 :
任务标识和任务名称只能输入且必须输入一个参数。


输入参数说明 :

标识|名称|类型|说明
---|---|---|---
JOBID|任务标识|参数可选性:必须单选参数；参数类型:整数；参数范围为:1025~65535。|该参数表示测量任务标识。可通过[/topic/body/section/table/tgroup/tbody/row/entry/p/a     {""}) SHOW PM TASK (a]命令查询已存在的测量任务标识。
NAME|任务名称|参数可选性:必须单选参数；参数类型:字符型；参数范围为:1~255个字符。|该参数表示测量任务的名称。用于指定新增任务的名称。名称是测量任务的唯一标识，后续可以通过名称对任务进行一系列操作。 任务名称是全局唯一的且不能为空。






输出参数说明 :

标识|名称|类型|说明
---|---|---|---
STATUS|测量任务状态|参数可选性:必选参数；参数类型:枚举。参见枚举定义。|该参数表示测量任务的状态。目前支持以下两种状态：挂起：任务创建成功后处于挂起状态，此时并不采集数据，直到后续用户主动激活。激活：任务创建成功后就处于激活状态，注意此时任务必须在生效时间段内，才能真正开始采集数据。






命令举例 :

挂起任务标识为1025的本地测量任务。 


SUSPEND LOCAL PMJOB:JOBID=1025 






#### 激活本地测量任务(ACTIVE LOCAL PMJOB) 
#### 激活本地测量任务(ACTIVE LOCAL PMJOB) 


命令功能 :

该命令用于激活本地测量任务。当需要将挂起的本地测量任务重新开始执行采集数据时，执行该命令。 


执行成功后，该任务将被激活，重新开始采集数据。注意此时任务必须在生效时间段内，才能真正开始采集数据。 




注意事项 :
任务标识和任务名称只能输入且必须输入一个参数。


输入参数说明 :

标识|名称|类型|说明
---|---|---|---
JOBID|任务标识|参数可选性:必须单选参数；参数类型:整数；参数范围为:1025~65535。|该参数表示测量任务标识。可通过[/topic/body/section/table/tgroup/tbody/row/entry/p/a     {""}) SHOW PM TASK (a]命令查询已存在的测量任务标识。
NAME|任务名称|参数可选性:必须单选参数；参数类型:字符型；参数范围为:1~255个字符。|该参数表示测量任务的名称。用于指定新增任务的名称。名称是测量任务的唯一标识，后续可以通过名称对任务进行一系列操作。 任务名称是全局唯一的且不能为空。






输出参数说明 :

标识|名称|类型|说明
---|---|---|---
STATUS|测量任务状态|参数可选性:任选参数；参数类型:枚举。参见枚举定义。|该参数表示测量任务的状态。目前支持以下两种状态：挂起：任务创建成功后处于挂起状态，此时并不采集数据，直到后续用户主动激活。激活：任务创建成功后就处于激活状态，注意此时任务必须在生效时间段内，才能真正开始采集数据。






命令举例 :

激活任务标识为1025的本地测量任务。 


ACTIVE LOCAL PMJOB:JOBID=1025 






#### 查询本地测量任务(SHOW LOCAL PMJOB) 
#### 查询本地测量任务(SHOW LOCAL PMJOB) 


命令功能 :

该命令用于查询本地测量任务。当需要查询本地测量任务的详细信息时可以使用该命令。查询成功后，可以获得任务标识、任务名称、测量类型标识、创建者、修改者等信息。 




注意事项 :
无


输入参数说明 :

标识|名称|类型|说明
---|---|---|---
JOBID|任务标识|参数可选性:任意单选参数；参数类型:整数；参数范围为:1025~65535。|该参数表示测量任务标识。可通过[/topic/body/section/table/tgroup/tbody/row/entry/p/a     {""}) SHOW PM TASK (a]命令查询已存在的测量任务标识。
NAME|任务名称|参数可选性:任意单选参数；参数类型:字符型；参数范围为:1~255个字符。|该参数表示测量任务的名称。用于指定新增任务的名称。名称是测量任务的唯一标识，后续可以通过名称对任务进行一系列操作。 任务名称是全局唯一的且不能为空。
TYPEID|测量类型标识|参数可选性:任意单选参数；参数类型:整数；参数范围为:1~4294967294。|该参数表示测量任务的测量类型标识。通过[/topic/body/section/table/tgroup/tbody/row/entry/p/a     {""}) SHOW PMJOB (a]命令可以查询已存在的测量类型标识。
CREATOR|创建者|参数可选性:任意单选参数；参数类型:字符型；参数范围为:1~255个字符。|该参数表示任务创建者。
MODIFIER|修改者|参数可选性:任意单选参数；参数类型:字符型；参数范围为:1~255个字符。|该参数表示任务修改者。
SERVICENAME|服务名称|参数可选性:任意单选参数；参数类型:字符型；参数范围为:1~255个字符。|该参数表示任务服务名称。






输出参数说明 :

标识|名称|类型|说明
---|---|---|---
JOBID|任务标识|参数可选性:任选参数；参数类型:整数。|该参数表示测量任务标识。可通过[/topic/body/section/table/tgroup/tbody/row/entry/p/a     {""}) SHOW PM TASK (a]命令查询已存在的测量任务标识。
NAME|任务名称|参数可选性:任选参数；参数类型:字符型。|该参数表示测量任务的名称。用于指定新增任务的名称。名称是测量任务的唯一标识，后续可以通过名称对任务进行一系列操作。 任务名称是全局唯一的且不能为空。
DESC|任务描述|参数可选性:任选参数；参数类型:字符型。|该参数表示测量任务描述。
TYPEID|测量类型标识|参数可选性:任选参数；参数类型:整数。|该参数表示测量任务的测量类型标识。通过[/topic/body/section/table/tgroup/tbody/row/entry/p/a     {""}) SHOW PMJOB (a]命令可以查询已存在的测量类型标识。
TYPENAME|测量类型名称|参数可选性:任选参数；参数类型:字符型。|该参数表示测量任务的测量类型名称。
SERVICENAME|服务名称|参数可选性:任选参数；参数类型:字符型。|该参数表示任务服务名称。
MEASUREGR|任务粒度|参数可选性:任选参数；参数类型:枚举。参见枚举定义。|测量任务的粒度
STARTDATE|开始日期|参数可选性:任选参数；参数类型:日期|该参数表示测量任务的开始时间。
ENDDATE|结束日期|参数可选性:任选参数；参数类型:日期|该参数表示测量任务的结束时间。
STATUS|任务状态|参数可选性:任选参数；参数类型:枚举。参见枚举定义。|该参数表示测量任务的状态。目前支持以下两种状态：挂起：任务创建成功后处于挂起状态，此时并不采集数据，直到后续用户主动激活。激活：任务创建成功后就处于激活状态，注意此时任务必须在生效时间段内，才能真正开始采集数据。
SOURCE|任务来源|参数可选性:任选参数；参数类型:枚举。参见枚举定义。|该参数表示测量任务来源。
CREATOR|创建者|参数可选性:任选参数；参数类型:字符型。|该参数表示任务创建者。
CREATETIME|创建时间|参数可选性:任选参数；参数类型:字符型。|该参数表示测量任务创建时间。
MODIFIER|修改者|参数可选性:任选参数；参数类型:字符型。|该参数表示任务修改者。
MODIFYTIME|修改时间|参数可选性:任选参数；参数类型:字符型。|该参数表示测量任务修改时间。
OBJECTMODE|对象关联方式|参数可选性:任选参数；参数类型:枚举。参见枚举定义。|该参数用于指定测量任务关联测量对象的方式。可以有以下几种类型：默认：任务关联的对象必须由在Object ID参数中进行指定。全对象：任务关联的对象是相应对象类型下的所有对象，Object ID参数此时无效。






命令举例 :

查询本地测量任务。 


SHOW LOCAL PMJOB 


`

(No.1) : SHOW LOCAL PMJOB
-----------------DEV_SMF_JXM_95----------------
操作维护        任务标识  任务名称  任务描述  测量类型标识  测量类型名称            服务名称           任务粒度  开始日期             结束日期             任务状态  任务来源  创建者  创建时间             修改者  修改时间             对象关联方式  
--------------------------------------------------------------------------------------------------------------------
复制 修改 删除  1027      222       222       55601         HTTP客户端流程消息测量  CommonS_HTTP_LB_0  1小时     2021-08-23 10:07:49  2041-08-23 10:07:49  激活      本地      admin   2021-08-23 10:07:49  admin   2021-08-23 10:08:01  全对象        
--------------------------------------------------------------------------------------------------------------------
记录数：  1
` 






## 安全管理 
## 安全管理 






### 用户管理 
### 用户管理 






#### 增加用户(ADD USER) 
#### 增加用户(ADD USER) 


命令功能 :

该命令用于向OAM增加一个本地用户。当需要admin之外的人员来操作管理OAM时，采用此命令增加用户。增加用户成功后，还需要执行[ADD USER ROLE]来增加新用户的角色信息，之后新用户才能登录并维护管理OAM系统。




注意事项 :


 
可以增加OAM本地用户来管理OAM系统。 

 
OAM系统中，最多可以支持500个OAM本地用户（集中安全下发的用户数量以EM的限制为准）。 

 




参数说明 :

标识|名称|类型|说明
---|---|---|---
NAME|用户名称|参数可选性:必选参数；参数类型:字符型；参数范围为:1~30个字符。|增加用户的用户名称。用户名称不区分大小写；用户名称允许输入的字符包含如下：中文字符、所有数字、所有大小写字母、部分特殊字符
PASSWORD|用户密码|参数可选性:必选参数；参数类型:字符型；参数范围为:0~64个字符。|用于标识所增加用户的密码。密码区分大小写；当密码策略启用时，密码必须符合相关密码策略要求。可通过SHOW ACCT RULE查询密码策略；通过SET ACCT RULE重新设置密码策略。
CONFIRMPASSWORD|用户确认密码|参数可选性:必选参数；参数类型:字符型；参数范围为:0~64个字符。|用户确认密码。确认新密码需要与用户密码一致。
DES|用户描述|参数可选性:任选参数；参数类型:字符型；参数范围为:0~128个字符。|用户描述信息。用于具体描述一个用户，便于识别。描述的内容可以为空。
MOBILE|用户手机号码|参数可选性:任选参数；参数类型:字符型；参数范围为:0~128个字符。|用户的手机号码信息。例如13913000001
EMAIL|用户电子邮箱|参数可选性:任选参数；参数类型:字符型；参数范围为:0~128个字符。|用户的电子邮箱信息。例如123@zte.com.cn
VALIDDAY|用户有效天数|参数可选性:任选参数；参数类型:整数；参数范围为:0~180。|用户有效天数。
LOGINCOUNT|最大用户登陆数|参数可选性:任选参数；参数类型:整数；参数范围为:0~10。|最大用户登陆数
ISVALID|用户是否有效|参数可选性:任选参数；参数类型:枚举。参见枚举定义。默认值:YES。|用户是否有效
PERMITLOGINTERMINAL|可登录终端类型|参数可选性:任选参数；参数类型:枚举。参见枚举定义。默认值:OMM_TERMINAL&TELNET_TERMINAL&EMS_TERMINAL&NDF_TERMINAL&SSH_TERMINAL。|可登录终端类型
RESTRICTDATE|限制操作日期|参数可选性:任选参数；参数类型:枚举。参见枚举定义。默认值:NO。|限制操作日期
BEGINDATE|可操作起始日期|参数可选性:任选参数；参数类型:日期|可操作起始日期
ENDDATE|可操作终止日期|参数可选性:任选参数；参数类型:日期|可操作终止日期
RESTRICTTIME|限制操作时段|参数可选性:任选参数；参数类型:枚举。参见枚举定义。默认值:NO。|限制操作时段
BEGINTIME|可操作开始时间|参数可选性:任选参数；参数类型:日期|可操作开始时间
ENDTIME|可操作终止时间|参数可选性:任选参数；参数类型:日期|可操作终止时间
RESTRICTWEEK|限制操作星期|参数可选性:任选参数；参数类型:枚举。参见枚举定义。默认值:NO。|限制操作星期
WEEK|可操作星期|参数可选性:任选参数；参数类型:枚举。参见枚举定义。|可操作星期
AUTHENTYPE|认证方式|参数可选性:任选参数；参数类型:枚举。参见枚举定义。默认值:LOCAL。|认证方式






命令举例 :

增加名为testuser的用户，描述信息为user's description。 


`ADD USER:NAME="testuser",PASSWORD="******",CONFIRMPASSWORD="******",DES="user's description"` 




#### 修改用户(SET USER) 
#### 修改用户(SET USER) 


命令功能 :
该命令用于修改一个用户的信息。当用户信息发生变更时，使用该命令修改用户信息。


注意事项 :


 
EM的用户信息不能在OAM进行修改。 

 
修改用户信息时，可能会使已经登录的此用户退出系统（例如修改用户状态为无效）。 

 
此命令无法修改用户具有的角色信息，需要通过ADD USER ROLE命令来添加角色。 

 
超级管理员用户不可设置自己为无效用户。 

 
其他超级管理员用户可以将admin设置为无效用户。 

 
不可以修改其他超级管理员账号的口令。 

 




参数说明 :

标识|名称|类型|说明
---|---|---|---
ID|用户标识|参数可选性:必须单选参数；参数类型:整数；参数范围为:0~65535。|用户的内部标识。此标识是增加用户后自动生成的，通过SHOW USER命令可以查询。
NAME|用户名称|参数可选性:必须单选参数；参数类型:字符型；参数范围为:1~30个字符。|用户的名称。标识一个用户的关键字段，不区分大小写，用于指定需要对哪一个用户数据记录的参数进行修改或调整。操作员可以通过SHOW USER命令查询获得。
PASSWORD|用户密码|参数可选性:特殊任选参数；参数类型:字符型；参数范围为:0~64个字符。|用于标识所增加用户的密码。密码区分大小写；当密码策略启用时，密码必须符合相关密码策略要求。可通过SHOW ACCT RULE查询密码策略；通过SET ACCT RULE重新设置密码策略。
CONFIRMPASSWORD|用户确认密码|参数可选性:特殊任选参数；参数类型:字符型；参数范围为:0~64个字符。|用户确认密码。确认新密码需要与用户密码一致。
DES|用户描述|参数可选性:任选参数；参数类型:字符型；参数范围为:0~128个字符。|用户描述信息。用于具体描述一个用户，便于识别。描述的内容可以为空。
MOBILE|用户手机号码|参数可选性:任选参数；参数类型:字符型；参数范围为:0~128个字符。|用户的手机号码信息。例如13913000001
EMAIL|用户电子邮箱|参数可选性:任选参数；参数类型:字符型；参数范围为:0~128个字符。|用户的电子邮箱信息。例如123@zte.com.cn
VALIDDAY|用户有效天数|参数可选性:任选参数；参数类型:整数；参数范围为:0~180。|用户有效天数。
LOGINCOUNT|最大用户登陆数|参数可选性:任选参数；参数类型:整数；参数范围为:0~10。|最大用户登陆数
ISVALID|用户是否有效|参数可选性:任选参数；参数类型:枚举。参见枚举定义。|用户是否有效
PERMITLOGINTERMINAL|可登录终端类型|参数可选性:任选参数；参数类型:枚举。参见枚举定义。|可登录终端类型
RESTRICTDATE|限制操作日期|参数可选性:任选参数；参数类型:枚举。参见枚举定义。|限制操作日期
BEGINDATE|可操作起始日期|参数可选性:任选参数；参数类型:日期|可操作起始日期
ENDDATE|可操作终止日期|参数可选性:任选参数；参数类型:日期|可操作终止日期
RESTRICTTIME|限制操作时段|参数可选性:任选参数；参数类型:枚举。参见枚举定义。|限制操作时段
BEGINTIME|可操作开始时间|参数可选性:任选参数；参数类型:日期|可操作开始时间
ENDTIME|可操作终止时间|参数可选性:任选参数；参数类型:日期|可操作终止时间
RESTRICTWEEK|限制操作星期|参数可选性:任选参数；参数类型:枚举。参见枚举定义。|限制操作星期
WEEK|可操作星期|参数可选性:任选参数；参数类型:枚举。参见枚举定义。|可操作星期
AUTHENTYPE|认证方式|参数可选性:任选参数；参数类型:枚举。参见枚举定义。|认证方式






命令举例 :

设置用户ID为1的用户，描述信息修改为test，限制用户登陆数为8，邮箱为test@zte.com.cn。 


`SET USER:ID=1,DES="test",EMAIL="test@zte.com.cn",LOGINCOUNT=8;` 




#### 删除用户(DEL USER) 
#### 删除用户(DEL USER) 


命令功能 :
该命令用于删除一个自定义用户。当OAM系统不需要某用户时，可以使用此命令进行删除。


注意事项 :


 
admin用户和EM下发的用户不能被删除。 

 
用户被删除后，正在登录使用的此用户终端将被强制退出登录。 

 
超级管理员和集中安全下发的安全管理员能够删除自定义的其他OAM用户。 

 




参数说明 :

标识|名称|类型|说明
---|---|---|---
ID|用户标识|参数可选性:必须单选参数；参数类型:整数；参数范围为:0~65535。|标识一条用户的内部标识，用于指定需要删除哪一条用户数据记录，操作员可以使用SHOW USER命令查询获得。
NAME|用户名称|参数可选性:必须单选参数；参数类型:字符型；参数范围为:1~30个字符。|标识一个用户的名称，不区分大小写，用于指定需要删除哪一条用户数据记录，操作员可以使用SHOW USER命令查询获得。






命令举例 :

删除名为test的用户。 


`DEL USER:NAME="test";` 




#### 查询用户(SHOW USER) 
#### 查询用户(SHOW USER) 


命令功能 :
该命令用于查询用户的详细信息，查询对象可以是OAM系统中的用户信息和EM的用户信息。


注意事项 :


 
系统中预定义的OAM用户只有一个超级管理员帐号admin，能够执行任何OAM的操作。 

 
集中安全下发的安全管理员可以执行任何安全管理的操作。 

 
OAM的超级管理员和集中安全下发的安全管理员可以查询所有用户信息，查询结果中分列出了OAM用户信息和EM用户信息。 

 
其他用户只能查询用户自身信息。 

 




参数说明 :

标识|名称|类型|说明
---|---|---|---
ID|用户标识|参数可选性:任意单选参数；参数类型:整数；参数范围为:0~65535。|待查询用户的内部标识。此标识是增加用户后自动生成的。
NAME|用户名称|参数可选性:任意单选参数；参数类型:字符型；参数范围为:1~30个字符。|待查询用户的名称。标识一个用户的关键字段，用于指定需要对哪一个用户数据记录的参数进行查询。






输出参数说明 :

标识|名称|类型|说明
---|---|---|---
ID|用户标识|参数可选性:任选参数；参数类型:整数；参数范围为:0~65535。|待查询用户的内部标识。此标识是增加用户后自动生成的。
NAME|用户名称|参数可选性:任选参数；参数类型:字符型；参数范围为:1~30个字符。|待查询用户的名称。标识一个用户的关键字段，用于指定需要对哪一个用户数据记录的参数进行查询。
DES|用户描述|参数可选性:任选参数；参数类型:字符型；参数范围为:0~128个字符。|用户描述信息。用于具体描述一个用户，便于识别。描述的内容可以为空。
MOBILE|用户手机号码|参数可选性:任选参数；参数类型:字符型；参数范围为:0~128个字符。|用户的手机号码信息。例如13913000001
EMAIL|用户电子邮箱|参数可选性:任选参数；参数类型:字符型；参数范围为:0~128个字符。|用户的电子邮箱信息。例如123@zte.com.cn
VALIDDAY|用户有效天数|参数可选性:任选参数；参数类型:整数；参数范围为:0~180。|用户有效天数。
LOGINCOUNT|最大用户登陆数|参数可选性:任选参数；参数类型:整数；参数范围为:0~10。|最大用户登陆数
ISVALID|用户是否有效|参数可选性:任选参数；参数类型:枚举。参见枚举定义。|用户是否有效
PERMITLOGINTERMINAL|可登录终端类型|参数可选性:任选参数；参数类型:枚举。参见枚举定义。|可登录终端类型
RESTRICTDATE|限制操作日期|参数可选性:任选参数；参数类型:枚举。参见枚举定义。|限制操作日期
BEGINDATE|可操作起始日期|参数可选性:任选参数；参数类型:字符型。|可操作起始日期
ENDDATE|可操作终止日期|参数可选性:任选参数；参数类型:字符型。|可操作终止日期
RESTRICTTIME|限制操作时段|参数可选性:任选参数；参数类型:枚举。参见枚举定义。|限制操作时段
BEGINTIME|可操作开始时间|参数可选性:任选参数；参数类型:字符型。|可操作开始时间
ENDTIME|可操作终止时间|参数可选性:任选参数；参数类型:字符型。|可操作终止时间
RESTRICTWEEK|限制操作星期|参数可选性:任选参数；参数类型:枚举。参见枚举定义。|限制操作星期
WEEK|可操作星期|参数可选性:任选参数；参数类型:枚举。参见枚举定义。|可操作星期
AUTHENTYPE|认证方式|参数可选性:任选参数；参数类型:枚举。参见枚举定义。默认值:LOCAL。|认证方式






命令举例 :

`SHOW USER:ID=2;` 


`

命令(No.4): SHOW USER:ID=2
用户标识   用户名称   用户描述   用户手机号码   用户电子邮箱   用户有效天数   最大用户登陆数   用户是否有效   可登录终端类型                       限制操作日期   可操作起始日期   可操作终止日期   限制操作时段   可操作开始时间   可操作终止时间   限制操作星期   可操作星期                                         认证方式
-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
2          normal                                              0              0                是             omm终端,telnet终端,ndf终端,ssh终端   否                                               否                                               否             星期日 ,星期一,星期二,星期三,星期四,星期五,星期六  本地认证
-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
记录数: 1
命令执行成功(耗时: 0.1秒)
` 




#### 复制用户(COPY USER) 
#### 复制用户(COPY USER) 


命令功能 :
该命令用于增加一个具有已经存在用户属性的新用户。当需要增加的用户信息和已经存在的用户信息很接近时，可以通过先复制用户，再修改部分用户属性的方式来增加新用户。


注意事项 :


 
超级用户admin不允许被复制。 

 
复制用户的实质和增加用户相同，也受到最大用户数量的限制。 

 
EM用户在OAM无法被复制。 

 




参数说明 :

标识|名称|类型|说明
---|---|---|---
SRCID|源用户标识|参数可选性:必选参数；参数类型:整数；参数范围为:0~65535。|源用户标识表示要复制的用户来源。此标识可以通过SHOW USER命令可以查询。
NAME|目的用户名称|参数可选性:必选参数；参数类型:字符型；参数范围为:1~30个字符。|复制后的用户名称。用户名称不区分大小写；用户名称允许输入的字符包含如下：中文字符、所有数字、所有大小写字母、部分特殊字符
PASSWORD|用户密码|参数可选性:必选参数；参数类型:字符型；参数范围为:0~64个字符。|密码区分大小写；当密码策略启用时，密码必须符合相关密码策略要求。
CONFIRMPASSWORD|用户确认密码|参数可选性:必选参数；参数类型:字符型；参数范围为:0~64个字符。|用户确认密码。确认新密码需要与用户密码一致。
VALIDDAY|用户有效天数|参数可选性:任选参数；参数类型:整数；参数范围为:0~180。|用户有效天数。
LOGINCOUNT|最大用户登陆数|参数可选性:任选参数；参数类型:整数；参数范围为:0~10。|最大用户登陆数
ISVALID|用户是否有效|参数可选性:任选参数；参数类型:枚举。参见枚举定义。|用户是否有效
PERMITLOGINTERMINAL|可登录终端类型|参数可选性:任选参数；参数类型:枚举。参见枚举定义。|可登录终端类型
RESTRICTDATE|限制操作日期|参数可选性:任选参数；参数类型:枚举。参见枚举定义。|限制操作日期
BEGINDATE|可操作起始日期|参数可选性:任选参数；参数类型:日期|可操作起始日期
ENDDATE|可操作终止日期|参数可选性:任选参数；参数类型:日期|可操作终止日期
RESTRICTTIME|限制操作时段|参数可选性:任选参数；参数类型:枚举。参见枚举定义。|限制操作时段
BEGINTIME|可操作开始时间|参数可选性:任选参数；参数类型:日期|可操作开始时间
ENDTIME|可操作终止时间|参数可选性:任选参数；参数类型:日期|可操作终止时间
RESTRICTWEEK|限制操作星期|参数可选性:任选参数；参数类型:枚举。参见枚举定义。|限制操作星期
WEEK|可操作星期|参数可选性:任选参数；参数类型:枚举。参见枚举定义。|可操作星期
AUTHENTYPE|认证方式|参数可选性:任选参数；参数类型:枚举。参见枚举定义。|认证方式






命令举例 :

将用户ID为1的用户复制为“copytest”用户。 


`COPY USER:SRCID=1,NAME="copytest";` 




#### 增加用户角色(ADD USER ROLE) 
#### 增加用户角色(ADD USER ROLE) 


命令功能 :
该命令用于给一个自定义用户授权角色。当需要给用户更多的权限时，使用此命令。执行成功后，该用户有执行新增角色中包含的操作码的权限。


注意事项 :


 
不能给EM用户增加角色，只能对admin之外的OAM用户增加角色。 

 
超级管理员和EM的安全管理员可以在OAM执行此命令来增加用户拥有的角色；其他用户无权执行此命令。 

 




参数说明 :

标识|名称|类型|说明
---|---|---|---
ID|用户标识|参数可选性:必须单选参数；参数类型:整数；参数范围为:0~65535。|用于指定需要增加角色的用户的内部标识。可通过SHOW USER命令查询。
NAME|用户名称|参数可选性:必须单选参数；参数类型:字符型；参数范围为:1~30个字符。|用于指定需要增加角色的用户的用户名称。用户名称不区分大小写；可通过SHOW USER命令查询用户。
ROLEID|角色标识列表|参数可选性:必选参数；参数类型:整数；参数范围为:0~65535。|被增加的用户的内部角色标识。可以给自定义用户同时添加多个角色；如果角色已经被赋予了，则不重复操作。可以通过SHOW ROLE命令查询具体的角色标识。






命令举例 :

给test用户增加标识为3的角色信息。 


`ADD USER ROLE:NAME="test",ROLEID=3;` 




#### 删除用户角色(DEL USER ROLE) 
#### 删除用户角色(DEL USER ROLE) 


命令功能 :
该命令用于给一个自定义的OAM用户去除角色权限。当需要给用户去除部分操作码的执行权限时，使用此命令去除一些角色信息。执行成功后，用户不再有权限执行删除的角色中包含的操作码。


注意事项 :


 
EM用户的用户角色不能被删除。只能对非admin的OAM用户删除用户角色。 

 
只有超级管理员和集中安全下发的安全管理员可以删除用户的角色信息，其他无权执行此命令。 

 
被删除的角色必须是被操作的用户所拥有的。 

 




参数说明 :

标识|名称|类型|说明
---|---|---|---
ID|用户标识|参数可选性:必须单选参数；参数类型:整数；参数范围为:0~65535。|用于指定需要删除角色的用户的内部标识。可通过SHOW USER命令查询。
NAME|用户名称|参数可选性:必须单选参数；参数类型:字符型；参数范围为:1~30个字符。|用于指定需要删除角色的用户的用户名称。用户名称不区分大小写；可通过SHOW USER命令查询用户。
ROLEID|角色标识列表|参数可选性:必选参数；参数类型:整数；参数范围为:0~65535。|被删除的用户的内部角色标识。可以给自定义用户同时删除多个角色；如果用户不具有其中的某一个角色，则删除不会成功。需要通过SHOW USER ROLE命令查询用户具有的角色列表。






命令举例 :

删除test用户中标识为3的角色信息。 


`DEL USER ROLE:NAME="test",ROLEID=3;` 




#### 查询用户角色(SHOW USER ROLE) 
#### 查询用户角色(SHOW USER ROLE) 


命令功能 :
该命令用于查询用户具有的角色信息。当需要知道用户具有的操作角色集时，可以使用此命令进行查询。命令执行成功后，会将用户具有的所有角色信息都列示出来。


注意事项 :


 
一个用户可以拥有多个角色。 

 
超级管理员和集中安全下发的安全管理员可以查看所有的用户包含的角色；其他用户只能查看用户自己包含的角色。 

 




参数说明 :

标识|名称|类型|说明
---|---|---|---
ID|用户标识|参数可选性:任意单选参数；参数类型:整数；参数范围为:0~65535。|标识一条用户的内部标识，用于指定需要查询哪一条用户对应的角色信息，操作员可以使用SHOW USER命令查询获得。
NAME|用户名称|参数可选性:任意单选参数；参数类型:字符型；参数范围为:1~30个字符。|标识一个用户的名称，不区分大小写，用于指定需要查询哪一条用户对应的角色信息，操作员可以使用SHOW USER命令查询获得。






输出参数说明 :

标识|名称|类型|说明
---|---|---|---
ID|用户标识|参数可选性:任选参数；参数类型:整数；参数范围为:0~65535。|标识一条用户的内部标识，用于指定需要查询哪一条用户对应的角色信息，操作员可以使用SHOW USER命令查询获得。
NAME|用户名称|参数可选性:任选参数；参数类型:字符型；参数范围为:1~30个字符。|标识一个用户的名称，不区分大小写，用于指定需要查询哪一条用户对应的角色信息，操作员可以使用SHOW USER命令查询获得。
DES|用户描述|参数可选性:任选参数；参数类型:字符型；参数范围为:0~128个字符。|用户描述信息。用于具体描述一个用户，便于识别。描述的内容可以为空。
ROLEID|角色标识|参数可选性:任选参数；参数类型:整数；参数范围为:1~2147483647。|指定用户所包含的角色标识。可以通过命令SHOW ROLE查询具体的角色标识。
ROLENAME|角色名称|参数可选性:任选参数；参数类型:字符型；参数范围为:1~50个字符。|指定用户所包含的角色名称。可以通过命令SHOW ROLE查询具体的角色名称。
ROLEDES|角色描述|参数可选性:任选参数；参数类型:字符型；参数范围为:0~128个字符。|指定用户所包含的角色描述信息。






命令举例 :

查询test用户包含的角色信息。 


`SHOW USER ROLE:NAME="test";` 


`

命令(No.2): SHOW USER ROLE:NAME="test";
用户标识   用户名称   用户描述   角色标识   角色名称             角色描述  
---------------------------------------------------------------------------
1          test                  1          administrator role   管理员角色
---------------------------------------------------------------------------
记录数: 1
命令执行成功(耗时: 0.074秒)
` 




#### 修改本用户密码(SET PASSWORD) 
#### 修改本用户密码(SET PASSWORD) 


命令功能 :
该命令用于OAM用户修改自身密码，当新增的OAM用户自己登录OAM时，可以使用此命令修改自己的密码。修改密码成功后，用户密码需要自己进行管理。


注意事项 :


 
任何OAM用户都能够执行此命令修改自己的密码。OAM系统不允许任何人剥夺其修改自身密码的权限。 

 
密码的修改必须遵从OAM的密码策略。可以通过命令SHOW ACCT RULE查询密码策略。 

 




参数说明 :

标识|名称|类型|说明
---|---|---|---
OLDPASSWORD|原密码|参数可选性:任选参数；参数类型:字符型；参数范围为:0~64个字符。|用户的原始密码。原始密码必须正确，命令才可以执行。
NEWPASSWORD|新密码|参数可选性:任选参数；参数类型:字符型；参数范围为:0~64个字符。|用户的新密码，新密码必须符合OMM系统的密码策略。
CONFIRMPASSWORD|确认密码|参数可选性:任选参数；参数类型:字符型；参数范围为:0~64个字符。|新密码的确认密码，必须与新密码一致。






命令举例 :

设置用户自身的密码。 


`SET PASSWORD:OLDPASSWORD="******",NEWPASSWORD="******",CONFIRMPASSWORD="******";` 




#### 增加用户允许登录的IP地址段(ADD LOGIN IPSEG) 
#### 增加用户允许登录的IP地址段(ADD LOGIN IPSEG) 


命令功能 :
此命令用于给一个OAM系统用户添加登录IP范围。当需要限制用户的登录IP地址范围时，可以使用此命令。命令执行成功后，用户在此IP地址段以外无法登录OAM系统。


注意事项 :


 
限制用户登录IP范围对EMS之外的任何用户都有效。 

 
增加用户登录IP范围需谨慎使用；新增登录IP范围，将会触发不在范围内的用户退出系统。 

 
不能设置超级用户的登陆IP范围。 

 




参数说明 :

标识|名称|类型|说明
---|---|---|---
ID|用户标识|参数可选性:必须单选参数；参数类型:整数；参数范围为:0~65535。|用户标识
NAME|用户名称|参数可选性:必须单选参数；参数类型:字符型；参数范围为:1~30个字符。|用户名称
STARTIP|起始IP地址|参数可选性:必选参数；参数类型:地址|起始地址
ENDIP|结束IP地址|参数可选性:必选参数；参数类型:地址|结束地址
DESC|范围描述|参数可选性:任选参数；参数类型:字符型；参数范围为:0~50个字符。|内容为IP地址段描述信息。






命令举例 :

设置用户允许登陆的IP地址范围为10.40.160.1-10.40.160.251。 


`ADD LOGIN IPSEG:ID=1,STARTIP="10.40.160.1",ENDIP="10.40.160.251"` 




#### 删除用户允许登录的IP地址段(DEL LOGIN IPSEG) 
#### 删除用户允许登录的IP地址段(DEL LOGIN IPSEG) 


命令功能 :
该命令用于给OAM系统用户删除登录IP地址范围。当需要减少用户的登录地址限制范围时，可以采用此命令，当用户登陆IP限制全部删除后，用户登录OAM系统将不受IP限制。


注意事项 :


 
删除用户登录IP范围对EM之外的任何用户都有效。 

 
删除用户登录IP范围命令严格匹配IP地址段，可以先通过SHOW LOGIN IPSEG命令查询出来。 

 




参数说明 :

标识|名称|类型|说明
---|---|---|---
ID|用户标识|参数可选性:必须单选参数；参数类型:整数；参数范围为:0~65535。|用户标识
NAME|用户名称|参数可选性:必须单选参数；参数类型:字符型；参数范围为:1~30个字符。|用户名称
IPSEGID|IP地址段标识|参数可选性:必选参数；参数类型:整数；参数范围为:1~65535。|IP地址段的内部标识。






命令举例 :

删除操作员test的一个IP地址段范围，地址段的标识为2。 


`DEL LOGIN IPSEG:NAME="test",IPSEGID=2;` 




#### 查询用户允许的登录IP地址段(SHOW LOGIN IPSEG) 
#### 查询用户允许的登录IP地址段(SHOW LOGIN IPSEG) 


命令功能 :
该命令用于查询OAM系统用户能登录的IP地址范围。


注意事项 :


 
登陆IP地址段，对于OAM系统中所有用户都有效，登陆用户只有在此IP地址范围内才能够正常登陆OAM系统。 

 
如果查询结果没有记录，表明OAM系统的登陆不受IP地址限制。 

 




参数说明 :

标识|名称|类型|说明
---|---|---|---
ID|用户标识|参数可选性:任意单选参数；参数类型:整数；参数范围为:0~65535。|用户标识
NAME|用户名称|参数可选性:任意单选参数；参数类型:字符型；参数范围为:1~30个字符。|用户名称






输出参数说明 :

标识|名称|类型|说明
---|---|---|---
ID|用户标识|参数可选性:任选参数；参数类型:整数。|用户标识
NAME|用户名称|参数可选性:任选参数；参数类型:字符型。|用户名称
IPSEGID|IP地址段标识|参数可选性:任选参数；参数类型:整数。|IP地址段的内部标识。
STARTIP|起始IP地址|参数可选性:任选参数；参数类型:字符型。|起始地址
ENDIP|结束IP地址|参数可选性:任选参数；参数类型:字符型。|结束地址
DESC|范围描述|参数可选性:任选参数；参数类型:字符型。|内容为IP地址段描述信息。






命令举例 :

查询用户登陆IP地址段。 


`SHOW LOGIN IPSEG;` 


`

命令 (No.1): SHOW LOGIN IPSEG
用户标识   用户名称   IP地址段标识   起始IP地址   结束IP地址   范围描述
-----------------------------------------------------------------------
1          test       1              10.40.160.1  10.40.160.251
-----------------------------------------------------------------------
记录数: 1
命令执行成功（耗时 0.024 秒）。
` 




#### 设置用户的手机序列号(SET SERIALNUMBER) 
#### 设置用户的手机序列号(SET SERIALNUMBER) 


命令功能 :
该命令用于设置用户的手机序列号。当开启双因素认证功能时，用户必须设置自己的手机序列号，用以完成网管登陆。


注意事项 :


 
当TOTP的license开启时，用户需要设置正确的手机序列号之后才能登陆成功。 

 
用户可以设置自己的一个手机序列号，且一个用户只能设置一个。 

 
用户设置的手机序列号，在OAM系统的网元中是唯一的。 

 
任何用户不能设置其他用户的手机序列号。 

 
命令不带序列号执行时，超级用户可以删除任何用户的手机序列号；普通用户可以修改自己的手机序列号。 

 




参数说明 :

标识|名称|类型|说明
---|---|---|---
USERNAME|用户名称|参数可选性:必须单选参数；参数类型:字符型；参数范围为:1~30个字符。|用户的名称。标识一个用户的关键字段，不区分大小写，用于指定需要对哪一个用户数据记录的参数进行修改或调整。操作员可以通过SHOW USER命令查询获得。
SERIALNO|手机序列号|参数可选性:必须单选参数；参数类型:字符型；参数范围为:2~50个字符。|手机序列号。用户的手机序列号可以在配套的安全令牌APP中查看。






命令举例 :

设置用户A的手机序列号为869487041234567 


`SET SERIALNUMBER:SERIALNO="869487041234567";` 


`

2019-07-27 16:45:11 命令 (No.14): SET SERIALNUMBER:SERIALNO="869487041234567";

用户名称	手机序号	
-------------------
A  	869487041234567	
-------------------
记录数 1

命令执行成功（耗时 0.082 秒）。
` 




#### 查询用户的手机序列号(SHOW SERIALNUMBER) 
#### 查询用户的手机序列号(SHOW SERIALNUMBER) 


命令功能 :
该命令用于查询用户设置的手机序列号。


注意事项 :


 
用户只能查询自己的手机序列号。 

 




输出参数说明 :

标识|名称|类型|说明
---|---|---|---
USERNAME|用户名称|参数可选性:任选参数；参数类型:字符型。|用户的名称。标识一个用户的关键字段，不区分大小写，用于指定需要对哪一个用户数据记录的参数进行修改或调整。操作员可以通过SHOW USER命令查询获得。
SERIALNO|手机序列号|参数可选性:任选参数；参数类型:字符型。|手机序列号。用户的手机序列号可以在配套的安全令牌APP中查看。






命令举例 :

查询用户序列号 


`SHOW SERIALNUMBER;` 


`

2019-07-27 16:41:50 命令 (No.13): SHOW SERIALNUMBER

操作维护	用户名称	手机序列号	
-------------------------------
修改 	A  	869487040123456	
-------------------------------
记录数 1

命令执行成功（耗时 0.023 秒）。
` 




### 角色管理 
### 角色管理 






#### 增加角色(ADD ROLE) 
#### 增加角色(ADD ROLE) 


命令功能 :

该命令用于新增一个用户自定义角色，当需要给用户限定某些操作码的使用时，可以通过此命令新增角色，并通过[ADD ROLE OPCODE]命令将操作码授权给角色，然后通过[ADD USER ROLE]将角色分配给用户。


超级管理员角色的用户能够执行任何操作；管理员角色能够执行安全以外的任何操作。 




注意事项 :


 
系统中最多可以容纳100个OAM本地角色。 

 
角色ID全局唯一，OAM系统自动分配空闲的ID给新角色。 

 




参数说明 :

标识|名称|类型|说明
---|---|---|---
NAME|角色名称|参数可选性:必选参数；参数类型:字符型；参数范围为:1~50个字符。|自定义角色名称，不区分大小写，全局唯一。
DES|角色描述|参数可选性:任选参数；参数类型:字符型；参数范围为:0~128个字符。|角色的描述信息，用于辅助说明角色功能、应用等其他信息。
STATUS|是否生效|参数可选性:任选参数；参数类型:枚举。参见枚举定义。默认值:SM_ISVALID。|角色是否生效。SM_ISVALID（是）：角色有效。SM_NOTVALID(否)：角色无效。






命令举例 :

新增名称为test的角色。 


`ADD ROLE:NAME="test";` 




#### 修改角色(SET ROLE) 
#### 修改角色(SET ROLE) 


命令功能 :
该命令用于修改一个用户自定义角色的基本参数。当角色的基本信息发生变化时，可以使用此命令进行修改。


注意事项 :


 
EM角色信息不能在OAM上修改。 

 




参数说明 :

标识|名称|类型|说明
---|---|---|---
ID|角色标识|参数可选性:必须单选参数；参数类型:整数；参数范围为:5~65535。|角色的内部标识。可以通过命令SHOW ROLE查询。
NAME|角色名称|参数可选性:必须单选参数；参数类型:字符型；参数范围为:0~50个字符。|自定义角色名称，不区分大小写，全局唯一。
DES|角色描述|参数可选性:任选参数；参数类型:字符型；参数范围为:0~128个字符。|角色的描述信息，用于辅助说明角色功能、应用等其他信息。
STATUS|是否生效|参数可选性:任选参数；参数类型:枚举。参见枚举定义。|角色是否生效。SM_ISVALID（是）：角色有效。SM_NOTVALID(否)：角色无效。






命令举例 :

修改角色标识为5的角色描述为“the role description”，状态修改为“生效”。 


`SET ROLE:ID=5,DES="the role description",STATUS="SM_ISVALID";` 




#### 删除角色(DEL ROLE) 
#### 删除角色(DEL ROLE) 


命令功能 :
该命令用于删除一个用户自定义的角色。当删除角色成功后，系统会将其角色标识回收；同时解除和角色包含的操作码的关联。


注意事项 :


 
系统默认的五个角色和EM角色是不可以被删除的。 

 
若被删除的角色被用户使用时，也会被一并从用户中删除；若使用此角色的用户只包含这一个角色，那么用户也将被同时删除。 

 
角色删除后，角色包含的操作码数据也会一并删除。 

 




参数说明 :

标识|名称|类型|说明
---|---|---|---
ID|角色标识|参数可选性:必须单选参数；参数类型:整数；参数范围为:5~65535。|角色的内部标识。可以通过命令SHOW ROLE查询。
NAME|角色名称|参数可选性:必须单选参数；参数类型:字符型；参数范围为:0~50个字符。|自定义角色名称，不区分大小写，全局唯一。






命令举例 :

删除名称为"test"的角色。 


`DEL ROLE:NAME="test";` 




#### 查询角色(SHOW ROLE) 
#### 查询角色(SHOW ROLE) 


命令功能 :

该命令用于根据角色标识或角色名称来查询角色的详细信息，若无入参，则表明查询系统中的所有角色。 




注意事项 :

超级管理员或者EM的安全管理员可以查询系统中所有的角色；其它用户只能查询自身拥有的角色。 




参数说明 :

标识|名称|类型|说明
---|---|---|---
ID|角色标识|参数可选性:任意单选参数；参数类型:整数；参数范围为:0~65535。|当创建角色成功后，系统会自动生成一个新的角色标识，作为角色的唯一内部标识。
NAME|角色名称|参数可选性:任意单选参数；参数类型:字符型；参数范围为:0~401个字符。|角色的名称。






输出参数说明 :

标识|名称|类型|说明
---|---|---|---
ID|角色标识|参数可选性:任选参数；参数类型:整数。|角色的内部标识。
NAME|角色名称|参数可选性:任选参数；参数类型:字符型。|角色名称，不区分大小写，全局唯一。
DES|角色描述|参数可选性:任选参数；参数类型:字符型。|角色的描述信息，用于辅助说明角色功能、应用等其他信息。
STATUS|是否生效|参数可选性:任选参数；参数类型:枚举。参见枚举定义。|角色是否生效。SM_ISVALID（是）：角色有效。SM_NOTVALID(否)：角色无效。






命令举例 :

查询角色信息. 


`SHOW ROLE` 


`

命令(No.2): SHOW ROLE
角色标识   角色名称                  角色描述        是否生效
-------------------------------------------------------------
0          super administrator role  超级管理员角色  是
1          administrator role        管理员角色      是
2          operator role             配置员角色      是
3          maintenance role          操作员角色      是
4          monitoring role           监控员角色      是
-------------------------------------------------------------
记录数: 5

执行成功   耗时: 0.056 秒
` 




#### 复制角色(COPY ROLE) 
#### 复制角色(COPY ROLE) 


命令功能 :
该命令用于增加一个具有已经存在角色属性的新角色。当需要增加的角色信息和已经存在的角色信息很接近时，可以通过先复制角色，再修改部分角色属性的方式来增加新角色。


注意事项 :


 
复制角色的实质和增加角色相同，所以也受到最大100个角色的限制。 

 
角色复制成功后，被复制的角色拥有和源角色一样的操作码权限。 

 




参数说明 :

标识|名称|类型|说明
---|---|---|---
SRCID|源角色标识|参数可选性:必选参数；参数类型:整数；参数范围为:5~65535。|源角色标识表示要复制的角色来源。可以通过命令SHOW ROLE查询。
NAME|目的角色名称|参数可选性:必选参数；参数类型:字符型；参数范围为:1~50个字符。|复制后新生成的角色的名称。
DES|角色描述|参数可选性:任选参数；参数类型:字符型；参数范围为:0~128个字符。|新生成的角色的描述信息。
STATUS|是否生效|参数可选性:任选参数；参数类型:枚举。参见枚举定义。|角色是否生效。SM_ISVALID（是）：角色有效。SM_NOTVALID(否)：角色无效。






命令举例 :

复制标识为5的源角色，新的角色名称为"copy5"。 


`COPY ROLE:SRCID=5,NAME="copy5";` 




#### 增加角色操作码(ADD ROLE OPCODE) 
#### 增加角色操作码(ADD ROLE OPCODE) 


命令功能 :
该命令用户增加角色的操作码。当需要给角色增加适当的权限时，可以将使用此命令将操作码加入到角色中，这样，拥有此角色的用户就有权限执行操作码指定的操作了。


注意事项 :


 
不能给OAM的5个系统角色以及EM下发的角色增加操作码。 

 
操作码列表中的所有操作码都必须是系统中存在的，否则命令执行失败。 

 
一个操作码可以增加到多个角色中；一个角色可以包含多个操作码；不能给一个角色增加相同的操作码。 

 




参数说明 :

标识|名称|类型|说明
---|---|---|---
ID|角色标识|参数可选性:必须单选参数；参数类型:整数；参数范围为:5~65535。|角色标识
NAME|角色名称|参数可选性:必须单选参数；参数类型:字符型；参数范围为:1~50个字符。|角色名称
OPCODE|操作码|参数可选性:必选参数；参数类型:字符型；参数范围为:1~128个字符。|操作码






命令举例 :

添加角色操作码。 


`ADD ROLE OPCODE:ID=5,OPCODE="operation.oam.gdpr.display"` 




#### 删除角色操作码(DEL ROLE OPCODE) 
#### 删除角色操作码(DEL ROLE OPCODE) 


命令功能 :
该命令用户删除角色的操作码。当需要降低某个角色的部分权限时，可以使用此命令。


注意事项 :


 
不能删除OAM的5个系统角色以及EM下发的角色中的操作码。 

 
操作码列表中的所有操作码都必须是系统中存在的，不能有重复的，否则命令执行失败。 

 
被删除的操作码必须是角色中已经具有的。 

 




参数说明 :

标识|名称|类型|说明
---|---|---|---
ID|角色标识|参数可选性:必须单选参数；参数类型:整数；参数范围为:5~65535。|角色标识
NAME|角色名称|参数可选性:必须单选参数；参数类型:字符型；参数范围为:1~50个字符。|角色名称
OPCODE|操作码|参数可选性:必选参数；参数类型:字符型；参数范围为:1~128个字符。|操作码






命令举例 :

删除角色操作码。 


`DEL ROLE OPCODE:ID=5,OPCODE="operation.oam.gdpr.display"` 




#### 查询角色操作码(SHOW ROLE OPCODE) 
#### 查询角色操作码(SHOW ROLE OPCODE) 


命令功能 :
该命令用于查询查询角色的操作码。当需要知道某个角色中包含哪些操作码时，可以执行此命令。


注意事项 :


 
超级管理员和EM的安全管理员可以查看任何角色包含的操作码；其他用户只能查看自己拥有的角色包含的操作码。 

 




参数说明 :

标识|名称|类型|说明
---|---|---|---
ID|角色标识|参数可选性:任意单选参数；参数类型:整数；参数范围为:0~65535。|角色标识
NAME|角色名称|参数可选性:任意单选参数；参数类型:字符型；参数范围为:1~401个字符。|角色名称






输出参数说明 :

标识|名称|类型|说明
---|---|---|---
ID|角色标识|参数可选性:任选参数；参数类型:整数；参数范围为:0~65535。|角色标识
NAME|角色名称|参数可选性:任选参数；参数类型:字符型。|角色名称
OPCODE|操作码|参数可选性:任选参数；参数类型:字符型。|操作码
OPDESC|操作码名称|参数可选性:任选参数；参数类型:字符型；参数范围为:0~2000个字符。|操作码名称






命令举例 :

查询角色操作码。 


`SHOW ROLE OPCODE:ID=5` 


`

命令 (No.1): SHOW ROLE OPCODE:ID=5
角色标识   角色名称   操作码                      操作码名称      
------------------------------------------------------------------
5          kk1        operation.oam.gdpr.display  OAM GDPR显示功能
------------------------------------------------------------------
记录数: 1

执行成功   耗时: 0.299 秒
` 




#### 查询角色对应的用户(SHOW ROLE USER) 
#### 查询角色对应的用户(SHOW ROLE USER) 


命令功能 :

该命令用于查询某角色被哪些用户使用。当需要知道某个角色被多少用户使用时，可以使用此命令进行查询。 


当不设置角色标识或角色名称时，则表示显示系统中用户有权限的所有有权限角色与用户的对应关系。 




注意事项 :


 
一个角色可以被多个用户同时拥有。 

 
超级管理员或者EM安全管理员可以查询所有拥有此角色的用户；其他用户只能查询到自己的数据。 

 




参数说明 :

标识|名称|类型|说明
---|---|---|---
ID|角色标识|参数可选性:任意单选参数；参数类型:整数；参数范围为:0~65535。|角色的内部标识。可以通过命令SHOW ROLE查询。
NAME|角色名称|参数可选性:任意单选参数；参数类型:字符型；参数范围为:1~401个字符。|角色的名称。






输出参数说明 :

标识|名称|类型|说明
---|---|---|---
ID|用户标识|参数可选性:任选参数；参数类型:整数。|标识一条用户的内部标识，用于指定需要查询哪一条用户对应的角色信息，操作员可以使用SHOW USER命令查询获得。
NAME|用户名称|参数可选性:任选参数；参数类型:字符型。|标识一个用户的名称，不区分大小写，用于指定需要查询哪一条用户对应的角色信息，操作员可以使用SHOW USER命令查询获得。
DES|用户描述|参数可选性:任选参数；参数类型:字符型。|用户描述信息。用于具体描述一个用户，便于识别。描述的内容可以为空。
ROLEID|角色标识|参数可选性:任选参数；参数类型:整数。|指定用户所包含的角色标识。可以通过命令SHOW ROLE查询具体的角色标识。
ROLENAME|角色名称|参数可选性:任选参数；参数类型:字符型。|指定用户所包含的角色名称。可以通过命令SHOW ROLE查询具体的角色名称。
ROLEDES|角色描述|参数可选性:任选参数；参数类型:字符型。|指定用户所包含的角色描述信息。






命令举例 :

查询标识为4的角色对应的用户信息。 


`SHOW ROLE USER:ID=4` 


`

命令(No.3): SHOW ROLE USER:ID=4
用户标识   用户名称   用户描述   角色标识   角色名称         角色描述
-----------------------------------------------------------------------
2          supson     userdes    4          monitoring role  监控员角色
-----------------------------------------------------------------------
记录数: 1

执行成功   耗时: 0.718 秒
` 




### 操作码管理 
### 操作码管理 






#### 查询操作码(SHOW OPCODE) 
#### 查询操作码(SHOW OPCODE) 


命令功能 :
该命令用于查询安全管理模块加载的所有的操作码


注意事项 :


 
超级管理员或者EM安全管理员能够查看所有的操作码。 

 
若用户只记得操作码的部分字符，输入后依然可以将包含此字符的所有操作码查询出来。 

 




参数说明 :

标识|名称|类型|说明
---|---|---|---
NETYPE|网元类型|参数可选性:任选参数；参数类型:字符型；参数范围为:1~64个字符。|网元类型
SERVICETYPE|服务类型|参数可选性:任选参数；参数类型:字符型；参数范围为:1~32个字符。|服务类型
OPCODE|操作码|参数可选性:任选参数；参数类型:字符型；参数范围为:1~128个字符。|操作码






输出参数说明 :

标识|名称|类型|说明
---|---|---|---
NETYPE|网元类型|参数可选性:任选参数；参数类型:字符型。|网元类型
SERVICETYPE|服务类型|参数可选性:任选参数；参数类型:字符型。|服务类型
OPCODE|操作码|参数可选性:任选参数；参数类型:字符型。|操作码
OPDESC|操作码名称|参数可选性:任选参数；参数类型:字符型；参数范围为:0~2000个字符。|操作码名称






命令举例 :

查询操作码。 


`SHOW OPCODE:NETYPE="oam.ctrl",SERVICETYPE="oam.ctrl",OPCODE="operation.oam.gdpr.display"` 


`

命令 (No.1): SHOW OPCODE:NETYPE="oam.ctrl",SERVICETYPE="oam.ctrl",OPCODE="operation.oam.gdpr.display"
网元类型   服务类型   操作码                      操作码名称      
------------------------------------------------------------------
oam.ctrl   oam.ctrl   operation.oam.gdpr.display  OAM GDPR显示功能
------------------------------------------------------------------
记录数: 1

执行成功   耗时: 0.299 秒
` 




#### 查询操作码对应的角色(SHOW OPCODE ROLE) 
#### 查询操作码对应的角色(SHOW OPCODE ROLE) 


命令功能 :
该命令用户查询操作码对应的角色。当希望知道某个操作码被哪些角色使用时，可以使用此命令进行查询。


注意事项 :


 
查询出来的结果中包含的角色包含OAM本地角色和EM角色。 

 




参数说明 :

标识|名称|类型|说明
---|---|---|---
OPCODE|操作码|参数可选性:必选参数；参数类型:字符型；参数范围为:1~128个字符。|操作码






输出参数说明 :

标识|名称|类型|说明
---|---|---|---
OPCODE|操作码|参数可选性:任选参数；参数类型:字符型。|操作码
OPDESC|操作码名称|参数可选性:任选参数；参数类型:字符型；参数范围为:0~2000个字符。|操作码名称
ID|角色标识|参数可选性:任选参数；参数类型:整数；参数范围为:0~65535。|角色标识
NAME|角色名称|参数可选性:任选参数；参数类型:字符型。|角色名称






命令举例 :

查询操作码的角色。 


`SHOW OPCODE ROLE:OPCODE="operation.oam.gdpr.display"` 


`

命令 (No.1): SHOW OPCODE ROLE:OPCODE="operation.oam.gdpr.display"
操作码                      操作码名称         角色标识   角色名称          
----------------------------------------------------------------------------
operation.oam.gdpr.display  OAM GDPR显示功能   1          administrator role
----------------------------------------------------------------------------
记录数: 1

执行成功   耗时: 0.299 秒
` 




### 高级管理 
### 高级管理 






#### 查询登录用户(SHOW LOGINUSER) 
#### 查询登录用户(SHOW LOGINUSER) 


命令功能 :
该命令用于查询登录OAM系统的在线用户的信息，当命令执行成功后，将显示所有已登录用户的用户名、登录IP地址、登录时间以及登录类型。管理员通过此命令可以实时查看通过不同终端登录的在线用户，防止非法用户登录OAM系统。


注意事项 :


 
只有超级管理员和EM的安全管理员可以执行该命令。 

 




参数说明 :

标识|名称|类型|说明
---|---|---|---
NAME|用户名称|参数可选性:任意单选参数；参数类型:字符型；参数范围为:1~30个字符。|待查询用户的名称。标识一个用户的关键字段，用于指定需要对哪一个用户数据记录的参数进行查询。






输出参数说明 :

标识|名称|类型|说明
---|---|---|---
NAME|用户名称|参数可选性:任选参数；参数类型:字符型；参数范围为:1~256个字符。|登录用户的名称。用户名称指的是OAM系统中所有用户，可以包括EMS用户、OMM普通用户以及超级用户Admin。
IPADDR|登录IP地址|参数可选性:任选参数；参数类型:字符型；参数范围为:1~128个字符。|登录用户的登录地址。表示用户从哪个IP地址登录OAM系统。
DATETIME|登录时间|参数可选性:任选参数；参数类型:字符型；参数范围为:1~128个字符。|登录用户的登录时间。表示用户登录OAM系统的时刻。
TYPE|登录类型|参数可选性:任选参数；参数类型:枚举。参见枚举定义。|登录用户的终端类型。TERM_WEB_GUI（OMM终端）：表示用户通过IE浏览器客户端登录。TERM_TELNET_SERVER（TELNET客户端）：表示用户通过telnet客户端登录网管。TERM_EMS（EMS客户端）: 标识用户通过EMS客户端登录网管。TERM_NDF（NDF客户端）：表示用户通过NDF客户端登录网管。TERM_SSH_SERVER（SSH客户端）：表示用户通过SSH客户端登录网管。TERM_4A（4A客户端）：表示用户通过4A客户端登录网管。






命令举例 :

查询登录用户信息。 


`SHOW LOGINUSER:NAME="kk";` 


`

命令 (No.1): SHOW LOGINUSER:NAME="kk";
用户名称   登录IP地址     登录时间               登录类型 
-----------------------------------------------------------
kk         172.100.1.81   2019-12-17 17:02:05    SSH客户端
-----------------------------------------------------------
记录数: 1

执行成功   耗时: 0.109 秒
` 




#### 强制登录用户退出(RMV USERLINK) 
#### 强制登录用户退出(RMV USERLINK) 


命令功能 :
该命令用于管理员强制其他在线登录用户退出OAM系统。当管理员认定某个用户不满足帐号策略或密码策略，或者禁止用户使用OAM系统时，可以使用此命令将用户强制退出登录，以保证OAM系统的安全。


注意事项 :


 
此命令不能限制用户再次登录，若要限制，可以将用户删除、锁定或者将用户设置为无效用户。 

 
只有超级管理员或者EM安全管理员可以执行此命令。 

 
只能强制所有已经登录网管的用户退出，可以通过通过命令SHOW LOGINUSER查看所有登录网管的用户。 

 




参数说明 :

标识|名称|类型|说明
---|---|---|---
NAME|用户名|参数可选性:必选参数；参数类型:字符型；参数范围为:1~256个字符。|用户名
IPADDR|登录IP地址|参数可选性:任选参数；参数类型:字符型；参数范围为:0~128个字符。|登录IP地址
DATETIME|登录时间|参数可选性:任选参数；参数类型:日期|登录时间
TYPE|登录类型|参数可选性:任选参数；参数类型:枚举。参见枚举定义。|登录类型






命令举例 :

踢出登录的test用户。 


`RMV USERLINK:name="test"` 




#### 修改OAM账号规则(SET ACCT RULE) 
#### 修改OAM账号规则(SET ACCT RULE) 


命令功能 :
该命令用于修改OAM使用的全局账号规则。当需要控制登陆OAM系统的用户规则时，可以使用此命令进行修改。


注意事项 :


 
OAM帐号规则全局唯一；设置成功后会将之前的帐号规则修改。 

 
EM的集中安全帐号由于是在EM统一管理的，帐号相关的策略不下发。 

 
EM集中安全用户在OAM登录时，也需要遵循OAM的账号规则。 

 
未登录失效周期对admin和其他超级管理员都不生效。 

 
系统会保存用户的历史密码。 

 
密码最大有效期字段为0，代表密码永不过期。 

 
不能使用最近密码天数为0，每天输入密码次数限制不生效 

 




参数说明 :

标识|名称|类型|说明
---|---|---|---
PWDMINLEN|密码最小长度|参数可选性:任选参数；参数类型:整数；参数范围为:0~31。|密码最小长度
PWDMAXLEN|密码最大长度|参数可选性:任选参数；参数类型:整数；参数范围为:32~64。|密码最大长度
PWDREUSES|不能使用最近的密码次数|参数可选性:任选参数；参数类型:整数；参数范围为:1~100。|不能使用最近的密码次数
ENASTRONGPWD|启用强密码策略|参数可选性:任选参数；参数类型:枚举。参见枚举定义。|启用强密码策略
PWDVALIDDAYS|密码最大有效期(天)|参数可选性:任选参数；参数类型:整数；参数范围为:0~365。|密码最大有效期(天)
ADVNTYDAYS|密码过期前提醒天数|参数可选性:任选参数；参数类型:整数；参数范围为:1~90。|密码过期前提醒天数
MAXRETRIES|最大错误密码输入次数|参数可选性:任选参数；参数类型:整数；参数范围为:2~20。|最大错误密码输入次数
AUTOUNLOCKTIME|自动解锁时间(分钟)|参数可选性:任选参数；参数类型:整数；参数范围为:0~4320。|自动解锁时间(分钟)
PWDTYPENUMS|密码允许字符类型数|参数可选性:任选参数；参数类型:整数；参数范围为:2~4。|密码允许字符类型数
PWDREPEATPERIOD|不能使用最近密码天数|参数可选性:任选参数；参数类型:整数；参数范围为:0~180。|不能使用最近密码天数
MAXPWDSUCCESSIVELETTER|最大密码连续字符次数|参数可选性:任选参数；参数类型:整数；参数范围为:0~20。|最大密码连续字符次数
MUSTMODIFYRESETUSERPWD|重置密码后用户登录时必须修改密码|参数可选性:任选参数；参数类型:枚举。参见枚举定义。|重置密码后用户登录时必须修改密码
ACCOUNTEXPIREPROMPT|账户过期前提醒天数|参数可选性:任选参数；参数类型:整数；参数范围为:0~90。|账户过期前提醒天数
UNLOGININVALIDPERIOD|未登录失效周期(天)|参数可选性:任选参数；参数类型:整数；参数范围为:0~180。|未登录失效周期(天)
MAXMODIFYCOUNT|每日用户修改密码最大次数|参数可选性:任选参数；参数类型:整数；参数范围为:3~10。|每日用户修改密码最大次数
LOCKBYIP|是否按IP锁定用户|参数可选性:任选参数；参数类型:枚举。参见枚举定义。|是否按IP锁定用户






命令举例 :

设置账号策略为：密码长度为[8,32]。 


`SET ACCT RULE:PWDMINLEN=8,PWDMAXLEN=32;` 




#### 查询OAM账号规则(SHOW ACCT RULE) 
#### 查询OAM账号规则(SHOW ACCT RULE) 


命令功能 :
该命令用于查询OAM使用的全局账号规则。


注意事项 :

一个OAM系统中只有一套账号策略；EM集中安全的账号策略不下发。 




输出参数说明 :

标识|名称|类型|说明
---|---|---|---
PWDMINLEN|密码最小长度|参数可选性:任选参数；参数类型:整数。|密码最小长度
PWDMAXLEN|密码最大长度|参数可选性:任选参数；参数类型:整数。|密码最大长度
PWDREUSES|不能使用最近的密码次数|参数可选性:任选参数；参数类型:整数。|不能使用最近的密码次数
ENSTRONGPWD|启用强密码策略|参数可选性:任选参数；参数类型:枚举。参见枚举定义。|启用强密码策略
PWDVALIDDAYS|密码最大有效期(天)|参数可选性:任选参数；参数类型:整数。|密码最大有效期(天)
ADVNTYDAYS|密码过期前提醒天数|参数可选性:任选参数；参数类型:整数。|密码过期前提醒天数
MAXRETRIES|最大错误密码输入次数|参数可选性:任选参数；参数类型:整数。|最大错误密码输入次数
AUTOUNLOCKTIME|自动解锁时间(分钟)|参数可选性:任选参数；参数类型:整数。|自动解锁时间(分钟)
PWDTYPENUMS|密码允许字符类型数|参数可选性:任选参数；参数类型:整数。|密码允许字符类型数
PWDREPEATPERIOD|不能使用最近密码天数|参数可选性:任选参数；参数类型:整数。|不能使用最近密码天数
MAXPWDSUCCESSIVELETTER|最大密码连续字符次数|参数可选性:任选参数；参数类型:整数。|最大密码连续字符次数
MUSTMODIFYRESETUSERPWD|重置密码后用户登录时必须修改密码|参数可选性:任选参数；参数类型:枚举。参见枚举定义。|重置密码后用户登录时必须修改密码
ACCOUNTEXPIREPROMPT|账户过期前提醒天数|参数可选性:任选参数；参数类型:整数。|账户过期前提醒天数
UNLOGININVALIDPERIOD|未登录失效周期(天)|参数可选性:任选参数；参数类型:整数。|未登录失效周期(天)
MAXMODIFYCOUNT|每日用户修改密码最大次数|参数可选性:任选参数；参数类型:整数。|每日用户修改密码最大次数
LOCKBYIP|是否按IP锁定用户|参数可选性:任选参数；参数类型:枚举。参见枚举定义。|是否按IP锁定用户






命令举例 :

查询登录用户信息。 


`SHOW ACCT RULE;` 


`

命令 (No.1): SHOW ACCT RULE;
密码最小长度   密码最大长度   不能使用最近的密码次数   启用强密码策略   密码最大有效期(天)   密码过期前提醒天数   最大错误密码输入次数   自动解锁时间(分钟)   密码允许字符类型数   不能使用最近密码天数   最大密码连续字符次数   重置密码后用户登录时必须修改密码   账户过期前提醒天数   未登录失效周期(天)  每日用户修改密码最大次数  是否按IP锁定   
---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
8              32             3                        是               90                   7                    3                      60                   3                    90                     0                      是                                 7                    0                   5					     否
---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
记录数: 1

执行成功   耗时: 0.039 秒
` 




#### 重置OAM账号规则(RESET ACCT RULE) 
#### 重置OAM账号规则(RESET ACCT RULE) 


命令功能 :
该命令用于重置OAM本地用户使用的全局账号规则，将系统中的所有账号规则设置为默认值。


注意事项 :
无。


命令举例 :

重置账户规则。 


`RESET ACCT RULE` 




#### 锁定用户(LOCK USER) 
#### 锁定用户(LOCK USER) 


命令功能 :
该命令用于锁定一个用户，命令执行成功后，被锁定的用户无法登录网管，若已经登录网管，则将被系统强制退出登录。当需要临时限制某个用户登录网管时，可以使用此命令将用户锁定。


注意事项 :


 
不能对超级管理员帐号进行锁定，不能锁定用户自身。 

 
普通用户被锁定后，无法登录OAM；必须要超级管理员通过UNLOCK USER命令解锁后才能继续登陆OAM系统。 

 
用户被锁定后，正在登陆的终端会被踢出。 

 




参数说明 :

标识|名称|类型|说明
---|---|---|---
ID|用户标识|参数可选性:必须单选参数；参数类型:整数；参数范围为:0~65535。|用户标识
NAME|用户名称|参数可选性:必须单选参数；参数类型:字符型；参数范围为:1~30个字符。|用户名称






命令举例 :

锁定名为testuser的用户。 


`LOCK USER:NAME="testuser";` 




#### 解锁用户(UNLOCK USER) 
#### 解锁用户(UNLOCK USER) 


命令功能 :
该命令用于对被锁定的OAM用户帐号进行解锁。当用户由于某种原因被锁定后，又希望使用此用户登录OAM时，可以由超级管理员执行此命令来解锁用户。解锁执行成功后，用户可以继续使用。


注意事项 :


 
任何类型的用户锁定都可以通过此命令解锁(超级管理员以及EM下发的安全员除外)。 

 
只能解锁被锁定了的用户。可以通过命令SHOW LOCK USER查看被锁定的用户信息。 

 




参数说明 :

标识|名称|类型|说明
---|---|---|---
ID|用户标识|参数可选性:必须单选参数；参数类型:整数；参数范围为:0~65535。|用户标识
NAME|用户名称|参数可选性:必须单选参数；参数类型:字符型；参数范围为:1~30个字符。|用户名称
IPADDR|IP地址|参数可选性:任选参数；参数类型:地址|IP地址






命令举例 :

解锁名为testuser的用户。 


`UNLOCK USER:NAME="testuser";` 


`

命令 (No.1): UNLOCK USER:NAME="testuser";
用户标识   用户名称   用户锁定时间          锁定的IP地址    
--------------------------------------------------------
2          testuser   2019-05-22 09:54:37   10.56.69.6 
--------------------------------------------------------
记录数: 1

执行成功   耗时: 0.024 秒
` 




#### 查询锁定的用户信息(SHOW LOCK USER) 
#### 查询锁定的用户信息(SHOW LOCK USER) 


命令功能 :
此命令用于查询OAM系统中用被锁定的用户帐号，以方便确定系统中帐号锁定信息。


注意事项 :


 
只有超级管理员和EM安全管理员可以执行此命令。 

 




参数说明 :

标识|名称|类型|说明
---|---|---|---
ID|用户标识|参数可选性:任意单选参数；参数类型:整数；参数范围为:0~65535。|待查询用户的内部标识。此标识是增加用户后自动生成的。
NAME|用户名称|参数可选性:任意单选参数；参数类型:字符型；参数范围为:1~30个字符。|待查询用户的名称。标识一个用户的关键字段，用于指定需要对哪一个用户数据记录的参数进行查询。






输出参数说明 :

标识|名称|类型|说明
---|---|---|---
ID|用户标识|参数可选性:任选参数；参数类型:整数；参数范围为:0~65535。|待查询用户的内部标识。此标识是增加用户后自动生成的。
NAME|用户名称|参数可选性:任选参数；参数类型:字符型；参数范围为:1~30个字符。|待查询用户的名称。标识一个用户的关键字段，用于指定需要对哪一个用户数据记录的参数进行查询。
LOCKTIME|用户锁定时间|参数可选性:任选参数；参数类型:字符型；参数范围为:0~128个字符。|用户锁定时间
IPADDR|IP地址|参数可选性:任选参数；参数类型:地址|IP地址






命令举例 :

查询用户ID为2的用户锁定信息。 


`SHOW LOCK USER:ID=2;` 


`

命令 (No.1): SHOW LOCK USER:ID=2;
用户标识   用户名称   用户锁定时间          锁定的IP地址    
--------------------------------------------------------
2          test       2019-05-22 09:54:37   10.56.69.6 
--------------------------------------------------------
记录数: 1

执行成功   耗时: 0.024 秒
` 




#### 导入密码常用词(IMPORT PWD DICT) 
#### 导入密码常用词(IMPORT PWD DICT) 


命令功能 :
该命令从URL指定的路径下载密码字典文件，然后导入到OAM，字典文件中指定的密码常用词不允许用户使用。


注意事项 :


 
密码字典中存储的是用户不希望被设置成密码的字符串；一行一个字符串，每行长度最长64位，超过长度截取64位字符。 

 
最大可设置1000个密码字典字符串。 

 
导入密码常用词成功后，属于密码字典中的密码串不能被设置为用户密码。 

 
导入的密码文件必须是以.txt或者.TXT结尾的文件 

 




参数说明 :

标识|名称|类型|说明
---|---|---|---
FTPPATH|文件SFTP路径|参数可选性:必选参数；参数类型:字符型；参数范围为:1~255个字符。|要导入的密码常用词的文件sftp路径
FTPUSER|SFTP服务器用户名|参数可选性:必选参数；参数类型:字符型；参数范围为:1~128个字符。|SFTP服务器用户名
FTPPWD|转储服务器密码|参数可选性:必选参数；参数类型:字符型；参数范围为:1~64个字符。|转储服务器密码






命令举例 :

将SFTP://10.42.7.53:22/root/logs/diction.txt中的密码字典导入到OAM中。 


`IMPORT PWD DICT:FTPPATH="SFTP://10.42.7.53:22/root/logs/diction.txt",FTPUSER="root",FTPPWD="******"` 




#### 导出密码常用词(EXPORT PWD DICT) 
#### 导出密码常用词(EXPORT PWD DICT) 


命令功能 :
此命令用于把当前OAM使用的密码常用词导出到URL指定的SFTP目录下。


注意事项 :


 
安全考虑，只允许导出到安全的SFTP服务上。 

 
对于给出的SFTP账号，必须要有上传权限，否则无法将字典密码导出。 

 




参数说明 :

标识|名称|类型|说明
---|---|---|---
FTPPATH|文件SFTP路径|参数可选性:必选参数；参数类型:字符型；参数范围为:1~255个字符。|要导入的密码常用词的文件sftp路径
FTPUSER|SFTP服务器用户名|参数可选性:必选参数；参数类型:字符型；参数范围为:1~128个字符。|SFTP服务器用户名
FTPPWD|转储服务器密码|参数可选性:必选参数；参数类型:字符型；参数范围为:1~64个字符。|转储服务器密码






命令举例 :

将OAM系统中保存的密码字典导出到SFTP://10.42.7.53:22/root/logs/export.txt文件中。 


`EXPORT PWD DICT:FTPPATH="SFTP://10.42.7.53:22/root/logs/export.txt",FTPUSER="root",FTPPWD="******"` 




#### 设置用户密码密钥(SET PWD KEY) 
#### 设置用户密码密钥(SET PWD KEY) 


命令功能 :
该命令用于设置OAM本地用户使用的密码密钥。


注意事项 :


 
密钥用于OAM系统本地的AES256方式加密。 

 
修改密钥是一个危险的操作，建议尽量减少操作，避免密钥丢失造成不必要的麻烦。 

 




参数说明 :

标识|名称|类型|说明
---|---|---|---
KEY|密码密钥|参数可选性:必选参数；参数类型:字符型；参数范围为:32~32个字符。|密码密钥
SALT|密钥SALT|参数可选性:任选参数；参数类型:字符型；参数范围为:16~16个字符。|密钥SALT






命令举例 :

设置用户密码密钥。 


`SET PWD KEY:KEY="******"` 




#### 生成私钥(GENERATE PRIKEY) 
#### 生成私钥(GENERATE PRIKEY) 


命令功能 :
该命令用来生用户的私钥，用户私钥用于用户的SSH方式登陆网管，用户可以直接使用自己的私钥来登陆使用OAM系统。


注意事项 :


 
用户可以使用此命令生成自己的私钥，并指定生成路径，方便用户拷贝走。 

 
后续用户可以使用自己的私钥通过SSH终端直接登陆OAM系统。 

 
用户在生成私钥时，为了安全密码尽量使用强密码。 

 




参数说明 :

标识|名称|类型|说明
---|---|---|---
PASSPHRASE|私钥保护密码|参数可选性:必选参数；参数类型:字符型；参数范围为:1~20个字符。|私钥保护密码
CONFIRMPASSWORD|用户确认密码|参数可选性:必选参数；参数类型:字符型；参数范围为:1~20个字符。|用户确认密码。确认新密码需要与用户密码一致。
KEYLENGTH|密钥长度|参数可选性:必选参数；参数类型:枚举。参见枚举定义。|密钥长度
IP|通过SFTP上传生成密钥的IP地址|参数可选性:必选参数；参数类型:地址|通过SFTP上传生成密钥的IP地址
PORT|端口|参数可选性:必选参数；参数类型:整数；参数范围为:0~65535。|PORT
USER|用户名|参数可选性:必选参数；参数类型:字符型；参数范围为:1~128个字符。|用户名
FTPPWD|密码|参数可选性:必选参数；参数类型:字符型；参数范围为:1~64个字符。|密码
PATH|文件路径|参数可选性:必选参数；参数类型:字符型；参数范围为:1~255个字符。|文件路径






命令举例 :

生成登录用户的私钥文件到指定目录。 


`GENERATE PRIKEY:PASSPHRASE="***",CONFIRMPASSWORD="***",KEYLENGTH=length_2048,ip="10.42.6.4",PORT=22,USER="root",FTPPWD="***",PATH="/root/backup/";` 




#### 设置用户公钥(SET USER PUBKEY) 
#### 设置用户公钥(SET USER PUBKEY) 


命令功能 :
设置用户公钥


注意事项 :
无。


参数说明 :

标识|名称|类型|说明
---|---|---|---
PUBKEY|用户公钥|参数可选性:必选参数；参数类型:字符型；参数范围为:1~5000个字符。|用户公钥






命令举例 :
SET USER PUBKEY:PUBKEY="***"


#### 查询用户公钥(SHOW USER PUBKEY) 
#### 查询用户公钥(SHOW USER PUBKEY) 


命令功能 :
查询用户公钥


注意事项 :
无。


输出参数说明 :

标识|名称|类型|说明
---|---|---|---
PUBKEY|用户公钥|参数可选性:任选参数；参数类型:字符型。|用户公钥






命令举例 :
SHOW USER PUBKEY


## 跟踪管理 
## 跟踪管理 


背景知识 :


 
跟踪管理：提供跟踪数据配置。 

 






功能描述 :

提供信令跟踪模块的所需数据提供增加、删除、更改和查询操作。 








### TCE 
### TCE 


背景知识 :


 
实现用户设备跟踪和小区跟踪的跟踪会话标识数据上报 

 






功能描述 :

对TCE（Trace Collection Entity，跟踪采集实体）的配置提供增加、删除、更改和查询操作。 








#### 增加跟踪采集实体 
#### 增加跟踪采集实体(ADD TCE) 


命令功能 :

该命令用于新增跟踪采集实体的配置信息。 


当需要获取业务网元（比如MME、HLR等）将用户信令跟踪数据和小区跟踪数据上报到TCE数据接收端时的，执行该命令。 


跟踪采集实体配置成功后，用户信令跟踪数据和小区跟踪数据会根据该命令的配置规则生成文件，并将文件上传至指定的SFTP服务器。 




注意事项 :


 
只要FILESIZE和FILERECORDPERIOD其中任何一个参数条件满足，系统就会主动关闭当前文件，同时把该文件加入待推送文件列表，等待上传至指定的SFTP服务器。 

 
没有输入PATH参数时，默认文件上传的地址为SFTP用户登录根路径。 

 




输入参数说明 :

标识|名称|类型|说明
---|---|---|---
TCEID|TCE标识|参数可选性:必选参数；参数类型:整数；参数范围为:1~2147483647。|TCE标识。
TCEIP|TCE 地址|参数可选性:必选参数；参数类型:地址。|TCE服务器的IP地址，目前支持IPV4和IPV6。
ELEMENTDN|DN值|参数可选性:必选参数；参数类型:字符型；参数范围为:1~255个字符。默认值:DC=www.zte.com.cn,SubNetwork=100001, ManagedElement=*。|DN值。
PORT|端口|参数可选性:任选参数；参数类型:整数；参数范围为:1~65535。默认值:22。|端口号。
PATH|路径|参数可选性:任选参数；参数类型:字符型；参数范围为:0~255个字符。|TCE服务器接收存放用户信令跟踪、小区跟踪数据文件的路径。
USERNAME|用户名|参数可选性:必选参数；参数类型:字符型；参数范围为:1~64个字符。|TCE服务器的SFTP的用户名。
PASSWD|密码|参数可选性:必选参数；参数类型:字符型；参数范围为:1~64个字符。|TCE服务器的SFTP的用户名所对应的密码。
FILESIZE|文件大小(KB)|参数可选性:任选参数；参数类型:整数；参数范围为:512~16384。默认值:2048。|生成文件的大小，当满足该参数的设置值，系统就自动关闭该文件。
FILERECORDPERIOD|文件记录周期(秒)|参数可选性:任选参数；参数类型:整数；参数范围为:1~300。默认值:300。|文件记录周期，当满足该参数的设置值，系统就自动关闭该文件。
FILEAMOUNT|文件数|参数可选性:任选参数；参数类型:整数；参数范围为:1~1000。默认值:1000。|OMM服务器可以保存该TCE所对应文件个数，若超过了该配置值，OMM系统会自动丢弃老的文件。
COMPRESSTYPE|文件压缩方式|参数可选性:任选参数；参数类型:枚举。参见枚举定义。默认值:NO_COMP。|OMM上传文件给TCE服务器的文件压缩方式。目前支持三种格式：不压缩(0)，zip(1),gzip(2)。
RENAME|修改文件名|参数可选性:任选参数；参数类型:枚举。参见枚举定义。默认值:NO。|该参数是是否修改文件名标识，其中0为不修改文件名，1为修改文件名。如果TCE配置上传改名，上传文件加扩展名”.tmp”,上传完成后改名，把”.tmp”删除。






输出参数说明 :

标识|名称|类型|说明
---|---|---|---
TCEID|TCE标识|参数可选性:任选参数；参数类型:整数。|TCE标识。
TCEIP|TCE 地址|参数可选性:任选参数；参数类型:地址。|TCE服务器的IP地址，目前支持IPV4和IPV6。
ELEMENTDN|DN值|参数可选性:任选参数；参数类型:字符型。|DN值。
PORT|端口|参数可选性:任选参数；参数类型:整数。|端口号。
PATH|路径|参数可选性:任选参数；参数类型:字符型。|TCE服务器接收存放用户信令跟踪、小区跟踪数据文件的路径。
USERNAME|用户名|参数可选性:任选参数；参数类型:字符型。|TCE服务器的SFTP的用户名。
FILESIZE|文件大小(KB)|参数可选性:任选参数；参数类型:整数。|生成文件的大小，当满足该参数的设置值，系统就自动关闭该文件。
FILERECORDPERIOD|文件记录周期(秒)|参数可选性:任选参数；参数类型:整数。|文件记录周期，当满足该参数的设置值，系统就自动关闭该文件。
FILEAMOUNT|文件数|参数可选性:任选参数；参数类型:整数。|OMM服务器可以保存该TCE所对应文件个数，若超过了该配置值，OMM系统会自动丢弃老的文件。
COMPRESSTYPE|文件压缩方式|参数可选性:任选参数；参数类型:枚举。参见枚举定义。|OMM上传文件给TCE服务器的文件压缩方式。目前支持三种格式：不压缩(0)，zip(1),gzip(2)。
RENAME|修改文件名|参数可选性:任选参数；参数类型:枚举。参见枚举定义。|该参数是是否修改文件名标识，其中0为不修改文件名，1为修改文件名。如果TCE配置上传改名，上传文件加扩展名”.tmp”,上传完成后改名，把”.tmp”删除。






命令举例 :

新增一个TCE配置，其中TCEID为1，IP地址为172.100.1.80，用户名为cn-5g-inner-oper，密码为***********，则输入以下命令： 


`ADD TCE:TCEID=1,TCEIP=172.100.1.80,ELEMENTDN="DC=www.zte.com.cn,SubNetwork=100001, ManagedElement=*",PORT=29029,USERNAME="cn-5g-inner-oper",PASSWD="***********",FILESIZE=2048,FILERECORDPERIOD=300,FILEAMOUNT=1000,COMPRESSTYPE="NO_COMP",RENAME="NO";` 






#### 修改跟踪采集实体(SET TCE) 
#### 修改跟踪采集实体(SET TCE) 


命令功能 :
该命令的功能是修改跟踪采集实体配置信息。可以动态修改跟踪采集实体的配置信息，比如修改传送文件的协议类型、用户名，修改文件的压缩类型等等。


注意事项 :


 
TCEID的值不支持更新。 

 
执行命令之后，可以通过SHOW TCE命令查看更新的信息。 

 




输入参数说明 :

标识|名称|类型|说明
---|---|---|---
TCEID|TCE标识|参数可选性:必选参数；参数类型:整数；参数范围为:1~2147483647。|TCE标识。
TCEIP|TCE 地址|参数可选性:任选参数；参数类型:地址。|TCE服务器的IP地址，目前支持IPV4和IPV6。
ELEMENTDN|DN值|参数可选性:任选参数；参数类型:字符型；参数范围为:1~255个字符。|DN值。
PORT|端口|参数可选性:任选参数；参数类型:整数；参数范围为:1~65535。|端口号。
PATH|路径|参数可选性:任选参数；参数类型:字符型；参数范围为:0~255个字符。|TCE服务器接收存放用户信令跟踪、小区跟踪数据文件的路径。
USERNAME|用户名|参数可选性:任选参数；参数类型:字符型；参数范围为:1~64个字符。|TCE服务器的SFTP的用户名。
PASSWD|密码|参数可选性:任选参数；参数类型:字符型；参数范围为:1~30个字符。|TCE服务器的SFTP的用户名所对应的密码。
FILESIZE|文件大小(KB)|参数可选性:任选参数；参数类型:整数；参数范围为:512~16384。|生成文件的大小，当满足该参数的设置值，系统就自动关闭该文件。
FILERECORDPERIOD|文件记录周期(秒)|参数可选性:任选参数；参数类型:整数；参数范围为:1~300。|文件记录周期，当满足该参数的设置值，系统就自动关闭该文件。
FILEAMOUNT|文件数|参数可选性:任选参数；参数类型:整数；参数范围为:1~1000。|OMM服务器可以保存该TCE所对应文件个数，若超过了该配置值，OMM系统会自动丢弃老的文件。
COMPRESSTYPE|文件压缩方式|参数可选性:任选参数；参数类型:枚举。参见枚举定义。|OMM上传文件给TCE服务器的文件压缩方式。目前支持三种格式：不压缩(0)，zip(1),gzip(2)。
RENAME|修改文件名|参数可选性:任选参数；参数类型:枚举。参见枚举定义。|该参数是是否修改文件名标识，其中0为不修改文件名，1为修改文件名。如果TCE配置上传改名，上传文件加扩展名”.tmp”,上传完成后改名，把”.tmp”删除。
FORCECLINK|强制连接|参数可选性:任选参数；参数类型:枚举。参见枚举定义。|若设置为1，OMM系统会与TCE服务器重新建立SFTP链路。






输出参数说明 :

标识|名称|类型|说明
---|---|---|---
TCEID|TCE标识|参数可选性:任选参数；参数类型:整数。|TCE标识。
TCEIP|TCE 地址|参数可选性:任选参数；参数类型:地址。|TCE服务器的IP地址，目前支持IPV4和IPV6。
ELEMENTDN|DN值|参数可选性:任选参数；参数类型:字符型。|DN值。
PORT|端口|参数可选性:任选参数；参数类型:整数。|端口号。
PATH|路径|参数可选性:任选参数；参数类型:字符型。|TCE服务器接收存放用户信令跟踪、小区跟踪数据文件的路径。
USERNAME|用户名|参数可选性:任选参数；参数类型:字符型。|TCE服务器的SFTP的用户名。
FILESIZE|文件大小(KB)|参数可选性:任选参数；参数类型:整数。|生成文件的大小，当满足该参数的设置值，系统就自动关闭该文件。
FILERECORDPERIOD|文件记录周期(秒)|参数可选性:任选参数；参数类型:整数。|文件记录周期，当满足该参数的设置值，系统就自动关闭该文件。
FILEAMOUNT|文件数|参数可选性:任选参数；参数类型:整数。|OMM服务器可以保存该TCE所对应文件个数，若超过了该配置值，OMM系统会自动丢弃老的文件。
COMPRESSTYPE|文件压缩方式|参数可选性:任选参数；参数类型:枚举。参见枚举定义。|OMM上传文件给TCE服务器的文件压缩方式。目前支持三种格式：不压缩(0)，zip(1),gzip(2)。
RENAME|修改文件名|参数可选性:任选参数；参数类型:枚举。参见枚举定义。|该参数是是否修改文件名标识，其中0为不修改文件名，1为修改文件名。如果TCE配置上传改名，上传文件加扩展名”.tmp”,上传完成后改名，把”.tmp”删除。






命令举例 :

更新TCE配置信息，把TCEID为1，IP地址为10.44.32.5的TCE配置的端口号更新为2111，则输入以下命令： 


`SET TCE:TCEID=1,TCEIP="10.44.32.5",PORT=2111;` 






#### 删除跟踪采集实体(DEL TCE) 
#### 删除跟踪采集实体(DEL TCE) 


命令功能 :

该命令的功能是删除跟踪采集实体配置信息，若需要删除某个TCE的配置信息，可以使用该命令。 


执行该命令后，系统会删除当前OMM上正等待上传至该TCE服务器上所有的用户信令跟踪和小区跟踪数据文件。 


执行该命令后，业务网元（比如CSCF,MME,HLR）上报至该TCE的消息会被OMM系统主动丢弃。 




注意事项 :
执行命令之后，可以通过[SHOW TCE]命令查看是否删除成功。


输入参数说明 :

标识|名称|类型|说明
---|---|---|---
TCEID|TCE标识|参数可选性:必须单选参数；参数类型:整数；参数范围为:1~2147483647。|TCE标识
TCEIP|TCE 地址|参数可选性:必须单选参数；参数类型:地址。|TCE 地址






输出参数说明 :

标识|名称|类型|说明
---|---|---|---
TCEID|TCE标识|参数可选性:任选参数；参数类型:整数。|TCE标识
TCEIP|TCE 地址|参数可选性:任选参数；参数类型:地址。|TCE 地址






命令举例 :

删除TCE配置信息，若需要删除的TCEID为1，则输入以下命令： 


`DEL TCE:TCEID=1;` 






#### 查询跟踪采集实体(SHOW TCE) 
#### 查询跟踪采集实体(SHOW TCE) 


命令功能 :
该命令的功能是查询跟踪采集实体配置信息。该命令可以查询指定TCE的配置信息；若不知道具体TCE，可以不设置输入参数，该命令就返回当前OMM系统上所有的TCE配置信息。


注意事项 :

无 




输入参数说明 :

标识|名称|类型|说明
---|---|---|---
TCEID|TCE标识|参数可选性:任选参数；参数类型:整数；参数范围为:1~2147483647。|TCE标识。
TCEIP|TCE 地址|参数可选性:任选参数；参数类型:地址。|TCE服务器的IP地址，目前支持IPV4和IPV6。






输出参数说明 :

标识|名称|类型|说明
---|---|---|---
TCEID|TCE标识|参数可选性:任选参数；参数类型:整数。|TCE标识。
TCEIP|TCE 地址|参数可选性:任选参数；参数类型:地址。|TCE服务器的IP地址，目前支持IPV4和IPV6。
ELEMENTDN|DN值|参数可选性:任选参数；参数类型:字符型。|DN值。
PORT|端口|参数可选性:任选参数；参数类型:整数。|端口号。
PATH|路径|参数可选性:任选参数；参数类型:字符型。|TCE服务器接收存放用户信令跟踪、小区跟踪数据文件的路径。
USERNAME|用户名|参数可选性:任选参数；参数类型:字符型。|TCE服务器的SFTP的用户名。
FILESIZE|文件大小(KB)|参数可选性:任选参数；参数类型:整数。|生成文件的大小，当满足该参数的设置值，系统就自动关闭该文件。
FILERECORDPERIOD|文件记录周期(秒)|参数可选性:任选参数；参数类型:整数。|文件记录周期，当满足该参数的设置值，系统就自动关闭该文件。
FILEAMOUNT|文件数|参数可选性:任选参数；参数类型:整数。|OMM服务器可以保存该TCE所对应文件个数，若超过了该配置值，OMM系统会自动丢弃老的文件。
COMPRESSTYPE|文件压缩方式|参数可选性:任选参数；参数类型:枚举。参见枚举定义。|OMM上传文件给TCE服务器的文件压缩方式。目前支持三种格式：不压缩(0)，zip(1),gzip(2)。
RENAME|修改文件名|参数可选性:任选参数；参数类型:枚举。参见枚举定义。|该参数是是否修改文件名标识，其中0为不修改文件名，1为修改文件名。如果TCE配置上传改名，上传文件加扩展名”.tmp”,上传完成后改名，把”.tmp”删除。






命令举例 :

查询当前OMM上所有TCE配置信息，则输入以下命令： 


`SHOW TCE;` 


`

命令 (No.4): SHOW TCE

TCE标识      TCE 地址     DN值                                                         端口    路径   用户名               文件大小(KB)   文件记录周期(秒)   文件数   文件压缩方式   修改文件名
-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
1            10.44.32.5   DC=www.zte.com.cn,SubNetwork=100001, ManagedElement=*        29029          cn-5g-inner-oper     2048           300                1000     不压缩         否
-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
记录数 1

命令执行成功（耗时 0.021 秒）。
` 






### 跟踪参数管理 
### 跟踪参数管理 


背景知识 :


 
为了避免信令跟踪过度占用CPU等资源，可以通过该命令实现跟踪流控功能参数配置，或设置长消息功能的并发处理个数。 

 






功能描述 :

对跟踪流控功能参数配置和长消息功能并发处理个数参数提供更改和查询操作。对跟踪流控功能参数配置可以实现流控功能的开启、关闭或更改流控阈值；对长消息功能并发处理个数设置可以改变同时处理长消息的数量 








#### 设置跟踪流控参数(SET TRACE CONTROL PARAM) 
#### 设置跟踪流控参数(SET TRACE CONTROL PARAM) 


命令功能 :
该命令用于控制OAM是否启用跟踪流控以及设置相应的控制参数或设置长消息并发处理个数。当启用跟踪流控且触发条件达到时，OAM的信令跟踪模块将会停止上报信令跟踪数据给EM；OAM的信令跟踪模块接收到业务上报的长消息梳理超过设置的长消息并发处理个数时，OAM的信令跟踪模块将会丢弃接收到的信令数据。


注意事项 :
无


输入参数说明 :

标识|名称|类型|说明
---|---|---|---
LMGNUM|长消息并发处理个数|参数可选性:必选参数；参数类型:整数；参数范围为:1~200。默认值:100。|该参数用于设置允许OAM信令跟踪模块并发处理长消息的最大个数。当OAM信令跟踪模块收到的长消息个数达到该参数设置值时，OAM信令跟踪模块将丢弃后续收到的信令数据。
ENABLE|是否启用流控|参数可选性:必选参数；参数类型:枚举。参见枚举定义。|该参数用于设置OAM是否对信令跟踪数据启用流控。若启用流控，则满足以下三个条件之一时，OAM会停止上报信令跟踪数据给EM。系统CPU使用率达到设定的CPU阈值。EM收到OAM上报的信令跟踪消息数达到设定的消息数阈值。EM收到OAM上报的信令跟踪消息流量达到设定的消息流量阈值。
CPUTHRESHOLD|CPU阈值（%）|参数可选性:任选参数；参数类型:整数；参数范围为:50~100。默认值:80。|该参数用于设置OAM的CPU阈值。当系统CPU使用率达到该参数值时，OAM会停止上报信令跟踪数据给EM。
MSGTHRESHOLD|消息数阈值（条/秒）|参数可选性:任选参数；参数类型:整数；参数范围为:500~5000。默认值:2000。|该参数用于设置允许OAM接收的信令跟踪消息数阈值。当OAM收到业务上报的信令跟踪消息数达到该参数值时，OAM会停止上报信令跟踪数据给EM。
FLOWTHRESHOLD|消息流量阈值(兆字节/秒)|参数可选性:任选参数；参数类型:整数；参数范围为:5~100。默认值:10。|该参数用于设置允许OAM接收的信令跟踪消息流量阈值。当OAM接收业务上报的信令跟踪消息流量达到该参数值，OAM会停止上报信令跟踪数据给EM。
VISCOUSPERIOD|粘滞时间（秒）|参数可选性:任选参数；参数类型:整数；参数范围为:60~600。默认值:180。|该参数用于设置触发流控之后OAM停止上报信令跟踪数据给EM持续的时长。






输出参数说明 :



命令举例 :

若想启用跟踪流控，且当CPU使用率超过80%或者消息数量超过2000条或者消息流量大于10 Mbyte/Sec 连续180秒时停止信令跟踪数据上报，或设置长消息并发处理个数为100，则输入以下命令： 


`SET TRACE CONTROL PARAM:LMGNUM=100,ENABLE="ENABLE",CPUTHRESHOLD=80,MSGTHRESHOLD=2000,FLOWTHRESHOLD=10,VISCOUSPERIOD=180;` 


`` 






#### 查询跟踪流控参数(SHOW TRACE CONTROL PARAM) 
#### 查询跟踪流控参数(SHOW TRACE CONTROL PARAM) 


命令功能 :
该命令用于查询OAM是否启用跟踪流控以及相应的控制参数或设置长消息并发处理个数。


注意事项 :

无 




输入参数说明 :



输出参数说明 :

标识|名称|类型|说明
---|---|---|---
LMGNUM|长消息并发处理个数|参数可选性:任选参数；参数类型:整数。|长消息并发处理个数
ENABLE|是否启用跟踪流控|参数可选性:任选参数；参数类型:枚举。参见枚举定义。|是否启用流控
CPUTHRESHOLD|CPU阈值（%）|参数可选性:任选参数；参数类型:整数。|触发停止信令跟踪数据上报的CPU使用率阈值
MSGTHRESHOLD|消息数阈值（条/秒）|参数可选性:任选参数；参数类型:整数。|触发停止信令跟踪数据上报的阈值
FLOWTHRESHOLD|消息流量阈值(兆字节/秒)|参数可选性:任选参数；参数类型:整数。|触发停止信令跟踪数据上报的阈值
VISCOUSPERIOD|粘滞时间（秒）|参数可选性:任选参数；参数类型:整数。|触发停止信令跟踪数据上报的CPU使用率粘滞时间






命令举例 :

查询当前跟踪流控配置或长消息并发处理个数信息，则输入以下命令： 


`SHOW TRACE CONTROL PARAM;` 


`` 






#### 重置过负荷锁定状态(RESET STLOCK) 
#### 重置过负荷锁定状态(RESET STLOCK) 


命令功能 :
该命令可以重置当前OAM信令跟踪模块的锁定状态。


注意事项 :
无


输入参数说明 :



输出参数说明 :

标识|名称|类型|说明
---|---|---|---
RESULT|执行结果|参数可选性:必选参数；参数类型:枚举。参见枚举定义。|执行结果0代表成功，1代表失败






命令举例 :

重置过负荷锁定状态，则输入以下命令： 


`RESET STLOCK;` 


`` 






