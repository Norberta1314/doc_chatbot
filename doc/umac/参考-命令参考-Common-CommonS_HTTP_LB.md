# HTTP配置管理 
# HTTP配置管理 


[](None)背景知识 


HTTP（Hypertext Transfer Protocol，超文本传输协议） 对应于应用层，HTTPLB支持包括HTTP/1.1和HTTP/2的网络通信协议。 

LB（Load Balancing，负载均衡）就是把负载均衡分配到集群的各个节点，从而提高总体的吞吐能力。 

TCP（Transmission Control Protocol，传输控制协议）是一种面向连接的、可靠的、基于字节流的传输层通信协议。 

一般在网络传输过程中，HTTP连接是建立在TCP链路基础之上的。在通信的两端，即客户端和服务端建立TCP链路时，根据项目或特定网元的需要，需要预先配置相应的客户端模板。 




[](None)功能说明 


HTTP配置管理用于管理本网元HTTP相关配置。 

可进行HTTP模板配置、静态TCP链路配置、全局配置、代理配置、NF地址分区配置和客户端连接策略配置。 




[](None)子主题： 






## TCP配置 
## TCP配置 


[](None)背景知识 


TCP（Transmission Control Protocol，传输控制协议）是一种面向连接的、可靠的、基于字节流的传输层通信协议。 

在一般的网络传输过程中，采用TCP协议规定的参数默认值均能很好的满足要求。如果和其他5GC网元对接过程中，存在特殊要求，可通过此配置调整TCP协议栈参数。 




[](None)功能说明 


TCP配置管理用于管理本网元TCP相关配置。 




[](None)子主题： 






### TCP收发缓存配置 
### TCP收发缓存配置 


[](None)背景知识 


HTTPLB为各种5GC网元提供服务，各种服务的HTTP2或者HTTP1.1报文大小存在差异，而且业务负载大小也不一致。当业务负载小，采用默认的TCP收发缓存大小存在内存浪费，当业务负载大，采用默认的TCP收发缓存大小又会不够。此时，可通过此配置调整TCP收发缓存的大小，满足业务负载的要求。 




[](None)功能说明 


TCP收发缓存配置可用于配置本网元TCP链路的收发缓存大小。修改此配置需要重启HTTPLB服务生效。 




[](None)子主题： 






#### 修改TCP收发缓存配置(SET TCPBUF) 
#### 修改TCP收发缓存配置(SET TCPBUF) 


[](None)功能说明 

小心：该命令属于高危命令，修改TCP链路收发缓存大小，会导致TCP协议栈使用的内存量发生变化，需要确保修改后系统存在足够的空闲内存。因此执行该命令前，需要与中兴通讯技术支持人员确认后才可以实施。 

TCP协议作为一种全双工通信协议，存在接收缓存区和发送缓存区。其中接收缓存区用于缓存从对端接收的数据，发送缓存用于缓存发送给对端的数据。 

该命令用于修改TCP链路收发缓存配置。当需要调整TCP链路收发缓存时，执行该命令。 

发生如下场景，需要用到此命令： 


 
当系统业务负荷较高时，TCP协议栈缓存大小不足以满足系统要求，需要增加TCP链路缓存时，使用该命令。 

 
当系统业务负荷较低时，TCP协议栈缓存大小存在浪费，需要减少TCP链路缓存时，使用该命令。 

 


[](None)注意事项 

TCP链路需要预留的内存估算公式为：（接收缓存大小+发送缓存大小）×（最大客户端链路数+最大服务端链路数）。 


[](None)输入参数说明 


[](None)标识|名称|类型|说明
---|---|---|---
DYNBUFFSWITCH|动态缓存开关|参数可选性: 任选参数类型: 枚举，参见枚举定义默认值: DYNBUFF_OFF|动态缓存开关。
RCVSIZE|接收缓存（KB）|参数可选性: 必选参数类型: 数字参数范围: 32-2048默认值: 512|TCP链路用于接收数据的缓存区大小。默认值：512KB。
SNDSIZE|发送缓存（KB）|参数可选性: 必选参数类型: 数字参数范围: 32-2048默认值: 512|TCP链路用于发送数据的缓存区大小。默认值：512KB。




[](None)命令举例 


`
设置TCP链路接收缓存大小为512KB，发送缓存大小为512KB。
SET TCPBUF:RCVSIZE=512,SNDSIZE=512;
` 


#### 查询TCP收发缓存配置(SHOW TCPBUF) 
#### 查询TCP收发缓存配置(SHOW TCPBUF) 


[](None)功能说明 

该命令用于查询TCP链路收发缓存配置信息，包括接收缓存大小和发送缓存大小信息。 


[](None)注意事项 

无。


[](None)输出参数说明 


[](None)标识|名称|类型|说明
---|---|---|---
DYNBUFFSWITCH|动态缓存开关|参数可选性: 任选参数类型: 枚举，参见枚举定义默认值: DYNBUFF_OFF|动态缓存开关。
RCVSIZE|接收缓存（KB）|参数可选性: 任选参数类型: 数字参数范围: 32-2048默认值: 512|TCP链路用于接收数据的缓存区大小。默认值：512KB。
SNDSIZE|发送缓存（KB）|参数可选性: 任选参数类型: 数字参数范围: 32-2048默认值: 512|TCP链路用于发送数据的缓存区大小。默认值：512KB。




[](None)命令举例 


`
查询TCP链路缓存配置。
SHOW TCPBUF;

(No.1) : SHOW TCPBUF:
----------------CommonS_HTTP_LB_0----------------
动态缓存开关 接收缓存（KB） 发送缓存（KB）
开启              512                   512
记录数：1

执行成功耗时: 0.065 秒

` 


### TCP RTO配置 
### TCP RTO配置 


[](None)背景知识 


TCP的RTO(Retransmission Timeout, 超时重传)机制，重传间隔是根据TCP链路的RTT(Round Trip Time,往返时间)动态调整的。网络流量发生变化，重传间隔也会相应调整。 




[](None)功能说明 


TCP RTO配置可用于配置本网元TCP RTO参数的动态调整范围，也可以配置重传最大次数。 




[](None)子主题： 






#### 修改TCP RTO配置(SET TCPRTO) 
#### 修改TCP RTO配置(SET TCPRTO) 


[](None)功能说明 

TCP协议为上层应用提供数据可靠传输服务。为了实现数据的可靠传输，TCP协议采用RTO（Retransmission Timeout，重传超时）机制。TCP协议栈发送一个数据报文时，会启动一个重传定时器。当重传定时器超时之前收到对端的确认报文，则取消定时器，否则重传报文并重新启动重传定时器。 

一般来说，对于重传定时器的时长，TCP协议栈会分配一个默认的初始值（Init RTO，初始RTO）、最小值（Mini RTO，最小RTO）和最大值（Max RTO，最大RTO），并根据链路上数据报文的RTT（Round-trip time，往返时间）在最小值和最大值范围内动态调整。另外，当数据重传达到一定次数后，一直收不到对端对数据的确认，TCP协议栈将认为对端不在线，会拆除TCP链路。 

该命令用于修改TCP RTO重传定时器时长的初始值、最小值和最大值，以及数据重传的最大次数。当需要调整TCP RTO参数时，执行该命令。修改成功后，新建链路生效，对于已存在链路无影响。 


[](None)注意事项 

无。


[](None)输入参数说明 


[](None)标识|名称|类型|说明
---|---|---|---
INITRTO|初始RTO（毫秒）|参数可选性: 必选参数类型: 数字参数范围: 100-3000默认值: 1000|该参数用于设置TCP RTO重传定时器时长的初始值。默认值：1000毫秒。
MINRTO|最小RTO（毫秒）|参数可选性: 必选参数类型: 数字参数范围: 100-10000默认值: 200|该参数用于设置TCP RTO重传定时器时长的最小值。默认值： 200毫秒。
MAXRTO|最大RTO（毫秒）|参数可选性: 必选参数类型: 数字参数范围: 100-120000默认值: 6000|该参数用于设置TCP RTO重传定时器时长的最大值。默认值： 6000毫秒。
DATARETRY|数据重传次数|参数可选性: 必选参数类型: 数字参数范围: 3-10默认值: 3|该参数用于设置TCP RTO数据重传次数。当TCP链路上数据报文重传次数达到此参数的配置值，TCP协议栈将拆除TCP链路。默认值：3。




[](None)命令举例 


`
设置TCP RTO重传定时器时长的初始值为1000，最小值为200，最大值为6000，数据重传次数为3。
SET TCPRTO:INITRTO=1000,MINRTO=200,MAXRTO=6000,DATARETRY=3;
` 


#### 查询TCP RTO配置(SHOW TCPRTO) 
#### 查询TCP RTO配置(SHOW TCPRTO) 


[](None)功能说明 

该命令用于查询TCP RTO重传定时器时长的初始值、最小值和最大值，以及数据重传的最大次数。


[](None)注意事项 

无。


[](None)输出参数说明 


[](None)标识|名称|类型|说明
---|---|---|---
INITRTO|初始RTO（毫秒）|参数可选性: 任选参数类型: 数字参数范围: 100-3000默认值: 1000|该参数用于设置TCP RTO重传定时器时长的初始值。默认值：1000毫秒。
MINRTO|最小RTO（毫秒）|参数可选性: 任选参数类型: 数字参数范围: 100-10000默认值: 200|该参数用于设置TCP RTO重传定时器时长的最小值。默认值： 200毫秒。
MAXRTO|最大RTO（毫秒）|参数可选性: 任选参数类型: 数字参数范围: 100-120000默认值: 6000|该参数用于设置TCP RTO重传定时器时长的最大值。默认值： 6000毫秒。
DATARETRY|数据重传次数|参数可选性: 任选参数类型: 数字参数范围: 3-10默认值: 3|该参数用于设置TCP RTO数据重传次数。当TCP链路上数据报文重传次数达到此参数的配置值，TCP协议栈将拆除TCP链路。默认值：3。




[](None)命令举例 


`
查询TCP RTO重传定时器时长的初始值、最小值、最大值以及数据重传次数。
SHOW TCPRTO;

(No.1) : SHOW TCPRTO:
----------------CommonS_HTTP_LB_0----------------
初始RTO（毫秒） 最下RTO（毫秒） 最大RTO（毫秒） 数据重传次数
1000                   200                  6000                  3
记录数：1

执行成功耗时: 0.065 秒

` 


### TCP保活配置 
### TCP保活配置 


[](None)背景知识 


当TCP链路的两端长时间都没有数据发送和接收时，通过TCP Keep-Alive机制，探测TCP链路是否正常。 




[](None)功能说明 


TCP Keep-Alive配置可用于配置本网元TCP的Keep-Alive参数，包括空闲时发送保活报文的间隔、对端无保活响应时发送保活报文的间隔和对端无保活响应次数（超过则关闭链路）。 




[](None)子主题： 






#### 修改TCP 保活配置(SET TCPKA) 
#### 修改TCP 保活配置(SET TCPKA) 


[](None)功能说明 

TCP链路建立后，根据协议，当链路上持续没有业务数据传输时，可以向对端发送保活请求，用以及时感知对端是否在线。当发送多次保活请求后，对端均没有任何响应，则主动拆除TCP链路，避免链路资源挂死。 

该命令用于修改TCP保活配置。当需要调整TCP保活参数时，执行该命令。修改成功后，新建链路生效，对于已建立的链路无影响。 


[](None)注意事项 

无。


[](None)输入参数说明 


[](None)标识|名称|类型|说明
---|---|---|---
KAIDLE|空闲时保活间隔（秒）|参数可选性: 必选参数类型: 数字参数范围: 0-600默认值: 10|空闲时保活间隔：TCP链路上没有数据报文传输的持续时间。该参数用于设置TCP链路的空闲时保活间隔，0表示关闭保活功能。当TCP链路上没有数据报文传输的持续时间超过此参数的配置值，TCP协议栈将向对端发送保活请求。默认值：10秒。
KAINTERVAL|无响应时保活间隔（秒）|参数可选性: 必选参数类型: 数字参数范围: 1-60默认值: 1|无响应时保活间隔：当向对端发送TCP保活请求后，对端没有回响应时，TCP协议栈向对端发送保活请求的间隔。该参数用于设置TCP链路的无响应时保活间隔。当TCP协议栈向对端发送保活请求后，对端没有回响应，TCP协议栈向对端发送下一个保活请求时，采用此参数配置的值。默认值：1秒。
KACOUNT|无响应时保活次数|参数可选性: 必选参数类型: 数字参数范围: 1-10默认值: 3|无响应时保活次数：当向对端发送TCP保活请求后，对端没有回响应的次数。该参数用于设置TCP链路的无响应时保活次数。对端对本端TCP协议栈发送的保活请求多次无响应，如果次数超过此参数配置的次数，TCP协议栈将拆除TCP链路。默认值：3。




[](None)命令举例 


`
设置TCP链路空闲时发送保活请求的间隔为10秒，保活请求无响应时发送保活请求的间隔为1秒，保活请求无响应次数为3。当保活请求无响应次数达到配置的3次，TCP协议栈将拆链TCP链路。
SET TCPKA:KAIDLE=10,KAINTERVAL=1,KACOUNT=3;
` 


#### 查询TCP 保活配置(SHOW TCPKA) 
#### 查询TCP 保活配置(SHOW TCPKA) 


[](None)功能说明 

该命令用于查询TCP保活功能的参数配置，包括：空闲时保活间隔、无响应时保活间隔和无响应时保活次数信息。


[](None)注意事项 

无。


[](None)输出参数说明 


[](None)标识|名称|类型|说明
---|---|---|---
KAIDLE|空闲时保活间隔（秒）|参数可选性: 任选参数类型: 数字参数范围: 0-600默认值: 10|空闲时保活间隔：TCP链路上没有数据报文传输的持续时间。该参数用于设置TCP链路的空闲时保活间隔，0表示关闭保活功能。当TCP链路上没有数据报文传输的持续时间超过此参数的配置值，TCP协议栈将向对端发送保活请求。默认值：10秒。
KAINTERVAL|无响应时保活间隔（秒）|参数可选性: 任选参数类型: 数字参数范围: 1-60默认值: 1|无响应时保活间隔：当向对端发送TCP保活请求后，对端没有回响应时，TCP协议栈向对端发送保活请求的间隔。该参数用于设置TCP链路的无响应时保活间隔。当TCP协议栈向对端发送保活请求后，对端没有回响应，TCP协议栈向对端发送下一个保活请求时，采用此参数配置的值。默认值：1秒。
KACOUNT|无响应时保活次数|参数可选性: 任选参数类型: 数字参数范围: 1-10默认值: 3|无响应时保活次数：当向对端发送TCP保活请求后，对端没有回响应的次数。该参数用于设置TCP链路的无响应时保活次数。对端对本端TCP协议栈发送的保活请求多次无响应，如果次数超过此参数配置的次数，TCP协议栈将拆除TCP链路。默认值：3。




[](None)命令举例 


`
查询TCP链路保活参数配置。
SHOW TCPKA;

(No.1) : SHOW TCPKA:
----------------CommonS_HTTP_LB_0----------------
空闲时保活间隔（秒） 无响应时保活间隔（秒） 无响应时保活次数
10                   1                  3
记录数：1

执行成功耗时: 0.065 秒

` 


### TCP工作间隔配置 
### TCP工作间隔配置 


[](None)背景知识 


本网元TCP协议栈采用定时机制驱动协议栈收发TCP报文，此定时器间隔称为工作间隔。 




[](None)功能说明 


TCP工作间隔配置可用于配置本网元TCP的工作间隔。当工作间隔较小，TCP协议栈处理时延更小但会消耗更多的CPU资源，当工作间隔较大，TCP协议栈处理时延相对较大但消耗的CPU资源更少。 




[](None)子主题： 






#### 修改TCP处理间隔配置(SET TCPWINTERVAL) 
#### 修改TCP处理间隔配置(SET TCPWINTERVAL) 


[](None)功能说明 

TCP协议栈采用工作间隔定时器驱动TCP链路上的数据收发，即TCP链路上的收发数据总是先缓存在收发缓存中。当工作间隔定时器超时，TCP协议栈将缓存在接收缓存的数据取出发给上层应用，将缓存在发送缓存的数据取出发给对端。 

当TCP协议栈的工作间隔定时器时长配置较小时，TCP链路上收发数据处理比较及时，TCP报文处理时延相对较小，但是需要消耗更多的CPU资源。 

当TCP协议栈的工作间隔定时器时长配置较大时，TCP链路上收发数据处理相对较慢，TCP报文处理时延相对较大，但是TCP链路上数据吞吐量相对较高，消耗的CPU资源也相对较少。 

该命令用于修改TCP工作间隔定时器的时长配置。当需要优化系统的CPU资源利用率、网络吞吐量和报文时延时指标时，执行该命令。修改成功后，TCP协议栈将按新配置的工作间隔重新启动定时器，驱动TCP链路上的数据收发。 


[](None)注意事项 

无。


[](None)输入参数说明 


[](None)标识|名称|类型|说明
---|---|---|---
WORKINTERVAL|工作间隔（微秒）|参数可选性: 必选参数类型: 数字参数范围: 100-100000默认值: 3000|该参数用于设置TCP工作间隔定时器时长。默认值：3000微秒。




[](None)命令举例 


`
设置TCP工作间隔定时器时长为10000微秒。
SET TCPWINTERVAL:WORKINTERVAL=10000;
` 


#### 查询TCP处理间隔配置(SHOW TCPWINTERVAL) 
#### 查询TCP处理间隔配置(SHOW TCPWINTERVAL) 


[](None)功能说明 

该命令用于查询TCP协议栈工作间隔定时器时长配置信息。


[](None)注意事项 

无。


[](None)输出参数说明 


[](None)标识|名称|类型|说明
---|---|---|---
WORKINTERVAL|工作间隔（微秒）|参数可选性: 任选参数类型: 数字参数范围: 100-100000默认值: 3000|该参数用于设置TCP工作间隔定时器时长。默认值：3000微秒。




[](None)命令举例 


`
查询TCP工作间隔定时器时长配置。
SHOW TCPWINTERVAL;

(No.1) : SHOW TCPWINTERVAL:
----------------CommonS_HTTP_LB_0----------------
处理工作间隔（微秒）
10000
记录数：1

执行成功耗时: 0.065 秒

` 


### TCP建链流控配置 
### TCP建链流控配置 


[](None)背景知识 


HTTPLB（Hypertext Transfer Protocol Load Balancing，超文本传输负载均衡）服务端在TCP建链时，进行局向的建链频率控制。抑制同一局向的超频建链请求。 




[](None)功能说明 


TCP建链流控配置，可用于配置HTTPLB服务端在接收局向建链请求的控制参数。包括配置建链请求的阈值，锁定局向建链的时长，流控策略，抑制时是否通知。 




[](None)子主题： 






#### 修改TCP建链流控配置(SET TCPSYNFLOWCONTROL) 
#### 修改TCP建链流控配置(SET TCPSYNFLOWCONTROL) 


[](None)功能说明 

为了防止TCP某一局向建链频率过高，HTTPLB提供建链流控的保护机制，用于抑制局向的超频建链。当流控开关打开，且拒绝策略为丢弃，某一局向每秒内建链请求超过阈值时，此局向将会被锁定，锁定期内无法新建链路，直到锁定期结束。 

该命令用于修改TCP建链流控配置。当需要调整TCP建链流控参数时，执行该命令。修改成功后，所有局向的建链流控，重新计算。 


[](None)注意事项 

无。


[](None)输入参数说明 


[](None)标识|名称|类型|说明
---|---|---|---
FCSWITCH|流控开关|参数可选性: 必选参数类型: 枚举，参见枚举定义参数范围: 0-1默认值: SWITCH_OFF|流控功能开关，0：关，1：开。默认值：关
LOCKPOLICY|锁定策略|参数可选性: 必选参数类型: 枚举，参见枚举定义参数范围: 0-1默认值: UNCONTROL|TCP建链流控的锁定策略。0：不控，1：丢弃。默认值：不控。
THRESHOLD|流控门限（每秒）|参数可选性: 必选参数类型: 数字参数范围: 1-65535默认值: 1000|每秒中收到建链请求最大次数。
LOCKTIME|锁定时长（秒）|参数可选性: 必选参数类型: 数字参数范围: 1-3600默认值: 60|建链请求超过门限后触发锁定，在锁定期内该局向上的新请求会被丢弃。单位为秒。
ISNOTIFY|通知|参数可选性: 必选参数类型: 枚举，参见枚举定义参数范围: 0-1默认值: NOTIFY_OFF|TCP建链流控触发锁定后是否上报通知。0：否，1：是。默认值：否




[](None)命令举例 


`
设置TCP建链流控，功能开启，锁定策略为“丢弃”，门限每秒最大500次，锁定时长为60秒，上报通知。
SET TCPSYNFLOWCONTROL:FCSWITCH="SWITCH_OFF",LOCKPOLICY="DISCARD",THRESHOLD="500",LOCKTIME="60",ISNOTIFY="NOTIFY_ON";
` 


#### 查询TCP建链流控配置(SHOW TCPSYNFLOWCONTROL) 
#### 查询TCP建链流控配置(SHOW TCPSYNFLOWCONTROL) 


[](None)功能说明 

该命令用于查询TCP建链流控的配置。包括：流控开关，流控门限（每秒），锁定时长（秒），锁定策略和通知。 


[](None)注意事项 

无。


[](None)输出参数说明 


[](None)标识|名称|类型|说明
---|---|---|---
FCSWITCH|流控开关|参数可选性: 任选参数类型: 枚举，参见枚举定义参数范围: 0-1默认值: SWITCH_OFF|流控功能开关，0：关，1：开。默认值：关
LOCKPOLICY|锁定策略|参数可选性: 任选参数类型: 枚举，参见枚举定义参数范围: 0-1默认值: UNCONTROL|TCP建链流控的锁定策略。0：不控，1：丢弃。默认值：不控。
THRESHOLD|流控门限（每秒）|参数可选性: 任选参数类型: 数字参数范围: 1-65535默认值: 1000|每秒中收到建链请求最大次数。
LOCKTIME|锁定时长（秒）|参数可选性: 任选参数类型: 数字参数范围: 1-3600默认值: 60|建链请求超过门限后触发锁定，在锁定期内该局向上的新请求会被丢弃。单位为秒。
ISNOTIFY|通知|参数可选性: 任选参数类型: 枚举，参见枚举定义参数范围: 0-1默认值: NOTIFY_OFF|TCP建链流控触发锁定后是否上报通知。0：否，1：是。默认值：否




[](None)命令举例 


`
查询TCP建链流控配置。
SHOW TCPSYNFLOWCONTROL;

(No.1) : SHOW TCPSYNFLOWCONTROL:
-----------------CommonS_HTTP_LB_0----------------
操作维护       流控开关 锁定策略 流控门限（每秒） 锁定时长（秒） 通知 
----------------------------------------------------------------------
修改           关       不控     1000             60             否   
----------------------------------------------------------------------
记录数：1
执行成功开始时间:2022-08-10 10:04:17 耗时: 1.37秒

` 


## HTTP模板配置 
## HTTP模板配置 


[](None)背景知识 


HTTP（Hypertext Transfer Protocol，超文本传输协议） 对应于应用层，HTTPLB支持包括HTTP/1.1和HTTP/2的网络通信协议。 

LB（Load Balancing，负载均衡）就是把负载均衡分配到集群的各个节点，从而提高总体的吞吐能力。 

TCP（Transmission Con-trol Protocol，传输控制协议）是一种面向连接的、可靠的、基于字节流的传输层通信协议。 

一般在网络传输过程中，HTTP连接是建立在TCP链路基础之上的。在通信的两端，即客户端和服务端建立TCP链路时，根据项目或特定网元的需要，需要预先配置相应的客户端模板。 




[](None)功能说明 


HTTP模板可用于配置HTTPLB的属性。当HTTPLB配置为客户端时，本网元可作为客户端向服务端发起建链。当HTTPLB配置为服务端时，本网元可作为服务端接收客户端的建链。 




[](None)子主题： 






### 客户端模板配置 
### 客户端模板配置 


[](None)背景知识 


HTTP（Hypertext Transfer Protocol，超文本传输协议） 对应于应用层，HTTPLB支持包括HTTP/1.1和HTTP/2的网络通信协议。 

LB（Load Balancing，负载均衡）就是把负载均衡分配到集群的各个节点，从而提高总体的吞吐能力。 

TCP（Transmission Con-trol Protocol，传输控制协议）是一种面向连接的、可靠的、基于字节流的传输层通信协议。 

一般在网络传输过程中，HTTP连接是建立在TCP链路基础之上的。在通信的两端，即客户端和服务端建立TCP链路时，根据项目或特定网元的需要，需要预先配置相应的客户端模板。 




[](None)功能说明 


客户端模板用于配置HTTPLB的客户端属性。当本网元作为客户端向服务端发起建链时，该配置用于对使用的IP地址、端口范围及其他相关属性进行配置。当正确配置客户端模板后，客户端方可将建链请求发送到服务端。 




[](None)子主题： 






#### 新增客户端模板配置(ADD CLIENTPROFILE) 
#### 新增客户端模板配置(ADD CLIENTPROFILE) 


[](None)功能说明 

该命令用于新增客户端模板配置。当本端作为客户端，需要与服务端建立HTTP连接时，执行该命令。命令执行成功后，客户端可根据该配置发起HTTP建链请求。


[](None)注意事项 

注意本端IP地址必须是真实有效的IP地址。


[](None)输入参数说明 


[](None)标识|名称|类型|说明
---|---|---|---
ID|编号|参数可选性: 必选参数类型: 数字参数范围: 1-65535|该参数用于设置客户端模板编号，模板编号全局唯一。
IPADDR|IP地址|参数可选性: 必选参数类型: 字符串参数范围: 0-64|该参数用于设置客户端的IP地址，必须是真实有效的IP地址，支持IPv4/IPv6。IPv6地址冒号后不能以数字0开头，且地址中的字母a~f全部不允许使用大写字母。
STARTPORT|起始端口|参数可选性: 必选参数类型: 数字参数范围: 10000-65535默认值: 10000|该参数用于表示起始端口。该模板对应的端口总数=终止端口-起始端口+1。本版本引入了双域功能，端口总数必须大于等于SC总个数*单个SC的客户端端口个数*2。其中，单个SC的客户端端口个数可以通过12号全局参数查询。
ENDPORT|终止端口|参数可选性: 必选参数类型: 数字参数范围: 10000-65535默认值: 60000|该参数用于表示终止端口。该模板对应的端口总数=终止端口-起始端口+1。本版本引入了双域功能，端口总数必须大于等于SC总个数*单个SC的客户端端口个数*2。其中，单个SC的客户端端口个数可以通过12号全局参数查询。
VPNID|VPN ID|参数可选性: 任选参数类型: 数字参数范围: 0-254默认值: 0|该参数用于设置VPN ID。VPN(虚拟专用网，Virtual Private Network)是依靠Internet服务提供商和网络服务提供商，在公共网络中建立的虚拟专用通信网络。
CONNNUM|链路数量|参数可选性: 任选参数类型: 数字参数范围: 1-20默认值: 1|该参数用于设置每次建链的链路数量，最大值不能超出可用端口数（终止端口-起始端口）。实际建链数目还受端口池端口个数和客户端同向最大链路数限制。
CONNELASTIC|弹性链路开关|参数可选性: 任选参数类型: 枚举，参见枚举定义默认值: SWITCH_ON|该参数用于设置是否启用弹性链路开关，默认值为开关打开。SWITCH-OFF：开关关闭，链路数固定，不再新建链路。SWITCH-ON：开关打开，表示当已建链路出现拥堵时，客户端会新建链路。
MAXSTREAMID|流ID最大值|参数可选性: 任选参数类型: 字符串参数范围: 0-2048|HTTP2.0协议规定流ID最大值是2147483647（2^31-1）。该参数用于设置流ID的最大值，将其设置为N/A即为默认值，默认值为2147418112（2^31-2^16）。每条链路可设置不同的流ID最大值，填写时用逗号隔开，并保证小于协议规定的最大值。例如链路上有2个流ID，填写“2147418111,2147418111”。
CACHEDREQMAXNUM|缓存请求最大数量|参数可选性: 任选参数类型: 数字参数范围: 100-65535默认值: 1024|该参数用于设置缓存请求的最大数量，为内部参数，不可配置。
RESPBODYMAXLENGTH|接收响应消息体最大长度(字节）|参数可选性: 任选参数类型: 数字参数范围: 0-16777216默认值: 2097152|该参数用于设置客户端接收响应消息体的最大长度，单位是字节。
RESPTIMER|等待响应超时定时器(秒)|参数可选性: 任选参数类型: 数字参数范围: 5-300默认值: 30|该参数用于设置等待响应超时定时器的时长，单位为秒。若服务端超时无响应，则客户端会向业务发送失败的响应消息。
CONNREADTIMER|读包超时定时器(秒)|参数可选性: 任选参数类型: 数字参数范围: 5-300默认值: 32|该参数用于设置读包超时定时器的时长，单位为秒。若读包超时，客户端会拆除连接。
MAXCONCURRENTSTREAMS|并发流最大个数|参数可选性: 任选参数类型: 数字参数范围: 100-10000默认值: 1000|该参数用于设置一条链路上并发的流的最大数。
KEEPALIVECNT|链路保活检测次数|参数可选性: 任选参数类型: 数字参数范围: 1-5默认值: 3|该参数用于设置链路保活检测次数。若链路保活连续配置次数没有收到响应，则会将链路状态设置为非激活状态。
KEEPALIVETIMER|链路保活超时定时器(秒)|参数可选性: 任选参数类型: 数字参数范围: 0-300默认值: 30|该参数用于设置链路保活超时定时器的时长，单位为秒。若链路保活定时器超时，则会给对端发ping包，以便确认空闲链路的可用性。
KEEPALIVESWITCH|链路保活开关|参数可选性: 任选参数类型: 枚举，参见枚举定义默认值: SWITCH_ON|该参数用于设置是否启用链路保活开关，默认开关打开。SWITCH-OFF：开关关闭。SWITCH-ON：开关打开。
HTTPVERSION|HTTP版本|参数可选性: 任选参数类型: 枚举，参见枚举定义默认值: HTTP_2|该参数用于设置客户端支持的HTTP版本，包括HTTP/1.1或者HTTP/2。
TLSCERTNAME|TLS证书名|参数可选性: 任选参数类型: 字符串参数范围: 0-64|该参数用于设置关联的TLS证书名。TLS证书名可通过SHOW CERTINFO命令进行查询。
PRIORITY|链路优先级|参数可选性: 任选参数类型: 字符串参数范围: 0-2048|该参数用于设置链路优先级。值越小，表示优先级越高。可对多条链路设置链路优先级，填写时用逗号隔开，并保证每条链路优先级均不能超过最大值100且设置多条链路优先级的字符串最大长度不能超过2048。例如设置前2条链路优先级，填写“0,10”。
WEIGHT|链路权重|参数可选性: 任选参数类型: 字符串参数范围: 0-2048|该参数用于设置链路权重。值越大，表示权重越高。
HTTP2_DSCP|DSCP标签值|参数可选性: 任选参数类型: 数字参数范围: 0-63默认值: 0|该参数用于设置DSCP（Differentiated Services Code Point）标签值。
ISSHORT|非粘滞|参数可选性: 任选参数类型: 枚举，参见枚举定义参数范围: 0-1默认值: OPTION_NO|该参数用于设置链路是否非粘滞。OPTION_YES：非粘滞连接。OPTION_NO：粘滞连接。
LINKAGINGTIME|链路老化时间（分）|参数可选性: 任选参数类型: 数字参数范围: 0-1440默认值: 0|该参数用于设置链路老化时间，单位：分钟。在配置的时间内，链路上没有任何业务消息收发，则老化拆链。配置为0，表示不启用链路老化功能。
LINKSHRINKTIME|链路缩链评判周期（秒）|参数可选性: 任选参数类型: 数字参数范围: 10-300默认值: 60|该参数用于设置缩链评判周期，单位：秒。在配置的周期内，链路上的负荷参数符合缩链条件，则进行缩链操作，释放链路资源。触发缩链条件如下：当前链路非静态链路。到对端存在静态链路。或者到对端的动态链路数大于客户端模板配置中的初始链路数。上一评判周期的起始时间不等于当前评判周期的起始时间。 系统当前时间减去上次缩链的时间大于1个缩链评判周期。 系统当前时间减去上次弹出链路的时间大于5个缩链评判周期。上一评判周期的并发流峰值与上一评判周期最大并发流的百分比小于配置的缩链使用率阈值。上一评判周期收发报文总字节数小于配置的缩链传输阈值。
SHRINKTRANS|缩链传输阈值（MB）|参数可选性: 任选参数类型: 数字参数范围: 1-128默认值: 30|该参数用于设置缩链传输层阈值，单位：MB。在配置的评判周期内，链路上收发字节数小于配置的值，则可能进行缩链操作，释放链路资源。触发缩链条件如下：当前链路非静态链路。到对端存在静态链路。或者到对端的动态链路数大于客户端模板配置中的初始链路数。上一评判周期的起始时间不等于当前评判周期的起始时间。 系统当前时间减去上次缩链的时间大于1个缩链评判周期。 系统当前时间减去上次弹出链路的时间大于5个缩链评判周期。上一评判周期的并发流峰值与上一评判周期最大并发流的百分比小于配置的缩链使用率阈值。上一评判周期收发报文总字节数小于配置的缩链传输阈值。
SHRINKSTREAM|缩链流使用率阈值（%）|参数可选性: 任选参数类型: 数字参数范围: 1-50默认值: 40|该参数用于设置缩链流使用率阈值百分比。在配置的周期内，链路上的流使用率阈值小于配置值，则可能进行缩链操作，释放链路资源。触发缩链条件如下：当前链路非静态链路。到对端存在静态链路。或者到对端的动态链路数大于客户端模板配置中的初始链路数。上一评判周期的起始时间不等于当前评判周期的起始时间。 系统当前时间减去上次缩链的时间大于1个缩链评判周期。 系统当前时间减去上次弹出链路的时间大于5个缩链评判周期。上一评判周期的并发流峰值与上一评判周期最大并发流的百分比小于配置的缩链使用率阈值。上一评判周期收发报文总字节数小于配置的缩链传输阈值。
PSKSETNAME|PSK集名|参数可选性: 任选参数类型: 字符串参数范围: 0-64|该参数用于设置客户端模板PSK集名，引用"客户端PSK集配置"中的PSKSETNAME。PSKSETNAME可通过SHOW SBICLIENTPSKSET命令进行查询。
CIPERCUITESNAME|加密套件集名|参数可选性: 任选参数类型: 字符串参数范围: 0-64默认值: default|该参数用于设置客户端模板加密套件集名，引用”加密套件集配置“中的NAME。NAME可通过SHOW SBITLSCIPHERSUITES命令进行查询。




[](None)输出参数说明 


[](None)标识|名称|类型|说明
---|---|---|---
ID|编号|参数可选性: 任选参数类型: 数字参数范围: 1-65535|该参数用于表示客户端模板编号，模板编号全局唯一。
IPADDR|IP地址|参数可选性: 任选参数类型: 字符串参数范围: 0-64|该参数用于表示客户端的IP地址，必须是真实有效的IP地址，支持IPv4/IPv6。IPv6地址冒号后不能以数字0开头，且地址中的字母a~f全部不允许使用大写字母。
STARTPORT|起始端口|参数可选性: 任选参数类型: 数字参数范围: 10000-65535默认值: 10000|该参数用于表示起始端口。该模板对应的端口总数=终止端口-起始端口+1。本版本引入了双域功能，端口总数必须大于等于SC总个数*单个SC的客户端端口个数*2。其中，单个SC的客户端端口个数可以通过12号全局参数查询。
ENDPORT|终止端口|参数可选性: 任选参数类型: 数字参数范围: 10000-65535默认值: 60000|该参数用于表示终止端口。该模板对应的端口总数=终止端口-起始端口+1。本版本引入了双域功能，端口总数必须大于等于SC总个数*单个SC的客户端端口个数*2。其中，单个SC的客户端端口个数可以通过12号全局参数查询。
VPNID|VPN ID|参数可选性: 任选参数类型: 数字参数范围: 0-254默认值: 0|该参数用于表示VPN ID。VPN(虚拟专用网，Virtual Private Network)是依靠Internet服务提供商和网络服务提供商，在公共网络中建立的虚拟专用通信网络。
CONNNUM|链路数量|参数可选性: 任选参数类型: 数字参数范围: 1-20默认值: 1|该参数用于表示每次建链的链路数量，最大值不能超出可用端口数（终止端口-起始端口）。
CONNELASTIC|弹性链路开关|参数可选性: 任选参数类型: 枚举，参见枚举定义默认值: SWITCH_ON|该参数用于表示是否启用弹性链路开关，默认值为开关打开。SWITCH-OFF：开关关闭，链路数固定，不再新建链路。SWITCH-ON：开关打开，表示当已建链路出现拥堵时，客户端会新建链路。
MAXSTREAMID|流ID最大值|参数可选性: 任选参数类型: 字符串参数范围: 0-2048|HTTP2.0协议规定流ID最大值是2147483647（2^31-1）。该参数用于设置流ID的最大值，将其设置为N/A即为默认值，默认值为2147418112（2^31-2^16）。每条链路可设置不同的流ID最大值，填写时用逗号隔开，并保证小于协议规定的最大值。例如链路上有2个流ID，填写“2147418111,2147418111”。
CACHEDREQMAXNUM|缓存请求最大数量|参数可选性: 任选参数类型: 数字参数范围: 100-65535默认值: 1024|该参数用于设置缓存请求的最大数量，为内部参数，不可配置。
RESPBODYMAXLENGTH|接收响应消息体最大长度(字节）|参数可选性: 任选参数类型: 数字参数范围: 0-16777216默认值: 2097152|该参数用于表示客户端接收响应消息体的最大长度，单位是字节。
RESPTIMER|等待响应超时定时器(秒)|参数可选性: 任选参数类型: 数字参数范围: 5-300默认值: 30|该参数用于表示等待响应超时定时器的时长，单位为秒。若服务端超时无响应，则客户端会向服务端发送失败的响应消息。
CONNREADTIMER|读包超时定时器(秒)|参数可选性: 任选参数类型: 数字参数范围: 5-300默认值: 32|该参数用于设置读包超时定时器的时长，单位为秒。若读包超时，客户端会拆除连接。
MAXCONCURRENTSTREAMS|并发流最大个数|参数可选性: 任选参数类型: 数字参数范围: 100-10000默认值: 1000|该参数用于表示一条链路上并发的流的最大数。
KEEPALIVECNT|链路保活检测次数|参数可选性: 任选参数类型: 数字参数范围: 1-5默认值: 3|该参数用于表示链路保活检测次数。若链路保活连续配置次数没有收到响应，则会将链路状态设置为非激活状态。
KEEPALIVETIMER|链路保活超时定时器(秒)|参数可选性: 任选参数类型: 数字参数范围: 0-300默认值: 30|该参数用于表示链路保活超时定时器的时长，单位为秒。若链路保活定时器超时，则会给对端发ping包，以便确认空闲链路的可用性。
KEEPALIVESWITCH|链路保活开关|参数可选性: 任选参数类型: 枚举，参见枚举定义默认值: SWITCH_ON|该参数用于表示是否启用链路保活开关，默认开关打开。SWITCH-OFF：开关关闭。SWITCH-ON：开关打开。
HTTPVERSION|HTTP版本|参数可选性: 任选参数类型: 枚举，参见枚举定义默认值: HTTP_2|该参数用于表示客户端支持的HTTP版本，包括HTTP/1.1或者HTTP/2。
TLSCERTNAME|TLS证书名|参数可选性: 任选参数类型: 字符串参数范围: 0-64|该参数用于表示关联的TLS证书名。TLS证书名可通过SHOW CERTINFO命令进行查询。
PRIORITY|链路优先级|参数可选性: 任选参数类型: 字符串参数范围: 0-2048|该参数用于表示链路优先级。值越小，表示优先级越高。
WEIGHT|链路权重|参数可选性: 任选参数类型: 字符串参数范围: 0-2048|该参数用于表示链路权重。值越大，表示权重越高。
HTTP2_DSCP|DSCP标签值|参数可选性: 任选参数类型: 数字参数范围: 0-63默认值: 0|该参数用于表示DSCP（Differentiated Services Code Point）标签值。
ISSHORT|非粘滞|参数可选性: 任选参数类型: 枚举，参见枚举定义参数范围: 0-1默认值: OPTION_NO|该参数用于设置链路是否是非粘滞。是否粘滞会影响HTTP1.1短链路建链是否经过OMU，影响SC弹缩时呼损。只有VERION为HTTP1.1时才允许配置为OPTION_YES。OPTION_YES：是非粘滞连接。HTTP1.1短链路建链不经过OMU，不上报链路信息到SCCU，不进行链路信息汇总。OPTION_NO：是粘滞连接。HTTP1.1短链路建链经过OMU。
LINKAGINGTIME|链路老化时间（分）|参数可选性: 任选参数类型: 数字参数范围: 0-1440默认值: 0|该参数用于设置链路老化时间，单位：分钟。在配置的时间内，链路上没有任何业务消息收发，则老化拆链。配置为0，表示不启用链路老化功能。
LINKSHRINKTIME|链路缩链评判周期（秒）|参数可选性: 任选参数类型: 数字参数范围: 10-300默认值: 60|该参数用于设置缩链评判周期，单位：秒。在配置的周期内，链路上的负荷参数符合缩链条件，则进行缩链操作，释放链路资源。触发缩链条件如下：当前链路非静态链路。到对端存在静态链路。或者到对端的动态链路数大于客户端模板配置中的初始链路数。上一评判周期的起始时间不等于当前评判周期的起始时间。 系统当前时间减去上次缩链的时间大于1个缩链评判周期。 系统当前时间减去上次弹出链路的时间大于5个缩链评判周期。上一评判周期的并发流峰值与上一评判周期最大并发流的百分比小于配置的缩链使用率阈值。上一评判周期收发报文总字节数小于配置的缩链传输阈值。
SHRINKTRANS|缩链传输阈值（MB）|参数可选性: 任选参数类型: 数字参数范围: 1-128默认值: 30|该参数用于设置缩链传输层阈值，单位：MB。在配置的评判周期内，链路上收发字节数小于配置的值，则可能进行缩链操作，释放链路资源。触发缩链条件如下：当前链路非静态链路。到对端存在静态链路。或者到对端的动态链路数大于客户端模板配置中的初始链路数。上一评判周期的起始时间不等于当前评判周期的起始时间。 系统当前时间减去上次缩链的时间大于1个缩链评判周期。 系统当前时间减去上次弹出链路的时间大于5个缩链评判周期。上一评判周期的并发流峰值与上一评判周期最大并发流的百分比小于配置的缩链使用率阈值。上一评判周期收发报文总字节数小于配置的缩链传输阈值。
SHRINKSTREAM|缩链流使用率阈值（%）|参数可选性: 任选参数类型: 数字参数范围: 1-50默认值: 40|该参数用于设置缩链流使用率阈值百分比。在配置的周期内，链路上的流使用率阈值小于配置值，则可能进行缩链操作，释放链路资源。触发缩链条件如下：当前链路非静态链路。到对端存在静态链路。或者到对端的动态链路数大于客户端模板配置中的初始链路数。上一评判周期的起始时间不等于当前评判周期的起始时间。 系统当前时间减去上次缩链的时间大于1个缩链评判周期。 系统当前时间减去上次弹出链路的时间大于5个缩链评判周期。上一评判周期的并发流峰值与上一评判周期最大并发流的百分比小于配置的缩链使用率阈值。上一评判周期收发报文总字节数小于配置的缩链传输阈值。
PSKSETNAME|PSK集名|参数可选性: 任选参数类型: 字符串参数范围: 0-64|该参数用于设置客户端模板PSK集名，引用"客户端PSK集配置"中的PSKSETNAME。PSKSETNAME可通过SHOW SBICLIENTPSKSET命令进行查询。
CIPERCUITESNAME|加密套件集名|参数可选性: 任选参数类型: 字符串参数范围: 0-64默认值: default|该参数用于设置客户端模板加密套件集名，引用”加密套件集配置“中的NAME。NAME可通过SHOW SBITLSCIPHERSUITES命令进行查询。




[](None)命令举例 


`
新增客户端模板配置：编号1，IP地址"1.2.3.4"，起始端口20000，终止端口30000，VPNID 2，初始链路数2，接收响应消息体最大长度10240字节，等待响应超时定时器30s，并发流最大个数1000，链路保活检测次数3，链路保活超时定时器30s，链路保活开关开启，HTTP版本为"HTTP2",tls证书名为client，IP报文的优先级为0，粘滞连接，老化时间5分钟，缩链评判周期60秒，传输层阈值30M，缩链流使用阈值40%，PSK集名pskonlyclient，加密套件名default_psk_only。
ADD CLIENTPROFILE:ID=1,IPADDR=1.2.3.4,STARTPORT=20000,ENDPORT=30000,VPNID=2,CONNNUM=2,RESPBODYMAXLENGTH=10240,RESPTIMER=30,MAXCONCURRENTSTREAMS=1000,KEEPALIVECNT=3,KEEPALIVETIMER=30,KEEPALIVESWITCH="SWITCH_ON",HTTPVERSION="HTTP_2",TLSCERTNAME="client",HTTP2_DSCP=0,ISSHORT="OPTION_NO",LINKAGINGTIME=5,LINKSHRINKTIME=60,SHRINKTRANS=30,SHRINKSTREAM=40,PSKSETNAME="pskonlyclient",CIPERCUITESNAME="default_psk_only";
` 


#### 修改客户端模板配置(SET CLIENTPROFILE) 
#### 修改客户端模板配置(SET CLIENTPROFILE) 


[](None)功能说明 

该命令用于修改客户端模板配置。当客户端的模板信息变化时，执行该命令。命令执行成功后，修改后的模板配置信息会在后续客户端HTTP连接的建立过程中使用。


[](None)注意事项 

使用修改命令之后，根据该模板配置已经建立的HTTP连接将被删除。


[](None)输入参数说明 


[](None)标识|名称|类型|说明
---|---|---|---
ID|编号|参数可选性: 必选参数类型: 数字参数范围: 1-65535|该参数用于设置客户端模板编号，模板编号全局唯一。
IPADDR|IP地址|参数可选性: 任选参数类型: 字符串参数范围: 0-64|该参数用于设置客户端的IP地址，必须是真实有效的IP地址，支持IPv4/IPv6。IPv6地址冒号后不能以数字0开头，且地址中的字母a~f全部不允许使用大写字母。
STARTPORT|起始端口|参数可选性: 任选参数类型: 数字参数范围: 10000-65535默认值: 10000|该参数用于表示起始端口。该模板对应的端口总数=终止端口-起始端口+1。本版本引入了双域功能，端口总数必须大于等于SC总个数*单个SC的客户端端口个数*2。其中，单个SC的客户端端口个数可以通过12号全局参数查询。
ENDPORT|终止端口|参数可选性: 任选参数类型: 数字参数范围: 10000-65535默认值: 60000|该参数用于表示终止端口。该模板对应的端口总数=终止端口-起始端口+1。本版本引入了双域功能，端口总数必须大于等于SC总个数*单个SC的客户端端口个数*2。其中，单个SC的客户端端口个数可以通过12号全局参数查询。
VPNID|VPN ID|参数可选性: 任选参数类型: 数字参数范围: 0-254默认值: 0|该参数用于设置VPN ID。VPN(虚拟专用网，Virtual Private Network)是依靠Internet服务提供商和网络服务提供商，在公共网络中建立的虚拟专用通信网络。
CONNNUM|链路数量|参数可选性: 任选参数类型: 数字参数范围: 1-20默认值: 1|该参数用于设置每次建链的链路数量，最大值不能超出可用端口数（终止端口-起始端口）。实际建链数目还受端口池端口个数和客户端同向最大链路数限制。
CONNELASTIC|弹性链路开关|参数可选性: 任选参数类型: 枚举，参见枚举定义默认值: SWITCH_ON|该参数用于设置是否启用弹性链路开关，默认值为开关打开。SWITCH-OFF：开关关闭，链路数固定，不再新建链路。SWITCH-ON：开关打开，表示当已建链路出现拥堵时，客户端会新建链路。
MAXSTREAMID|流ID最大值|参数可选性: 任选参数类型: 字符串参数范围: 0-2048|HTTP2.0协议规定流ID最大值是2147483647（2^31-1）。该参数用于设置流ID的最大值，将其设置为N/A即为默认值，默认值为2147418112（2^31-2^16）。每条链路可设置不同的流ID最大值，填写时用逗号隔开，并保证小于协议规定的最大值。例如链路上有2个流ID，填写“2147418111,2147418111”。
CACHEDREQMAXNUM|缓存请求最大数量|参数可选性: 任选参数类型: 数字参数范围: 100-65535默认值: 1024|该参数用于设置缓存请求的最大数量，为内部参数，不可配置。
RESPBODYMAXLENGTH|接收响应消息体最大长度(字节）|参数可选性: 任选参数类型: 数字参数范围: 0-16777216默认值: 2097152|该参数用于设置客户端接收响应消息体的最大长度，单位是字节。
RESPTIMER|等待响应超时定时器(秒)|参数可选性: 任选参数类型: 数字参数范围: 5-300默认值: 30|该参数用于设置等待响应超时定时器的时长，单位为秒。若服务端超时无响应，则客户端会向业务发送失败的响应消息。
CONNREADTIMER|读包超时定时器(秒)|参数可选性: 任选参数类型: 数字参数范围: 5-300默认值: 32|该参数用于设置读包超时定时器的时长，单位为秒。若读包超时，客户端会拆除连接。
MAXCONCURRENTSTREAMS|并发流最大个数|参数可选性: 任选参数类型: 数字参数范围: 100-10000默认值: 1000|该参数用于设置一条链路上并发的流的最大数。
KEEPALIVECNT|链路保活检测次数|参数可选性: 任选参数类型: 数字参数范围: 1-5默认值: 3|该参数用于设置链路保活检测次数。若链路保活连续配置次数没有收到响应，则会将链路状态设置为非激活状态。
KEEPALIVETIMER|链路保活超时定时器(秒)|参数可选性: 任选参数类型: 数字参数范围: 0-300默认值: 30|该参数用于设置链路保活超时定时器的时长，单位为秒。若链路保活定时器超时，则会给对端发ping包，以便确认空闲链路的可用性。
KEEPALIVESWITCH|链路保活开关|参数可选性: 任选参数类型: 枚举，参见枚举定义默认值: SWITCH_ON|该参数用于设置是否启用链路保活开关，默认开关打开。SWITCH-OFF：开关关闭。SWITCH-ON：开关打开。
HTTPVERSION|HTTP版本|参数可选性: 任选参数类型: 枚举，参见枚举定义默认值: HTTP_2|该参数用于设置客户端支持的HTTP版本，包括HTTP/1.1或者HTTP/2。
TLSCERTNAME|TLS证书名|参数可选性: 任选参数类型: 字符串参数范围: 0-64|该参数用于设置关联的TLS证书名。TLS证书名可通过SHOW CERTINFO命令进行查询。
PRIORITY|链路优先级|参数可选性: 任选参数类型: 字符串参数范围: 0-2048|该参数用于设置链路优先级。值越小，表示优先级越高。可对多条链路设置链路优先级，填写时用逗号隔开，并保证每条链路优先级均不能超过最大值100且设置多条链路优先级的字符串最大长度不能超过2048。例如设置前2条链路优先级，填写“0,10”。
WEIGHT|链路权重|参数可选性: 任选参数类型: 字符串参数范围: 0-2048|该参数用于设置链路权重。值越大，表示权重越高。
HTTP2_DSCP|DSCP标签值|参数可选性: 任选参数类型: 数字参数范围: 0-63默认值: 0|该参数用于设置DSCP（Differentiated Services Code Point）标签值。
ISSHORT|非粘滞|参数可选性: 任选参数类型: 枚举，参见枚举定义参数范围: 0-1默认值: OPTION_NO|该参数用于设置链路是否非粘滞。OPTION_YES：非粘滞连接。OPTION_NO：粘滞连接。
LINKAGINGTIME|链路老化时间（分）|参数可选性: 任选参数类型: 数字参数范围: 0-1440默认值: 0|该参数用于设置链路老化时间，单位：分钟。在配置的时间内，链路上没有任何业务消息收发，则老化拆链。配置为0，表示不启用链路老化功能。
LINKSHRINKTIME|链路缩链评判周期（秒）|参数可选性: 任选参数类型: 数字参数范围: 10-300默认值: 60|该参数用于设置缩链评判周期，单位：秒。在配置的周期内，链路上的负荷参数符合缩链条件，则进行缩链操作，释放链路资源。触发缩链条件如下：当前链路非静态链路。到对端存在静态链路。或者到对端的动态链路数大于客户端模板配置中的初始链路数。上一评判周期的起始时间不等于当前评判周期的起始时间。 系统当前时间减去上次缩链的时间大于1个缩链评判周期。 系统当前时间减去上次弹出链路的时间大于5个缩链评判周期。上一评判周期的并发流峰值与上一评判周期最大并发流的百分比小于配置的缩链使用率阈值。上一评判周期收发报文总字节数小于配置的缩链传输阈值。
SHRINKTRANS|缩链传输阈值（MB）|参数可选性: 任选参数类型: 数字参数范围: 1-128默认值: 30|该参数用于设置缩链传输层阈值，单位：MB。在配置的评判周期内，链路上收发字节数小于配置的值，则可能进行缩链操作，释放链路资源。触发缩链条件如下：当前链路非静态链路。到对端存在静态链路。或者到对端的动态链路数大于客户端模板配置中的初始链路数。上一评判周期的起始时间不等于当前评判周期的起始时间。 系统当前时间减去上次缩链的时间大于1个缩链评判周期。 系统当前时间减去上次弹出链路的时间大于5个缩链评判周期。上一评判周期的并发流峰值与上一评判周期最大并发流的百分比小于配置的缩链使用率阈值。上一评判周期收发报文总字节数小于配置的缩链传输阈值。
SHRINKSTREAM|缩链流使用率阈值（%）|参数可选性: 任选参数类型: 数字参数范围: 1-50默认值: 40|该参数用于设置缩链流使用率阈值百分比。在配置的周期内，链路上的流使用率阈值小于配置值，则可能进行缩链操作，释放链路资源。触发缩链条件如下：当前链路非静态链路。到对端存在静态链路。或者到对端的动态链路数大于客户端模板配置中的初始链路数。上一评判周期的起始时间不等于当前评判周期的起始时间。 系统当前时间减去上次缩链的时间大于1个缩链评判周期。 系统当前时间减去上次弹出链路的时间大于5个缩链评判周期。上一评判周期的并发流峰值与上一评判周期最大并发流的百分比小于配置的缩链使用率阈值。上一评判周期收发报文总字节数小于配置的缩链传输阈值。
PSKSETNAME|PSK集名|参数可选性: 任选参数类型: 字符串参数范围: 0-64|该参数用于设置客户端模板PSK集名，引用"客户端PSK集配置"中的PSKSETNAME。PSKSETNAME可通过SHOW SBICLIENTPSKSET命令进行查询。
CIPERCUITESNAME|加密套件集名|参数可选性: 任选参数类型: 字符串参数范围: 0-64默认值: default|该参数用于设置客户端模板加密套件集名，引用”加密套件集配置“中的NAME。NAME可通过SHOW SBITLSCIPHERSUITES命令进行查询。




[](None)输出参数说明 


[](None)标识|名称|类型|说明
---|---|---|---
ID|编号|参数可选性: 任选参数类型: 数字参数范围: 1-65535|该参数用于表示客户端模板编号，模板编号全局唯一。
IPADDR|IP地址|参数可选性: 任选参数类型: 字符串参数范围: 0-64|该参数用于表示客户端的IP地址，必须是真实有效的IP地址，支持IPv4/IPv6。IPv6地址冒号后不能以数字0开头，且地址中的字母a~f全部不允许使用大写字母。
STARTPORT|起始端口|参数可选性: 任选参数类型: 数字参数范围: 10000-65535默认值: 10000|该参数用于表示起始端口。该模板对应的端口总数=终止端口-起始端口+1。本版本引入了双域功能，端口总数必须大于等于SC总个数*单个SC的客户端端口个数*2。其中，单个SC的客户端端口个数可以通过12号全局参数查询。
ENDPORT|终止端口|参数可选性: 任选参数类型: 数字参数范围: 10000-65535默认值: 60000|该参数用于表示终止端口。该模板对应的端口总数=终止端口-起始端口+1。本版本引入了双域功能，端口总数必须大于等于SC总个数*单个SC的客户端端口个数*2。其中，单个SC的客户端端口个数可以通过12号全局参数查询。
VPNID|VPN ID|参数可选性: 任选参数类型: 数字参数范围: 0-254默认值: 0|该参数用于表示VPN ID。VPN(虚拟专用网，Virtual Private Network)是依靠Internet服务提供商和网络服务提供商，在公共网络中建立的虚拟专用通信网络。
CONNNUM|链路数量|参数可选性: 任选参数类型: 数字参数范围: 1-20默认值: 1|该参数用于表示每次建链的链路数量，最大值不能超出可用端口数（终止端口-起始端口）。
CONNELASTIC|弹性链路开关|参数可选性: 任选参数类型: 枚举，参见枚举定义默认值: SWITCH_ON|该参数用于表示是否启用弹性链路开关，默认值为开关打开。SWITCH-OFF：开关关闭，链路数固定，不再新建链路。SWITCH-ON：开关打开，表示当已建链路出现拥堵时，客户端会新建链路。
MAXSTREAMID|流ID最大值|参数可选性: 任选参数类型: 字符串参数范围: 0-2048|HTTP2.0协议规定流ID最大值是2147483647（2^31-1）。该参数用于设置流ID的最大值，将其设置为N/A即为默认值，默认值为2147418112（2^31-2^16）。每条链路可设置不同的流ID最大值，填写时用逗号隔开，并保证小于协议规定的最大值。例如链路上有2个流ID，填写“2147418111,2147418111”。
CACHEDREQMAXNUM|缓存请求最大数量|参数可选性: 任选参数类型: 数字参数范围: 100-65535默认值: 1024|该参数用于设置缓存请求的最大数量，为内部参数，不可配置。
RESPBODYMAXLENGTH|接收响应消息体最大长度(字节）|参数可选性: 任选参数类型: 数字参数范围: 0-16777216默认值: 2097152|该参数用于表示客户端接收响应消息体的最大长度，单位是字节。
RESPTIMER|等待响应超时定时器(秒)|参数可选性: 任选参数类型: 数字参数范围: 5-300默认值: 30|该参数用于表示等待响应超时定时器的时长，单位为秒。若服务端超时无响应，则客户端会向服务端发送失败的响应消息。
CONNREADTIMER|读包超时定时器(秒)|参数可选性: 任选参数类型: 数字参数范围: 5-300默认值: 32|该参数用于设置读包超时定时器的时长，单位为秒。若读包超时，客户端会拆除连接。
MAXCONCURRENTSTREAMS|并发流最大个数|参数可选性: 任选参数类型: 数字参数范围: 100-10000默认值: 1000|该参数用于表示一条链路上并发的流的最大数。
KEEPALIVECNT|链路保活检测次数|参数可选性: 任选参数类型: 数字参数范围: 1-5默认值: 3|该参数用于表示链路保活检测次数。若链路保活连续配置次数没有收到响应，则会将链路状态设置为非激活状态。
KEEPALIVETIMER|链路保活超时定时器(秒)|参数可选性: 任选参数类型: 数字参数范围: 0-300默认值: 30|该参数用于表示链路保活超时定时器的时长，单位为秒。若链路保活定时器超时，则会给对端发ping包，以便确认空闲链路的可用性。
KEEPALIVESWITCH|链路保活开关|参数可选性: 任选参数类型: 枚举，参见枚举定义默认值: SWITCH_ON|该参数用于表示是否启用链路保活开关，默认开关打开。SWITCH-OFF：开关关闭。SWITCH-ON：开关打开。
HTTPVERSION|HTTP版本|参数可选性: 任选参数类型: 枚举，参见枚举定义默认值: HTTP_2|该参数用于表示客户端支持的HTTP版本，包括HTTP/1.1或者HTTP/2。
TLSCERTNAME|TLS证书名|参数可选性: 任选参数类型: 字符串参数范围: 0-64|该参数用于表示关联的TLS证书名。TLS证书名可通过SHOW CERTINFO命令进行查询。
PRIORITY|链路优先级|参数可选性: 任选参数类型: 字符串参数范围: 0-2048|该参数用于表示链路优先级。值越小，表示优先级越高。
WEIGHT|链路权重|参数可选性: 任选参数类型: 字符串参数范围: 0-2048|该参数用于表示链路权重。值越大，表示权重越高。
HTTP2_DSCP|DSCP标签值|参数可选性: 任选参数类型: 数字参数范围: 0-63默认值: 0|该参数用于表示DSCP（Differentiated Services Code Point）标签值。
ISSHORT|非粘滞|参数可选性: 任选参数类型: 枚举，参见枚举定义参数范围: 0-1默认值: OPTION_NO|该参数用于设置链路是否是非粘滞。是否粘滞会影响HTTP1.1短链路建链是否经过OMU，影响SC弹缩时呼损。只有VERION为HTTP1.1时才允许配置为OPTION_YES。OPTION_YES：是非粘滞连接。HTTP1.1短链路建链不经过OMU，不上报链路信息到SCCU，不进行链路信息汇总。OPTION_NO：是粘滞连接。HTTP1.1短链路建链经过OMU。
LINKAGINGTIME|链路老化时间（分）|参数可选性: 任选参数类型: 数字参数范围: 0-1440默认值: 0|该参数用于设置链路老化时间，单位：分钟。在配置的时间内，链路上没有任何业务消息收发，则老化拆链。配置为0，表示不启用链路老化功能。
LINKSHRINKTIME|链路缩链评判周期（秒）|参数可选性: 任选参数类型: 数字参数范围: 10-300默认值: 60|该参数用于设置缩链评判周期，单位：秒。在配置的周期内，链路上的负荷参数符合缩链条件，则进行缩链操作，释放链路资源。触发缩链条件如下：当前链路非静态链路。到对端存在静态链路。或者到对端的动态链路数大于客户端模板配置中的初始链路数。上一评判周期的起始时间不等于当前评判周期的起始时间。 系统当前时间减去上次缩链的时间大于1个缩链评判周期。 系统当前时间减去上次弹出链路的时间大于5个缩链评判周期。上一评判周期的并发流峰值与上一评判周期最大并发流的百分比小于配置的缩链使用率阈值。上一评判周期收发报文总字节数小于配置的缩链传输阈值。
SHRINKTRANS|缩链传输阈值（MB）|参数可选性: 任选参数类型: 数字参数范围: 1-128默认值: 30|该参数用于设置缩链传输层阈值，单位：MB。在配置的评判周期内，链路上收发字节数小于配置的值，则可能进行缩链操作，释放链路资源。触发缩链条件如下：当前链路非静态链路。到对端存在静态链路。或者到对端的动态链路数大于客户端模板配置中的初始链路数。上一评判周期的起始时间不等于当前评判周期的起始时间。 系统当前时间减去上次缩链的时间大于1个缩链评判周期。 系统当前时间减去上次弹出链路的时间大于5个缩链评判周期。上一评判周期的并发流峰值与上一评判周期最大并发流的百分比小于配置的缩链使用率阈值。上一评判周期收发报文总字节数小于配置的缩链传输阈值。
SHRINKSTREAM|缩链流使用率阈值（%）|参数可选性: 任选参数类型: 数字参数范围: 1-50默认值: 40|该参数用于设置缩链流使用率阈值百分比。在配置的周期内，链路上的流使用率阈值小于配置值，则可能进行缩链操作，释放链路资源。触发缩链条件如下：当前链路非静态链路。到对端存在静态链路。或者到对端的动态链路数大于客户端模板配置中的初始链路数。上一评判周期的起始时间不等于当前评判周期的起始时间。 系统当前时间减去上次缩链的时间大于1个缩链评判周期。 系统当前时间减去上次弹出链路的时间大于5个缩链评判周期。上一评判周期的并发流峰值与上一评判周期最大并发流的百分比小于配置的缩链使用率阈值。上一评判周期收发报文总字节数小于配置的缩链传输阈值。
PSKSETNAME|PSK集名|参数可选性: 任选参数类型: 字符串参数范围: 0-64|该参数用于设置客户端模板PSK集名，引用"客户端PSK集配置"中的PSKSETNAME。PSKSETNAME可通过SHOW SBICLIENTPSKSET命令进行查询。
CIPERCUITESNAME|加密套件集名|参数可选性: 任选参数类型: 字符串参数范围: 0-64默认值: default|该参数用于设置客户端模板加密套件集名，引用”加密套件集配置“中的NAME。NAME可通过SHOW SBITLSCIPHERSUITES命令进行查询。




[](None)命令举例 


`
设置编号1的客户端模板链路配置，VPN ID修改为3。
SET CLIENTPROFILE:ID=1,VPNID=3;
` 


#### 删除客户端模板配置(DELETE CLIENTPROFILE) 
#### 删除客户端模板配置(DELETE CLIENTPROFILE) 


[](None)功能说明 

该命令用于删除客户端模板配置。当客户端不再需要与服务端建立HTTP连接时，执行该命令。命令执行成功后，根据该模板配置建立的HTTP连接被删除。


[](None)注意事项 

当客户端模板编号被客户端TCP链路引用时，禁止删除客户端模板。


[](None)输入参数说明 


[](None)标识|名称|类型|说明
---|---|---|---
ID|编号|参数可选性: 必选参数类型: 数字参数范围: 1-65535|该参数用于设置客户端模板编号，模板编号全局唯一。




[](None)输出参数说明 


[](None)标识|名称|类型|说明
---|---|---|---
ID|编号|参数可选性: 任选参数类型: 数字参数范围: 1-65535|该参数用于表示客户端模板编号，模板编号全局唯一。
IPADDR|IP地址|参数可选性: 任选参数类型: 字符串参数范围: 0-64|该参数用于表示客户端的IP地址，必须是真实有效的IP地址，支持IPv4/IPv6。IPv6地址冒号后不能以数字0开头，且地址中的字母a~f全部不允许使用大写字母。
STARTPORT|起始端口|参数可选性: 任选参数类型: 数字参数范围: 10000-65535默认值: 10000|该参数用于表示起始端口。该模板对应的端口总数=终止端口-起始端口+1。本版本引入了双域功能，端口总数必须大于等于SC总个数*单个SC的客户端端口个数*2。其中，单个SC的客户端端口个数可以通过12号全局参数查询。
ENDPORT|终止端口|参数可选性: 任选参数类型: 数字参数范围: 10000-65535默认值: 60000|该参数用于表示终止端口。该模板对应的端口总数=终止端口-起始端口+1。本版本引入了双域功能，端口总数必须大于等于SC总个数*单个SC的客户端端口个数*2。其中，单个SC的客户端端口个数可以通过12号全局参数查询。
VPNID|VPN ID|参数可选性: 任选参数类型: 数字参数范围: 0-254默认值: 0|该参数用于表示VPN ID。VPN(虚拟专用网，Virtual Private Network)是依靠Internet服务提供商和网络服务提供商，在公共网络中建立的虚拟专用通信网络。
CONNNUM|链路数量|参数可选性: 任选参数类型: 数字参数范围: 1-20默认值: 1|该参数用于表示每次建链的链路数量，最大值不能超出可用端口数（终止端口-起始端口）。
CONNELASTIC|弹性链路开关|参数可选性: 任选参数类型: 枚举，参见枚举定义默认值: SWITCH_ON|该参数用于表示是否启用弹性链路开关，默认值为开关打开。SWITCH-OFF：开关关闭，链路数固定，不再新建链路。SWITCH-ON：开关打开，表示当已建链路出现拥堵时，客户端会新建链路。
MAXSTREAMID|流ID最大值|参数可选性: 任选参数类型: 字符串参数范围: 0-2048|HTTP2.0协议规定流ID最大值是2147483647（2^31-1）。该参数用于设置流ID的最大值，将其设置为N/A即为默认值，默认值为2147418112（2^31-2^16）。每条链路可设置不同的流ID最大值，填写时用逗号隔开，并保证小于协议规定的最大值。例如链路上有2个流ID，填写“2147418111,2147418111”。
CACHEDREQMAXNUM|缓存请求最大数量|参数可选性: 任选参数类型: 数字参数范围: 100-65535默认值: 1024|该参数用于设置缓存请求的最大数量，为内部参数，不可配置。
RESPBODYMAXLENGTH|接收响应消息体最大长度(字节）|参数可选性: 任选参数类型: 数字参数范围: 0-16777216默认值: 2097152|该参数用于表示客户端接收响应消息体的最大长度，单位是字节。
RESPTIMER|等待响应超时定时器(秒)|参数可选性: 任选参数类型: 数字参数范围: 5-300默认值: 30|该参数用于表示等待响应超时定时器的时长，单位为秒。若服务端超时无响应，则客户端会向服务端发送失败的响应消息。
CONNREADTIMER|读包超时定时器(秒)|参数可选性: 任选参数类型: 数字参数范围: 5-300默认值: 32|该参数用于设置读包超时定时器的时长，单位为秒。若读包超时，客户端会拆除连接。
MAXCONCURRENTSTREAMS|并发流最大个数|参数可选性: 任选参数类型: 数字参数范围: 100-10000默认值: 1000|该参数用于表示一条链路上并发的流的最大数。
KEEPALIVECNT|链路保活检测次数|参数可选性: 任选参数类型: 数字参数范围: 1-5默认值: 3|该参数用于表示链路保活检测次数。若链路保活连续配置次数没有收到响应，则会将链路状态设置为非激活状态。
KEEPALIVETIMER|链路保活超时定时器(秒)|参数可选性: 任选参数类型: 数字参数范围: 0-300默认值: 30|该参数用于表示链路保活超时定时器的时长，单位为秒。若链路保活定时器超时，则会给对端发ping包，以便确认空闲链路的可用性。
KEEPALIVESWITCH|链路保活开关|参数可选性: 任选参数类型: 枚举，参见枚举定义默认值: SWITCH_ON|该参数用于表示是否启用链路保活开关，默认开关打开。SWITCH-OFF：开关关闭。SWITCH-ON：开关打开。
HTTPVERSION|HTTP版本|参数可选性: 任选参数类型: 枚举，参见枚举定义默认值: HTTP_2|该参数用于表示客户端支持的HTTP版本，包括HTTP/1.1或者HTTP/2。
TLSCERTNAME|TLS证书名|参数可选性: 任选参数类型: 字符串参数范围: 0-64|该参数用于表示关联的TLS证书名。TLS证书名可通过SHOW CERTINFO命令进行查询。
PRIORITY|链路优先级|参数可选性: 任选参数类型: 字符串参数范围: 0-2048|该参数用于表示链路优先级。值越小，表示优先级越高。
WEIGHT|链路权重|参数可选性: 任选参数类型: 字符串参数范围: 0-2048|该参数用于表示链路权重。值越大，表示权重越高。
HTTP2_DSCP|DSCP标签值|参数可选性: 任选参数类型: 数字参数范围: 0-63默认值: 0|该参数用于表示DSCP（Differentiated Services Code Point）标签值。
ISSHORT|非粘滞|参数可选性: 任选参数类型: 枚举，参见枚举定义参数范围: 0-1默认值: OPTION_NO|该参数用于设置链路是否是非粘滞。是否粘滞会影响HTTP1.1短链路建链是否经过OMU，影响SC弹缩时呼损。只有VERION为HTTP1.1时才允许配置为OPTION_YES。OPTION_YES：是非粘滞连接。HTTP1.1短链路建链不经过OMU，不上报链路信息到SCCU，不进行链路信息汇总。OPTION_NO：是粘滞连接。HTTP1.1短链路建链经过OMU。
LINKAGINGTIME|链路老化时间（分）|参数可选性: 任选参数类型: 数字参数范围: 0-1440默认值: 0|该参数用于设置链路老化时间，单位：分钟。在配置的时间内，链路上没有任何业务消息收发，则老化拆链。配置为0，表示不启用链路老化功能。
LINKSHRINKTIME|链路缩链评判周期（秒）|参数可选性: 任选参数类型: 数字参数范围: 10-300默认值: 60|该参数用于设置缩链评判周期，单位：秒。在配置的周期内，链路上的负荷参数符合缩链条件，则进行缩链操作，释放链路资源。触发缩链条件如下：当前链路非静态链路。到对端存在静态链路。或者到对端的动态链路数大于客户端模板配置中的初始链路数。上一评判周期的起始时间不等于当前评判周期的起始时间。 系统当前时间减去上次缩链的时间大于1个缩链评判周期。 系统当前时间减去上次弹出链路的时间大于5个缩链评判周期。上一评判周期的并发流峰值与上一评判周期最大并发流的百分比小于配置的缩链使用率阈值。上一评判周期收发报文总字节数小于配置的缩链传输阈值。
SHRINKTRANS|缩链传输阈值（MB）|参数可选性: 任选参数类型: 数字参数范围: 1-128默认值: 30|该参数用于设置缩链传输层阈值，单位：MB。在配置的评判周期内，链路上收发字节数小于配置的值，则可能进行缩链操作，释放链路资源。触发缩链条件如下：当前链路非静态链路。到对端存在静态链路。或者到对端的动态链路数大于客户端模板配置中的初始链路数。上一评判周期的起始时间不等于当前评判周期的起始时间。 系统当前时间减去上次缩链的时间大于1个缩链评判周期。 系统当前时间减去上次弹出链路的时间大于5个缩链评判周期。上一评判周期的并发流峰值与上一评判周期最大并发流的百分比小于配置的缩链使用率阈值。上一评判周期收发报文总字节数小于配置的缩链传输阈值。
SHRINKSTREAM|缩链流使用率阈值（%）|参数可选性: 任选参数类型: 数字参数范围: 1-50默认值: 40|该参数用于设置缩链流使用率阈值百分比。在配置的周期内，链路上的流使用率阈值小于配置值，则可能进行缩链操作，释放链路资源。触发缩链条件如下：当前链路非静态链路。到对端存在静态链路。或者到对端的动态链路数大于客户端模板配置中的初始链路数。上一评判周期的起始时间不等于当前评判周期的起始时间。 系统当前时间减去上次缩链的时间大于1个缩链评判周期。 系统当前时间减去上次弹出链路的时间大于5个缩链评判周期。上一评判周期的并发流峰值与上一评判周期最大并发流的百分比小于配置的缩链使用率阈值。上一评判周期收发报文总字节数小于配置的缩链传输阈值。
PSKSETNAME|PSK集名|参数可选性: 任选参数类型: 字符串参数范围: 0-64|该参数用于设置客户端模板PSK集名，引用"客户端PSK集配置"中的PSKSETNAME。PSKSETNAME可通过SHOW SBICLIENTPSKSET命令进行查询。
CIPERCUITESNAME|加密套件集名|参数可选性: 任选参数类型: 字符串参数范围: 0-64默认值: default|该参数用于设置客户端模板加密套件集名，引用”加密套件集配置“中的NAME。NAME可通过SHOW SBITLSCIPHERSUITES命令进行查询。




[](None)命令举例 


`
删除编号1的客户端模板链路配置。
DELETE CLIENTPROFILE:ID=1;
` 


#### 查询客户端模板配置(SHOW CLIENTPROFILE) 
#### 查询客户端模板配置(SHOW CLIENTPROFILE) 


[](None)功能说明 

该命令用于查询客户端模板配置，包括模板编号、本端IP地址、端口范围、VPN ID、TLS证书编号等配置信息。当需要查询客户端模板配置信息时，使用该命令。


[](None)注意事项 


 
如需要查询全部客户端模板配置信息，则不需要输入任何参数。 

 
如需要查询指定的客户端模板配置信息，则需要输入模板编号。 

 


[](None)输入参数说明 


[](None)标识|名称|类型|说明
---|---|---|---
ID|编号|参数可选性: 任选参数类型: 数字参数范围: 1-65535|该参数用于设置客户端模板编号，模板编号全局唯一。




[](None)输出参数说明 


[](None)标识|名称|类型|说明
---|---|---|---
ID|编号|参数可选性: 任选参数类型: 数字参数范围: 1-65535|该参数用于表示客户端模板编号，模板编号全局唯一。
IPADDR|IP地址|参数可选性: 任选参数类型: 字符串参数范围: 0-64|该参数用于表示客户端的IP地址，必须是真实有效的IP地址，支持IPv4/IPv6。IPv6地址冒号后不能以数字0开头，且地址中的字母a~f全部不允许使用大写字母。
STARTPORT|起始端口|参数可选性: 任选参数类型: 数字参数范围: 10000-65535默认值: 10000|该参数用于表示起始端口。该模板对应的端口总数=终止端口-起始端口+1。本版本引入了双域功能，端口总数必须大于等于SC总个数*单个SC的客户端端口个数*2。其中，单个SC的客户端端口个数可以通过12号全局参数查询。
ENDPORT|终止端口|参数可选性: 任选参数类型: 数字参数范围: 10000-65535默认值: 60000|该参数用于表示终止端口。该模板对应的端口总数=终止端口-起始端口+1。本版本引入了双域功能，端口总数必须大于等于SC总个数*单个SC的客户端端口个数*2。其中，单个SC的客户端端口个数可以通过12号全局参数查询。
VPNID|VPN ID|参数可选性: 任选参数类型: 数字参数范围: 0-254默认值: 0|该参数用于表示VPN ID。VPN(虚拟专用网，Virtual Private Network)是依靠Internet服务提供商和网络服务提供商，在公共网络中建立的虚拟专用通信网络。
CONNNUM|链路数量|参数可选性: 任选参数类型: 数字参数范围: 1-20默认值: 1|该参数用于表示每次建链的链路数量，最大值不能超出可用端口数（终止端口-起始端口）。
CONNELASTIC|弹性链路开关|参数可选性: 任选参数类型: 枚举，参见枚举定义默认值: SWITCH_ON|该参数用于表示是否启用弹性链路开关，默认值为开关打开。SWITCH-OFF：开关关闭，链路数固定，不再新建链路。SWITCH-ON：开关打开，表示当已建链路出现拥堵时，客户端会新建链路。
MAXSTREAMID|流ID最大值|参数可选性: 任选参数类型: 字符串参数范围: 0-2048|HTTP2.0协议规定流ID最大值是2147483647（2^31-1）。该参数用于设置流ID的最大值，将其设置为N/A即为默认值，默认值为2147418112（2^31-2^16）。每条链路可设置不同的流ID最大值，填写时用逗号隔开，并保证小于协议规定的最大值。例如链路上有2个流ID，填写“2147418111,2147418111”。
CACHEDREQMAXNUM|缓存请求最大数量|参数可选性: 任选参数类型: 数字参数范围: 100-65535默认值: 1024|该参数用于设置缓存请求的最大数量，为内部参数，不可配置。
RESPBODYMAXLENGTH|接收响应消息体最大长度(字节）|参数可选性: 任选参数类型: 数字参数范围: 0-16777216默认值: 2097152|该参数用于表示客户端接收响应消息体的最大长度，单位是字节。
RESPTIMER|等待响应超时定时器(秒)|参数可选性: 任选参数类型: 数字参数范围: 5-300默认值: 30|该参数用于表示等待响应超时定时器的时长，单位为秒。若服务端超时无响应，则客户端会向服务端发送失败的响应消息。
CONNREADTIMER|读包超时定时器(秒)|参数可选性: 任选参数类型: 数字参数范围: 5-300默认值: 32|该参数用于设置读包超时定时器的时长，单位为秒。若读包超时，客户端会拆除连接。
MAXCONCURRENTSTREAMS|并发流最大个数|参数可选性: 任选参数类型: 数字参数范围: 100-10000默认值: 1000|该参数用于表示一条链路上并发的流的最大数。
KEEPALIVECNT|链路保活检测次数|参数可选性: 任选参数类型: 数字参数范围: 1-5默认值: 3|该参数用于表示链路保活检测次数。若链路保活连续配置次数没有收到响应，则会将链路状态设置为非激活状态。
KEEPALIVETIMER|链路保活超时定时器(秒)|参数可选性: 任选参数类型: 数字参数范围: 0-300默认值: 30|该参数用于表示链路保活超时定时器的时长，单位为秒。若链路保活定时器超时，则会给对端发ping包，以便确认空闲链路的可用性。
KEEPALIVESWITCH|链路保活开关|参数可选性: 任选参数类型: 枚举，参见枚举定义默认值: SWITCH_ON|该参数用于表示是否启用链路保活开关，默认开关打开。SWITCH-OFF：开关关闭。SWITCH-ON：开关打开。
HTTPVERSION|HTTP版本|参数可选性: 任选参数类型: 枚举，参见枚举定义默认值: HTTP_2|该参数用于表示客户端支持的HTTP版本，包括HTTP/1.1或者HTTP/2。
TLSCERTNAME|TLS证书名|参数可选性: 任选参数类型: 字符串参数范围: 0-64|该参数用于表示关联的TLS证书名。TLS证书名可通过SHOW CERTINFO命令进行查询。
PRIORITY|链路优先级|参数可选性: 任选参数类型: 字符串参数范围: 0-2048|该参数用于表示链路优先级。值越小，表示优先级越高。
WEIGHT|链路权重|参数可选性: 任选参数类型: 字符串参数范围: 0-2048|该参数用于表示链路权重。值越大，表示权重越高。
HTTP2_DSCP|DSCP标签值|参数可选性: 任选参数类型: 数字参数范围: 0-63默认值: 0|该参数用于表示DSCP（Differentiated Services Code Point）标签值。
ISSHORT|非粘滞|参数可选性: 任选参数类型: 枚举，参见枚举定义参数范围: 0-1默认值: OPTION_NO|该参数用于设置链路是否是非粘滞。是否粘滞会影响HTTP1.1短链路建链是否经过OMU，影响SC弹缩时呼损。只有VERION为HTTP1.1时才允许配置为OPTION_YES。OPTION_YES：是非粘滞连接。HTTP1.1短链路建链不经过OMU，不上报链路信息到SCCU，不进行链路信息汇总。OPTION_NO：是粘滞连接。HTTP1.1短链路建链经过OMU。
LINKAGINGTIME|链路老化时间（分）|参数可选性: 任选参数类型: 数字参数范围: 0-1440默认值: 0|该参数用于设置链路老化时间，单位：分钟。在配置的时间内，链路上没有任何业务消息收发，则老化拆链。配置为0，表示不启用链路老化功能。
LINKSHRINKTIME|链路缩链评判周期（秒）|参数可选性: 任选参数类型: 数字参数范围: 10-300默认值: 60|该参数用于设置缩链评判周期，单位：秒。在配置的周期内，链路上的负荷参数符合缩链条件，则进行缩链操作，释放链路资源。触发缩链条件如下：当前链路非静态链路。到对端存在静态链路。或者到对端的动态链路数大于客户端模板配置中的初始链路数。上一评判周期的起始时间不等于当前评判周期的起始时间。 系统当前时间减去上次缩链的时间大于1个缩链评判周期。 系统当前时间减去上次弹出链路的时间大于5个缩链评判周期。上一评判周期的并发流峰值与上一评判周期最大并发流的百分比小于配置的缩链使用率阈值。上一评判周期收发报文总字节数小于配置的缩链传输阈值。
SHRINKTRANS|缩链传输阈值（MB）|参数可选性: 任选参数类型: 数字参数范围: 1-128默认值: 30|该参数用于设置缩链传输层阈值，单位：MB。在配置的评判周期内，链路上收发字节数小于配置的值，则可能进行缩链操作，释放链路资源。触发缩链条件如下：当前链路非静态链路。到对端存在静态链路。或者到对端的动态链路数大于客户端模板配置中的初始链路数。上一评判周期的起始时间不等于当前评判周期的起始时间。 系统当前时间减去上次缩链的时间大于1个缩链评判周期。 系统当前时间减去上次弹出链路的时间大于5个缩链评判周期。上一评判周期的并发流峰值与上一评判周期最大并发流的百分比小于配置的缩链使用率阈值。上一评判周期收发报文总字节数小于配置的缩链传输阈值。
SHRINKSTREAM|缩链流使用率阈值（%）|参数可选性: 任选参数类型: 数字参数范围: 1-50默认值: 40|该参数用于设置缩链流使用率阈值百分比。在配置的周期内，链路上的流使用率阈值小于配置值，则可能进行缩链操作，释放链路资源。触发缩链条件如下：当前链路非静态链路。到对端存在静态链路。或者到对端的动态链路数大于客户端模板配置中的初始链路数。上一评判周期的起始时间不等于当前评判周期的起始时间。 系统当前时间减去上次缩链的时间大于1个缩链评判周期。 系统当前时间减去上次弹出链路的时间大于5个缩链评判周期。上一评判周期的并发流峰值与上一评判周期最大并发流的百分比小于配置的缩链使用率阈值。上一评判周期收发报文总字节数小于配置的缩链传输阈值。
PSKSETNAME|PSK集名|参数可选性: 任选参数类型: 字符串参数范围: 0-64|该参数用于设置客户端模板PSK集名，引用"客户端PSK集配置"中的PSKSETNAME。PSKSETNAME可通过SHOW SBICLIENTPSKSET命令进行查询。
CIPERCUITESNAME|加密套件集名|参数可选性: 任选参数类型: 字符串参数范围: 0-64默认值: default|该参数用于设置客户端模板加密套件集名，引用”加密套件集配置“中的NAME。NAME可通过SHOW SBITLSCIPHERSUITES命令进行查询。




[](None)命令举例 


`
查询客户端所有的链路模板配置。
SHOW CLIENTPROFILE;

(No.1) : SHOW CLIENTPROFILE:
-----------------CommonS_HTTP_LB_0----------------
操作维护       编号 IP地址   起始端口 终止端口 VPN ID 链路数量 流ID最大值 缓存请求最大数量 接收响应消息体最大长度(字节） 等待响应超时定时器(秒) 读包超时定时器(秒) 并发流最大个数 链路保活检测次数 链路保活超时定时器(秒) 链路保活开关 HTTP版本 TLS证书名 链路优先级 链路权重 DSCP标签值 非粘滞 链路老化时间（分） 链路缩链评判周期（秒） 缩链传输阈值（MB） 缩链流使用率阈值（%） PSK集名       加密套件名       
------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
复制 修改      1    8.8.1.75 10000    60000    0      1                   1024             2097152                       30                     32                 1000           3                30                     开启         HTTP 2   client                        0          否     0                  60                     30                 40                    pskonlyclient default_psk_only 
------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
记录数：1
执行成功开始时间:2021-12-14 10:03:33 耗时: 0.646 秒

` 


### 服务端模板配置 
### 服务端模板配置 


[](None)背景知识 


HTTP（Hypertext Transfer Protocol，超文本传输协议） 对应于应用层，HTTPLB支持包括HTTP/1.1和HTTP/2的网络通信协议。 

LB（Load Balancing，负载均衡）就是把负载均衡分配到集群的各个节点，从而提高总体的吞吐能力。 

TCP（Transmission Con-trol Protocol，传输控制协议）是一种面向连接的、可靠的、基于字节流的传输层通信协议。 

一般在网络传输过程中，HTTP连接是建立在TCP链路基础之上的。在通信的两端，即客户端和服务端建立TCP链路时，根据项目或特定网元的需要，需要预先配置相应的客户端模板。 




[](None)功能说明 


服务端模板用于配置HTTPLB的服务端属性。当本网元作为服务端需要接收客户端的建链时，该配置用于对服务端的IP地址端口及其他相关属性进行配置。当正确配置服务端模板后，服务端方可接收客户端的建链信息。 




[](None)子主题： 






#### 新增服务端模板配置(ADD SERVERPROFILE) 
#### 新增服务端模板配置(ADD SERVERPROFILE) 


[](None)功能说明 

该命令用于新增服务端模板配置。当本端作为服务端，需要与客户端建立HTTP连接时，执行该命令。命令执行成功后，服务端可接收客户端的发起的建链请求，从而建链成功。


[](None)注意事项 

注意本端IP地址必须是真实有效的IP地址。


[](None)输入参数说明 


[](None)标识|名称|类型|说明
---|---|---|---
ID|编号|参数可选性: 必选参数类型: 数字参数范围: 1-65535|该参数用于设置服务端模板编号，模板编号全局唯一。
IPADDR|IP地址|参数可选性: 必选参数类型: 字符串参数范围: 0-64|该参数用于设置服务端的IP地址，必须是真实有效的IP地址，支持IPv4/IPv6。IPv6地址冒号后不能以数字0开头，且地址中的字母a~f全部不允许使用大写字母。
PORT|端口|参数可选性: 必选参数类型: 数字参数范围: 1-65535默认值: 8080|该参数用于设置服务端的端口号。
VPNID|VPN ID|参数可选性: 任选参数类型: 数字参数范围: 0-254默认值: 0|该参数用于设置VPN ID。VPN(虚拟专用网，Virtual Private Network)是依靠Internet服务提供商和网络服务提供商，在公共网络中建立的虚拟专用通信网络。
REQBODYMAXLENGTH|接收请求消息体最大长度(字节）|参数可选性: 任选参数类型: 数字参数范围: 0-16777216默认值: 2097152|该参数用于设置服务端接收请求消息体最大长度，单位是字节。
RESPTIMER|等待响应超时定时器(秒)|参数可选性: 任选参数类型: 数字参数范围: 1-300默认值: 30|该参数用于设置等待响应超时定时器的时长，单位为秒。若客户端超时无响应，则服务端会向客户端发送失败的响应消息。
CONNREADTIMER|读包超时定时器(秒)|参数可选性: 任选参数类型: 数字参数范围: 1-300默认值: 32|该参数用于设置读包超时定时器的时长，单位为秒。若读包超时，服务端会拆除连接。
MAXCONCURRENTSTREAMS|并发流最大个数|参数可选性: 任选参数类型: 数字参数范围: 10-10000默认值: 1000|该参数用于设置一条链路上并发的流的最大数。
KEEPALIVECNT|链路保活检测次数|参数可选性: 任选参数类型: 数字参数范围: 1-5默认值: 3|该参数用于设置链路保活检测次数。若链路保活连续配置次数没有收到响应，则会将链路状态设置为非激活状态。
KEEPALIVETIMER|链路保活超时定时器(秒)|参数可选性: 任选参数类型: 数字参数范围: 0-300默认值: 30|该参数用于设置链路保活超时定时器的时长，单位为秒。若链路保活定时器超时，则会给对端发ping包，以便确认空闲链路的可用性。
KEEPALIVESWITCH|链路保活开关|参数可选性: 任选参数类型: 枚举，参见枚举定义默认值: SWITCH_ON|该参数用于设置是否启用链路保活开关，默认开关打开。SWITCH-OFF：开关关闭。SWITCH-ON：开关打开。
HTTPVERSION|HTTP版本|参数可选性: 任选参数类型: 枚举，参见枚举定义默认值: HTTP_2|该参数用于设置HTTP版本，包括HTTP/1.1或者HTTP/2。
TLSCERTNAME|TLS证书名|参数可选性: 任选参数类型: 字符串参数范围: 0-64|该参数用于设置关联的TLS证书名。TLS证书名可通过SHOW CERTINFO命令进行查询。
VERIFYCLI|TLS认证客户端开关|参数可选性: 任选参数类型: 枚举，参见枚举定义默认值: SWITCH_OFF|该参数用于设置启用TLS时，是否认证客户端。默认不认证客户端。SWITCH-OFF：不认证客户端。SWITCH-ON：认证客户端。
HTTP2_DSCP|DSCP标签值|参数可选性: 任选参数类型: 数字参数范围: 0-63默认值: 0|该参数用于设置DSCP（Differentiated Services Code Point）标签值。
ISSHORT|非粘滞|参数可选性: 任选参数类型: 枚举，参见枚举定义参数范围: 0-1默认值: OPTION_NO|该参数用于设置链路是否是非粘滞。OPTION_YES：非粘滞连接。OPTION_NO：粘滞连接。
LINKAGINGTIME|链路老化时间（分）|参数可选性: 任选参数类型: 数字参数范围: 0-1440默认值: 0|该参数用于设置链路老化时间，单位：分钟。在配置的时间内，链路上没有任何业务消息收发，则老化拆链。配置为0，表示不启用链路老化功能。
PSKSETNAME|PSK集名|参数可选性: 任选参数类型: 字符串参数范围: 0-64|该参数用于设置服务端模板PSK集名，引用"服务端PSK集配置"中的PSKSETNAME。PSKSETNAME可通过SHOW SBISERVERPSKSET命令进行查询。
CIPERCUITESNAME|加密套件集名|参数可选性: 任选参数类型: 字符串参数范围: 0-64|该参数用于设置服务端模板加密套件集名，引用”加密套件集配置“中的NAME。NAME可通过SHOW SBITLSCIPHERSUITES命令进行查询。




[](None)输出参数说明 


[](None)标识|名称|类型|说明
---|---|---|---
ID|编号|参数可选性: 任选参数类型: 数字参数范围: 1-65535|该参数表示服务端模板编号，模板编号全局唯一。
IPADDR|IP地址|参数可选性: 任选参数类型: 字符串参数范围: 0-64|该参数表示服务端的IP地址，必须是真实有效的IP地址，支持IPv4/IPv6。IPv6地址冒号后不能以数字0开头，且地址中的字母a~f全部不允许使用大写字母。
PORT|端口|参数可选性: 任选参数类型: 数字参数范围: 1-65535默认值: 8080|该参数表示服务端的端口号。
VPNID|VPN ID|参数可选性: 任选参数类型: 数字参数范围: 0-254默认值: 0|该参数表示VPN ID。VPN(虚拟专用网，Virtual Private Network)是依靠Internet服务提供商和网络服务提供商，在公共网络中建立的虚拟专用通信网络。
REQBODYMAXLENGTH|接收请求消息体最大长度(字节）|参数可选性: 任选参数类型: 数字参数范围: 0-16777216默认值: 2097152|该参数表示服务端接收请求消息体最大长度，单位是字节。
RESPTIMER|等待响应超时定时器(秒)|参数可选性: 任选参数类型: 数字参数范围: 1-300默认值: 30|该参数表示等待响应超时定时器的时长，单位为秒。若客户端超时无响应，则服务端会向客户端发送失败的响应消息。
CONNREADTIMER|读包超时定时器(秒)|参数可选性: 任选参数类型: 数字参数范围: 1-300默认值: 32|该参数用于设置读包超时定时器的时长，单位为秒。若读包超时，服务端会拆除连接。
MAXCONCURRENTSTREAMS|并发流最大个数|参数可选性: 任选参数类型: 数字参数范围: 10-10000默认值: 1000|该参数表示一条链路上并发的流的最大数。
KEEPALIVECNT|链路保活检测次数|参数可选性: 任选参数类型: 数字参数范围: 1-5默认值: 3|该参数表示链路保活检测次数。若链路保活连续配置次数没有收到响应，则会将链路状态设置为非激活状态。
KEEPALIVETIMER|链路保活超时定时器(秒)|参数可选性: 任选参数类型: 数字参数范围: 0-300默认值: 30|该参数表示链路保活超时定时器的时长，单位为秒。若链路保活定时器超时，则会给对端发ping包，以便确认空闲链路的可用性。
KEEPALIVESWITCH|链路保活开关|参数可选性: 任选参数类型: 枚举，参见枚举定义默认值: SWITCH_ON|该参数表示是否启用链路保活开关，默认开关打开。SWITCH-OFF：开关关闭。SWITCH-ON：开关打开。
HTTPVERSION|HTTP版本|参数可选性: 任选参数类型: 枚举，参见枚举定义默认值: HTTP_2|该参数表示HTTP版本，包括HTTP/1.1或者HTTP/2。
TLSCERTNAME|TLS证书名|参数可选性: 任选参数类型: 字符串参数范围: 0-64|该参数用于设置关联的TLS证书名。TLS证书名可通过SHOW CERTINFO命令进行查询。
VERIFYCLI|TLS认证客户端开关|参数可选性: 任选参数类型: 枚举，参见枚举定义默认值: SWITCH_OFF|该参数表示启用TLS时，是否认证客户端。默认不认证客户端。SWITCH-OFF：不认证客户端。SWITCH-ON：认证客户端。
HTTP2_DSCP|DSCP标签值|参数可选性: 任选参数类型: 数字参数范围: 0-63默认值: 0|该参数表示DSCP（Differentiated Services Code Point）标签值。
ISSHORT|非粘滞|参数可选性: 任选参数类型: 枚举，参见枚举定义参数范围: 0-1默认值: OPTION_NO|该参数用于设置链路是否是非粘滞。是否粘滞会影响HTTP1.1短链路建链是否经过OMU，影响SC弹缩时呼损。只有VERION为HTTP1.1时才允许配置为OPTION_YES。OPTION_YES：是非粘滞连接。HTTP1.1短链路建链不经过OMU，不上报链路信息到SCCU，不进行链路信息汇总。OPTION_NO：是粘滞连接。HTTP1.1短链路建链经过OMU。
LINKAGINGTIME|链路老化时间（分）|参数可选性: 任选参数类型: 数字参数范围: 0-1440默认值: 0|该参数用于设置链路老化时间，单位：分钟。在配置的时间内，链路上没有任何业务消息收发，则老化拆链。配置为0，表示不启用链路老化功能。
PSKSETNAME|PSK集名|参数可选性: 任选参数类型: 字符串参数范围: 0-64|该参数用于设置服务端模板PSK集名，引用"服务端PSK集配置"中的PSKSETNAME。PSKSETNAME可通过SHOW SBISERVERPSKSET命令进行查询。
CIPERCUITESNAME|加密套件集名|参数可选性: 任选参数类型: 字符串参数范围: 0-64|该参数用于设置服务端模板加密套件集名，引用”加密套件集配置“中的NAME。NAME可通过SHOW SBITLSCIPHERSUITES命令进行查询。




[](None)命令举例 


`
新增服务端模板配置：编号1，IP地址"1.2.3.4"，端口8080，VPNID 2，接收请求消息体最大长度10240字节，等待响应超时定时器30s，并发流最大个数1000，链路保活检测次数3，链路保活超时定时器30s，链路保活开关开启，HTTP版本为"HTTP_2"， tls证书名为"server"，不认证客户端证书，IP报文优先级值为0，是粘滞连接，老化时间5分钟，PSK集名pskonlyserver，加密套件名default_psk_only。
ADD SERVERPROFILE:ID=1,IPADDR=1.2.3.4,PORT=8080,VPNID=2,REQBODYMAXLENGTH=10240,RESPTIMER=30,MAXCONCURRENTSTREAMS=1000,KEEPALIVECNT=3,KEEPALIVETIMER=30,KEEPALIVESWITCH="SWITCH_ON",HTTPVERSION="HTTP_2",TLSCERTNAME="server",VERIFYCLI="SWITCH_OFF",HTTP2_DSCP=0,ISSHORT="OPTION_NO",LINKAGINGTIME=5,PSKSETNAME="pskonlyserver",CIPERCUITESNAME="default_psk_only";
` 


#### 修改服务端模板配置(SET SERVERPROFILE) 
#### 修改服务端模板配置(SET SERVERPROFILE) 


[](None)功能说明 

该命令用于修改服务端模板配置。当服务端的模板信息变化时，执行该命令。命令执行成功后，修改后的模板配置信息会在后续的服务端TCP链路建立过程中使用。


[](None)注意事项 

使用修改命令之后，根据该模板配置已经建立的HTTP连接被删除，服务端停止对原链路客户端的侦听。


[](None)输入参数说明 


[](None)标识|名称|类型|说明
---|---|---|---
ID|编号|参数可选性: 必选参数类型: 数字参数范围: 1-65535|该参数用于设置服务端模板编号，模板编号全局唯一。
IPADDR|IP地址|参数可选性: 任选参数类型: 字符串参数范围: 0-64|该参数用于设置服务端的IP地址，必须是真实有效的IP地址，支持IPv4/IPv6。IPv6地址冒号后不能以数字0开头，且地址中的字母a~f全部不允许使用大写字母。
PORT|端口|参数可选性: 任选参数类型: 数字参数范围: 1-65535默认值: 8080|该参数用于设置服务端的端口号。
VPNID|VPN ID|参数可选性: 任选参数类型: 数字参数范围: 0-254默认值: 0|该参数用于设置VPN ID。VPN(虚拟专用网，Virtual Private Network)是依靠Internet服务提供商和网络服务提供商，在公共网络中建立的虚拟专用通信网络。
REQBODYMAXLENGTH|接收请求消息体最大长度(字节）|参数可选性: 任选参数类型: 数字参数范围: 0-16777216默认值: 2097152|该参数用于设置服务端接收请求消息体最大长度，单位是字节。
RESPTIMER|等待响应超时定时器(秒)|参数可选性: 任选参数类型: 数字参数范围: 1-300默认值: 30|该参数用于设置等待响应超时定时器的时长，单位为秒。若客户端超时无响应，则服务端会向客户端发送失败的响应消息。
CONNREADTIMER|读包超时定时器(秒)|参数可选性: 任选参数类型: 数字参数范围: 1-300默认值: 32|该参数用于设置读包超时定时器的时长，单位为秒。若读包超时，服务端会拆除连接。
MAXCONCURRENTSTREAMS|并发流最大个数|参数可选性: 任选参数类型: 数字参数范围: 10-10000默认值: 1000|该参数用于设置一条链路上并发的流的最大数。
KEEPALIVECNT|链路保活检测次数|参数可选性: 任选参数类型: 数字参数范围: 1-5默认值: 3|该参数用于设置链路保活检测次数。若链路保活连续配置次数没有收到响应，则会将链路状态设置为非激活状态。
KEEPALIVETIMER|链路保活超时定时器(秒)|参数可选性: 任选参数类型: 数字参数范围: 0-300默认值: 30|该参数用于设置链路保活超时定时器的时长，单位为秒。若链路保活定时器超时，则会给对端发ping包，以便确认空闲链路的可用性。
KEEPALIVESWITCH|链路保活开关|参数可选性: 任选参数类型: 枚举，参见枚举定义默认值: SWITCH_ON|该参数用于设置是否启用链路保活开关，默认开关打开。SWITCH-OFF：开关关闭。SWITCH-ON：开关打开。
HTTPVERSION|HTTP版本|参数可选性: 任选参数类型: 枚举，参见枚举定义默认值: HTTP_2|该参数用于设置HTTP版本，包括HTTP/1.1或者HTTP/2。
TLSCERTNAME|TLS证书名|参数可选性: 任选参数类型: 字符串参数范围: 0-64|该参数用于设置关联的TLS证书名。TLS证书名可通过SHOW CERTINFO命令进行查询。
VERIFYCLI|TLS认证客户端开关|参数可选性: 任选参数类型: 枚举，参见枚举定义默认值: SWITCH_OFF|该参数用于设置启用TLS时，是否认证客户端。默认不认证客户端。SWITCH-OFF：不认证客户端。SWITCH-ON：认证客户端。
HTTP2_DSCP|DSCP标签值|参数可选性: 任选参数类型: 数字参数范围: 0-63默认值: 0|该参数用于设置DSCP（Differentiated Services Code Point）标签值。
ISSHORT|非粘滞|参数可选性: 任选参数类型: 枚举，参见枚举定义参数范围: 0-1默认值: OPTION_NO|该参数用于设置链路是否是非粘滞。OPTION_YES：非粘滞连接。OPTION_NO：粘滞连接。
LINKAGINGTIME|链路老化时间（分）|参数可选性: 任选参数类型: 数字参数范围: 0-1440默认值: 0|该参数用于设置链路老化时间，单位：分钟。在配置的时间内，链路上没有任何业务消息收发，则老化拆链。配置为0，表示不启用链路老化功能。
PSKSETNAME|PSK集名|参数可选性: 任选参数类型: 字符串参数范围: 0-64|该参数用于设置服务端模板PSK集名，引用"服务端PSK集配置"中的PSKSETNAME。PSKSETNAME可通过SHOW SBISERVERPSKSET命令进行查询。
CIPERCUITESNAME|加密套件集名|参数可选性: 任选参数类型: 字符串参数范围: 0-64|该参数用于设置服务端模板加密套件集名，引用”加密套件集配置“中的NAME。NAME可通过SHOW SBITLSCIPHERSUITES命令进行查询。




[](None)输出参数说明 


[](None)标识|名称|类型|说明
---|---|---|---
ID|编号|参数可选性: 任选参数类型: 数字参数范围: 1-65535|该参数表示服务端模板编号，模板编号全局唯一。
IPADDR|IP地址|参数可选性: 任选参数类型: 字符串参数范围: 0-64|该参数表示服务端的IP地址，必须是真实有效的IP地址，支持IPv4/IPv6。IPv6地址冒号后不能以数字0开头，且地址中的字母a~f全部不允许使用大写字母。
PORT|端口|参数可选性: 任选参数类型: 数字参数范围: 1-65535默认值: 8080|该参数表示服务端的端口号。
VPNID|VPN ID|参数可选性: 任选参数类型: 数字参数范围: 0-254默认值: 0|该参数表示VPN ID。VPN(虚拟专用网，Virtual Private Network)是依靠Internet服务提供商和网络服务提供商，在公共网络中建立的虚拟专用通信网络。
REQBODYMAXLENGTH|接收请求消息体最大长度(字节）|参数可选性: 任选参数类型: 数字参数范围: 0-16777216默认值: 2097152|该参数表示服务端接收请求消息体最大长度，单位是字节。
RESPTIMER|等待响应超时定时器(秒)|参数可选性: 任选参数类型: 数字参数范围: 1-300默认值: 30|该参数表示等待响应超时定时器的时长，单位为秒。若客户端超时无响应，则服务端会向客户端发送失败的响应消息。
CONNREADTIMER|读包超时定时器(秒)|参数可选性: 任选参数类型: 数字参数范围: 1-300默认值: 32|该参数用于设置读包超时定时器的时长，单位为秒。若读包超时，服务端会拆除连接。
MAXCONCURRENTSTREAMS|并发流最大个数|参数可选性: 任选参数类型: 数字参数范围: 10-10000默认值: 1000|该参数表示一条链路上并发的流的最大数。
KEEPALIVECNT|链路保活检测次数|参数可选性: 任选参数类型: 数字参数范围: 1-5默认值: 3|该参数表示链路保活检测次数。若链路保活连续配置次数没有收到响应，则会将链路状态设置为非激活状态。
KEEPALIVETIMER|链路保活超时定时器(秒)|参数可选性: 任选参数类型: 数字参数范围: 0-300默认值: 30|该参数表示链路保活超时定时器的时长，单位为秒。若链路保活定时器超时，则会给对端发ping包，以便确认空闲链路的可用性。
KEEPALIVESWITCH|链路保活开关|参数可选性: 任选参数类型: 枚举，参见枚举定义默认值: SWITCH_ON|该参数表示是否启用链路保活开关，默认开关打开。SWITCH-OFF：开关关闭。SWITCH-ON：开关打开。
HTTPVERSION|HTTP版本|参数可选性: 任选参数类型: 枚举，参见枚举定义默认值: HTTP_2|该参数表示HTTP版本，包括HTTP/1.1或者HTTP/2。
TLSCERTNAME|TLS证书名|参数可选性: 任选参数类型: 字符串参数范围: 0-64|该参数用于设置关联的TLS证书名。TLS证书名可通过SHOW CERTINFO命令进行查询。
VERIFYCLI|TLS认证客户端开关|参数可选性: 任选参数类型: 枚举，参见枚举定义默认值: SWITCH_OFF|该参数表示启用TLS时，是否认证客户端。默认不认证客户端。SWITCH-OFF：不认证客户端。SWITCH-ON：认证客户端。
HTTP2_DSCP|DSCP标签值|参数可选性: 任选参数类型: 数字参数范围: 0-63默认值: 0|该参数表示DSCP（Differentiated Services Code Point）标签值。
ISSHORT|非粘滞|参数可选性: 任选参数类型: 枚举，参见枚举定义参数范围: 0-1默认值: OPTION_NO|该参数用于设置链路是否是非粘滞。是否粘滞会影响HTTP1.1短链路建链是否经过OMU，影响SC弹缩时呼损。只有VERION为HTTP1.1时才允许配置为OPTION_YES。OPTION_YES：是非粘滞连接。HTTP1.1短链路建链不经过OMU，不上报链路信息到SCCU，不进行链路信息汇总。OPTION_NO：是粘滞连接。HTTP1.1短链路建链经过OMU。
LINKAGINGTIME|链路老化时间（分）|参数可选性: 任选参数类型: 数字参数范围: 0-1440默认值: 0|该参数用于设置链路老化时间，单位：分钟。在配置的时间内，链路上没有任何业务消息收发，则老化拆链。配置为0，表示不启用链路老化功能。
PSKSETNAME|PSK集名|参数可选性: 任选参数类型: 字符串参数范围: 0-64|该参数用于设置服务端模板PSK集名，引用"服务端PSK集配置"中的PSKSETNAME。PSKSETNAME可通过SHOW SBISERVERPSKSET命令进行查询。
CIPERCUITESNAME|加密套件集名|参数可选性: 任选参数类型: 字符串参数范围: 0-64|该参数用于设置服务端模板加密套件集名，引用”加密套件集配置“中的NAME。NAME可通过SHOW SBITLSCIPHERSUITES命令进行查询。




[](None)命令举例 


`
设置编号1的服务端模板链路配置，VPN ID修改为4。
SET SERVERPROFILE:ID=1,VPNID=4;
` 


#### 删除服务端模板配置(DELETE SERVERPROFILE) 
#### 删除服务端模板配置(DELETE SERVERPROFILE) 


[](None)功能说明 

该命令用于删除服务端模板配置。当服务端不再需要与客户端建立HTTP连接时，执行该命令。命令执行成功后，根据该模板配置建立的HTTP连接被删除。


[](None)注意事项 

当服务端模板编号被服务端TCP链路引用时，禁止删除服务端模板配置。


[](None)输入参数说明 


[](None)标识|名称|类型|说明
---|---|---|---
ID|编号|参数可选性: 必选参数类型: 数字参数范围: 1-65535|该参数用于设置服务端模板编号，模板编号全局唯一。




[](None)输出参数说明 


[](None)标识|名称|类型|说明
---|---|---|---
ID|编号|参数可选性: 任选参数类型: 数字参数范围: 1-65535|该参数表示服务端模板编号，模板编号全局唯一。
IPADDR|IP地址|参数可选性: 任选参数类型: 字符串参数范围: 0-64|该参数表示服务端的IP地址，必须是真实有效的IP地址，支持IPv4/IPv6。IPv6地址冒号后不能以数字0开头，且地址中的字母a~f全部不允许使用大写字母。
PORT|端口|参数可选性: 任选参数类型: 数字参数范围: 1-65535默认值: 8080|该参数表示服务端的端口号。
VPNID|VPN ID|参数可选性: 任选参数类型: 数字参数范围: 0-254默认值: 0|该参数表示VPN ID。VPN(虚拟专用网，Virtual Private Network)是依靠Internet服务提供商和网络服务提供商，在公共网络中建立的虚拟专用通信网络。
REQBODYMAXLENGTH|接收请求消息体最大长度(字节）|参数可选性: 任选参数类型: 数字参数范围: 0-16777216默认值: 2097152|该参数表示服务端接收请求消息体最大长度，单位是字节。
RESPTIMER|等待响应超时定时器(秒)|参数可选性: 任选参数类型: 数字参数范围: 1-300默认值: 30|该参数表示等待响应超时定时器的时长，单位为秒。若客户端超时无响应，则服务端会向客户端发送失败的响应消息。
CONNREADTIMER|读包超时定时器(秒)|参数可选性: 任选参数类型: 数字参数范围: 1-300默认值: 32|该参数用于设置读包超时定时器的时长，单位为秒。若读包超时，服务端会拆除连接。
MAXCONCURRENTSTREAMS|并发流最大个数|参数可选性: 任选参数类型: 数字参数范围: 10-10000默认值: 1000|该参数表示一条链路上并发的流的最大数。
KEEPALIVECNT|链路保活检测次数|参数可选性: 任选参数类型: 数字参数范围: 1-5默认值: 3|该参数表示链路保活检测次数。若链路保活连续配置次数没有收到响应，则会将链路状态设置为非激活状态。
KEEPALIVETIMER|链路保活超时定时器(秒)|参数可选性: 任选参数类型: 数字参数范围: 0-300默认值: 30|该参数表示链路保活超时定时器的时长，单位为秒。若链路保活定时器超时，则会给对端发ping包，以便确认空闲链路的可用性。
KEEPALIVESWITCH|链路保活开关|参数可选性: 任选参数类型: 枚举，参见枚举定义默认值: SWITCH_ON|该参数表示是否启用链路保活开关，默认开关打开。SWITCH-OFF：开关关闭。SWITCH-ON：开关打开。
HTTPVERSION|HTTP版本|参数可选性: 任选参数类型: 枚举，参见枚举定义默认值: HTTP_2|该参数表示HTTP版本，包括HTTP/1.1或者HTTP/2。
TLSCERTNAME|TLS证书名|参数可选性: 任选参数类型: 字符串参数范围: 0-64|该参数用于设置关联的TLS证书名。TLS证书名可通过SHOW CERTINFO命令进行查询。
VERIFYCLI|TLS认证客户端开关|参数可选性: 任选参数类型: 枚举，参见枚举定义默认值: SWITCH_OFF|该参数表示启用TLS时，是否认证客户端。默认不认证客户端。SWITCH-OFF：不认证客户端。SWITCH-ON：认证客户端。
HTTP2_DSCP|DSCP标签值|参数可选性: 任选参数类型: 数字参数范围: 0-63默认值: 0|该参数表示DSCP（Differentiated Services Code Point）标签值。
ISSHORT|非粘滞|参数可选性: 任选参数类型: 枚举，参见枚举定义参数范围: 0-1默认值: OPTION_NO|该参数用于设置链路是否是非粘滞。是否粘滞会影响HTTP1.1短链路建链是否经过OMU，影响SC弹缩时呼损。只有VERION为HTTP1.1时才允许配置为OPTION_YES。OPTION_YES：是非粘滞连接。HTTP1.1短链路建链不经过OMU，不上报链路信息到SCCU，不进行链路信息汇总。OPTION_NO：是粘滞连接。HTTP1.1短链路建链经过OMU。
LINKAGINGTIME|链路老化时间（分）|参数可选性: 任选参数类型: 数字参数范围: 0-1440默认值: 0|该参数用于设置链路老化时间，单位：分钟。在配置的时间内，链路上没有任何业务消息收发，则老化拆链。配置为0，表示不启用链路老化功能。
PSKSETNAME|PSK集名|参数可选性: 任选参数类型: 字符串参数范围: 0-64|该参数用于设置服务端模板PSK集名，引用"服务端PSK集配置"中的PSKSETNAME。PSKSETNAME可通过SHOW SBISERVERPSKSET命令进行查询。
CIPERCUITESNAME|加密套件集名|参数可选性: 任选参数类型: 字符串参数范围: 0-64|该参数用于设置服务端模板加密套件集名，引用”加密套件集配置“中的NAME。NAME可通过SHOW SBITLSCIPHERSUITES命令进行查询。




[](None)命令举例 


`
删除编号1的服务端模板链路配置。
DELETE SERVERPROFILE:ID=1;
` 


#### 查询服务端模板配置(SHOW SERVERPROFILE) 
#### 查询服务端模板配置(SHOW SERVERPROFILE) 


[](None)功能说明 

该命令用于查询服务端模板配置，包括模板编号、本端IP地址及端口号、VPN ID、TLS证书编号等配置信息。当需要查询服务端模板配置信息时，使用该命令。


[](None)注意事项 


 
如需要查询全部服务端模板配置信息，则不需要输入任何参数。 

 
如需要查询指定的服务端模板配置信息，则需要输入模板编号。 

 


[](None)输入参数说明 


[](None)标识|名称|类型|说明
---|---|---|---
ID|编号|参数可选性: 任选参数类型: 数字参数范围: 1-65535|该参数用于设置服务端模板编号，模板编号全局唯一。




[](None)输出参数说明 


[](None)标识|名称|类型|说明
---|---|---|---
ID|编号|参数可选性: 任选参数类型: 数字参数范围: 1-65535|该参数表示服务端模板编号，模板编号全局唯一。
IPADDR|IP地址|参数可选性: 任选参数类型: 字符串参数范围: 0-64|该参数表示服务端的IP地址，必须是真实有效的IP地址，支持IPv4/IPv6。IPv6地址冒号后不能以数字0开头，且地址中的字母a~f全部不允许使用大写字母。
PORT|端口|参数可选性: 任选参数类型: 数字参数范围: 1-65535默认值: 8080|该参数表示服务端的端口号。
VPNID|VPN ID|参数可选性: 任选参数类型: 数字参数范围: 0-254默认值: 0|该参数表示VPN ID。VPN(虚拟专用网，Virtual Private Network)是依靠Internet服务提供商和网络服务提供商，在公共网络中建立的虚拟专用通信网络。
REQBODYMAXLENGTH|接收请求消息体最大长度(字节）|参数可选性: 任选参数类型: 数字参数范围: 0-16777216默认值: 2097152|该参数表示服务端接收请求消息体最大长度，单位是字节。
RESPTIMER|等待响应超时定时器(秒)|参数可选性: 任选参数类型: 数字参数范围: 1-300默认值: 30|该参数表示等待响应超时定时器的时长，单位为秒。若客户端超时无响应，则服务端会向客户端发送失败的响应消息。
CONNREADTIMER|读包超时定时器(秒)|参数可选性: 任选参数类型: 数字参数范围: 1-300默认值: 32|该参数用于设置读包超时定时器的时长，单位为秒。若读包超时，服务端会拆除连接。
MAXCONCURRENTSTREAMS|并发流最大个数|参数可选性: 任选参数类型: 数字参数范围: 10-10000默认值: 1000|该参数表示一条链路上并发的流的最大数。
KEEPALIVECNT|链路保活检测次数|参数可选性: 任选参数类型: 数字参数范围: 1-5默认值: 3|该参数表示链路保活检测次数。若链路保活连续配置次数没有收到响应，则会将链路状态设置为非激活状态。
KEEPALIVETIMER|链路保活超时定时器(秒)|参数可选性: 任选参数类型: 数字参数范围: 0-300默认值: 30|该参数表示链路保活超时定时器的时长，单位为秒。若链路保活定时器超时，则会给对端发ping包，以便确认空闲链路的可用性。
KEEPALIVESWITCH|链路保活开关|参数可选性: 任选参数类型: 枚举，参见枚举定义默认值: SWITCH_ON|该参数表示是否启用链路保活开关，默认开关打开。SWITCH-OFF：开关关闭。SWITCH-ON：开关打开。
HTTPVERSION|HTTP版本|参数可选性: 任选参数类型: 枚举，参见枚举定义默认值: HTTP_2|该参数表示HTTP版本，包括HTTP/1.1或者HTTP/2。
TLSCERTNAME|TLS证书名|参数可选性: 任选参数类型: 字符串参数范围: 0-64|该参数用于设置关联的TLS证书名。TLS证书名可通过SHOW CERTINFO命令进行查询。
VERIFYCLI|TLS认证客户端开关|参数可选性: 任选参数类型: 枚举，参见枚举定义默认值: SWITCH_OFF|该参数表示启用TLS时，是否认证客户端。默认不认证客户端。SWITCH-OFF：不认证客户端。SWITCH-ON：认证客户端。
HTTP2_DSCP|DSCP标签值|参数可选性: 任选参数类型: 数字参数范围: 0-63默认值: 0|该参数表示DSCP（Differentiated Services Code Point）标签值。
ISSHORT|非粘滞|参数可选性: 任选参数类型: 枚举，参见枚举定义参数范围: 0-1默认值: OPTION_NO|该参数用于设置链路是否是非粘滞。是否粘滞会影响HTTP1.1短链路建链是否经过OMU，影响SC弹缩时呼损。只有VERION为HTTP1.1时才允许配置为OPTION_YES。OPTION_YES：是非粘滞连接。HTTP1.1短链路建链不经过OMU，不上报链路信息到SCCU，不进行链路信息汇总。OPTION_NO：是粘滞连接。HTTP1.1短链路建链经过OMU。
LINKAGINGTIME|链路老化时间（分）|参数可选性: 任选参数类型: 数字参数范围: 0-1440默认值: 0|该参数用于设置链路老化时间，单位：分钟。在配置的时间内，链路上没有任何业务消息收发，则老化拆链。配置为0，表示不启用链路老化功能。
PSKSETNAME|PSK集名|参数可选性: 任选参数类型: 字符串参数范围: 0-64|该参数用于设置服务端模板PSK集名，引用"服务端PSK集配置"中的PSKSETNAME。PSKSETNAME可通过SHOW SBISERVERPSKSET命令进行查询。
CIPERCUITESNAME|加密套件集名|参数可选性: 任选参数类型: 字符串参数范围: 0-64|该参数用于设置服务端模板加密套件集名，引用”加密套件集配置“中的NAME。NAME可通过SHOW SBITLSCIPHERSUITES命令进行查询。




[](None)命令举例 


`
查询服务端所有的链路模板配置。
SHOW SERVERPROFILE;

(No.1) : SHOW SERVERPROFILE:
-----------------CommonS_HTTP_LB_0----------------
操作维护       编号 IP地址   端口 VPN ID 接收请求消息体最大长度(字节） 等待响应超时定时器(秒) 读包超时定时器(秒) 并发流最大个数 链路保活检测次数 链路保活超时定时器(秒) 链路保活开关 HTTP版本 TLS证书名 TLS认证客户端开关 DSCP标签值 非粘滞 链路老化时间（分） PSK集名       加密套件名       
----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
复制 修改      1    8.8.1.75 9080 0      2097152                       30                     32                 1000           3                30                     开启         HTTP 2   client    开启              0          否     0                  pskonlyserver default_psk_only 
----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
记录数：1
执行成功开始时间:2021-12-14 10:23:32 耗时: 1.842 秒

` 


## 静态TCP链路配置 
## 静态TCP链路配置 


[](None)背景知识 


所谓静态链路是固定的，配置完成后即主动建链。 

一般在网络传输过程中，HTTP连接是建立在TCP链路基础之上的。在通信的两端，即客户端和服务端建立TCP链路时，每一端的静态链路都是跟对应的HTTP模板强关联的，所以必须先配置对应的模板，才能配置静态TCP链路。 




[](None)功能说明 


当配置客户端静态链路时，本网元可作为客户端向服务端发起静态建链。当配置服务端静态链路时，本网元可作为服务端接收客户端发起的静态建链。 




[](None)子主题： 






### 客户端TCP链路配置 
### 客户端TCP链路配置 


[](None)背景知识 


所谓静态链路是固定的，配置完成后即主动建链。 

一般在网络传输过程中，HTTP连接是建立在TCP链路基础之上的。在通信的两端，即客户端和服务端建立TCP链路时，每一端的静态链路都是跟对应的HTTP模板强关联的，所以必须先配置对应的模板，才能配置静态TCP链路。 




[](None)功能说明 


客户端TCP链路用于配置客户端静态链路属性。当本网元需要作为客户端向服务端发起静态建链时，该配置用于对客户端的本端及对端端IP地址等其他相关属性进行配置。当正确配置客户端静态链路后，客户端会向服务端发起建链，如果建链失败，客户端会一直重复发起静态建链。 




[](None)子主题： 






#### 新增客户端TCP链路配置(ADD CLIENTTCPLINK) 
#### 新增客户端TCP链路配置(ADD CLIENTTCPLINK) 


[](None)功能说明 

该命令用于新增客户端静态链路配置。当本端作为客户端，需要与服务端建立静态HTTP连接时，执行该命令。命令执行成功后，客户端和服务端之间可进行TCP建链。


[](None)注意事项 


 
引用的客户端模板号必须存在，可用SHOW CLIENTPROFILE查询当前的客户端模板号。 

 
本端IP必须与引用的客户端模板配置中的IP地址一致。 

 
本端端口必须与引用的客户端模板配置的端口范围错开，不允许重叠，否则会建链失败。 

 


[](None)输入参数说明 


[](None)标识|名称|类型|说明
---|---|---|---
LINKID|链路编号|参数可选性: 必选参数类型: 数字参数范围: 1-65535|该参数用于设置TCP客户端链路编号，链路编号全局唯一。
PROFILEID|客户端模板编号|参数可选性: 必选参数类型: 数字参数范围: 1-65535|该参数用于设置客户端模板编号，需关联客户端模板配置，其编号需在SHOW CLIENTPROFILE命令查询得到的模板编号范围内。
LOCALIP|本端IP地址|参数可选性: 必选参数类型: 字符串参数范围: 0-64|该参数用于设置客户端的IP地址。该地址必须与指定客户端模板编号中的IP地址相同，可通过SHOW CLIENTPROFILE命令查询。
LOCALPORT|本端端口|参数可选性: 必选参数类型: 数字参数范围: 1-65535默认值: 10000|该参数用于设置客户端的端口。该端口不能与指定客户端模板编号中的端口范围重叠，可通过SHOW CLIENTPROFILE命令查询。
REMOTEIP|对端IP地址|参数可选性: 必选参数类型: 字符串参数范围: 0-64|该参数用于设置对端服务端IP地址。必须是真实有效的IP地址，支持IPv4/IPv6。IPv6地址冒号后不能以数字0开头，且地址中的字母a~f全部不允许使用大写字母。
REMOTEPORT|对端端口|参数可选性: 必选参数类型: 数字参数范围: 1-65535默认值: 8080|该参数用于设置对端服务端的端口号。
VPNID|VPN ID|参数可选性: 任选参数类型: 数字参数范围: 0-254默认值: 0|该参数用于设置VPN ID。VPN(虚拟专用网，Virtual Private Network)是依靠Internet服务提供商和网络服务提供商，在公共网络中建立的虚拟专用通信网络。
MAXSTREAMID|流ID最大值|参数可选性: 任选参数类型: 数字参数范围: 1-2147418112默认值: 2147418112|该参数用于设置流ID的最大值。
CACHEDREQMAXNUM|缓存请求最大数量|参数可选性: 任选参数类型: 数字参数范围: 100-65535默认值: 1024|该参数用于设置缓存请求的最大数量，为内部参数，不可配置。
RESPBODYMAXLENGTH|接收响应消息体最大长度(字节）|参数可选性: 任选参数类型: 数字参数范围: 0-16777216默认值: 2097152|该参数用于设置客户端接收响应消息体最大长度，单位是字节。
RESPTIMER|等待响应超时定时器(秒)|参数可选性: 任选参数类型: 数字参数范围: 5-300默认值: 30|该参数用于设置等待响应超时定时器的时长，单位为秒。若服务端超时无响应，则客户端会向业务发送失败的响应消息。
CONNREADTIMER|读包超时定时器(秒)|参数可选性: 任选参数类型: 数字参数范围: 5-300默认值: 32|该参数用于设置读包超时定时器的时长，单位为秒。若读包超时，客户端会拆除连接。
MAXCONCURRENTSTREAMS|并发流最大个数|参数可选性: 任选参数类型: 数字参数范围: 10-10000默认值: 1000|该参数用于设置一条链路上并发的流的最大数。
KEEPALIVECNT|链路保活检测次数|参数可选性: 任选参数类型: 数字参数范围: 1-5默认值: 3|该参数用于设置链路保活检测次数。若链路保活连续配置次数没有收到响应，则会将链路状态设置为非激活状态。
KEEPALIVETIMER|链路保活超时定时器(秒)|参数可选性: 任选参数类型: 数字参数范围: 0-300默认值: 30|该参数用于设置链路保活超时定时器的时长，单位为毫秒。若链路保活定时器超时，则本端会给对端发ping包，以便确认空闲链路的可用性。
KEEPALIVESWITCH|链路保活开关|参数可选性: 任选参数类型: 枚举，参见枚举定义默认值: SWITCH_ON|该参数表示是否启用链路保活开关，默认开关打开。SWITCH-OFF：开关关闭。SWITCH-ON：开关打开。
HTTPVERSION|HTTP版本|参数可选性: 任选参数类型: 枚举，参见枚举定义默认值: HTTP_2|该参数用于设置HTTP版本，包括HTTP/1.1或者HTTP/2。
PRIORITY|链路优先级|参数可选性: 任选参数类型: 数字参数范围: 0-100默认值: 0|该参数用于设置链路优先级。值越小，表示优先级越高。
WEIGHT|链路权重|参数可选性: 任选参数类型: 数字参数范围: 0-100默认值: 50|该参数用于设置链路权重。值越大，表示权重越高。
INSTNAME|实例名称|参数可选性: 任选参数类型: 字符串参数范围: 0-128|该参数用于设置链路关联的远端NF实例名称 。




[](None)输出参数说明 


[](None)标识|名称|类型|说明
---|---|---|---
LINKID|链路编号|参数可选性: 任选参数类型: 数字参数范围: 1-65535|该参数用于设置TCP客户端链路编号，链路编号全局唯一。
PROFILEID|客户端模板编号|参数可选性: 任选参数类型: 数字参数范围: 1-65535|该参数用于设置客户端模板编号，需关联客户端模板配置，其编号需在SHOW CLIENTPROFILE命令查询得到的模板编号范围内。
LOCALIP|本端IP地址|参数可选性: 任选参数类型: 字符串参数范围: 0-64|该参数用于设置客户端的IP地址。该地址必须与指定客户端模板编号中的IP地址相同，可通过SHOW CLIENTPROFILE命令查询。
LOCALPORT|本端端口|参数可选性: 任选参数类型: 数字参数范围: 1-65535默认值: 10000|该参数用于设置客户端的端口。该端口不能与指定客户端模板编号中的端口范围重叠，可通过SHOW CLIENTPROFILE命令查询。
REMOTEIP|对端IP地址|参数可选性: 任选参数类型: 字符串参数范围: 0-64|该参数用于设置对端服务端IP地址。必须是真实有效的IP地址，支持IPv4/IPv6。IPv6地址冒号后不能以数字0开头，且地址中的字母a~f全部不允许使用大写字母。
REMOTEPORT|对端端口|参数可选性: 任选参数类型: 数字参数范围: 1-65535默认值: 8080|该参数用于设置对端服务端的端口号。
VPNID|VPN ID|参数可选性: 任选参数类型: 数字参数范围: 0-254默认值: 0|该参数用于设置VPN ID。VPN(虚拟专用网，Virtual Private Network)是依靠Internet服务提供商和网络服务提供商，在公共网络中建立的虚拟专用通信网络。
MAXSTREAMID|流ID最大值|参数可选性: 任选参数类型: 数字参数范围: 1-2147418112默认值: 2147418112|该参数用于设置流ID的最大值。
CACHEDREQMAXNUM|缓存请求最大数量|参数可选性: 任选参数类型: 数字参数范围: 100-65535默认值: 1024|该参数用于设置缓存请求的最大数量，为内部参数，不可配置。
RESPBODYMAXLENGTH|接收响应消息体最大长度(字节）|参数可选性: 任选参数类型: 数字参数范围: 0-16777216默认值: 2097152|该参数用于设置客户端接收响应消息体最大长度，单位是字节。
RESPTIMER|等待响应超时定时器(秒)|参数可选性: 任选参数类型: 数字参数范围: 5-300默认值: 30|该参数用于设置等待响应超时定时器的时长，单位为秒。若服务端超时无响应，则客户端会向服务端发送失败的响应消息。
CONNREADTIMER|读包超时定时器(秒)|参数可选性: 任选参数类型: 数字参数范围: 5-300默认值: 32|该参数用于设置读包超时定时器的时长，单位为秒。若读包超时，客户端会拆除连接。
MAXCONCURRENTSTREAMS|并发流最大个数|参数可选性: 任选参数类型: 数字参数范围: 10-10000默认值: 1000|该参数用于设置一条链路上并发的流的最大数。
KEEPALIVECNT|链路保活检测次数|参数可选性: 任选参数类型: 数字参数范围: 1-5默认值: 3|该参数用于设置链路保活检测次数。若链路保活连续配置次数没有收到响应，则会将链路状态设置为非激活状态。
KEEPALIVETIMER|链路保活超时定时器(秒)|参数可选性: 任选参数类型: 数字参数范围: 0-300默认值: 30|该参数用于设置链路保活超时定时器的时长，单位为秒。若链路保活定时器超时，则本端会给对端发ping包，以便确认空闲链路的可用性。
KEEPALIVESWITCH|链路保活开关|参数可选性: 任选参数类型: 枚举，参见枚举定义默认值: SWITCH_ON|该参数表示是否启用链路保活开关，默认开关打开。SWITCH-OFF：开关关闭。SWITCH-ON：开关打开。
HTTPVERSION|HTTP版本|参数可选性: 任选参数类型: 枚举，参见枚举定义默认值: HTTP_2|该参数用于设置HTTP版本，包括HTTP/1.1或者HTTP/2。
PRIORITY|链路优先级|参数可选性: 任选参数类型: 数字参数范围: 0-100默认值: 0|该参数用于设置链路优先级。值越小，表示优先级越高。
WEIGHT|链路权重|参数可选性: 任选参数类型: 数字参数范围: 0-100默认值: 50|该参数用于设置链路权重。值越大，表示权重越高。
INSTNAME|实例名称|参数可选性: 任选参数类型: 字符串参数范围: 0-128|该参数用于设置链路关联的远端NF实例名称 。




[](None)命令举例 


`
新增客户端静态链路配置：链路编号1，模板号1，本端IP地址"1.2.3.4"，本端端口10000，远端IP地址"9.8.7.6"，远端端口8080，VPNID 0，流ID最大值2147418112，接收响应消息体最大长度10240字节，等待响应超时定时器30s，并发流最大个数1000，链路保活检测次数3，链路保活超时定时器30s，链路保活开关开启，HTTP版本为"HTTP/2"，链路优先级为0，链路权重为50，实例名称为"abc"。

ADD CLIENTTCPLINK:LINKID=1,PROFILEID=1,LOCALIP="8.8.1.75",LOCALPORT=10000,REMOTEIP="8.8.0.2",REMOTEPORT=8080,VPNID=2,MAXSTREAMID=2147418112,RESPBODYMAXLENGTH=10240,RESPTIMER=30,MAXCONCURRENTSTREAMS=1000,KEEPALIVECNT=3,KEEPALIVETIMER=30,KEEPALIVESWITCH="SWITCH_ON",HTTPVERSION="HTTP_2",PRIORITY=0,WEIGHT=50,INSTNAME="abc";

` 


#### 修改客户端TCP链路配置(SET CLIENTTCPLINK) 
#### 修改客户端TCP链路配置(SET CLIENTTCPLINK) 


[](None)功能说明 

该命令用于修改客户端静态链路配置。当客户端和服务端间的TCP链路信息发生变化时，执行该命令。命令执行成功后，客户端将按照新的客户端静态链路配置信息进行TCP建链。


[](None)注意事项 

使用修改命令之后，根据该静态链路配置的已经建立的HTTP连接将会中断。


[](None)输入参数说明 


[](None)标识|名称|类型|说明
---|---|---|---
LINKID|链路编号|参数可选性: 必选参数类型: 数字参数范围: 1-65535|该参数用于设置TCP客户端链路编号，链路编号全局唯一。
PROFILEID|客户端模板编号|参数可选性: 任选参数类型: 数字参数范围: 1-65535|该参数用于设置客户端模板编号，需关联客户端模板配置，其编号需在SHOW CLIENTPROFILE命令查询得到的模板编号范围内。
LOCALIP|本端IP地址|参数可选性: 任选参数类型: 字符串参数范围: 0-64|该参数用于设置客户端的IP地址。该地址必须与指定客户端模板编号中的IP地址相同，可通过SHOW CLIENTPROFILE命令查询。
LOCALPORT|本端端口|参数可选性: 任选参数类型: 数字参数范围: 1-65535默认值: 10000|该参数用于设置客户端的端口。该端口不能与指定客户端模板编号中的端口范围重叠，可通过SHOW CLIENTPROFILE命令查询。
REMOTEIP|对端IP地址|参数可选性: 任选参数类型: 字符串参数范围: 0-64|该参数用于设置对端服务端IP地址。必须是真实有效的IP地址，支持IPv4/IPv6。IPv6地址冒号后不能以数字0开头，且地址中的字母a~f全部不允许使用大写字母。
REMOTEPORT|对端端口|参数可选性: 任选参数类型: 数字参数范围: 1-65535默认值: 8080|该参数用于设置对端服务端的端口号。
VPNID|VPN ID|参数可选性: 任选参数类型: 数字参数范围: 0-254默认值: 0|该参数用于设置VPN ID。VPN(虚拟专用网，Virtual Private Network)是依靠Internet服务提供商和网络服务提供商，在公共网络中建立的虚拟专用通信网络。
MAXSTREAMID|流ID最大值|参数可选性: 任选参数类型: 数字参数范围: 1-2147418112默认值: 2147418112|该参数用于设置流ID的最大值。
CACHEDREQMAXNUM|缓存请求最大数量|参数可选性: 任选参数类型: 数字参数范围: 100-65535默认值: 1024|该参数用于设置缓存请求的最大数量，为内部参数，不可配置。
RESPBODYMAXLENGTH|接收响应消息体最大长度(字节）|参数可选性: 任选参数类型: 数字参数范围: 0-16777216默认值: 2097152|该参数用于设置客户端接收响应消息体最大长度，单位是字节。
RESPTIMER|等待响应超时定时器(秒)|参数可选性: 任选参数类型: 数字参数范围: 5-300默认值: 30|该参数用于设置等待响应超时定时器的时长，单位为秒。若服务端超时无响应，则客户端会向业务发送失败的响应消息。
CONNREADTIMER|读包超时定时器(秒)|参数可选性: 任选参数类型: 数字参数范围: 5-300默认值: 32|该参数用于设置读包超时定时器的时长，单位为秒。若读包超时，客户端会拆除连接。
MAXCONCURRENTSTREAMS|并发流最大个数|参数可选性: 任选参数类型: 数字参数范围: 10-10000默认值: 1000|该参数用于设置一条链路上并发的流的最大数。
KEEPALIVECNT|链路保活检测次数|参数可选性: 任选参数类型: 数字参数范围: 1-5默认值: 3|该参数用于设置链路保活检测次数。若链路保活连续配置次数没有收到响应，则会将链路状态设置为非激活状态。
KEEPALIVETIMER|链路保活超时定时器(秒)|参数可选性: 任选参数类型: 数字参数范围: 0-300默认值: 30|该参数用于设置链路保活超时定时器的时长，单位为毫秒。若链路保活定时器超时，则本端会给对端发ping包，以便确认空闲链路的可用性。
KEEPALIVESWITCH|链路保活开关|参数可选性: 任选参数类型: 枚举，参见枚举定义默认值: SWITCH_ON|该参数表示是否启用链路保活开关，默认开关打开。SWITCH-OFF：开关关闭。SWITCH-ON：开关打开。
HTTPVERSION|HTTP版本|参数可选性: 任选参数类型: 枚举，参见枚举定义默认值: HTTP_2|该参数用于设置HTTP版本，包括HTTP/1.1或者HTTP/2。
PRIORITY|链路优先级|参数可选性: 任选参数类型: 数字参数范围: 0-100默认值: 0|该参数用于设置链路优先级。值越小，表示优先级越高。
WEIGHT|链路权重|参数可选性: 任选参数类型: 数字参数范围: 0-100默认值: 50|该参数用于设置链路权重。值越大，表示权重越高。
INSTNAME|实例名称|参数可选性: 任选参数类型: 字符串参数范围: 0-128|该参数用于设置链路关联的远端NF实例名称 。




[](None)输出参数说明 


[](None)标识|名称|类型|说明
---|---|---|---
LINKID|链路编号|参数可选性: 任选参数类型: 数字参数范围: 1-65535|该参数用于设置TCP客户端链路编号，链路编号全局唯一。
PROFILEID|客户端模板编号|参数可选性: 任选参数类型: 数字参数范围: 1-65535|该参数用于设置客户端模板编号，需关联客户端模板配置，其编号需在SHOW CLIENTPROFILE命令查询得到的模板编号范围内。
LOCALIP|本端IP地址|参数可选性: 任选参数类型: 字符串参数范围: 0-64|该参数用于设置客户端的IP地址。该地址必须与指定客户端模板编号中的IP地址相同，可通过SHOW CLIENTPROFILE命令查询。
LOCALPORT|本端端口|参数可选性: 任选参数类型: 数字参数范围: 1-65535默认值: 10000|该参数用于设置客户端的端口。该端口不能与指定客户端模板编号中的端口范围重叠，可通过SHOW CLIENTPROFILE命令查询。
REMOTEIP|对端IP地址|参数可选性: 任选参数类型: 字符串参数范围: 0-64|该参数用于设置对端服务端IP地址。必须是真实有效的IP地址，支持IPv4/IPv6。IPv6地址冒号后不能以数字0开头，且地址中的字母a~f全部不允许使用大写字母。
REMOTEPORT|对端端口|参数可选性: 任选参数类型: 数字参数范围: 1-65535默认值: 8080|该参数用于设置对端服务端的端口号。
VPNID|VPN ID|参数可选性: 任选参数类型: 数字参数范围: 0-254默认值: 0|该参数用于设置VPN ID。VPN(虚拟专用网，Virtual Private Network)是依靠Internet服务提供商和网络服务提供商，在公共网络中建立的虚拟专用通信网络。
MAXSTREAMID|流ID最大值|参数可选性: 任选参数类型: 数字参数范围: 1-2147418112默认值: 2147418112|该参数用于设置流ID的最大值。
CACHEDREQMAXNUM|缓存请求最大数量|参数可选性: 任选参数类型: 数字参数范围: 100-65535默认值: 1024|该参数用于设置缓存请求的最大数量，为内部参数，不可配置。
RESPBODYMAXLENGTH|接收响应消息体最大长度(字节）|参数可选性: 任选参数类型: 数字参数范围: 0-16777216默认值: 2097152|该参数用于设置客户端接收响应消息体最大长度，单位是字节。
RESPTIMER|等待响应超时定时器(秒)|参数可选性: 任选参数类型: 数字参数范围: 5-300默认值: 30|该参数用于设置等待响应超时定时器的时长，单位为秒。若服务端超时无响应，则客户端会向服务端发送失败的响应消息。
CONNREADTIMER|读包超时定时器(秒)|参数可选性: 任选参数类型: 数字参数范围: 5-300默认值: 32|该参数用于设置读包超时定时器的时长，单位为秒。若读包超时，客户端会拆除连接。
MAXCONCURRENTSTREAMS|并发流最大个数|参数可选性: 任选参数类型: 数字参数范围: 10-10000默认值: 1000|该参数用于设置一条链路上并发的流的最大数。
KEEPALIVECNT|链路保活检测次数|参数可选性: 任选参数类型: 数字参数范围: 1-5默认值: 3|该参数用于设置链路保活检测次数。若链路保活连续配置次数没有收到响应，则会将链路状态设置为非激活状态。
KEEPALIVETIMER|链路保活超时定时器(秒)|参数可选性: 任选参数类型: 数字参数范围: 0-300默认值: 30|该参数用于设置链路保活超时定时器的时长，单位为秒。若链路保活定时器超时，则本端会给对端发ping包，以便确认空闲链路的可用性。
KEEPALIVESWITCH|链路保活开关|参数可选性: 任选参数类型: 枚举，参见枚举定义默认值: SWITCH_ON|该参数表示是否启用链路保活开关，默认开关打开。SWITCH-OFF：开关关闭。SWITCH-ON：开关打开。
HTTPVERSION|HTTP版本|参数可选性: 任选参数类型: 枚举，参见枚举定义默认值: HTTP_2|该参数用于设置HTTP版本，包括HTTP/1.1或者HTTP/2。
PRIORITY|链路优先级|参数可选性: 任选参数类型: 数字参数范围: 0-100默认值: 0|该参数用于设置链路优先级。值越小，表示优先级越高。
WEIGHT|链路权重|参数可选性: 任选参数类型: 数字参数范围: 0-100默认值: 50|该参数用于设置链路权重。值越大，表示权重越高。
INSTNAME|实例名称|参数可选性: 任选参数类型: 字符串参数范围: 0-128|该参数用于设置链路关联的远端NF实例名称 。




[](None)命令举例 


`
设置链路编号为1的客户端静态链路配置，本端端口修改为20000。
SET CLIENTTCPLINK:LINKID=1,LOCALPORT=20000;
` 


#### 删除客户端TCP链路配置(DELETE CLIENTTCPLINK) 
#### 删除客户端TCP链路配置(DELETE CLIENTTCPLINK) 


[](None)功能说明 

该命令用于删除客户端静态链路配置。当客户端不再需要与服务端建立HTTP连接时，执行该命令。命令执行成功后，根据该链路配置建立的链路被删除。


[](None)注意事项 

使用删除命令之后，根据该静态链路配置的已经建立的HTTP连接将被删除。


[](None)输入参数说明 


[](None)标识|名称|类型|说明
---|---|---|---
LINKID|链路编号|参数可选性: 必选参数类型: 数字参数范围: 1-65535|该参数用于设置TCP客户端链路编号，链路编号全局唯一。




[](None)输出参数说明 


[](None)标识|名称|类型|说明
---|---|---|---
LINKID|链路编号|参数可选性: 任选参数类型: 数字参数范围: 1-65535|该参数用于设置TCP客户端链路编号，链路编号全局唯一。
PROFILEID|客户端模板编号|参数可选性: 任选参数类型: 数字参数范围: 1-65535|该参数用于设置客户端模板编号，需关联客户端模板配置，其编号需在SHOW CLIENTPROFILE命令查询得到的模板编号范围内。
LOCALIP|本端IP地址|参数可选性: 任选参数类型: 字符串参数范围: 0-64|该参数用于设置客户端的IP地址。该地址必须与指定客户端模板编号中的IP地址相同，可通过SHOW CLIENTPROFILE命令查询。
LOCALPORT|本端端口|参数可选性: 任选参数类型: 数字参数范围: 1-65535默认值: 10000|该参数用于设置客户端的端口。该端口不能与指定客户端模板编号中的端口范围重叠，可通过SHOW CLIENTPROFILE命令查询。
REMOTEIP|对端IP地址|参数可选性: 任选参数类型: 字符串参数范围: 0-64|该参数用于设置对端服务端IP地址。必须是真实有效的IP地址，支持IPv4/IPv6。IPv6地址冒号后不能以数字0开头，且地址中的字母a~f全部不允许使用大写字母。
REMOTEPORT|对端端口|参数可选性: 任选参数类型: 数字参数范围: 1-65535默认值: 8080|该参数用于设置对端服务端的端口号。
VPNID|VPN ID|参数可选性: 任选参数类型: 数字参数范围: 0-254默认值: 0|该参数用于设置VPN ID。VPN(虚拟专用网，Virtual Private Network)是依靠Internet服务提供商和网络服务提供商，在公共网络中建立的虚拟专用通信网络。
MAXSTREAMID|流ID最大值|参数可选性: 任选参数类型: 数字参数范围: 1-2147418112默认值: 2147418112|该参数用于设置流ID的最大值。
CACHEDREQMAXNUM|缓存请求最大数量|参数可选性: 任选参数类型: 数字参数范围: 100-65535默认值: 1024|该参数用于设置缓存请求的最大数量，为内部参数，不可配置。
RESPBODYMAXLENGTH|接收响应消息体最大长度(字节）|参数可选性: 任选参数类型: 数字参数范围: 0-16777216默认值: 2097152|该参数用于设置客户端接收响应消息体最大长度，单位是字节。
RESPTIMER|等待响应超时定时器(秒)|参数可选性: 任选参数类型: 数字参数范围: 5-300默认值: 30|该参数用于设置等待响应超时定时器的时长，单位为秒。若服务端超时无响应，则客户端会向服务端发送失败的响应消息。
CONNREADTIMER|读包超时定时器(秒)|参数可选性: 任选参数类型: 数字参数范围: 5-300默认值: 32|该参数用于设置读包超时定时器的时长，单位为秒。若读包超时，客户端会拆除连接。
MAXCONCURRENTSTREAMS|并发流最大个数|参数可选性: 任选参数类型: 数字参数范围: 10-10000默认值: 1000|该参数用于设置一条链路上并发的流的最大数。
KEEPALIVECNT|链路保活检测次数|参数可选性: 任选参数类型: 数字参数范围: 1-5默认值: 3|该参数用于设置链路保活检测次数。若链路保活连续配置次数没有收到响应，则会将链路状态设置为非激活状态。
KEEPALIVETIMER|链路保活超时定时器(秒)|参数可选性: 任选参数类型: 数字参数范围: 0-300默认值: 30|该参数用于设置链路保活超时定时器的时长，单位为秒。若链路保活定时器超时，则本端会给对端发ping包，以便确认空闲链路的可用性。
KEEPALIVESWITCH|链路保活开关|参数可选性: 任选参数类型: 枚举，参见枚举定义默认值: SWITCH_ON|该参数表示是否启用链路保活开关，默认开关打开。SWITCH-OFF：开关关闭。SWITCH-ON：开关打开。
HTTPVERSION|HTTP版本|参数可选性: 任选参数类型: 枚举，参见枚举定义默认值: HTTP_2|该参数用于设置HTTP版本，包括HTTP/1.1或者HTTP/2。
PRIORITY|链路优先级|参数可选性: 任选参数类型: 数字参数范围: 0-100默认值: 0|该参数用于设置链路优先级。值越小，表示优先级越高。
WEIGHT|链路权重|参数可选性: 任选参数类型: 数字参数范围: 0-100默认值: 50|该参数用于设置链路权重。值越大，表示权重越高。
INSTNAME|实例名称|参数可选性: 任选参数类型: 字符串参数范围: 0-128|该参数用于设置链路关联的远端NF实例名称 。




[](None)命令举例 


`
删除链路编号1的客户端静态链路配置。
DELETE CLIENTTCPLINK;
` 


#### 查询客户端TCP链路配置(SHOW CLIENTTCPLINK) 
#### 查询客户端TCP链路配置(SHOW CLIENTTCPLINK) 


[](None)功能说明 

该命令用于查询客户端静态链路配置，包括链路编号、客户端模板编号、本端和对端IP地址及端口号、VPN ID等配置信息。当需要查询客户端静态链路配置信息时，使用该命令。


[](None)注意事项 


 
如需要查询全部客户端TCP链路配置信息，则不需要输入任何参数。 

 
如需要查询指定的客户端TCP链路配置信息，则需要输入链路编号。 

 


[](None)输入参数说明 


[](None)标识|名称|类型|说明
---|---|---|---
LINKID|链路编号|参数可选性: 任选参数类型: 数字参数范围: 1-65535|该参数用于设置TCP客户端链路编号，链路编号全局唯一。
PROFILEID|客户端模板编号|参数可选性: 任选参数类型: 数字参数范围: 1-65535|该参数用于设置客户端模板编号，需关联客户端模板配置，其编号需在SHOW CLIENTPROFILE命令查询得到的模板编号范围内。




[](None)输出参数说明 


[](None)标识|名称|类型|说明
---|---|---|---
LINKID|链路编号|参数可选性: 任选参数类型: 数字参数范围: 1-65535|该参数用于设置TCP客户端链路编号，链路编号全局唯一。
PROFILEID|客户端模板编号|参数可选性: 任选参数类型: 数字参数范围: 1-65535|该参数用于设置客户端模板编号，需关联客户端模板配置，其编号需在SHOW CLIENTPROFILE命令查询得到的模板编号范围内。
LOCALIP|本端IP地址|参数可选性: 任选参数类型: 字符串参数范围: 0-64|该参数用于设置客户端的IP地址。该地址必须与指定客户端模板编号中的IP地址相同，可通过SHOW CLIENTPROFILE命令查询。
LOCALPORT|本端端口|参数可选性: 任选参数类型: 数字参数范围: 1-65535默认值: 10000|该参数用于设置客户端的端口。该端口不能与指定客户端模板编号中的端口范围重叠，可通过SHOW CLIENTPROFILE命令查询。
REMOTEIP|对端IP地址|参数可选性: 任选参数类型: 字符串参数范围: 0-64|该参数用于设置对端服务端IP地址。必须是真实有效的IP地址，支持IPv4/IPv6。IPv6地址冒号后不能以数字0开头，且地址中的字母a~f全部不允许使用大写字母。
REMOTEPORT|对端端口|参数可选性: 任选参数类型: 数字参数范围: 1-65535默认值: 8080|该参数用于设置对端服务端的端口号。
VPNID|VPN ID|参数可选性: 任选参数类型: 数字参数范围: 0-254默认值: 0|该参数用于设置VPN ID。VPN(虚拟专用网，Virtual Private Network)是依靠Internet服务提供商和网络服务提供商，在公共网络中建立的虚拟专用通信网络。
MAXSTREAMID|流ID最大值|参数可选性: 任选参数类型: 数字参数范围: 1-2147418112默认值: 2147418112|该参数用于设置流ID的最大值。
CACHEDREQMAXNUM|缓存请求最大数量|参数可选性: 任选参数类型: 数字参数范围: 100-65535默认值: 1024|该参数用于设置缓存请求的最大数量，为内部参数，不可配置。
RESPBODYMAXLENGTH|接收响应消息体最大长度(字节）|参数可选性: 任选参数类型: 数字参数范围: 0-16777216默认值: 2097152|该参数用于设置客户端接收响应消息体最大长度，单位是字节。
RESPTIMER|等待响应超时定时器(秒)|参数可选性: 任选参数类型: 数字参数范围: 5-300默认值: 30|该参数用于设置等待响应超时定时器的时长，单位为秒。若服务端超时无响应，则客户端会向服务端发送失败的响应消息。
CONNREADTIMER|读包超时定时器(秒)|参数可选性: 任选参数类型: 数字参数范围: 5-300默认值: 32|该参数用于设置读包超时定时器的时长，单位为秒。若读包超时，客户端会拆除连接。
MAXCONCURRENTSTREAMS|并发流最大个数|参数可选性: 任选参数类型: 数字参数范围: 10-10000默认值: 1000|该参数用于设置一条链路上并发的流的最大数。
KEEPALIVECNT|链路保活检测次数|参数可选性: 任选参数类型: 数字参数范围: 1-5默认值: 3|该参数用于设置链路保活检测次数。若链路保活连续配置次数没有收到响应，则会将链路状态设置为非激活状态。
KEEPALIVETIMER|链路保活超时定时器(秒)|参数可选性: 任选参数类型: 数字参数范围: 0-300默认值: 30|该参数用于设置链路保活超时定时器的时长，单位为秒。若链路保活定时器超时，则本端会给对端发ping包，以便确认空闲链路的可用性。
KEEPALIVESWITCH|链路保活开关|参数可选性: 任选参数类型: 枚举，参见枚举定义默认值: SWITCH_ON|该参数表示是否启用链路保活开关，默认开关打开。SWITCH-OFF：开关关闭。SWITCH-ON：开关打开。
HTTPVERSION|HTTP版本|参数可选性: 任选参数类型: 枚举，参见枚举定义默认值: HTTP_2|该参数用于设置HTTP版本，包括HTTP/1.1或者HTTP/2。
PRIORITY|链路优先级|参数可选性: 任选参数类型: 数字参数范围: 0-100默认值: 0|该参数用于设置链路优先级。值越小，表示优先级越高。
WEIGHT|链路权重|参数可选性: 任选参数类型: 数字参数范围: 0-100默认值: 50|该参数用于设置链路权重。值越大，表示权重越高。
INSTNAME|实例名称|参数可选性: 任选参数类型: 字符串参数范围: 0-128|该参数用于设置链路关联的远端NF实例名称 。




[](None)命令举例 


`
查询链路编号为1的客户端TCP链路配置。
SHOW CLIENTTCPLINK;

(No.1) : SHOW CLIENTTCPLINK:
-----------------CommonS_HTTP_LB_0----------------
链路编号  客户端模板编号  本端IP地址  本端端口  对端IP地址  对端端口  VPN ID  流ID最大值   缓存请求最大数量  接收响应消息体最大长度(字节） 等待响应超时定时器(秒)  读包超时定时器(秒)  并发流最大个数  链路保活检测次数  链路保活超时定时器(秒)  链路保活开关  HTTP版本  链路优先级  链路权重  实例名称
1         1               8.8.1.75    10000     8.8.0.2     8080      0       2147418112   1024              10240                         30                      32                  1000            3                 30                      开启          HTTP 2     0           50        abc
记录数：1

执行成功耗时: 0.064 秒

` 


### 服务端TCP链路配置 
### 服务端TCP链路配置 


[](None)背景知识 


一般在网络传输过程中，HTTP连接是建立在TCP链路基础之上的。在通信的两端，即客户端和服务端建立TCP链路时，每一端的静态链路都是跟对应的HTTP模板强关联的，所以必须先配置对应的模板，才能配置静态TCP链路。 




[](None)功能说明 


服务端TCP链路用于配置服务端静态链路属性。当本网元作为服务端需要接收客户端发起的静态建链时，该配置用于对服务端的本端、远端IP地址等其他相关属性进行配置。当正确配置服务端静态链路后，服务端方可接收客户端的静态建链信息。 




[](None)子主题： 






#### 新增服务端TCP链路配置(ADD SERVERTCPLINK) 
#### 新增服务端TCP链路配置(ADD SERVERTCPLINK) 


[](None)功能说明 

该命令用于新增服务端静态链路配置。当本端作为服务端，需要与客户端建立静态HTTP连接时，执行该命令配置服务端静态链路。命令执行成功后，服务端可接收客户端发起的TCP建链。


[](None)注意事项 


 
引用的服务端模板号必须存在，可用SHOW SERVERPROFILE查询当前的服务端模板号。 

 
本端IP地址和本端端口必须与引用的服务端模板配置的IP地址和端口号保持一致，否则无法侦听TCP建链情况。 

 


[](None)输入参数说明 


[](None)标识|名称|类型|说明
---|---|---|---
LINKID|链路编号|参数可选性: 必选参数类型: 数字参数范围: 1-65535|该参数用于设置服务端TCP链路编号，链路编号全局唯一。
PROFILEID|服务端模板编号|参数可选性: 必选参数类型: 数字参数范围: 1-65535|该参数用于设置服务端模板编号，需关联服务端模板配置，其编号需在SHOW SERVERPROFILE命令查询得到的模板编号范围内。
LOCALIP|本端IP地址|参数可选性: 必选参数类型: 字符串参数范围: 0-64|该参数用于设置服务端的IP地址。该地址需与指定服务端模板编号中的IP地址相同，可通过SHOW SERVERPROFILE命令查询。
LOCALPORT|本端端口|参数可选性: 必选参数类型: 数字参数范围: 1-65535默认值: 8080|该参数用于设置服务端的端口号。该端口号需与指定服务端模板编号中的端口号相同，可通过SHOW SERVERPROFILE命令查询。
REMOTEIP|对端IP地址|参数可选性: 必选参数类型: 字符串参数范围: 0-64|该参数用于设置远端客户端IP地址。必须是真实有效的IP地址，支持IPv4/IPv6。IPv6地址冒号后不能以数字0开头，且地址中的字母a~f全部不允许使用大写字母。
REMOTEPORT|对端端口|参数可选性: 必选参数类型: 数字参数范围: 1-65535默认值: 10000|该参数用于设置远端客户端端口。
VPNID|VPN ID|参数可选性: 任选参数类型: 数字参数范围: 0-254默认值: 0|该参数用于设置VPN ID。VPN（虚拟专用网，Virtual Private Network）是依靠Internet服务提供商和网络服务提供商，在公共网络中建立的虚拟专用通信网络。
REQBODYMAXLENGTH|接收请求消息体最大长度(字节）|参数可选性: 任选参数类型: 数字参数范围: 0-16777216默认值: 2097152|该参数用于设置服务端接收请求消息体最大长度，单位是字节。
RESPTIMER|等待响应超时定时器(秒)|参数可选性: 任选参数类型: 数字参数范围: 1-300默认值: 30|该参数用于设置等待响应超时定时器的时长，单位为秒。若客户端超时无响应，则服务端会向客户端发送失败的响应消息。
CONNREADTIMER|读包超时定时器(秒)|参数可选性: 任选参数类型: 数字参数范围: 1-300默认值: 32|该参数用于设置读包超时定时器的时长，单位为秒。若读包超时，服务端会拆除连接。
MAXCONCURRENTSTREAMS|并发流最大个数|参数可选性: 任选参数类型: 数字参数范围: 10-10000默认值: 1000|该参数用于设置一条链路上并发的流的最大数。
KEEPALIVECNT|链路保活检测次数|参数可选性: 任选参数类型: 数字参数范围: 1-5默认值: 3|该参数用于设置链路保活检测次数。若链路保活连续配置次数没有收到响应，则会将链路状态设置为非激活状态。
KEEPALIVETIMER|链路保活超时定时器(秒)|参数可选性: 任选参数类型: 数字参数范围: 0-300默认值: 30|该参数用于设置链路保活超时定时器的时长，单位为秒。若链路保活定时器超时，则会给对端发ping包，以便确认空闲链路的可用性。
KEEPALIVESWITCH|链路保活开关|参数可选性: 任选参数类型: 枚举，参见枚举定义默认值: SWITCH_ON|该参数用于设置是否启用链路保活开关。SWITCH-OFF：开关关闭。SWITCH-ON：开关打开。
HTTPVERSION|HTTP版本|参数可选性: 任选参数类型: 枚举，参见枚举定义默认值: HTTP_2|该参数用于设置HTTP版本，包括HTTP/1.1或者HTTP/2。
INSTNAME|实例名称|参数可选性: 任选参数类型: 字符串参数范围: 0-128|该参数用于设置链路关联的远端NF实例名称 。




[](None)输出参数说明 


[](None)标识|名称|类型|说明
---|---|---|---
LINKID|链路编号|参数可选性: 任选参数类型: 数字参数范围: 1-65535|该参数用于设置服务端TCP链路编号，链路编号全局唯一。
PROFILEID|服务端模板编号|参数可选性: 任选参数类型: 数字参数范围: 1-65535|该参数用于设置服务端模板编号，需关联服务端模板配置，其编号需在SHOW SERVERPROFILE命令查询得到的模板编号范围内。
LOCALIP|本端IP地址|参数可选性: 任选参数类型: 字符串参数范围: 0-64|该参数用于设置服务端的IP地址。该地址需与指定服务端模板编号中的IP地址相同，可通过SHOW SERVERPROFILE命令查询。
LOCALPORT|本端端口|参数可选性: 任选参数类型: 数字参数范围: 1-65535默认值: 8080|该参数用于设置服务端的端口号。该端口号需与指定服务端模板编号中的端口号相同，可通过SHOW SERVERPROFILE命令查询。
REMOTEIP|对端IP地址|参数可选性: 任选参数类型: 字符串参数范围: 0-64|该参数用于设置远端客户端IP地址。必须是真实有效的IP地址，支持IPv4/IPv6。IPv6地址冒号后不能以数字0开头，且地址中的字母a~f全部不允许使用大写字母。
REMOTEPORT|对端端口|参数可选性: 任选参数类型: 数字参数范围: 1-65535默认值: 10000|该参数用于设置远端客户端端口。
VPNID|VPN ID|参数可选性: 任选参数类型: 数字参数范围: 0-254默认值: 0|该参数用于设置VPN ID。VPN（虚拟专用网，Virtual Private Network）是依靠Internet服务提供商和网络服务提供商，在公共网络中建立的虚拟专用通信网络。
REQBODYMAXLENGTH|接收请求消息体最大长度(字节）|参数可选性: 任选参数类型: 数字参数范围: 0-16777216默认值: 2097152|该参数用于设置服务端接收请求消息体最大长度，单位是字节。
RESPTIMER|等待响应超时定时器(秒)|参数可选性: 任选参数类型: 数字参数范围: 1-300默认值: 30|该参数用于设置等待响应超时定时器的时长，单位为秒。若客户端超时无响应，则服务端会向客户端发送失败的响应消息。
CONNREADTIMER|读包超时定时器(秒)|参数可选性: 任选参数类型: 数字参数范围: 1-300默认值: 32|该参数用于设置读包超时定时器的时长，单位为秒。若读包超时，服务端会拆除连接。
MAXCONCURRENTSTREAMS|并发流最大个数|参数可选性: 任选参数类型: 数字参数范围: 10-10000默认值: 1000|该参数用于设置一条链路上并发的流的最大数。
KEEPALIVECNT|链路保活检测次数|参数可选性: 任选参数类型: 数字参数范围: 1-5默认值: 3|该参数用于设置链路保活检测次数。若链路保活连续配置次数没有收到响应，则会将链路状态设置为非激活状态。
KEEPALIVETIMER|链路保活超时定时器(秒)|参数可选性: 任选参数类型: 数字参数范围: 0-300默认值: 30|该参数用于设置链路保活超时定时器的时长，单位为秒。若链路保活定时器超时，则会给对端发ping包，以便确认空闲链路的可用性。
KEEPALIVESWITCH|链路保活开关|参数可选性: 任选参数类型: 枚举，参见枚举定义默认值: SWITCH_ON|该参数用于设置是否启用链路保活开关。SWITCH-OFF：开关关闭。SWITCH-ON：开关打开。
HTTPVERSION|HTTP版本|参数可选性: 任选参数类型: 枚举，参见枚举定义默认值: HTTP_2|该参数用于设置HTTP版本，包括HTTP/1.1或者HTTP/2。
INSTNAME|实例名称|参数可选性: 任选参数类型: 字符串参数范围: 0-128|该参数用于设置链路关联的远端NF实例名称 。




[](None)命令举例 


`
新增服务端静态链路配置：链路编号1，模板号1，本端IP地址"1.2.3.4"，本端端口8080，远端IP地址"9.8.7.6"，远端端口10000，VPNID 0，接收请求消息体最大长度10240字节，等待响应超时定时器30s，并发流最大个数1000，链路保活检测次数3，链路保活超时定时器30s，链路保活开关开启，HTTP版本为"HTTP/2"，实例名称为"abc"。
ADD SERVERTCPLINK:LINKID=1,PROFILEID=1,LOCALIP="1.2.3.4",LOCALPORT=8080,REMOTEIP="9.8.7.6",REMOTEPORT=10000,VPNID=0,REQBODYMAXLENGTH=10240,RESPTIMER=30,MAXCONCURRENTSTREAMS=1000,KEEPALIVECNT=3,KEEPALIVETIMER=30,KEEPALIVESWITCH="SWITCH_ON",HTTPVERSION="HTTP_2",INSTNAME="abc";
` 


#### 修改服务端TCP链路配置(SET SERVERTCPLINK) 
#### 修改服务端TCP链路配置(SET SERVERTCPLINK) 


[](None)功能说明 

该命令用于修改服务端静态链路配置。当服务端和客户端间的静态TCP链路信息发生变化时，执行该命令。命令执行成功后，服务端按照新的服务端静态链路配置的信息进行TCP建链。


[](None)注意事项 

使用修改命令之后，根据该静态链路配置的已经建立的HTTP连接将会中断。


[](None)输入参数说明 


[](None)标识|名称|类型|说明
---|---|---|---
LINKID|链路编号|参数可选性: 必选参数类型: 数字参数范围: 1-65535|该参数用于设置服务端TCP链路编号，链路编号全局唯一。
PROFILEID|服务端模板编号|参数可选性: 任选参数类型: 数字参数范围: 1-65535|该参数用于设置服务端模板编号，需关联服务端模板配置，其编号需在SHOW SERVERPROFILE命令查询得到的模板编号范围内。
LOCALIP|本端IP地址|参数可选性: 任选参数类型: 字符串参数范围: 0-64|该参数用于设置服务端的IP地址。该地址需与指定服务端模板编号中的IP地址相同，可通过SHOW SERVERPROFILE命令查询。
LOCALPORT|本端端口|参数可选性: 任选参数类型: 数字参数范围: 1-65535默认值: 8080|该参数用于设置服务端的端口号。该端口号需与指定服务端模板编号中的端口号相同，可通过SHOW SERVERPROFILE命令查询。
REMOTEIP|对端IP地址|参数可选性: 任选参数类型: 字符串参数范围: 0-64|该参数用于设置远端客户端IP地址。必须是真实有效的IP地址，支持IPv4/IPv6。IPv6地址冒号后不能以数字0开头，且地址中的字母a~f全部不允许使用大写字母。
REMOTEPORT|对端端口|参数可选性: 任选参数类型: 数字参数范围: 1-65535默认值: 10000|该参数用于设置远端客户端端口。
VPNID|VPN ID|参数可选性: 任选参数类型: 数字参数范围: 0-254默认值: 0|该参数用于设置VPN ID。VPN（虚拟专用网，Virtual Private Network）是依靠Internet服务提供商和网络服务提供商，在公共网络中建立的虚拟专用通信网络。
REQBODYMAXLENGTH|接收请求消息体最大长度(字节）|参数可选性: 任选参数类型: 数字参数范围: 0-16777216默认值: 2097152|该参数用于设置服务端接收请求消息体最大长度，单位是字节。
RESPTIMER|等待响应超时定时器(秒)|参数可选性: 任选参数类型: 数字参数范围: 1-300默认值: 30|该参数用于设置等待响应超时定时器的时长，单位为秒。若客户端超时无响应，则服务端会向客户端发送失败的响应消息。
CONNREADTIMER|读包超时定时器(秒)|参数可选性: 任选参数类型: 数字参数范围: 1-300默认值: 32|该参数用于设置读包超时定时器的时长，单位为秒。若读包超时，服务端会拆除连接。
MAXCONCURRENTSTREAMS|并发流最大个数|参数可选性: 任选参数类型: 数字参数范围: 10-10000默认值: 1000|该参数用于设置一条链路上并发的流的最大数。
KEEPALIVECNT|链路保活检测次数|参数可选性: 任选参数类型: 数字参数范围: 1-5默认值: 3|该参数用于设置链路保活检测次数。若链路保活连续配置次数没有收到响应，则会将链路状态设置为非激活状态。
KEEPALIVETIMER|链路保活超时定时器(秒)|参数可选性: 任选参数类型: 数字参数范围: 0-300默认值: 30|该参数用于设置链路保活超时定时器的时长，单位为秒。若链路保活定时器超时，则会给对端发ping包，以便确认空闲链路的可用性。
KEEPALIVESWITCH|链路保活开关|参数可选性: 任选参数类型: 枚举，参见枚举定义默认值: SWITCH_ON|该参数用于设置是否启用链路保活开关。SWITCH-OFF：开关关闭。SWITCH-ON：开关打开。
HTTPVERSION|HTTP版本|参数可选性: 任选参数类型: 枚举，参见枚举定义默认值: HTTP_2|该参数用于设置HTTP版本，包括HTTP/1.1或者HTTP/2。
INSTNAME|实例名称|参数可选性: 任选参数类型: 字符串参数范围: 0-128|该参数用于设置链路关联的远端NF实例名称 。




[](None)输出参数说明 


[](None)标识|名称|类型|说明
---|---|---|---
LINKID|链路编号|参数可选性: 任选参数类型: 数字参数范围: 1-65535|该参数用于设置服务端TCP链路编号，链路编号全局唯一。
PROFILEID|服务端模板编号|参数可选性: 任选参数类型: 数字参数范围: 1-65535|该参数用于设置服务端模板编号，需关联服务端模板配置，其编号需在SHOW SERVERPROFILE命令查询得到的模板编号范围内。
LOCALIP|本端IP地址|参数可选性: 任选参数类型: 字符串参数范围: 0-64|该参数用于设置服务端的IP地址。该地址需与指定服务端模板编号中的IP地址相同，可通过SHOW SERVERPROFILE命令查询。
LOCALPORT|本端端口|参数可选性: 任选参数类型: 数字参数范围: 1-65535默认值: 8080|该参数用于设置服务端的端口号。该端口号需与指定服务端模板编号中的端口号相同，可通过SHOW SERVERPROFILE命令查询。
REMOTEIP|对端IP地址|参数可选性: 任选参数类型: 字符串参数范围: 0-64|该参数用于设置远端客户端IP地址。必须是真实有效的IP地址，支持IPv4/IPv6。IPv6地址冒号后不能以数字0开头，且地址中的字母a~f全部不允许使用大写字母。
REMOTEPORT|对端端口|参数可选性: 任选参数类型: 数字参数范围: 1-65535默认值: 10000|该参数用于设置远端客户端端口。
VPNID|VPN ID|参数可选性: 任选参数类型: 数字参数范围: 0-254默认值: 0|该参数用于设置VPN ID。VPN（虚拟专用网，Virtual Private Network）是依靠Internet服务提供商和网络服务提供商，在公共网络中建立的虚拟专用通信网络。
REQBODYMAXLENGTH|接收请求消息体最大长度(字节）|参数可选性: 任选参数类型: 数字参数范围: 0-16777216默认值: 2097152|该参数用于设置服务端接收请求消息体最大长度，单位是字节。
RESPTIMER|等待响应超时定时器(秒)|参数可选性: 任选参数类型: 数字参数范围: 1-300默认值: 30|该参数用于设置等待响应超时定时器的时长，单位为秒。若客户端超时无响应，则服务端会向客户端发送失败的响应消息。
CONNREADTIMER|读包超时定时器(秒)|参数可选性: 任选参数类型: 数字参数范围: 1-300默认值: 32|该参数用于设置读包超时定时器的时长，单位为秒。若读包超时，服务端会拆除连接。
MAXCONCURRENTSTREAMS|并发流最大个数|参数可选性: 任选参数类型: 数字参数范围: 10-10000默认值: 1000|该参数用于设置一条链路上并发的流的最大数。
KEEPALIVECNT|链路保活检测次数|参数可选性: 任选参数类型: 数字参数范围: 1-5默认值: 3|该参数用于设置链路保活检测次数。若链路保活连续配置次数没有收到响应，则会将链路状态设置为非激活状态。
KEEPALIVETIMER|链路保活超时定时器(秒)|参数可选性: 任选参数类型: 数字参数范围: 0-300默认值: 30|该参数用于设置链路保活超时定时器的时长，单位为秒。若链路保活定时器超时，则会给对端发ping包，以便确认空闲链路的可用性。
KEEPALIVESWITCH|链路保活开关|参数可选性: 任选参数类型: 枚举，参见枚举定义默认值: SWITCH_ON|该参数用于设置是否启用链路保活开关。SWITCH-OFF：开关关闭。SWITCH-ON：开关打开。
HTTPVERSION|HTTP版本|参数可选性: 任选参数类型: 枚举，参见枚举定义默认值: HTTP_2|该参数用于设置HTTP版本，包括HTTP/1.1或者HTTP/2。
INSTNAME|实例名称|参数可选性: 任选参数类型: 字符串参数范围: 0-128|该参数用于设置链路关联的远端NF实例名称 。




[](None)命令举例 


`
设置链路编号为1的服务端静态链路配置，本端IP地址修改为"2.3.4.5"。
SET SERVERTCPLINK:LINKID=1,LOCALIP="2.3.4.5";
` 


#### 删除服务端TCP链路配置(DELETE SERVERTCPLINK) 
#### 删除服务端TCP链路配置(DELETE SERVERTCPLINK) 


[](None)功能说明 

该命令用于删除服务端静态链路配置。当服务端不再需要与客户端建立静态HTTP连接时，执行该命令。命令执行成功后，根据该链路配置建立的HTTP连接被删除。


[](None)注意事项 

使用删除命令之后，根据该静态链路配置的已经建立的HTTP连接将被删除。


[](None)输入参数说明 


[](None)标识|名称|类型|说明
---|---|---|---
LINKID|链路编号|参数可选性: 必选参数类型: 数字参数范围: 1-65535|该参数用于设置服务端TCP链路编号，链路编号全局唯一。




[](None)输出参数说明 


[](None)标识|名称|类型|说明
---|---|---|---
LINKID|链路编号|参数可选性: 任选参数类型: 数字参数范围: 1-65535|该参数用于设置服务端TCP链路编号，链路编号全局唯一。
PROFILEID|服务端模板编号|参数可选性: 任选参数类型: 数字参数范围: 1-65535|该参数用于设置服务端模板编号，需关联服务端模板配置，其编号需在SHOW SERVERPROFILE命令查询得到的模板编号范围内。
LOCALIP|本端IP地址|参数可选性: 任选参数类型: 字符串参数范围: 0-64|该参数用于设置服务端的IP地址。该地址需与指定服务端模板编号中的IP地址相同，可通过SHOW SERVERPROFILE命令查询。
LOCALPORT|本端端口|参数可选性: 任选参数类型: 数字参数范围: 1-65535默认值: 8080|该参数用于设置服务端的端口号。该端口号需与指定服务端模板编号中的端口号相同，可通过SHOW SERVERPROFILE命令查询。
REMOTEIP|对端IP地址|参数可选性: 任选参数类型: 字符串参数范围: 0-64|该参数用于设置远端客户端IP地址。必须是真实有效的IP地址，支持IPv4/IPv6。IPv6地址冒号后不能以数字0开头，且地址中的字母a~f全部不允许使用大写字母。
REMOTEPORT|对端端口|参数可选性: 任选参数类型: 数字参数范围: 1-65535默认值: 10000|该参数用于设置远端客户端端口。
VPNID|VPN ID|参数可选性: 任选参数类型: 数字参数范围: 0-254默认值: 0|该参数用于设置VPN ID。VPN（虚拟专用网，Virtual Private Network）是依靠Internet服务提供商和网络服务提供商，在公共网络中建立的虚拟专用通信网络。
REQBODYMAXLENGTH|接收请求消息体最大长度(字节）|参数可选性: 任选参数类型: 数字参数范围: 0-16777216默认值: 2097152|该参数用于设置服务端接收请求消息体最大长度，单位是字节。
RESPTIMER|等待响应超时定时器(秒)|参数可选性: 任选参数类型: 数字参数范围: 1-300默认值: 30|该参数用于设置等待响应超时定时器的时长，单位为秒。若客户端超时无响应，则服务端会向客户端发送失败的响应消息。
CONNREADTIMER|读包超时定时器(秒)|参数可选性: 任选参数类型: 数字参数范围: 1-300默认值: 32|该参数用于设置读包超时定时器的时长，单位为秒。若读包超时，服务端会拆除连接。
MAXCONCURRENTSTREAMS|并发流最大个数|参数可选性: 任选参数类型: 数字参数范围: 10-10000默认值: 1000|该参数用于设置一条链路上并发的流的最大数。
KEEPALIVECNT|链路保活检测次数|参数可选性: 任选参数类型: 数字参数范围: 1-5默认值: 3|该参数用于设置链路保活检测次数。若链路保活连续配置次数没有收到响应，则会将链路状态设置为非激活状态。
KEEPALIVETIMER|链路保活超时定时器(秒)|参数可选性: 任选参数类型: 数字参数范围: 0-300默认值: 30|该参数用于设置链路保活超时定时器的时长，单位为秒。若链路保活定时器超时，则会给对端发ping包，以便确认空闲链路的可用性。
KEEPALIVESWITCH|链路保活开关|参数可选性: 任选参数类型: 枚举，参见枚举定义默认值: SWITCH_ON|该参数用于设置是否启用链路保活开关。SWITCH-OFF：开关关闭。SWITCH-ON：开关打开。
HTTPVERSION|HTTP版本|参数可选性: 任选参数类型: 枚举，参见枚举定义默认值: HTTP_2|该参数用于设置HTTP版本，包括HTTP/1.1或者HTTP/2。
INSTNAME|实例名称|参数可选性: 任选参数类型: 字符串参数范围: 0-128|该参数用于设置链路关联的远端NF实例名称 。




[](None)命令举例 


`
删除链路编号1的服务端静态链路配置。
DELETE SERVERTCPLINK:LINKID=1;
` 


#### 查询服务端TCP链路配置(SHOW SERVERTCPLINK) 
#### 查询服务端TCP链路配置(SHOW SERVERTCPLINK) 


[](None)功能说明 

该命令用于查询服务端静态链路配置，包括链路编号、服务端模板编号、本端和对端IP地址及端口号、VPN ID等配置信息。当需要查询服务端静态链路配置信息时，使用该命令。


[](None)注意事项 


 
如需要查询全部服务端TCP链路配置信息，则不需要输入任何参数。 

 
如需要查询指定的服务端TCP链路配置信息，则需要输入链路编号。 

 


[](None)输入参数说明 


[](None)标识|名称|类型|说明
---|---|---|---
LINKID|链路编号|参数可选性: 任选参数类型: 数字参数范围: 1-65535|该参数用于设置服务端TCP链路编号，链路编号全局唯一。
PROFILEID|服务端模板编号|参数可选性: 任选参数类型: 数字参数范围: 1-65535|该参数用于设置服务端模板编号，需关联服务端模板配置，其编号需在SHOW SERVERPROFILE命令查询得到的模板编号范围内。




[](None)输出参数说明 


[](None)标识|名称|类型|说明
---|---|---|---
LINKID|链路编号|参数可选性: 任选参数类型: 数字参数范围: 1-65535|该参数用于设置服务端TCP链路编号，链路编号全局唯一。
PROFILEID|服务端模板编号|参数可选性: 任选参数类型: 数字参数范围: 1-65535|该参数用于设置服务端模板编号，需关联服务端模板配置，其编号需在SHOW SERVERPROFILE命令查询得到的模板编号范围内。
LOCALIP|本端IP地址|参数可选性: 任选参数类型: 字符串参数范围: 0-64|该参数用于设置服务端的IP地址。该地址需与指定服务端模板编号中的IP地址相同，可通过SHOW SERVERPROFILE命令查询。
LOCALPORT|本端端口|参数可选性: 任选参数类型: 数字参数范围: 1-65535默认值: 8080|该参数用于设置服务端的端口号。该端口号需与指定服务端模板编号中的端口号相同，可通过SHOW SERVERPROFILE命令查询。
REMOTEIP|对端IP地址|参数可选性: 任选参数类型: 字符串参数范围: 0-64|该参数用于设置远端客户端IP地址。必须是真实有效的IP地址，支持IPv4/IPv6。IPv6地址冒号后不能以数字0开头，且地址中的字母a~f全部不允许使用大写字母。
REMOTEPORT|对端端口|参数可选性: 任选参数类型: 数字参数范围: 1-65535默认值: 10000|该参数用于设置远端客户端端口。
VPNID|VPN ID|参数可选性: 任选参数类型: 数字参数范围: 0-254默认值: 0|该参数用于设置VPN ID。VPN（虚拟专用网，Virtual Private Network）是依靠Internet服务提供商和网络服务提供商，在公共网络中建立的虚拟专用通信网络。
REQBODYMAXLENGTH|接收请求消息体最大长度(字节）|参数可选性: 任选参数类型: 数字参数范围: 0-16777216默认值: 2097152|该参数用于设置服务端接收请求消息体最大长度，单位是字节。
RESPTIMER|等待响应超时定时器(秒)|参数可选性: 任选参数类型: 数字参数范围: 1-300默认值: 30|该参数用于设置等待响应超时定时器的时长，单位为秒。若客户端超时无响应，则服务端会向客户端发送失败的响应消息。
CONNREADTIMER|读包超时定时器(秒)|参数可选性: 任选参数类型: 数字参数范围: 1-300默认值: 32|该参数用于设置读包超时定时器的时长，单位为秒。若读包超时，服务端会拆除连接。
MAXCONCURRENTSTREAMS|并发流最大个数|参数可选性: 任选参数类型: 数字参数范围: 10-10000默认值: 1000|该参数用于设置一条链路上并发的流的最大数。
KEEPALIVECNT|链路保活检测次数|参数可选性: 任选参数类型: 数字参数范围: 1-5默认值: 3|该参数用于设置链路保活检测次数。若链路保活连续配置次数没有收到响应，则会将链路状态设置为非激活状态。
KEEPALIVETIMER|链路保活超时定时器(秒)|参数可选性: 任选参数类型: 数字参数范围: 0-300默认值: 30|该参数用于设置链路保活超时定时器的时长，单位为秒。若链路保活定时器超时，则会给对端发ping包，以便确认空闲链路的可用性。
KEEPALIVESWITCH|链路保活开关|参数可选性: 任选参数类型: 枚举，参见枚举定义默认值: SWITCH_ON|该参数用于设置是否启用链路保活开关。SWITCH-OFF：开关关闭。SWITCH-ON：开关打开。
HTTPVERSION|HTTP版本|参数可选性: 任选参数类型: 枚举，参见枚举定义默认值: HTTP_2|该参数用于设置HTTP版本，包括HTTP/1.1或者HTTP/2。
INSTNAME|实例名称|参数可选性: 任选参数类型: 字符串参数范围: 0-128|该参数用于设置链路关联的远端NF实例名称 。




[](None)命令举例 


`
查询服务端所有的静态链路配置。
SHOW SERVERTCPLINK;

(No.1) : SHOW SERVERTCPLINK:
-----------------CommonS_HTTP_LB_0----------------
链路编号  服务端模板编号  本端IP地址  本端端口  对端IP地址  对端端口  VPN ID  接收请求消息体最大长度(字节） 等待响应超时定时器(秒)  读包超时定时器(秒)  并发流最大个数  链路保活检测次数  链路保活超时定时器(秒)  链路保活开关  HTTP版本  实例名称
1         1               1.2.3.4     8080      2.3.4.5     10000     0       10240                         30                      32                  1000            3                 30                      开启          HTTP 2     abc
记录数：1

执行成功耗时: 0.07 秒

` 


## 全局配置 
## 全局配置 


[](None)背景知识 


HTTPLB作为5G核心网中的重要组成部分，需要处理各种各样的业务，因此需要考虑多种场景，通过修改全局配置，满足各种业务需求。 




[](None)功能说明 


全局配置用于管理HTTPLB全局相关的配置，从而满足不同业务场景的需求。本网元支持的全局配置包括：全局参数配置、负荷控制拒绝策略配置、软采配置、CPU告警配置、链路容量配置和服务端安全参数配置。 




[](None)子主题： 






### 负荷控制拒绝策略配置 
### 负荷控制拒绝策略配置 


[](None)背景知识 


HTTPLB根据根据以下内容制定并执行自身的负荷控制拒绝策略。 


 
根据自身以及相邻服务的负荷状况以及负荷控制等级。 

 
根据自身的业务流程制定。 




[](None)功能说明 


负荷控制拒绝策略配置提供了修改和查询负荷控制拒绝策略。当负荷控制拒绝策略发生变化时，执行修改操作，新的采样周期将根据新的拒绝策略进行负荷控制。执行查询操作，显示当前的负荷控制拒绝策略配置。 




[](None)子主题： 






#### 修改负荷控制拒绝策略配置(SET LOAD CONTROL REJECT RULE) 
#### 修改负荷控制拒绝策略配置(SET LOAD CONTROL REJECT RULE) 


[](None)功能说明 

该命令用于修改负荷控制拒绝策略配置。当负荷控制拒绝策略发生变化时，执行该命令。命令执行成功后，新的采样周期将根据新的拒绝策略进行负荷控制。


[](None)注意事项 

无。


[](None)输入参数说明 


[](None)标识|名称|类型|说明
---|---|---|---
SRV_PASS_NUM|每秒最少放通的服务端请求个数|参数可选性: 任选参数类型: 数字参数范围: 100-65535默认值: 500|该参数用于设置负荷控制下每秒最少放通的服务端请求个数。
RESPONSE|拒绝请求响应码|参数可选性: 任选参数类型: 数字参数范围: 500-599默认值: 503|该参数用于设置负荷控制拒绝服务端请求时的响应码。
RETRY_AFTER|retry-after头部值（秒）|参数可选性: 任选参数类型: 数字参数范围: 1-1200默认值: 300|该参数用于设置负荷控制拒绝服务端请求时携带的retry-after头部值，单位秒。
CLI_PASS_NUM|每秒最少放通的客户端请求个数|参数可选性: 任选参数类型: 数字参数范围: 100-65535默认值: 500|该参数用于设置负荷控制下每秒最少放通的客户端请求个数。




[](None)输出参数说明 


[](None)标识|名称|类型|说明
---|---|---|---
SRV_PASS_NUM|每秒最少放通的服务端请求个数|参数可选性: 任选参数类型: 数字参数范围: 100-65535默认值: 500|该参数用于设置负荷控制下每秒最少放通的服务端请求个数。
RESPONSE|拒绝请求响应码|参数可选性: 任选参数类型: 数字参数范围: 500-599默认值: 503|该参数用于设置负荷控制拒绝服务端请求时的响应码。
RETRY_AFTER|retry-after头部值（秒）|参数可选性: 任选参数类型: 数字参数范围: 1-1200默认值: 300|该参数用于设置负荷控制拒绝服务端请求时携带的retry-after头部值，单位秒。
CLI_PASS_NUM|每秒最少放通的客户端请求个数|参数可选性: 任选参数类型: 数字参数范围: 100-65535默认值: 500|该参数用于设置负荷控制下每秒最少放通的客户端请求个数。




[](None)命令举例 


`
修改负荷控制拒绝策略配置，将每秒最少放通的服务端请求个数改为1000。
SET LOAD CONTROL REJECT RULE:SRV_PASS_NUM=1000
` 


#### 查询负荷控制拒绝策略配置(SHOW LOAD CONTROL REJECT RULE) 
#### 查询负荷控制拒绝策略配置(SHOW LOAD CONTROL REJECT RULE) 


[](None)功能说明 

该命令用于查询负荷控制拒绝策略配置，包括：每SC每秒最少放通的服务端请求个数、每SC每秒最少放通的客户端请求个数、拒绝服务端请求响应码以及拒绝服务端请求时携带的retry-after头部值。当需要查看负荷控制拒绝策略配置的详细配置信息时，执行本命令。


[](None)注意事项 

无。


[](None)输出参数说明 


[](None)标识|名称|类型|说明
---|---|---|---
SRV_PASS_NUM|每秒最少放通的服务端请求个数|参数可选性: 任选参数类型: 数字参数范围: 100-65535默认值: 500|该参数用于设置负荷控制下每秒最少放通的服务端请求个数。
RESPONSE|拒绝请求响应码|参数可选性: 任选参数类型: 数字参数范围: 500-599默认值: 503|该参数用于设置负荷控制拒绝服务端请求时的响应码。
RETRY_AFTER|retry-after头部值（秒）|参数可选性: 任选参数类型: 数字参数范围: 1-1200默认值: 300|该参数用于设置负荷控制拒绝服务端请求时携带的retry-after头部值，单位秒。
CLI_PASS_NUM|每秒最少放通的客户端请求个数|参数可选性: 任选参数类型: 数字参数范围: 100-65535默认值: 500|该参数用于设置负荷控制下每秒最少放通的客户端请求个数。




[](None)命令举例 


`
SHOW LOAD CONTROL REJECT RULE

(No.1) : SHOW LOAD CONTROL REJECT RULE:
-----------------CommonS_HTTP_LB_0----------------
每秒最少放通的服务端请求个数 拒绝请求响应码 retry-after头部值(秒) 每秒最少放通的客户端请求个数
500                             503             300                 500
记录数：1

` 


### 软采配置 
### 软采配置 


[](None)背景知识 


HTTP2协议采用了HPACK压缩算法对消息头部进行压缩。消息中越来越多的相同头部信息的传输消耗了大量的流量，为了减少这种浪费，使用HPACK算法将头部以键值对的形式存储，构成静态字典（包含常见的头部名称与值的组合）与动态字典（动态地添加内容）。 

动态字典是需要连接双方维护的，其内容基于连接上下文。当一个头部匹配不到索引时，可以选择把它插入动态字典中，下次同名的值就可能会在字典中查到索引并替换，使用字典可以极大地提升压缩效果。 

HTTP2连接为长连接，在进行硬采（即在信令链路物理传输上通过硬件采集卡采集信号，生成信令数据）时，有可能无法获取从HTTP2连接开始建立到建立完成时完整的报文信息，导致无法对抓取到的报文进行解压缩。 

HTTPLB通过软采功能上报HTTP2报文的头部压缩信息。HTTPLB根据需要上报字典信息到软采中心，对采集到的HTTP2报文进行头部解析。 

与传统硬采集方式相比，软采方式提供了更加灵活、方便的信令数据采集解决方案，保证了信令数据的完整性，准确性。 




[](None)功能说明 


本网元支持软采功能。当需要上报HTTP2报文的头部压缩信息时，该配置用于对软采的地址、端口、检测次数及检测间隔等相关参数进行配置。正确配置软采信息后，方可向软采中心上报头部压缩的字典信息。 




[](None)子主题： 






#### 新增软采配置(ADD SOFTCOLLECT) 
#### 新增软采配置(ADD SOFTCOLLECT) 


[](None)功能说明 

该命令用于新增HTTP软采配置。当需要侦听网元间消息时，执行该命令。命令执行成功后，本网元会将采集到的动态字典上报给软采中心。


[](None)注意事项 

功能开关打开时，注意检查以下内容： 


 
检查软采地址、端口是否有效。 

 
检查本地地址、端口是否有效。 

 
检查本地地址和软采地址是否相同。 

 


[](None)输入参数说明 


[](None)标识|名称|类型|说明
---|---|---|---
FLG|功能开关|参数可选性: 任选参数类型: 枚举，参见枚举定义参数范围: 0-1默认值: OFF|该参数用于设置系统是否支持软采功能。NO：开关关闭，表示不支持软采功能。YES：开关打开，表示支持软采功能。
DESTIP|软采地址|参数可选性: 必选参数类型: 字符串参数范围: 0-64|该参数用于设置远端软采中心的IP地址。
DESTPORT|软采端口|参数可选性: 任选参数类型: 数字参数范围: 0-65535默认值: 0|该参数用于设置远端软采中心的端口号。
SRCIP|本地地址|参数可选性: 必选参数类型: 字符串参数范围: 0-64|该参数用于设置本网元上报动态字典使用的IP地址。
SRCPORT|本地起始端口|参数可选性: 任选参数类型: 数字参数范围: 0-65535默认值: 25000|该参数用于设置本网元上报动态字典使用的起始端口。
VRF|VPN ID|参数可选性: 任选参数类型: 数字参数范围: 0-254默认值: 0|该参数用于设置VPN ID。VPN（虚拟专用网，Virtual Private Network）是依靠Internet服务提供商和网络服务提供商，在公共网络中建立的虚拟专用通信网络。
CHECKTIME|检测间隔(秒)|参数可选性: 任选参数类型: 数字参数范围: 1-65535默认值: 3|该参数用于设置HTTP检测链路状态的时间间隔，单位为秒。
CHECKNUM|检测次数|参数可选性: 任选参数类型: 数字参数范围: 1-100默认值: 3|该参数用于设置检测软采中心状态的次数。通过特定次数的检测判断软采状态是否正常。
RPTINTERVAL|周期性上报间隔(分)|参数可选性: 任选参数类型: 数字参数范围: 1-65535默认值: 30|该参数用于设置软采数据周期性上报的时间间隔，单位为分钟。




[](None)输出参数说明 


[](None)标识|名称|类型|说明
---|---|---|---
FLG|功能开关|参数可选性: 任选参数类型: 枚举，参见枚举定义参数范围: 0-1默认值: OFF|该参数用于设置系统是否支持软采功能。NO：开关关闭，表示不支持软采功能。YES：开关打开，表示支持软采功能。
DESTIP|软采地址|参数可选性: 任选参数类型: 字符串参数范围: 0-64|该参数用于设置远端软采中心的IP地址。
DESTPORT|软采端口|参数可选性: 任选参数类型: 数字参数范围: 0-65535默认值: 0|该参数用于设置远端软采中心的端口号。
SRCIP|本地地址|参数可选性: 任选参数类型: 字符串参数范围: 0-64|该参数用于设置本网元上报动态字典使用的IP地址。
SRCPORT|本地起始端口|参数可选性: 任选参数类型: 数字参数范围: 0-65535默认值: 25000|该参数用于设置本网元上报动态字典使用的起始端口。
VRF|VPN ID|参数可选性: 任选参数类型: 数字参数范围: 0-254默认值: 0|该参数用于设置VPN ID。VPN（虚拟专用网，Virtual Private Network）是依靠Internet服务提供商和网络服务提供商，在公共网络中建立的虚拟专用通信网络。
CHECKTIME|检测间隔(秒)|参数可选性: 任选参数类型: 数字参数范围: 1-65535默认值: 3|该参数用于设置HTTP检测链路状态的时间间隔，单位为秒。
CHECKNUM|检测次数|参数可选性: 任选参数类型: 数字参数范围: 1-100默认值: 3|该参数用于设置检测软采中心状态的次数。通过特定次数的检测判断软采状态是否正常。
RPTINTERVAL|周期性上报间隔(分)|参数可选性: 任选参数类型: 数字参数范围: 1-65535默认值: 30|该参数用于设置软采数据周期性上报的时间间隔，单位为分钟。




[](None)命令举例 


`
新增软采配置：软采开关打开，软采IP地址为"9.9.0.2"，软采端口8080，本端IP地址为"9.9.1.75"，本端端口25000，VPNID 0，检测间隔时间为3秒，检测次数为3次，周期性上报间隔为30分钟。
ADD SOFTCOLLECT:FLG="ON",DESTIP="9.9.0.2",DESTPORT=8080,SRCIP="9.9.1.75",SRCPORT=25000,VRF=0,CHECKTIME=3,CHECKNUM=3,RPTINTERVAL=30;
` 


#### 修改软采配置(SET SOFTCOLLECT) 
#### 修改软采配置(SET SOFTCOLLECT) 


[](None)功能说明 

该命令用于修改HTTP软采配置。当软采系统参数发生变化时，执行该命令。命令执行成功后，本网元按照新生效的配置，将采集到的动态字典上报给软采中心。


[](None)注意事项 

无。


[](None)输入参数说明 


[](None)标识|名称|类型|说明
---|---|---|---
FLG|功能开关|参数可选性: 任选参数类型: 枚举，参见枚举定义参数范围: 0-1默认值: OFF|该参数用于设置系统是否支持软采功能。NO：开关关闭，表示不支持软采功能。YES：开关打开，表示支持软采功能。
DESTIP|软采地址|参数可选性: 任选参数类型: 字符串参数范围: 0-64|该参数用于设置远端软采中心的IP地址。
DESTPORT|软采端口|参数可选性: 任选参数类型: 数字参数范围: 0-65535默认值: 0|该参数用于设置远端软采中心的端口号。
SRCIP|本地地址|参数可选性: 任选参数类型: 字符串参数范围: 0-64|该参数用于设置本网元上报动态字典使用的IP地址。
SRCPORT|本地起始端口|参数可选性: 任选参数类型: 数字参数范围: 0-65535默认值: 25000|该参数用于设置本网元上报动态字典使用的起始端口。
VRF|VPN ID|参数可选性: 任选参数类型: 数字参数范围: 0-254默认值: 0|该参数用于设置VPN ID。VPN（虚拟专用网，Virtual Private Network）是依靠Internet服务提供商和网络服务提供商，在公共网络中建立的虚拟专用通信网络。
CHECKTIME|检测间隔(秒)|参数可选性: 任选参数类型: 数字参数范围: 1-65535默认值: 3|该参数用于设置HTTP检测链路状态的时间间隔，单位为秒。
CHECKNUM|检测次数|参数可选性: 任选参数类型: 数字参数范围: 1-100默认值: 3|该参数用于设置检测软采中心状态的次数。通过特定次数的检测判断软采状态是否正常。
RPTINTERVAL|周期性上报间隔(分)|参数可选性: 任选参数类型: 数字参数范围: 1-65535默认值: 30|该参数用于设置软采数据周期性上报的时间间隔，单位为分钟。




[](None)输出参数说明 


[](None)标识|名称|类型|说明
---|---|---|---
FLG|功能开关|参数可选性: 任选参数类型: 枚举，参见枚举定义参数范围: 0-1默认值: OFF|该参数用于设置系统是否支持软采功能。NO：开关关闭，表示不支持软采功能。YES：开关打开，表示支持软采功能。
DESTIP|软采地址|参数可选性: 任选参数类型: 字符串参数范围: 0-64|该参数用于设置远端软采中心的IP地址。
DESTPORT|软采端口|参数可选性: 任选参数类型: 数字参数范围: 0-65535默认值: 0|该参数用于设置远端软采中心的端口号。
SRCIP|本地地址|参数可选性: 任选参数类型: 字符串参数范围: 0-64|该参数用于设置本网元上报动态字典使用的IP地址。
SRCPORT|本地起始端口|参数可选性: 任选参数类型: 数字参数范围: 0-65535默认值: 25000|该参数用于设置本网元上报动态字典使用的起始端口。
VRF|VPN ID|参数可选性: 任选参数类型: 数字参数范围: 0-254默认值: 0|该参数用于设置VPN ID。VPN（虚拟专用网，Virtual Private Network）是依靠Internet服务提供商和网络服务提供商，在公共网络中建立的虚拟专用通信网络。
CHECKTIME|检测间隔(秒)|参数可选性: 任选参数类型: 数字参数范围: 1-65535默认值: 3|该参数用于设置HTTP检测链路状态的时间间隔，单位为秒。
CHECKNUM|检测次数|参数可选性: 任选参数类型: 数字参数范围: 1-100默认值: 3|该参数用于设置检测软采中心状态的次数。通过特定次数的检测判断软采状态是否正常。
RPTINTERVAL|周期性上报间隔(分)|参数可选性: 任选参数类型: 数字参数范围: 1-65535默认值: 30|该参数用于设置软采数据周期性上报的时间间隔，单位为分钟。




[](None)命令举例 


`
设置软采配置，VPN ID修改为2。
SET SOFTCOLLECT:VRF=2;
` 


#### 删除软采配置(DELETE SOFTCOLLECT) 
#### 删除软采配置(DELETE SOFTCOLLECT) 


[](None)功能说明 

该命令用于删除HTTP软采配置。当不再需要对本网元进行软采时，执行该命令。命令执行成功后，本网元将不会再上报动态字典到软采中心。


[](None)注意事项 

使用删除命令之后，对该地址的软采功能将不再支持。


[](None)输出参数说明 


[](None)标识|名称|类型|说明
---|---|---|---
FLG|功能开关|参数可选性: 任选参数类型: 枚举，参见枚举定义参数范围: 0-1默认值: OFF|该参数用于设置系统是否支持软采功能。NO：开关关闭，表示不支持软采功能。YES：开关打开，表示支持软采功能。
DESTIP|软采地址|参数可选性: 任选参数类型: 字符串参数范围: 0-64|该参数用于设置远端软采中心的IP地址。
DESTPORT|软采端口|参数可选性: 任选参数类型: 数字参数范围: 0-65535默认值: 0|该参数用于设置远端软采中心的端口号。
SRCIP|本地地址|参数可选性: 任选参数类型: 字符串参数范围: 0-64|该参数用于设置本网元上报动态字典使用的IP地址。
SRCPORT|本地起始端口|参数可选性: 任选参数类型: 数字参数范围: 0-65535默认值: 25000|该参数用于设置本网元上报动态字典使用的起始端口。
VRF|VPN ID|参数可选性: 任选参数类型: 数字参数范围: 0-254默认值: 0|该参数用于设置VPN ID。VPN（虚拟专用网，Virtual Private Network）是依靠Internet服务提供商和网络服务提供商，在公共网络中建立的虚拟专用通信网络。
CHECKTIME|检测间隔(秒)|参数可选性: 任选参数类型: 数字参数范围: 1-65535默认值: 3|该参数用于设置HTTP检测链路状态的时间间隔，单位为秒。
CHECKNUM|检测次数|参数可选性: 任选参数类型: 数字参数范围: 1-100默认值: 3|该参数用于设置检测软采中心状态的次数。通过特定次数的检测判断软采状态是否正常。
RPTINTERVAL|周期性上报间隔(分)|参数可选性: 任选参数类型: 数字参数范围: 1-65535默认值: 30|该参数用于设置软采数据周期性上报的时间间隔，单位为分钟。




[](None)命令举例 


`
删除软采配置。
DELETE SOFTCOLLECT
` 


#### 查询软采配置(SHOW SOFTCOLLECT) 
#### 查询软采配置(SHOW SOFTCOLLECT) 


[](None)功能说明 

该命令用于查询软采配置信息，包括：软采的地址、端口和本地的地址、起始端口等配置信息。当需要查询软采配置信息时，执行本命令。


[](None)注意事项 

无。


[](None)输出参数说明 


[](None)标识|名称|类型|说明
---|---|---|---
FLG|功能开关|参数可选性: 任选参数类型: 枚举，参见枚举定义参数范围: 0-1默认值: OFF|该参数用于设置系统是否支持软采功能。NO：开关关闭，表示不支持软采功能。YES：开关打开，表示支持软采功能。
DESTIP|软采地址|参数可选性: 任选参数类型: 字符串参数范围: 0-64|该参数用于设置远端软采中心的IP地址。
DESTPORT|软采端口|参数可选性: 任选参数类型: 数字参数范围: 0-65535默认值: 0|该参数用于设置远端软采中心的端口号。
SRCIP|本地地址|参数可选性: 任选参数类型: 字符串参数范围: 0-64|该参数用于设置本网元上报动态字典使用的IP地址。
SRCPORT|本地起始端口|参数可选性: 任选参数类型: 数字参数范围: 0-65535默认值: 25000|该参数用于设置本网元上报动态字典使用的起始端口。
VRF|VPN ID|参数可选性: 任选参数类型: 数字参数范围: 0-254默认值: 0|该参数用于设置VPN ID。VPN（虚拟专用网，Virtual Private Network）是依靠Internet服务提供商和网络服务提供商，在公共网络中建立的虚拟专用通信网络。
CHECKTIME|检测间隔(秒)|参数可选性: 任选参数类型: 数字参数范围: 1-65535默认值: 3|该参数用于设置HTTP检测链路状态的时间间隔，单位为秒。
CHECKNUM|检测次数|参数可选性: 任选参数类型: 数字参数范围: 1-100默认值: 3|该参数用于设置检测软采中心状态的次数。通过特定次数的检测判断软采状态是否正常。
RPTINTERVAL|周期性上报间隔(分)|参数可选性: 任选参数类型: 数字参数范围: 1-65535默认值: 30|该参数用于设置软采数据周期性上报的时间间隔，单位为分钟。




[](None)命令举例 


`
查询软采配置。
SHOW SOFTCOLLECT;

(No.1) : SHOW SOFTCOLLECT:
-----------------CommonS_HTTP_LB_0----------------
功能开关 软采地址 软采端口 本地地址  本地起始端口  VPN ID  检测间隔(秒)  检测次数  周期性上报间隔(分)
打开     9.9.0.2  8080     9.9.1.75  25000         0       3             3         30
记录数：1

执行成功耗时: 0.065 秒

` 


### CPU告警配置 
### CPU告警配置 


[](None)背景知识 


HTTPLB在5G核心网中提供公共服务，在不同的业务场景下其承载的负荷不同，对应的CPU低级别告警和高级别告警阈值存在差异。 




[](None)功能说明 


CPU告警配置提供了低级别和高级别告警阈值配置，来实现不同场景下CPU告警功能，满足各种业务需求。 




[](None)子主题： 






#### 修改CPU告警配置(SET CPUALARM) 
#### 修改CPU告警配置(SET CPUALARM) 


[](None)功能说明 

该命令用于修改CPU告警配置。当需要调整CPU告警阈值时，执行该命令。命令执行成功后，5G核心网按照新生效的配置，来实现各种业务场景。


[](None)注意事项 

无。


[](None)输入参数说明 


[](None)标识|名称|类型|说明
---|---|---|---
LTHRESHOLD|低级别告警阈值（%）|参数可选性: 必选参数类型: 数字参数范围: 10-90默认值: 70|该参数用于设置低级别告警阈值。
HTHRESHOLD|高级别告警阈值（%）|参数可选性: 必选参数类型: 数字参数范围: 10-99默认值: 90|该参数用于设置高级别告警阈值。




[](None)输出参数说明 


[](None)标识|名称|类型|说明
---|---|---|---
LTHRESHOLD|低级别告警阈值（%）|参数可选性: 任选参数类型: 数字参数范围: 10-90默认值: 70|该参数用于设置低级别告警阈值。
HTHRESHOLD|高级别告警阈值（%）|参数可选性: 任选参数类型: 数字参数范围: 10-99默认值: 90|该参数用于设置高级别告警阈值。




[](None)命令举例 


`
设置低级别告警阈值为70，高级别告警阈值为90。
SET CPUALARM:LTHRESHOLD=70,HTHRESHOLD=90;
` 


#### 查询CPU告警配置(SHOW CPUALARM) 
#### 查询CPU告警配置(SHOW CPUALARM) 


[](None)功能说明 

该命令用于查询CPU告警配置信息，包括：低级别告警阈值和高级别告警阈值信息。


[](None)注意事项 

无。


[](None)输出参数说明 


[](None)标识|名称|类型|说明
---|---|---|---
LTHRESHOLD|低级别告警阈值（%）|参数可选性: 任选参数类型: 数字参数范围: 10-90默认值: 70|该参数用于设置低级别告警阈值。
HTHRESHOLD|高级别告警阈值（%）|参数可选性: 任选参数类型: 数字参数范围: 10-99默认值: 90|该参数用于设置高级别告警阈值。




[](None)命令举例 


`
查询CPU告警配置。
SHOW CPUALARM;

(No.1) : SHOW CPUALARM:
----------------CommonS_HTTP_LB_0----------------
低级别告警阈值（%） 高级别告警阈值（%）
50                   80
记录数：1

执行成功耗时: 0.065 秒

` 


### 链路容量配置 
### 链路容量配置 


[](None)背景知识 


HTTPLB在5G核心网中提供公共服务，在不同的业务场景下对端网元个数、做客户端和服务端时业务流量存在差异。 




[](None)功能说明 


链路容量配置提供了客户端和服务端最大链路数配置，同时还提供了同向客户端和同向服务端最大链路数配置，来实现不同业务模型场景下链路容量功能，满足各种业务需求。 




[](None)子主题： 






#### 修改链路容量配置(SET LINKCY) 
#### 修改链路容量配置(SET LINKCY) 


[](None)功能说明 

该命令用于修改链路容量配置。当根据业务负荷需要调整链路容量时，执行该命令。


[](None)注意事项 

无。


[](None)输入参数说明 


[](None)标识|名称|类型|说明
---|---|---|---
SERVERMAX|服务端最大链路数|参数可选性: 任选参数类型: 数字参数范围: 128-8192默认值: 4096|该参数用于设置单SC服务端最大链路数。当某个SC上服务端链路达到最大链路数，当前SC上将无法建立新的服务端链路。
SERVERALARMTHR|服务端链路满告警百分比阈值（%）|参数可选性: 任选参数类型: 数字参数范围: 10-100默认值: 90|该参数用于设置单SC服务端链路满告警百分比阈值。当某个SC上服务端链路数达到此阈值，将上报当前SC服务端链接数满告警（告警码0xD1000008），当当前SC上服务端链路数下降到此阈值减5以下，恢复当前SC服务端链路数满告警（告警码0xD1000008）。
CLIENTMAX|客户端最大链路数|参数可选性: 任选参数类型: 数字参数范围: 128-8192默认值: 4096|该参数用于设置单SC客户端最大链路数。当某个SC上客户端链路达到最大链路数，当前SC上将无法建立新的客户端链路。
CLIENTALARMTHR|客户端链路满告警百分比阈值（%）|参数可选性: 任选参数类型: 数字参数范围: 10-100默认值: 90|该参数用于设置客户端链路满告警百分比阈值。当某个SC上客户端链路数达到此阈值，将上报当前SC客户端链接数满告警（告警码0xD1000009），当当前SC上客户端链路数下降到此阈值减5以下，恢复当前SC客户端链路数满告警（告警码0xD1000009）。
SAMESERVERMAX|同向服务端最大动态链路数|参数可选性: 任选参数类型: 数字参数范围: 128-8192默认值: 256|该参数用于设置单SC上同向服务端最大动态链路数。同一个服务端模板（其中包含本端IP、本端Port）即被视为同一个本端，对端和这一个本端建立的所有服务端动态链路，即为同向服务端动态链路数。
SAMECLIENTMAX|同向客户端最大动态链路数|参数可选性: 任选参数类型: 数字参数范围: 128-8192默认值: 256|该参数用于设置单SC上同向客户端最大动态链路数。同一个远端地址和远端端口被视为同一个对端，本端和这一个对端建立的所有客户端动态链路，即为同向客户端动态链路数。




[](None)输出参数说明 


[](None)标识|名称|类型|说明
---|---|---|---
SERVERMAX|服务端最大链路数|参数可选性: 任选参数类型: 数字参数范围: 128-8192默认值: 4096|该参数用于设置单SC服务端最大链路数。当某个SC上服务端链路达到最大链路数，当前SC上将无法建立新的服务端链路。
SERVERALARMTHR|服务端链路满告警百分比阈值（%）|参数可选性: 任选参数类型: 数字参数范围: 10-100默认值: 90|该参数用于设置单SC服务端链路满告警百分比阈值。当某个SC上服务端链路数达到此阈值，将上报当前SC服务端链接数满告警（告警码0xD1000008），当当前SC上服务端链路数下降到此阈值减5以下，恢复当前SC服务端链路数满告警（告警码0xD1000008）。
CLIENTMAX|客户端最大链路数|参数可选性: 任选参数类型: 数字参数范围: 128-8192默认值: 4096|该参数用于设置单SC客户端最大链路数。当某个SC上客户端链路达到最大链路数，当前SC上将无法建立新的客户端链路。
CLIENTALARMTHR|客户端链路满告警百分比阈值（%）|参数可选性: 任选参数类型: 数字参数范围: 10-100默认值: 90|该参数用于设置客户端链路满告警百分比阈值。当某个SC上客户端链路数达到此阈值，将上报当前SC客户端链接数满告警（告警码0xD1000009），当当前SC上客户端链路数下降到此阈值减5以下，恢复当前SC客户端链路数满告警（告警码0xD1000009）。
SAMESERVERMAX|同向服务端最大动态链路数|参数可选性: 任选参数类型: 数字参数范围: 128-8192默认值: 256|该参数用于设置单SC上同向服务端最大动态链路数。同一个服务端模板（其中包含本端IP、本端Port）即被视为同一个本端，对端和这一个本端建立的所有服务端动态链路，即为同向服务端动态链路数。
SAMECLIENTMAX|同向客户端最大动态链路数|参数可选性: 任选参数类型: 数字参数范围: 128-8192默认值: 256|该参数用于设置单SC上同向客户端最大动态链路数。同一个远端地址和远端端口被视为同一个对端，本端和这一个对端建立的所有客户端动态链路，即为同向客户端动态链路数。




[](None)命令举例 


`
设置单SC上服务端最大链路数为1024，服务端链路满告警百分比阈值为90，客户端最大链路数为1024，客户端链路满告警百分比阈值为90，同向服务端最大动态链路数为256，同向客户端最大动态链路数为256。
SET LINKCY:SERVERMAX=1024,SERVERALARMTHR=90,CLIENTMAX=1024,CLIENTALARMTHR=90,SAMESERVERMAX=256,SAMECLIENTMAX=256;
` 


#### 查询链路容量配置(SHOW LINKCY) 
#### 查询链路容量配置(SHOW LINKCY) 


[](None)功能说明 

该命令用于查询链路容量配置。当需要确认当前系统的链路容量时，执行该命令。


[](None)注意事项 

无。


[](None)输出参数说明 


[](None)标识|名称|类型|说明
---|---|---|---
SERVERMAX|服务端最大链路数|参数可选性: 任选参数类型: 数字参数范围: 128-8192默认值: 4096|该参数用于设置单SC服务端最大链路数。当某个SC上服务端链路达到最大链路数，当前SC上将无法建立新的服务端链路。
SERVERALARMTHR|服务端链路满告警百分比阈值（%）|参数可选性: 任选参数类型: 数字参数范围: 10-100默认值: 90|该参数用于设置单SC服务端链路满告警百分比阈值。当某个SC上服务端链路数达到此阈值，将上报当前SC服务端链接数满告警（告警码0xD1000008），当当前SC上服务端链路数下降到此阈值减5以下，恢复当前SC服务端链路数满告警（告警码0xD1000008）。
CLIENTMAX|客户端最大链路数|参数可选性: 任选参数类型: 数字参数范围: 128-8192默认值: 4096|该参数用于设置单SC客户端最大链路数。当某个SC上客户端链路达到最大链路数，当前SC上将无法建立新的客户端链路。
CLIENTALARMTHR|客户端链路满告警百分比阈值（%）|参数可选性: 任选参数类型: 数字参数范围: 10-100默认值: 90|该参数用于设置客户端链路满告警百分比阈值。当某个SC上客户端链路数达到此阈值，将上报当前SC客户端链接数满告警（告警码0xD1000009），当当前SC上客户端链路数下降到此阈值减5以下，恢复当前SC客户端链路数满告警（告警码0xD1000009）。
SAMESERVERMAX|同向服务端最大动态链路数|参数可选性: 任选参数类型: 数字参数范围: 128-8192默认值: 256|该参数用于设置单SC上同向服务端最大动态链路数。同一个服务端模板（其中包含本端IP、本端Port）即被视为同一个本端，对端和这一个本端建立的所有服务端动态链路，即为同向服务端动态链路数。
SAMECLIENTMAX|同向客户端最大动态链路数|参数可选性: 任选参数类型: 数字参数范围: 128-8192默认值: 256|该参数用于设置单SC上同向客户端最大动态链路数。同一个远端地址和远端端口被视为同一个对端，本端和这一个对端建立的所有客户端动态链路，即为同向客户端动态链路数。




[](None)命令举例 


`
查询链路容量配置。
SHOW LINKCY;

(No.1) : SHOW LINKCY:
----------------CommonS_HTTP_LB_0----------------
服务端最大链接数 服务端链路满告警百分比阈值（%） 客户端最大链接数 客户端链路满告警百分比阈值（%） 同向服务端最大动态链路数 同向客户端最大动态链路数 
1024             90                              1024             90                              256                      256
记录数：1

执行成功耗时: 0.065 秒

` 


### 服务端链路容量配置 
### 服务端链路容量配置 


[](None)背景知识 


HTTPLB在5G核心网中提供公共服务，在不同的业务场景下对端网元个数、做服务端时的业务流量存在差异。 




[](None)功能说明 


服务端链路容量配置提供了同向服务端最大链路数拒绝门限配置，来实现不同业务模型场景下服务端链路容量功能，满足各种业务需求。 




[](None)子主题： 






#### 修改服务端链路容量配置(SET SERVERLINKCAP) 
#### 修改服务端链路容量配置(SET SERVERLINKCAP) 


[](None)功能说明 

该命令用于修改服务端链路容量配置。当根据业务负荷需要调整服务端链路容量配置时，执行该命令。 


[](None)注意事项 

无。


[](None)输入参数说明 


[](None)标识|名称|类型|说明
---|---|---|---
SERLCSWITCH|服务端链路容量配置开关|参数可选性: 任选参数类型: 枚举，参见枚举定义参数范围: 0-1默认值: SWITCH_OFF|该参数用于设置是否启用服务端链路容量配置。当开关关闭时，表示不启用服务端链路容量配置；当开关打开时，表示启用服务端链路容量配置。开关默认关闭。
REJECTWAY|拒绝方式|参数可选性: 任选参数类型: 枚举，参见枚举定义参数范围: 0-1默认值: DROP|该参数用于设置拒绝建链的方式。拒绝方式有两种：丢弃和回TCP reset报文。默认方式为丢弃。
THRESHOLD|拒绝门限|参数可选性: 任选参数类型: 数字参数范围: 1-65535默认值: 8192|该参数用于设置拒绝同向所有SC上服务端建链数的门限。拒绝门限范围为1至65535。默认值为8192。




[](None)输出参数说明 


[](None)标识|名称|类型|说明
---|---|---|---
SERLCSWITCH|服务端链路容量配置开关|参数可选性: 任选参数类型: 枚举，参见枚举定义参数范围: 0-1默认值: SWITCH_OFF|该参数用于设置是否启用服务端链路容量配置。当开关关闭时，表示不启用服务端链路容量配置；当开关打开时，表示启用服务端链路容量配置。开关默认关闭。
REJECTWAY|拒绝方式|参数可选性: 任选参数类型: 枚举，参见枚举定义参数范围: 0-1默认值: DROP|该参数用于设置拒绝建链的方式。拒绝方式有两种：丢弃和回TCP reset报文。默认方式为丢弃。
THRESHOLD|拒绝门限|参数可选性: 任选参数类型: 数字参数范围: 1-65535默认值: 8192|该参数用于设置拒绝同向所有SC上服务端建链数的门限。拒绝门限范围为1至65535。默认值为8192。




[](None)命令举例 


`
设置服务端链路容量配置开关为关闭，拒绝方式为直接丢弃，拒绝门限为256。 
SET SERVERLINKCAP:SERLCSWITCH="SWITCH_OFF",REJECTWAY="DROP",THRESHOLD=256
` 


#### 查询服务端链路容量配置(SHOW SERVERLINKCAP) 
#### 查询服务端链路容量配置(SHOW SERVERLINKCAP) 


[](None)功能说明 

该命令用于查询服务端链路容量配置。当需要查询服务端链路容量配置时，执行该命令。 


[](None)注意事项 

无。


[](None)输出参数说明 


[](None)标识|名称|类型|说明
---|---|---|---
SERLCSWITCH|服务端链路容量配置开关|参数可选性: 任选参数类型: 枚举，参见枚举定义参数范围: 0-1默认值: SWITCH_OFF|该参数用于设置是否启用服务端链路容量配置。当开关关闭时，表示不启用服务端链路容量配置；当开关打开时，表示启用服务端链路容量配置。开关默认关闭。
REJECTWAY|拒绝方式|参数可选性: 任选参数类型: 枚举，参见枚举定义参数范围: 0-1默认值: DROP|该参数用于设置拒绝建链的方式。拒绝方式有两种：丢弃和回TCP reset报文。默认方式为丢弃。
THRESHOLD|拒绝门限|参数可选性: 任选参数类型: 数字参数范围: 1-65535默认值: 8192|该参数用于设置拒绝同向所有SC上服务端建链数的门限。拒绝门限范围为1至65535。默认值为8192。




[](None)命令举例 


`
该命令用于查询服务端链路容量配置。当需要查询服务端链路容量配置时，执行该命令。

(No.1) : SHOW SERVERLINKCAP:
-----------------vnf140/CommonS_HTTP_LB_0----------------
操作维护       服务端链路容量控制开关 拒绝方式        拒绝门限 
---------------------------------------------------------------
修改           开启                   回TCP Reset报文 128      
---------------------------------------------------------------
记录数：1

执行成功开始时间:2022-05-30 19:53:08 耗时: 0.967秒

` 


### 服务端安全参数配置 
### 服务端安全参数配置 


[](None)背景知识 


HTTPLB（Hypertext Transfer Protocol Load Balancing，超文本传输负载均衡）在5G核心网中提供公共服务，可能遭受DoS/DDos攻击，此配置用于配置服务端安全参数，保护自身安全。 




[](None)功能说明 


服务端安全参数配置通过设置安全参数来保护服务端自身安全。该配置提供了每分钟最大SETTINGS帧个数、每分钟最大PING帧个数、每分钟最大PRIORITY帧个数、每分钟最大空帧个数、每分钟最大空头部值个数、每分钟最大RST_STREAM帧个数和窗口更新最小值，满足各种安全保护需求。 




[](None)子主题： 






#### 修改服务端安全参数(SET SERVERSECPARAM) 
#### 修改服务端安全参数(SET SERVERSECPARAM) 


[](None)功能说明 

该命令用于修改服务端安全参数配置。当需要调整服务端安全参数值时，执行该命令。命令执行成功后，5G核心网按照新生效的配置，来实现各种业务场景。


[](None)注意事项 

无。


[](None)输入参数说明 


[](None)标识|名称|类型|说明
---|---|---|---
MAXSETTINGS|SETTINGS帧最大个数（每分钟）|参数可选性: 任选参数类型: 数字参数范围: 0-4294967295默认值: 1000000|该参数用于设置每分钟允许的SETTINGS帧个数。默认值1000000。当设置为0时表示不检查每分钟收到的SETTINGS帧个数，即关闭此安全功能。
MAXPING|PING帧最大个数（每分钟）|参数可选性: 任选参数类型: 数字参数范围: 0-4294967295默认值: 1000000|该参数用于设置每分钟允许的PING帧个数。默认值1000000。当设置为0时表示不检查每分钟收到的PING帧个数，即关闭此安全功能。
MAXPRIORITY|PRIORITY帧最大个数（每分钟）|参数可选性: 任选参数类型: 数字参数范围: 0-4294967295默认值: 1000000|该参数用于设置每分钟允许的PRIORITY帧个数。默认值1000000。当设置为0时表示不检查每分钟收到的PRIORITY帧个数，即关闭此安全功能。
MAXRSTSTREAM|RST_STREAM帧最大个数（每分钟）|参数可选性: 任选参数类型: 数字参数范围: 0-4294967295默认值: 1000000|该参数用于设置每分钟允许的RST STREAM帧个数。默认值1000000。当设置为0时表示不检查每分钟收到的RST STREAM帧个数，即关闭此安全功能。
MAXEMPTYFRAME|空帧最大个数（每分钟）|参数可选性: 任选参数类型: 数字参数范围: 0-4294967295默认值: 1000000|该参数用于设置每分钟允许的空帧个数。默认值1000000。当设置为0时表示不检查每分钟收到的空帧个数，即关闭此安全功能。
MAXEMPTYHEADER|空头部值最大个数（每分钟）|参数可选性: 任选参数类型: 数字参数范围: 0-4294967295默认值: 1000000|该参数用于设置每分钟允许的空头部值帧个数。默认值1000000。当设置为0时表示不检查每分钟收到的空头部值个数，即关闭此安全功能。
MINWINDOWSIZE|窗口最小值（字节）|参数可选性: 任选参数类型: 数字参数范围: 0-65535默认值: 0|该参数用于设置流控窗口最小值，单位：字节。默认值0。当设置为0时表示不检查流控窗口值，即关闭此安全功能。




[](None)输出参数说明 


[](None)标识|名称|类型|说明
---|---|---|---
MAXSETTINGS|SETTINGS帧最大个数（每分钟）|参数可选性: 任选参数类型: 数字参数范围: 0-4294967295默认值: 1000000|该参数表示每分钟允许的SETTINGS帧个数。默认值1000000。当设置为0时表示不检查每分钟收到的SETTINGS帧个数，即关闭此安全功能。
MAXPING|PING帧最大个数（每分钟）|参数可选性: 任选参数类型: 数字参数范围: 0-4294967295默认值: 1000000|该参数表示每分钟允许的PING帧个数。默认值1000000。当设置为0时表示不检查每分钟收到的PING帧个数，即关闭此安全功能。
MAXPRIORITY|PRIORITY帧最大个数（每分钟）|参数可选性: 任选参数类型: 数字参数范围: 0-4294967295默认值: 1000000|该参数表示每分钟允许的PRIORITY帧个数。默认值1000000。当设置为0时表示不检查每分钟收到的PRIORITY帧个数，即关闭此安全功能。
MAXRSTSTREAM|RST_STREAM帧最大个数（每分钟）|参数可选性: 任选参数类型: 数字参数范围: 0-4294967295默认值: 1000000|该参数表示每分钟允许的RST STREAM帧个数。默认值1000000。当设置为0时表示不检查每分钟收到的RST STREAM帧个数，即关闭此安全功能。
MAXEMPTYFRAME|空帧最大个数（每分钟）|参数可选性: 任选参数类型: 数字参数范围: 0-4294967295默认值: 1000000|该参数表示每分钟允许的空帧个数。默认值1000000。当设置为0时表示不检查每分钟收到的空帧个数，即关闭此安全功能。
MAXEMPTYHEADER|空头部值最大个数（每分钟）|参数可选性: 任选参数类型: 数字参数范围: 0-4294967295默认值: 1000000|该参数表示每分钟允许的空头部值帧个数。默认值1000000。当设置为0时表示不检查每分钟收到的空头部值个数，即关闭此安全功能。
MINWINDOWSIZE|窗口最小值（字节）|参数可选性: 任选参数类型: 数字参数范围: 0-65535默认值: 0|该参数表示流控窗口最小值，单位：字节。默认值0。当设置为0时表示不检查流控窗口值，即关闭此安全功能。




[](None)命令举例 


`
设置每分钟允许的最大SETTINGS帧个数为10000、每分钟允许的最大PING帧个数为10000、每分钟允许的最大PRIORITY帧个数为1000000、每分钟允许的最大RST_STREAM个数为100000、每分钟允许的最大空帧个数为1000000、每分钟允许的最大空头部值帧个数为1000000和窗口更新最小值为0（关闭窗口最小值检查）。
SET SERVERSECPARAM:MAXSETTINGS=1000,MAXPING=1000,MAXPRIORITY=1000000,MAXRSTSTREAM=100000,MAXEMPTYFRAME=1000000,MAXEMPTYHEADER=1000000,MINWINDOWSIZE=0;
` 


#### 查询服务端安全参数(SHOW SERVERSECPARAM) 
#### 查询服务端安全参数(SHOW SERVERSECPARAM) 


[](None)功能说明 

该命令用于查询服务端安全参数配置信息，包括：每分钟允许的最大SETTINGS帧个数、每分钟允许的最大PING帧个数、每分钟允许的最大PRIORITY帧个数、每分钟允许的最大空帧个数、每分钟允许的最大空头部值帧个数、每分钟允许的最大异常关闭流个数和窗口更新最小值。


[](None)注意事项 

无。


[](None)输出参数说明 


[](None)标识|名称|类型|说明
---|---|---|---
MAXSETTINGS|SETTINGS帧最大个数（每分钟）|参数可选性: 任选参数类型: 数字参数范围: 0-4294967295默认值: 1000000|该参数表示每分钟允许的SETTINGS帧个数。默认值1000000。当设置为0时表示不检查每分钟收到的SETTINGS帧个数，即关闭此安全功能。
MAXPING|PING帧最大个数（每分钟）|参数可选性: 任选参数类型: 数字参数范围: 0-4294967295默认值: 1000000|该参数表示每分钟允许的PING帧个数。默认值1000000。当设置为0时表示不检查每分钟收到的PING帧个数，即关闭此安全功能。
MAXPRIORITY|PRIORITY帧最大个数（每分钟）|参数可选性: 任选参数类型: 数字参数范围: 0-4294967295默认值: 1000000|该参数表示每分钟允许的PRIORITY帧个数。默认值1000000。当设置为0时表示不检查每分钟收到的PRIORITY帧个数，即关闭此安全功能。
MAXRSTSTREAM|RST_STREAM帧最大个数（每分钟）|参数可选性: 任选参数类型: 数字参数范围: 0-4294967295默认值: 1000000|该参数表示每分钟允许的RST STREAM帧个数。默认值1000000。当设置为0时表示不检查每分钟收到的RST STREAM帧个数，即关闭此安全功能。
MAXEMPTYFRAME|空帧最大个数（每分钟）|参数可选性: 任选参数类型: 数字参数范围: 0-4294967295默认值: 1000000|该参数表示每分钟允许的空帧个数。默认值1000000。当设置为0时表示不检查每分钟收到的空帧个数，即关闭此安全功能。
MAXEMPTYHEADER|空头部值最大个数（每分钟）|参数可选性: 任选参数类型: 数字参数范围: 0-4294967295默认值: 1000000|该参数表示每分钟允许的空头部值帧个数。默认值1000000。当设置为0时表示不检查每分钟收到的空头部值个数，即关闭此安全功能。
MINWINDOWSIZE|窗口最小值（字节）|参数可选性: 任选参数类型: 数字参数范围: 0-65535默认值: 0|该参数表示流控窗口最小值，单位：字节。默认值0。当设置为0时表示不检查流控窗口值，即关闭此安全功能。




[](None)命令举例 


`
查询服务端安全配置。
SHOW SERVERSECPARAM;

(No.1) : SHOW SERVERSECPARAM:
----------------CommonS_HTTP_LB_0----------------
SETTINGS帧最大个数（每分钟）  PING帧最大个数（每分钟）  PRIORITY帧最大个数（每分钟）  RST_STREAM帧最大个数（每分钟）  空帧最大个数（每分钟） 空头部值最大个数（每分钟）   窗口最小值（字节）
10000                         10000                     1000000                       100000                           1000000               1000000                      0
记录数：1

执行成功耗时: 0.065 秒

` 


### HTTP DNS配置 
### HTTP DNS配置 


[](None)背景知识 


DNS服务，全称是Domain Name System，即域名系统，是一个位于应用层的协议（服务）。 

DNS协议是用来将域名转换为IP地址（或者将IP地址转换为相应的域名地址） 




[](None)功能说明 


该配置用于DNS域名解析服务配置。当url中host部分为fqdn时，则需要进行dns A/AAAA查询。配置成功后，HTTPLB支持域名解析。 




[](None)子主题： 






#### 新增HTTP DNS配置(ADD HTTPDNS) 
#### 新增HTTP DNS配置(ADD HTTPDNS) 


[](None)功能说明 

该命令用于新增HTTP DNS配置。当HTTPLB对于HTTP协议需支持域名解析时，执行该命令。该命令执行成功后，在HTTPLB收到HTTP客户端请求，在host部分为主机名且无hostIpAddr时根据配置的DNS模板编号进行路由分析。 


[](None)注意事项 

DNS模板编号引用DNS模板配置中的编号，0标识无效。可用[SHOW COMM DNS PROFILE](../mml/1229009.html)查询当前可配置的DNS模板编号。

http/https默认端口配置为0时，表示不支持缺省端口，会触发失败。 


[](None)输入参数说明 


[](None)标识|名称|类型|说明
---|---|---|---
VERSION|HTTP版本|参数可选性: 必选参数类型: 枚举，参见枚举定义参数范围: 0-1默认值: HTTP_11|该参数用于设置HTTP协议版本。默认值为1，即HTTP1.1协议。
DNSPFID|DNS模板编号|参数可选性: 任选参数类型: 数字参数范围: 0-255默认值: 0|该参数用于设置DNS模板编号。该编号引用DNS模板配置中的编号，0标识无效。可用SHOW COMM DNS PROFILE查询当前可配置的DNS模板编号。
HTTPDPORT|http默认端口|参数可选性: 任选参数类型: 数字参数范围: 0-65535默认值: 80|该参数用于设置http默认端口。默认值为80。0，表示不支持缺省端口，会触发失败。
HTTPSDPORT|https默认端口|参数可选性: 任选参数类型: 数字参数范围: 0-65535默认值: 443|该参数用于设置https默认端口。默认值为443。0，表示不支持缺省端口，会触发失败。




[](None)命令举例 


`
新增HTTP DNS配置：HTTP版本为HTTP1.1，引用DNS模板编号为1，http默认端口为80，https默认端口443。
ADD HTTPDNS:VERSION=1,DNSPFID=1,HTTPDPORT=80,HTTPSDPORT=443;
` 


#### 修改HTTP DNS配置(SET HTTPDNS) 
#### 修改HTTP DNS配置(SET HTTPDNS) 


[](None)功能说明 

该命令用于修改HTTP DNS配置。当HTTPLB对于该HTTP协议版本支持的DNS解析配置发生变化时，执行该命令。该命令执行成功后，该HTTP协议版本的消息按照新配置的HTTP DNS信息进行DNS域名解析。 


[](None)注意事项 

无


[](None)输入参数说明 


[](None)标识|名称|类型|说明
---|---|---|---
VERSION|HTTP版本|参数可选性: 必选参数类型: 枚举，参见枚举定义参数范围: 0-1默认值: HTTP_11|该参数用于设置HTTP协议版本。默认值为1，即HTTP1.1协议。
DNSPFID|DNS模板编号|参数可选性: 任选参数类型: 数字参数范围: 0-255默认值: 0|该参数用于设置DNS模板编号。该编号引用DNS模板配置中的编号，0标识无效。可用SHOW COMM DNS PROFILE查询当前可配置的DNS模板编号。
HTTPDPORT|http默认端口|参数可选性: 任选参数类型: 数字参数范围: 0-65535默认值: 80|该参数用于设置http默认端口。默认值为80。0，表示不支持缺省端口，会触发失败。
HTTPSDPORT|https默认端口|参数可选性: 任选参数类型: 数字参数范围: 0-65535默认值: 443|该参数用于设置https默认端口。默认值为443。0，表示不支持缺省端口，会触发失败。




[](None)命令举例 


`
修改HTTP DNS配置：HTTP版本为HTTP1.1，引用DNS模板编号为1，http默认端口为90，https默认端口443。
SET HTTPDNS:VERSION=1,DNSPFID=1,HTTPDPORT=90,HTTPSDPORT=443;
` 


#### 删除HTTP DNS配置(DELETE HTTPDNS) 
#### 删除HTTP DNS配置(DELETE HTTPDNS) 


[](None)功能说明 

该命令用于删除HTTP DNS配置。当HTTPLB不再需要支持该HTTP版本的域名解析时，执行该命令。该命令执行成功后，删除该HTTP DNS配置。 


[](None)注意事项 

无


[](None)输入参数说明 


[](None)标识|名称|类型|说明
---|---|---|---
VERSION|HTTP版本|参数可选性: 必选参数类型: 枚举，参见枚举定义参数范围: 0-1默认值: HTTP_11|该参数用于设置HTTP协议版本。默认值为1，即HTTP1.1协议。




[](None)命令举例 


`
删除HTTP DNS配置：HTTP版本为HTTP1.1。
DELETE HTTPDNS:VERSION=1;
` 


#### 查询HTTP DNS配置(SHOW HTTPDNS) 
#### 查询HTTP DNS配置(SHOW HTTPDNS) 


[](None)功能说明 

该命令用于查询HTTP DNS配置。当需要查询HTTP DNS配置信息时，执行该命令。该命令执行成功后，显示HTTP版本，DNS模板编号和http/https默认端口信息。 


[](None)注意事项 


 
如需要查询全部HTTP DNS配置配置信息，则不需要输入任何参数。 

 
如需要查询指定协议版本的HTTP DNS配置配置信息，则需要输入HTTP版本。 

 


[](None)输入参数说明 


[](None)标识|名称|类型|说明
---|---|---|---
VERSION|HTTP版本|参数可选性: 任选参数类型: 枚举，参见枚举定义参数范围: 0-1默认值: HTTP_11|该参数用于设置HTTP协议版本。默认值为1，即HTTP1.1协议。




[](None)输出参数说明 


[](None)标识|名称|类型|说明
---|---|---|---
VERSION|HTTP版本|参数可选性: 任选参数类型: 枚举，参见枚举定义参数范围: 0-1默认值: HTTP_11|该参数用于显示HTTP协议版本。默认值为1，即HTTP1.1协议。
DNSPFID|DNS模板编号|参数可选性: 任选参数类型: 数字参数范围: 0-255默认值: 0|该参数用于显示DNS模板编号。该编号引用DNS模板配置中的编号，0标识无效。可用SHOW COMM DNS PROFILE查询当前可配置的DNS模板编号。
HTTPDPORT|http默认端口|参数可选性: 任选参数类型: 数字参数范围: 0-65535默认值: 80|该参数用于显示http默认端口。默认值为80。0，表示不支持缺省端口，会触发失败。
HTTPSDPORT|https默认端口|参数可选性: 任选参数类型: 数字参数范围: 0-65535默认值: 443|该参数用于设置https默认端口。默认值为443。0，表示不支持缺省端口，会触发失败。




[](None)命令举例 


`
查询HTTP DNS配置：HTTP版本为HTTP1.1。
SHOW HTTPDNS:VERSION=1;
` 


## 代理配置 
## 代理配置 


[](None)背景知识 


HTTPLB（Hypertext Transfer Protocol Load Balancing，超文本传输负载均衡）作为客户端，可进行代理配置，以间接的形式接入网络。通过代理主机的方式，可以避免网络拥挤，提高网络访问安全性。 




[](None)功能说明 


代理配置用于配置代理主机，从而避免网络拥挤，提高网络访问安全性。该配置支持设置缺省代理，也可以配置代理主机，通过设置代理匹配规则决定哪些请求使用代理，哪些请求不使用代理。 




[](None)子主题： 






### 代理主机配置 
### 代理主机配置 


[](None)背景知识 


HTTPLB（Hypertext Transfer Protocol Load Balancing，超文本传输负载均衡）作为客户端，能够将请求发送到目的主机，也可以将请求发送到代理主机（Proxy），通过代理主机转发到目的主机。 




[](None)功能说明 


该配置用于配置发送HTTP请求使用的代理主机。当需要将HTTP请求发送到指定定的代理主机时，使用该配置设置代理主机的IP地址及端口或者主机名。 




[](None)子主题： 






#### 新增代理主机配置(ADD PROXYHOST) 
#### 新增代理主机配置(ADD PROXYHOST) 


[](None)功能说明 

该命令用于新增代理主机配置。当需要通过代理主机发送HTTP请求时，执行该命令。命令执行成功后，HTTP请求可以通过该代理主机来发送。


[](None)注意事项 

新增代理主机配置时，注意检查以下内容： 


 
主机名、IPv4地址及端口、IPv6地址及端口三项中必须有一项为有效值。 

 
IPv4地址和IPv4端口必须同时有效或同时无效。 

 
IPv6地址和IPv6端口必须同时有效或同时无效。 

 
IPv6地址冒号后不能以数字0开头，且地址中的字母a~f全部不允许使用大写字母。 

 
只配置主机名时，需要配置相应的DNS模板编号。 

 


[](None)输入参数说明 


[](None)标识|名称|类型|说明
---|---|---|---
PROXYID|编号|参数可选性: 必选参数类型: 数字参数范围: 1-65535|该参数用于设置代理主机编号，代理主机编号全局唯一。
HOSTNAME|代理主机名|参数可选性: 任选参数类型: 字符串参数范围: 0-256|该参数用于设置代理主机的主机名。
IPV4ADDR|IPv4地址|参数可选性: 任选参数类型: 字符串|该参数用于设置代理主机的IPv4地址。
IPV4PORT|IPv4端口|参数可选性: 任选参数类型: 数字参数范围: 1-65535|该参数用于设置代理主机的IPv4端口号。
IPV6ADDR|IPv6地址|参数可选性: 任选参数类型: 字符串|该参数用于设置代理主机的IPv6地址。IPv6地址冒号后不能以数字0开头，且地址中的字母a~f全部不允许使用大写字母。
IPV6PORT|IPv6端口|参数可选性: 任选参数类型: 数字参数范围: 1-65535|该参数用于设置代理主机的IPv6端口号。
DNSPROFILEID|DNS模板编号|参数可选性: 任选参数类型: 数字参数范围: 0-32|该参数用于设置查询代理主机名时使用的DNS模板编号，0标识无效。可用SHOW COMM DNS PROFILE查询当前可配置的DNS模板编号。




[](None)输出参数说明 


[](None)标识|名称|类型|说明
---|---|---|---
PROXYID|编号|参数可选性: 任选参数类型: 数字参数范围: 1-65535|该参数表示代理主机编号，代理主机编号全局唯一。
HOSTNAME|代理主机名|参数可选性: 任选参数类型: 字符串参数范围: 0-256|该参数表示代理主机的主机名。
IPV4ADDR|IPv4地址|参数可选性: 任选参数类型: 字符串|该参数表示代理主机的IPv4地址。
IPV4PORT|IPv4端口|参数可选性: 任选参数类型: 数字参数范围: 1-65535|该参数表示代理主机的IPv4端口号。
IPV6ADDR|IPv6地址|参数可选性: 任选参数类型: 字符串|该参数表示代理主机的IPv6地址。IPv6地址冒号后不能以数字0开头，且地址中的字母a~f全部不允许使用大写字母。
IPV6PORT|IPv6端口|参数可选性: 任选参数类型: 数字参数范围: 1-65535|该参数表示代理主机的IPv6端口号。
DNSPROFILEID|DNS模板编号|参数可选性: 任选参数类型: 数字参数范围: 0-32|该参数表示查询代理主机名时使用的DNS模板编号，0标识无效。可用SHOW COMM DNS PROFILE查询当前可配置的DNS模板编号。




[](None)命令举例 


`
新增代理主机配置：编号为1，代理主机名为“test.cn”，IPv4地址为1.2.3.4，IPv4端口为8080，IPv6地址为10::10，IPv6端口为8080。
ADD PROXYHOST:PROXYID=1,HOSTNAME="test.cn",IPV4ADDR=1.2.3.4,IPV4PORT=8080,IPV6ADDR="10::10",IPV6PORT=8080;
` 


#### 修改代理主机配置(SET PROXYHOST) 
#### 修改代理主机配置(SET PROXYHOST) 


[](None)功能说明 

该命令用于修改代理主机配置。当代理主机的IP地址或端口等发生变化时，执行该命令。命令执行成功后，HTTP请求将被发送到新的代理主机。


[](None)注意事项 

修改代理主机配置时，注意检查以下内容： 


 
主机名、IPv4地址及端口、IPv6地址及端口三项中必须有一项为有效值。 

 
IPv4地址和IPv4端口必须同时有效或同时无效。 

 
IPv6地址和IPv6端口必须同时有效或同时无效。 

 
IPv6地址冒号后不能以数字0开头，且地址中的字母a~f全部不允许使用大写字母。 

 
只配置主机名时，需要配置相应的DNS模板编号。 

 


[](None)输入参数说明 


[](None)标识|名称|类型|说明
---|---|---|---
PROXYID|编号|参数可选性: 必选参数类型: 数字参数范围: 1-65535|该参数用于设置代理主机编号，代理主机编号全局唯一。
HOSTNAME|代理主机名|参数可选性: 任选参数类型: 字符串参数范围: 0-256|该参数用于设置代理主机的主机名。
IPV4ADDR|IPv4地址|参数可选性: 任选参数类型: 字符串|该参数用于设置代理主机的IPv4地址。
IPV4PORT|IPv4端口|参数可选性: 任选参数类型: 数字参数范围: 1-65535|该参数用于设置代理主机的IPv4端口号。
IPV6ADDR|IPv6地址|参数可选性: 任选参数类型: 字符串|该参数用于设置代理主机的IPv6地址。IPv6地址冒号后不能以数字0开头，且地址中的字母a~f全部不允许使用大写字母。
IPV6PORT|IPv6端口|参数可选性: 任选参数类型: 数字参数范围: 1-65535|该参数用于设置代理主机的IPv6端口号。
DNSPROFILEID|DNS模板编号|参数可选性: 任选参数类型: 数字参数范围: 0-32|该参数用于设置查询代理主机名时使用的DNS模板编号，0标识无效。可用SHOW COMM DNS PROFILE查询当前可配置的DNS模板编号。




[](None)输出参数说明 


[](None)标识|名称|类型|说明
---|---|---|---
PROXYID|编号|参数可选性: 任选参数类型: 数字参数范围: 1-65535|该参数表示代理主机编号，代理主机编号全局唯一。
HOSTNAME|代理主机名|参数可选性: 任选参数类型: 字符串参数范围: 0-256|该参数表示代理主机的主机名。
IPV4ADDR|IPv4地址|参数可选性: 任选参数类型: 字符串|该参数表示代理主机的IPv4地址。
IPV4PORT|IPv4端口|参数可选性: 任选参数类型: 数字参数范围: 1-65535|该参数表示代理主机的IPv4端口号。
IPV6ADDR|IPv6地址|参数可选性: 任选参数类型: 字符串|该参数表示代理主机的IPv6地址。IPv6地址冒号后不能以数字0开头，且地址中的字母a~f全部不允许使用大写字母。
IPV6PORT|IPv6端口|参数可选性: 任选参数类型: 数字参数范围: 1-65535|该参数表示代理主机的IPv6端口号。
DNSPROFILEID|DNS模板编号|参数可选性: 任选参数类型: 数字参数范围: 0-32|该参数表示查询代理主机名时使用的DNS模板编号，0标识无效。可用SHOW COMM DNS PROFILE查询当前可配置的DNS模板编号。




[](None)命令举例 


`
设置编号为1的代理主机配置：代理主机名修改为“test.cn”，IPv4地址修改为1.2.3.4，IPv4端口修改为8080，IPv6地址修改为10::10，IPv6端口修改为8080。
SET PROXYHOST:PROXYID=1,HOSTNAME="test.cn",IPV4ADDR=1.2.3.4,IPV4PORT=8080,IPV6ADDR="10::10",IPV6PORT=8080;
` 


#### 删除代理主机配置(DELETE PROXYHOST) 
#### 删除代理主机配置(DELETE PROXYHOST) 


[](None)功能说明 

该命令用于删除代理主机配置。当不再需要使用该代理主机时，执行该命令。命令执行成功后，本网元将不会向该代理主机发送HTTP请求。


[](None)注意事项 

删除配置时，如果该代理主机编号被代理匹配规则（SHOW PROXYMATCHRULE）或缺省代理配置（SHOW DEFAULTPROXY）引用，则该代理主机无法被删除。 


[](None)输入参数说明 


[](None)标识|名称|类型|说明
---|---|---|---
PROXYID|编号|参数可选性: 必选参数类型: 数字参数范围: 1-65535|该参数用于设置代理主机编号，代理主机编号全局唯一。




[](None)输出参数说明 


[](None)标识|名称|类型|说明
---|---|---|---
PROXYID|编号|参数可选性: 任选参数类型: 数字参数范围: 1-65535|该参数表示代理主机编号，代理主机编号全局唯一。
HOSTNAME|代理主机名|参数可选性: 任选参数类型: 字符串参数范围: 0-256|该参数表示代理主机的主机名。
IPV4ADDR|IPv4地址|参数可选性: 任选参数类型: 字符串|该参数表示代理主机的IPv4地址。
IPV4PORT|IPv4端口|参数可选性: 任选参数类型: 数字参数范围: 1-65535|该参数表示代理主机的IPv4端口号。
IPV6ADDR|IPv6地址|参数可选性: 任选参数类型: 字符串|该参数表示代理主机的IPv6地址。IPv6地址冒号后不能以数字0开头，且地址中的字母a~f全部不允许使用大写字母。
IPV6PORT|IPv6端口|参数可选性: 任选参数类型: 数字参数范围: 1-65535|该参数表示代理主机的IPv6端口号。
DNSPROFILEID|DNS模板编号|参数可选性: 任选参数类型: 数字参数范围: 0-32|该参数表示查询代理主机名时使用的DNS模板编号，0标识无效。可用SHOW COMM DNS PROFILE查询当前可配置的DNS模板编号。




[](None)命令举例 


`
删除编号为1的代理主机配置。
DELETE PROXYHOST:PROXYID=1
` 


#### 查询代理主机配置(SHOW PROXYHOST) 
#### 查询代理主机配置(SHOW PROXYHOST) 


[](None)功能说明 

该命令用于查询代理主机配置，包括：编号、代理主机名、IPv4地址、IPv4端口、IPv6地址、IPv6端口。当需要查询HTTP代理主机配置时，执行本命令。


[](None)注意事项 

无。


[](None)输入参数说明 


[](None)标识|名称|类型|说明
---|---|---|---
PROXYID|编号|参数可选性: 任选参数类型: 数字参数范围: 1-65535|该参数用于设置代理主机编号，代理主机编号全局唯一。




[](None)输出参数说明 


[](None)标识|名称|类型|说明
---|---|---|---
PROXYID|编号|参数可选性: 任选参数类型: 数字参数范围: 1-65535|该参数表示代理主机编号，代理主机编号全局唯一。
HOSTNAME|代理主机名|参数可选性: 任选参数类型: 字符串参数范围: 0-256|该参数表示代理主机的主机名。
IPV4ADDR|IPv4地址|参数可选性: 任选参数类型: 字符串|该参数表示代理主机的IPv4地址。
IPV4PORT|IPv4端口|参数可选性: 任选参数类型: 数字参数范围: 1-65535|该参数表示代理主机的IPv4端口号。
IPV6ADDR|IPv6地址|参数可选性: 任选参数类型: 字符串|该参数表示代理主机的IPv6地址。IPv6地址冒号后不能以数字0开头，且地址中的字母a~f全部不允许使用大写字母。
IPV6PORT|IPv6端口|参数可选性: 任选参数类型: 数字参数范围: 1-65535|该参数表示代理主机的IPv6端口号。
DNSPROFILEID|DNS模板编号|参数可选性: 任选参数类型: 数字参数范围: 0-32|该参数表示查询代理主机名时使用的DNS模板编号，0标识无效。可用SHOW COMM DNS PROFILE查询当前可配置的DNS模板编号。




[](None)命令举例 


`
查询编号为1的代理服务器配置。
SHOW PROXYHOST:PROXYID=1;

(No.1) : SHOW PROXYHOST:PROXYID=1:
-----------------CommonS_HTTP_LB_0----------------
编号 代理主机名 IPv4地址 IPv4端口 IPv6地址 IPv6端口 DNS模板编号
1    test.cn    1.2.3.4  8080     10::10   8080     1 
记录数：1

` 


### 缺省代理配置 
### 缺省代理配置 


[](None)背景知识 


HTTPLB（Hypertext Transfer Protocol Load Balancing，超文本传输负载均衡）作为客户端使用代理主机时，如果无法匹配到任何代理匹配规则，可以使用缺省代理配置。 




[](None)功能说明 


该配置用于代理主机的缺省配置。当无法匹配到任何代理匹配规则时，使用缺省配置。 




[](None)子主题： 






#### 新增缺省代理配置(ADD DEFAULTPROXY) 
#### 新增缺省代理配置(ADD DEFAULTPROXY) 


[](None)功能说明 

该命令用于新增缺省代理配置。当发送的HTTP请求无法匹配到可以使用的代理匹配规则时，执行该命令添加缺省规则。命令执行成功后，无法根据代理匹配规则发送的HTTP请求将根据缺省规则发送。


[](None)注意事项 

新增缺省代理配置时，注意检查以下内容： 

当执行策略为使用代理时，代理主机编号中的编号必须在代理主机配置中存在。 


[](None)输入参数说明 


[](None)标识|名称|类型|说明
---|---|---|---
ID|编号|参数可选性: 必选参数类型: 数字参数范围: 1-65535|该参数用于设置缺省代理配置编号，编号全局唯一。
HTTP_VERSION|HTTP版本|参数可选性: 必选参数类型: 枚举，参见枚举定义参数范围: 0-1默认值: HTTP_2|该参数用于设置缺省代理配置的HTTP版本。HTTP_2：HTTP 2。HTTP_11：HTTP 1.1。
SCHEME|Scheme|参数可选性: 必选参数类型: 枚举，参见枚举定义参数范围: 0-1默认值: HTTP|该参数用于设置缺省代理配置的Scheme。HTTP：HTTP，表示不使用TLS安全连接功能。HTTPS：HTTPS，表示使用TLS安全连接功能。
ACTION|执行策略|参数可选性: 必选参数类型: 枚举，参见枚举定义参数范围: 0-1默认值: USE_PROXY|该参数用于设置此缺省代理配置匹配成功后本网元执行的动作，是使用代理主机发送请求或者不使用代理主机。NO_PROXY：不使用代理主机。USE_PROXY：使用代理主机。
PROXYIDS|代理主机编号|参数可选性: 任选参数类型: 字符串参数范围: 0-256|该参数用于设置发送HTTP请求使用的代理主机编号，该编号必须在代理主机配置SHOW PROXYHOST中已经配置。




[](None)输出参数说明 


[](None)标识|名称|类型|说明
---|---|---|---
ID|编号|参数可选性: 任选参数类型: 数字参数范围: 1-65535|该参数表示缺省代理配置编号，编号全局唯一。
HTTP_VERSION|HTTP版本|参数可选性: 任选参数类型: 枚举，参见枚举定义参数范围: 0-1默认值: HTTP_2|该参数表示缺省代理配置的HTTP版本。HTTP_2：HTTP 2。HTTP_11：HTTP 1.1。
SCHEME|Scheme|参数可选性: 任选参数类型: 枚举，参见枚举定义参数范围: 0-1默认值: HTTP|该参数表示缺省代理配置的Scheme。HTTP：HTTP，表示不使用TLS安全连接功能。HTTPS：HTTPS，表示使用TLS安全连接功能。
ACTION|执行策略|参数可选性: 任选参数类型: 枚举，参见枚举定义参数范围: 0-1默认值: USE_PROXY|该参数表示此缺省代理配置匹配成功后本网元执行的动作，是使用代理主机发送请求或者不使用代理主机。NO_PROXY：不使用代理主机。USE_PROXY：使用代理主机。
PROXYIDS|代理主机编号|参数可选性: 任选参数类型: 字符串参数范围: 0-256|该参数表示发送HTTP请求使用的代理主机编号，该编号必须在代理主机配置SHOW PROXYHOST中已经配置。




[](None)命令举例 


`
新增缺省代理配置：编号为1，HTTP版本为HTTP2，Scheme为HTTP，执行策略为使用代理，使用的代理主机编号为2。
ADD DEFAULTPROXY:ID=1,HTTP_VERSION="HTTP_2",SCHEME="HTTP",ACTION="USE_PROXY",PROXYIDS="2";
` 


#### 修改缺省代理配置(SET DEFAULTPROXY) 
#### 修改缺省代理配置(SET DEFAULTPROXY) 


[](None)功能说明 

该命令用于修改缺省代理配置。当缺省代理规则发生变化时，执行该命令。命令执行成功后，无法匹配到代理匹配规则的HTTP请求将根据新的缺省规则发送。


[](None)注意事项 

无。


[](None)输入参数说明 


[](None)标识|名称|类型|说明
---|---|---|---
ID|编号|参数可选性: 必选参数类型: 数字参数范围: 1-65535|该参数用于设置缺省代理配置编号，编号全局唯一。
HTTP_VERSION|HTTP版本|参数可选性: 任选参数类型: 枚举，参见枚举定义参数范围: 0-1默认值: HTTP_2|该参数用于设置缺省代理配置的HTTP版本。HTTP_2：HTTP 2。HTTP_11：HTTP 1.1。
SCHEME|Scheme|参数可选性: 任选参数类型: 枚举，参见枚举定义参数范围: 0-1默认值: HTTP|该参数用于设置缺省代理配置的Scheme。HTTP：HTTP，表示不使用TLS安全连接功能。HTTPS：HTTPS，表示使用TLS安全连接功能。
ACTION|执行策略|参数可选性: 任选参数类型: 枚举，参见枚举定义参数范围: 0-1默认值: USE_PROXY|该参数用于设置此缺省代理配置匹配成功后本网元执行的动作，是使用代理主机发送请求或者不使用代理主机。NO_PROXY：不使用代理主机。USE_PROXY：使用代理主机。
PROXYIDS|代理主机编号|参数可选性: 任选参数类型: 字符串参数范围: 0-256|该参数用于设置发送HTTP请求使用的代理主机编号，该编号必须在代理主机配置SHOW PROXYHOST中已经配置。




[](None)输出参数说明 


[](None)标识|名称|类型|说明
---|---|---|---
ID|编号|参数可选性: 任选参数类型: 数字参数范围: 1-65535|该参数表示缺省代理配置编号，编号全局唯一。
HTTP_VERSION|HTTP版本|参数可选性: 任选参数类型: 枚举，参见枚举定义参数范围: 0-1默认值: HTTP_2|该参数表示缺省代理配置的HTTP版本。HTTP_2：HTTP 2。HTTP_11：HTTP 1.1。
SCHEME|Scheme|参数可选性: 任选参数类型: 枚举，参见枚举定义参数范围: 0-1默认值: HTTP|该参数表示缺省代理配置的Scheme。HTTP：HTTP，表示不使用TLS安全连接功能。HTTPS：HTTPS，表示使用TLS安全连接功能。
ACTION|执行策略|参数可选性: 任选参数类型: 枚举，参见枚举定义参数范围: 0-1默认值: USE_PROXY|该参数表示此缺省代理配置匹配成功后本网元执行的动作，是使用代理主机发送请求或者不使用代理主机。NO_PROXY：不使用代理主机。USE_PROXY：使用代理主机。
PROXYIDS|代理主机编号|参数可选性: 任选参数类型: 字符串参数范围: 0-256|该参数表示发送HTTP请求使用的代理主机编号，该编号必须在代理主机配置SHOW PROXYHOST中已经配置。




[](None)命令举例 


`
设置编号为1的缺省代理配置，执行策略修改为使用代理，使用的代理主机编号修改为2。
SET DEFAULTPROXY:ID=1,ACTION="USE_PROXY",PROXYIDS="2";
` 


#### 删除缺省代理配置(DELETE DEFAULTPROXY) 
#### 删除缺省代理配置(DELETE DEFAULTPROXY) 


[](None)功能说明 

该命令用于删除缺省代理配置。当不再需要使用缺省代理规则时，执行该命令。命令执行成功后，无法匹配到代理匹配规则的HTTP请求将不发送到代理主机。


[](None)注意事项 

无。


[](None)输入参数说明 


[](None)标识|名称|类型|说明
---|---|---|---
ID|编号|参数可选性: 必选参数类型: 数字参数范围: 1-65535|该参数用于设置缺省代理配置编号，编号全局唯一。




[](None)输出参数说明 


[](None)标识|名称|类型|说明
---|---|---|---
ID|编号|参数可选性: 任选参数类型: 数字参数范围: 1-65535|该参数表示缺省代理配置编号，编号全局唯一。
HTTP_VERSION|HTTP版本|参数可选性: 任选参数类型: 枚举，参见枚举定义参数范围: 0-1默认值: HTTP_2|该参数表示缺省代理配置的HTTP版本。HTTP_2：HTTP 2。HTTP_11：HTTP 1.1。
SCHEME|Scheme|参数可选性: 任选参数类型: 枚举，参见枚举定义参数范围: 0-1默认值: HTTP|该参数表示缺省代理配置的Scheme。HTTP：HTTP，表示不使用TLS安全连接功能。HTTPS：HTTPS，表示使用TLS安全连接功能。
ACTION|执行策略|参数可选性: 任选参数类型: 枚举，参见枚举定义参数范围: 0-1默认值: USE_PROXY|该参数表示此缺省代理配置匹配成功后本网元执行的动作，是使用代理主机发送请求或者不使用代理主机。NO_PROXY：不使用代理主机。USE_PROXY：使用代理主机。
PROXYIDS|代理主机编号|参数可选性: 任选参数类型: 字符串参数范围: 0-256|该参数表示发送HTTP请求使用的代理主机编号，该编号必须在代理主机配置SHOW PROXYHOST中已经配置。




[](None)命令举例 


`
删除编号为1的缺省代理配置。
DELETE DEFAULTPROXY:ID=1;
` 


#### 查询缺省代理配置(SHOW DEFAULTPROXY) 
#### 查询缺省代理配置(SHOW DEFAULTPROXY) 


[](None)功能说明 

该命令用于查询缺省代理配置，包括：编号、HTTP版本、Scheme、执行策略、代理主机编号等配置信息。当需要查看缺省代理配置的详细配置信息时，执行本命令。


[](None)注意事项 

无。


[](None)输入参数说明 


[](None)标识|名称|类型|说明
---|---|---|---
ID|编号|参数可选性: 任选参数类型: 数字参数范围: 1-65535|该参数用于设置缺省代理配置编号，编号全局唯一。




[](None)输出参数说明 


[](None)标识|名称|类型|说明
---|---|---|---
ID|编号|参数可选性: 任选参数类型: 数字参数范围: 1-65535|该参数表示缺省代理配置编号，编号全局唯一。
HTTP_VERSION|HTTP版本|参数可选性: 任选参数类型: 枚举，参见枚举定义参数范围: 0-1默认值: HTTP_2|该参数表示缺省代理配置的HTTP版本。HTTP_2：HTTP 2。HTTP_11：HTTP 1.1。
SCHEME|Scheme|参数可选性: 任选参数类型: 枚举，参见枚举定义参数范围: 0-1默认值: HTTP|该参数表示缺省代理配置的Scheme。HTTP：HTTP，表示不使用TLS安全连接功能。HTTPS：HTTPS，表示使用TLS安全连接功能。
ACTION|执行策略|参数可选性: 任选参数类型: 枚举，参见枚举定义参数范围: 0-1默认值: USE_PROXY|该参数表示此缺省代理配置匹配成功后本网元执行的动作，是使用代理主机发送请求或者不使用代理主机。NO_PROXY：不使用代理主机。USE_PROXY：使用代理主机。
PROXYIDS|代理主机编号|参数可选性: 任选参数类型: 字符串参数范围: 0-256|该参数表示发送HTTP请求使用的代理主机编号，该编号必须在代理主机配置SHOW PROXYHOST中已经配置。




[](None)命令举例 


`
查询编号为1的缺省代理配置。
SHOW DEFAULTPROXY:ID=1;

(No.1) : SHOW DEFAULTPROXY:
-----------------CommonS_HTTP_LB_0----------------
编号 HTTP版本 Scheme 执行策略 代理主机编号
1    HTTP 2   HTTP   使用代理  1

记录数：1

` 


### 代理匹配规则配置 
### 代理匹配规则配置 


[](None)背景知识 


HTTPLB（Hypertext Transfer Protocol Load Balancing，超文本传输负载均衡）作为客户端使用代理主机时，需要使用一些规则来确定哪些请求使用代理主机，哪些请求不使用代理主机。此配置用来配置匹配规则，满足多种使用场景。 




[](None)功能说明 


该配置用于配置如何将HTTP请求发送到目的主机。当需要将HTTP请求发送到代理主机，由代理主机将请求转发到目的主机时，或者对特定的主机不需要使用代理主机时，使用该配置进行设置调整。 




[](None)子主题： 






#### 新增代理匹配规则配置(ADD PROXYMATCHRULE) 
#### 新增代理匹配规则配置(ADD PROXYMATCHRULE) 


[](None)功能说明 

该命令用于新增代理主机匹配规则。当需要对特定的HTTP请求使用指定的代理主机，或者对特定的HTTP请求不使用代理主机时，执行该命令。命令执行成功后，本网元会根据代理匹配规则的匹配结果发送HTTP请求。


[](None)注意事项 

新增代理匹配规则时，注意检查以下内容： 


 
IP/Prefix规则的合法性。 

 
当执行策略为使用代理时，代理主机编号中的编号必须在代理主机配置（SHOW PROXYHOST）中存在。 

 


[](None)输入参数说明 


[](None)标识|名称|类型|说明
---|---|---|---
ID|编号|参数可选性: 必选参数类型: 数字参数范围: 1-65535|该参数用于设置代理匹配规则编号，编号全局唯一。
HTTP_VERSION|HTTP版本|参数可选性: 必选参数类型: 枚举，参见枚举定义参数范围: 0-1默认值: HTTP_2|该参数用于设置代理匹配规则的HTTP版本。HTTP_2：HTTP 2。HTTP_11：HTTP 1.1。
SCHEME|Scheme|参数可选性: 必选参数类型: 枚举，参见枚举定义参数范围: 0-1默认值: HTTP|该参数用于设置代理匹配规则的Scheme。HTTP：HTTP，表示不使用TLS安全连接功能。HTTPS：HTTPS，表示使用TLS安全连接功能。
RULE_TYPE|规则类型|参数可选性: 必选参数类型: 枚举，参见枚举定义参数范围: 0-1默认值: IP_PREFIX|该参数用于设置代理匹配规则的类型。IP_PREFIX：IP/Prefix格式，使用IP地址加前缀（子网掩码位数）的格式。HOSTSTRING：主机名格式，使用主机名的子字符串。
MATCH_RULE|匹配规则|参数可选性: 必选参数类型: 字符串参数范围: 1-256|该参数用于设置代理匹配规则，用来决定发送的HTTP请求是否匹配到此配置的规则。
ACTION|执行策略|参数可选性: 必选参数类型: 枚举，参见枚举定义参数范围: 0-1默认值: USE_PROXY|该参数用于设置此代理匹配规则匹配成功后本网元执行的动作，是使用代理主机发送请求或者不使用代理主机。NO_PROXY：不使用代理主机。USE_PROXY：使用代理主机。
PROXYIDS|代理主机编号|参数可选性: 任选参数类型: 字符串参数范围: 1-256|该参数用于设置发送HTTP请求使用的代理主机编号，该编号必须在代理主机配置（SHOW PROXYHOST）中已经配置。




[](None)输出参数说明 


[](None)标识|名称|类型|说明
---|---|---|---
ID|编号|参数可选性: 任选参数类型: 数字参数范围: 1-65535|该参数表示代理匹配规则编号，编号全局唯一。
HTTP_VERSION|HTTP版本|参数可选性: 任选参数类型: 枚举，参见枚举定义参数范围: 0-1默认值: HTTP_2|该参数表示代理匹配规则的HTTP版本。HTTP_2：HTTP 2。HTTP_11：HTTP 1.1。
SCHEME|Scheme|参数可选性: 任选参数类型: 枚举，参见枚举定义参数范围: 0-1默认值: HTTP|该参数表示代理匹配规则的Scheme。HTTP：HTTP，表示不使用TLS安全连接功能。HTTPS：HTTPS，表示使用TLS安全连接功能。
RULE_TYPE|规则类型|参数可选性: 任选参数类型: 枚举，参见枚举定义参数范围: 0-1默认值: IP_PREFIX|该参数表示代理匹配规则的类型。IP_PREFIX：IP/Prefix格式，使用IP地址加前缀（子网掩码位数）的格式。HOSTSTRING：主机名格式，使用主机名的子字符串。
MATCH_RULE|匹配规则|参数可选性: 任选参数类型: 字符串参数范围: 1-256|该参数表示代理匹配规则，用来决定发送的HTTP请求是否匹配到此配置的规则。
ACTION|执行策略|参数可选性: 任选参数类型: 枚举，参见枚举定义参数范围: 0-1默认值: USE_PROXY|该参数表示此代理匹配规则匹配成功后本网元执行的动作，是使用代理主机发送请求或者不使用代理主机。NO_PROXY：不使用代理主机。USE_PROXY：使用代理主机。
PROXYIDS|代理主机编号|参数可选性: 任选参数类型: 字符串参数范围: 1-256|该参数表示发送HTTP请求使用的代理主机编号，该编号必须在代理主机配置（SHOW PROXYHOST）中已经配置。




[](None)命令举例 


`
新增代理匹配规则：编号为1，HTTP版本为HTTP2，Scheme为HTTP，规则类型为IP/Prefix，匹配规则为192.168.35.0/24，执行策略为使用代理，使用的代理主机编号为1。
ADD PROXYMATCHRULE:ID=1,HTTP_VERSION="HTTP_2",SCHEME="HTTP",RULE_TYPE="IP_PREFIX",MATCH_RULE="192.168.35.0/24",ACTION="USE_PROXY",PROXYIDS="1,2";
` 


#### 修改代理匹配规则配置(SET PROXYMATCHRULE) 
#### 修改代理匹配规则配置(SET PROXYMATCHRULE) 


[](None)功能说明 

该命令用于修改代理主机匹配规则。当代理主机匹配规则发生变化时，执行该命令。命令执行成功后，本网元会根据新的代理匹配规则的匹配结果发送HTTP请求。


[](None)注意事项 

无。


[](None)输入参数说明 


[](None)标识|名称|类型|说明
---|---|---|---
ID|编号|参数可选性: 必选参数类型: 数字参数范围: 1-65535|该参数用于设置代理匹配规则编号，编号全局唯一。
HTTP_VERSION|HTTP版本|参数可选性: 任选参数类型: 枚举，参见枚举定义参数范围: 0-1默认值: HTTP_2|该参数用于设置代理匹配规则的HTTP版本。HTTP_2：HTTP 2。HTTP_11：HTTP 1.1。
SCHEME|Scheme|参数可选性: 任选参数类型: 枚举，参见枚举定义参数范围: 0-1默认值: HTTP|该参数用于设置代理匹配规则的Scheme。HTTP：HTTP，表示不使用TLS安全连接功能。HTTPS：HTTPS，表示使用TLS安全连接功能。
RULE_TYPE|规则类型|参数可选性: 任选参数类型: 枚举，参见枚举定义参数范围: 0-1默认值: IP_PREFIX|该参数用于设置代理匹配规则的类型。IP_PREFIX：IP/Prefix格式，使用IP地址加前缀（子网掩码位数）的格式。HOSTSTRING：主机名格式，使用主机名的子字符串。
MATCH_RULE|匹配规则|参数可选性: 任选参数类型: 字符串参数范围: 1-256|该参数用于设置代理匹配规则，用来决定发送的HTTP请求是否匹配到此配置的规则。
ACTION|执行策略|参数可选性: 任选参数类型: 枚举，参见枚举定义参数范围: 0-1默认值: USE_PROXY|该参数用于设置此代理匹配规则匹配成功后本网元执行的动作，是使用代理主机发送请求或者不使用代理主机。NO_PROXY：不使用代理主机。USE_PROXY：使用代理主机。
PROXYIDS|代理主机编号|参数可选性: 任选参数类型: 字符串参数范围: 1-256|该参数用于设置发送HTTP请求使用的代理主机编号，该编号必须在代理主机配置（SHOW PROXYHOST）中已经配置。




[](None)输出参数说明 


[](None)标识|名称|类型|说明
---|---|---|---
ID|编号|参数可选性: 任选参数类型: 数字参数范围: 1-65535|该参数表示代理匹配规则编号，编号全局唯一。
HTTP_VERSION|HTTP版本|参数可选性: 任选参数类型: 枚举，参见枚举定义参数范围: 0-1默认值: HTTP_2|该参数表示代理匹配规则的HTTP版本。HTTP_2：HTTP 2。HTTP_11：HTTP 1.1。
SCHEME|Scheme|参数可选性: 任选参数类型: 枚举，参见枚举定义参数范围: 0-1默认值: HTTP|该参数表示代理匹配规则的Scheme。HTTP：HTTP，表示不使用TLS安全连接功能。HTTPS：HTTPS，表示使用TLS安全连接功能。
RULE_TYPE|规则类型|参数可选性: 任选参数类型: 枚举，参见枚举定义参数范围: 0-1默认值: IP_PREFIX|该参数表示代理匹配规则的类型。IP_PREFIX：IP/Prefix格式，使用IP地址加前缀（子网掩码位数）的格式。HOSTSTRING：主机名格式，使用主机名的子字符串。
MATCH_RULE|匹配规则|参数可选性: 任选参数类型: 字符串参数范围: 1-256|该参数表示代理匹配规则，用来决定发送的HTTP请求是否匹配到此配置的规则。
ACTION|执行策略|参数可选性: 任选参数类型: 枚举，参见枚举定义参数范围: 0-1默认值: USE_PROXY|该参数表示此代理匹配规则匹配成功后本网元执行的动作，是使用代理主机发送请求或者不使用代理主机。NO_PROXY：不使用代理主机。USE_PROXY：使用代理主机。
PROXYIDS|代理主机编号|参数可选性: 任选参数类型: 字符串参数范围: 1-256|该参数表示发送HTTP请求使用的代理主机编号，该编号必须在代理主机配置（SHOW PROXYHOST）中已经配置。




[](None)命令举例 


`
设置编号为1的代理匹配规则，执行策略修改为使用代理，使用的代理主机编号修改为3。
SET PROXYMATCHRULE:ID=1,ACTION="USE_PROXY",PROXYIDS="3";
` 


#### 删除代理匹配规则配置(DELETE PROXYMATCHRULE) 
#### 删除代理匹配规则配置(DELETE PROXYMATCHRULE) 


[](None)功能说明 

该命令用于删除代理主机匹配规则。当不再需要使用代理主机匹配规则时，执行该命令。命令执行成功后，本网元将不会再根据此代理匹配规则的匹配结果发送HTTP请求。


[](None)注意事项 

无。


[](None)输入参数说明 


[](None)标识|名称|类型|说明
---|---|---|---
ID|编号|参数可选性: 必选参数类型: 数字参数范围: 1-65535|该参数用于设置代理匹配规则编号，编号全局唯一。




[](None)输出参数说明 


[](None)标识|名称|类型|说明
---|---|---|---
ID|编号|参数可选性: 任选参数类型: 数字参数范围: 1-65535|该参数表示代理匹配规则编号，编号全局唯一。
HTTP_VERSION|HTTP版本|参数可选性: 任选参数类型: 枚举，参见枚举定义参数范围: 0-1默认值: HTTP_2|该参数表示代理匹配规则的HTTP版本。HTTP_2：HTTP 2。HTTP_11：HTTP 1.1。
SCHEME|Scheme|参数可选性: 任选参数类型: 枚举，参见枚举定义参数范围: 0-1默认值: HTTP|该参数表示代理匹配规则的Scheme。HTTP：HTTP，表示不使用TLS安全连接功能。HTTPS：HTTPS，表示使用TLS安全连接功能。
RULE_TYPE|规则类型|参数可选性: 任选参数类型: 枚举，参见枚举定义参数范围: 0-1默认值: IP_PREFIX|该参数表示代理匹配规则的类型。IP_PREFIX：IP/Prefix格式，使用IP地址加前缀（子网掩码位数）的格式。HOSTSTRING：主机名格式，使用主机名的子字符串。
MATCH_RULE|匹配规则|参数可选性: 任选参数类型: 字符串参数范围: 1-256|该参数表示代理匹配规则，用来决定发送的HTTP请求是否匹配到此配置的规则。
ACTION|执行策略|参数可选性: 任选参数类型: 枚举，参见枚举定义参数范围: 0-1默认值: USE_PROXY|该参数表示此代理匹配规则匹配成功后本网元执行的动作，是使用代理主机发送请求或者不使用代理主机。NO_PROXY：不使用代理主机。USE_PROXY：使用代理主机。
PROXYIDS|代理主机编号|参数可选性: 任选参数类型: 字符串参数范围: 1-256|该参数表示发送HTTP请求使用的代理主机编号，该编号必须在代理主机配置（SHOW PROXYHOST）中已经配置。




[](None)命令举例 


`
删除编号为1的代理匹配规则。
DELETE PROXYMATCHRULE:ID=1;
` 


#### 查询代理匹配规则配置(SHOW PROXYMATCHRULE) 
#### 查询代理匹配规则配置(SHOW PROXYMATCHRULE) 


[](None)功能说明 

该命令用于查询代理主机匹配规则，包括：编号、HTTP版本、Scheme、规则类型、匹配规则、执行策略、代理主机编号等配置信息。当需要查询代理主机匹配规则时，执行本命令。


[](None)注意事项 

无。


[](None)输入参数说明 


[](None)标识|名称|类型|说明
---|---|---|---
ID|编号|参数可选性: 任选参数类型: 数字参数范围: 1-65535|该参数用于设置代理匹配规则编号，编号全局唯一。




[](None)输出参数说明 


[](None)标识|名称|类型|说明
---|---|---|---
ID|编号|参数可选性: 任选参数类型: 数字参数范围: 1-65535|该参数表示代理匹配规则编号，编号全局唯一。
HTTP_VERSION|HTTP版本|参数可选性: 任选参数类型: 枚举，参见枚举定义参数范围: 0-1默认值: HTTP_2|该参数表示代理匹配规则的HTTP版本。HTTP_2：HTTP 2。HTTP_11：HTTP 1.1。
SCHEME|Scheme|参数可选性: 任选参数类型: 枚举，参见枚举定义参数范围: 0-1默认值: HTTP|该参数表示代理匹配规则的Scheme。HTTP：HTTP，表示不使用TLS安全连接功能。HTTPS：HTTPS，表示使用TLS安全连接功能。
RULE_TYPE|规则类型|参数可选性: 任选参数类型: 枚举，参见枚举定义参数范围: 0-1默认值: IP_PREFIX|该参数表示代理匹配规则的类型。IP_PREFIX：IP/Prefix格式，使用IP地址加前缀（子网掩码位数）的格式。HOSTSTRING：主机名格式，使用主机名的子字符串。
MATCH_RULE|匹配规则|参数可选性: 任选参数类型: 字符串参数范围: 1-256|该参数表示代理匹配规则，用来决定发送的HTTP请求是否匹配到此配置的规则。
ACTION|执行策略|参数可选性: 任选参数类型: 枚举，参见枚举定义参数范围: 0-1默认值: USE_PROXY|该参数表示此代理匹配规则匹配成功后本网元执行的动作，是使用代理主机发送请求或者不使用代理主机。NO_PROXY：不使用代理主机。USE_PROXY：使用代理主机。
PROXYIDS|代理主机编号|参数可选性: 任选参数类型: 字符串参数范围: 1-256|该参数表示发送HTTP请求使用的代理主机编号，该编号必须在代理主机配置（SHOW PROXYHOST）中已经配置。




[](None)命令举例 


`
查询编号为1的代理匹配规则。
SHOW PROXYMATCHRULE:ID=1;

(No.1) : SHOW PROXYMATCHRULE:
-----------------CommonS_HTTP_LB_0----------------
编号 HTTP版本 Scheme 规则类型       匹配规则        执行策略    代理主机编号
1    HTTP 2   HTTP   IP/Prefix格式  10.43.43.37/32  使用代理    1

记录数：1

` 


## NF地址分区配置 
## NF地址分区配置 


[](None)背景知识 


HTTPLB（Hypertext Transfer Protocol Load Balancing，超文本传输负载均衡）作为客户端时，需要基于对端的网元类型、对端是省内网元还是省外网元、对端是to-Business（面向企业）业务还是to-Customer（面向消费者）业务等条件，限制本端与对端网元的链路上限，减少服务端链路负载。 




[](None)功能说明 


NF地址分区配置用于管理对端网元所属分区信息及其IP地址范围，配置项包括分区标识配置、IPv4地址范围配置、IPv6前缀范围配置。 

当需要限制本端网元与指定IP地址范围的服务端网元之间的建链数时，使用该配置项添加分区标识及对应的IP地址范围，客户端连接策略配置（通过[SHOW CLIENT CONNECTION POLICY](../mml/1220176.html)命令查询）可以关联此分区标识限制链路数量。




[](None)子主题： 






### 分区标识配置 
### 分区标识配置 


[](None)背景知识 


当HTTPLB（Hypertext Transfer Protocol Load Balancing，超文本传输负载均衡）作为客户端，需要限制与远端(服务端)的链路数量时，必须先通过分区标识配置添加分区标识及分区描述信息。IPv4地址范围配置、IPv6前缀范围配置和客户端连接策略配置会引用本配置的分区标识参数，以此作为区分服务端网元类型的关键字。 




[](None)功能说明 


分区标识配置用于配置服务端网元的唯一关键字（分区标识）及其描述信息。 

IPv4地址范围配置（可通过[SHOW IPV4 ADDR RANGE](../mml/1220016.html)命令查询），IPv6前缀范围配置（可通过[SHOW IPV6 ADDR RANGE](../mml/1220020.html)命令查询）和客户端连接策略配置（可通过[SHOW CLIENT CONNECTION POLICY](../mml/1220176.html)命令查询）都需要引用分区标识，使对应的配置划分到相应的分区。

分区描述信息中需要描写限制的服务端网元分区信息，包括省内/省外网元，to-Business/to-Customer业务等信息。 




[](None)子主题： 






#### 新增分区标识配置(ADD ZONE ID DESCRIPTION) 
#### 新增分区标识配置(ADD ZONE ID DESCRIPTION) 


[](None)功能说明 

该命令用于新增分区标识配置。当本端HTTPLB（Hypertext Transfer Protocol Load Balancing，超文本传输负载均衡）作为客户端，需要限制与远端（服务端）的链路数量时，先执行该命令添加分区标识及分区描述信息。命令执行成功后，IPv4地址范围配置、IPv6前缀范围配置和客户端连接策略配置会引用本配置的分区标识参数，以此作为区分服务端网元类型的关键字。 


[](None)注意事项 

分区标识是用来区分对端网元类型的唯一关键字，不允许配置重复。 


[](None)输入参数说明 


[](None)标识|名称|类型|说明
---|---|---|---
ZONEID|分区标识|参数可选性: 必选参数类型: 数字参数范围: 1-65535|该参数用于设置分区标识配置的分区标识。分区标识会被IPv4地址范围配置（ADD IPV4 ADDR RANGE）、IPv6前缀范围配置（ADD IPV6 ADDR RANGE）、客户端连接策略配置（ADD CLIENT CONNECTION POLICY）引用。
DESCRIPTION|分区描述信息|参数可选性: 必选参数类型: 字符串参数范围: 0-128|该参数用于设置分区标识配置的分区描述信息。用于详细介绍分区标识所代表的实际分区信息，例如省内网元、To-Business业务




[](None)输出参数说明 


[](None)标识|名称|类型|说明
---|---|---|---
ZONEID|分区标识|参数可选性: 任选参数类型: 数字参数范围: 1-65535|该参数用于设置分区标识配置的分区标识。分区标识会被IPv4地址范围配置（ADD IPV4 ADDR RANGE）、IPv6前缀范围配置（ADD IPV6 ADDR RANGE）、客户端连接策略配置（ADD CLIENT CONNECTION POLICY）引用。
DESCRIPTION|分区描述信息|参数可选性: 任选参数类型: 字符串参数范围: 0-128|该参数用于设置分区标识配置的分区描述信息。用于详细介绍分区标识所代表的实际分区信息，例如省内网元、To-Business业务




[](None)命令举例 


`
新增分区标识配置：编号1，描述信息"省内"。
ADD ZONE ID DESCRIPTION:ZONEID=1,DESCRIPTION=省内;
` 


#### 修改分区标识配置(SET ZONE ID DESCRIPTION) 
#### 修改分区标识配置(SET ZONE ID DESCRIPTION) 


[](None)功能说明 

该命令用于修改分区标识配置。当需要修改分区标识对应的分区描述信息时，执行该命令。命令执行成功后，引用该分区标识的配置（IPv4地址范围配置、IPv6前缀范围配置和客户端连接策略配置）对应的分区描述信息都发生变更。 


[](None)注意事项 

分区标识是用来区分对端网元类型的唯一关键字，不允许配置重复。分区标识会被IPv4地址范围配置（[ADD IPV4 ADDR RANGE](../mml/1220013.html)）、IPv6前缀范围配置（[ADD IPV6 ADDR RANGE](../mml/1220017.html)）、客户端连接策略配置（[ADD CLIENT CONNECTION POLICY](../mml/1220173.html)）引用。


[](None)输入参数说明 


[](None)标识|名称|类型|说明
---|---|---|---
ZONEID|分区标识|参数可选性: 必选参数类型: 数字参数范围: 1-65535|该参数用于设置分区标识配置的分区标识。分区标识会被IPv4地址范围配置（ADD IPV4 ADDR RANGE）、IPv6前缀范围配置（ADD IPV6 ADDR RANGE）、客户端连接策略配置（ADD CLIENT CONNECTION POLICY）引用。
DESCRIPTION|分区描述信息|参数可选性: 任选参数类型: 字符串参数范围: 0-128|该参数用于设置分区标识配置的分区描述信息。用于详细介绍分区标识所代表的实际分区信息，例如省内网元、To-Business业务




[](None)输出参数说明 


[](None)标识|名称|类型|说明
---|---|---|---
ZONEID|分区标识|参数可选性: 任选参数类型: 数字参数范围: 1-65535|该参数用于设置分区标识配置的分区标识。分区标识会被IPv4地址范围配置（ADD IPV4 ADDR RANGE）、IPv6前缀范围配置（ADD IPV6 ADDR RANGE）、客户端连接策略配置（ADD CLIENT CONNECTION POLICY）引用。
DESCRIPTION|分区描述信息|参数可选性: 任选参数类型: 字符串参数范围: 0-128|该参数用于设置分区标识配置的分区描述信息。用于详细介绍分区标识所代表的实际分区信息，例如省内网元、To-Business业务




[](None)命令举例 


`
设置分区标识配置：编号1，描述信息"省内"。
SET ZONE ID DESCRIPTION:ZONEID=1,DESCRIPTION=省内;
` 


#### 删除分区标识配置(DELETE ZONE ID DESCRIPTION) 
#### 删除分区标识配置(DELETE ZONE ID DESCRIPTION) 


[](None)功能说明 

该命令用于删除分区标识配置。当不再需要该分区标识时，执行该命令。
命令执行成功后，IPv4地址范围配置、IPv6前缀范围配置和客户端连接策略配置不能引用此分区标识，或以此作为区分服务端网元类型的关键字。 


[](None)注意事项 

分区标识是用来区分对端网元类型的唯一关键字，不允许配置重复。分区标识会被IPv4地址范围配置（[ADD IPV4 ADDR RANGE](../mml/1220013.html)）、IPv6前缀范围配置（[ADD IPV6 ADDR RANGE](../mml/1220017.html)）、客户端连接策略配置（[ADD CLIENT CONNECTION POLICY](../mml/1220173.html)）引用。


[](None)输入参数说明 


[](None)标识|名称|类型|说明
---|---|---|---
ZONEID|分区标识|参数可选性: 必选参数类型: 数字参数范围: 1-65535|该参数用于设置分区标识配置的分区标识。分区标识会被IPv4地址范围配置（ADD IPV4 ADDR RANGE）、IPv6前缀范围配置（ADD IPV6 ADDR RANGE）、客户端连接策略配置（ADD CLIENT CONNECTION POLICY）引用。




[](None)输出参数说明 


[](None)标识|名称|类型|说明
---|---|---|---
ZONEID|分区标识|参数可选性: 任选参数类型: 数字参数范围: 1-65535|该参数用于设置分区标识配置的分区标识。分区标识会被IPv4地址范围配置（ADD IPV4 ADDR RANGE）、IPv6前缀范围配置（ADD IPV6 ADDR RANGE）、客户端连接策略配置（ADD CLIENT CONNECTION POLICY）引用。
DESCRIPTION|分区描述信息|参数可选性: 任选参数类型: 字符串参数范围: 0-128|该参数用于设置分区标识配置的分区描述信息。用于详细介绍分区标识所代表的实际分区信息，例如省内网元、To-Business业务




[](None)命令举例 


`
删除分区标识配置：编号1。
DELETE ZONE ID DESCRIPTION:ZONEID=1;
` 


#### 查询分区标识配置(SHOW ZONE ID DESCRIPTION) 
#### 查询分区标识配置(SHOW ZONE ID DESCRIPTION) 


[](None)功能说明 

该命令用于查询分区标识配置。当需要查询分区标识配置的信息时，使用该命令。该命令执行成功后，显示该配置的分区标识和分区描述信息。 


[](None)注意事项 


 
如需要查询全部分区标识配置信息，则不需要输入任何参数。 

 
如需要查询指定的分区标识配置，则需要输入分区标识。 

 


[](None)输入参数说明 


[](None)标识|名称|类型|说明
---|---|---|---
ZONEID|分区标识|参数可选性: 任选参数类型: 数字参数范围: 1-65535|该参数用于设置分区标识配置的分区标识。分区标识会被IPv4地址范围配置（ADD IPV4 ADDR RANGE）、IPv6前缀范围配置（ADD IPV6 ADDR RANGE）、客户端连接策略配置（ADD CLIENT CONNECTION POLICY）引用。




[](None)输出参数说明 


[](None)标识|名称|类型|说明
---|---|---|---
ZONEID|分区标识|参数可选性: 任选参数类型: 数字参数范围: 1-65535|该参数用于设置分区标识配置的分区标识。分区标识会被IPv4地址范围配置（ADD IPV4 ADDR RANGE）、IPv6前缀范围配置（ADD IPV6 ADDR RANGE）、客户端连接策略配置（ADD CLIENT CONNECTION POLICY）引用。
DESCRIPTION|分区描述信息|参数可选性: 任选参数类型: 字符串参数范围: 0-128|该参数用于设置分区标识配置的分区描述信息。用于详细介绍分区标识所代表的实际分区信息，例如省内网元、To-Business业务




[](None)命令举例 


`
查询分区标识配置信息：编号1。
SHOW ZONE ID DESCRIPTION:ZONEID=1;

(No.1) : SHOW ZONE ID DESCRIPTION:
-----------------CommonS_HTTP_LB_0----------------
操作维护       分区标识 分区描述信息 
-------------------------------------
复制 修改      1        省内         
复制 修改      2        省外         
-------------------------------------
记录数：2
执行成功开始时间:2021-04-15 00:51:43 耗时: 0.957 秒

` 


### IPv4地址范围配置 
### IPv4地址范围配置 


[](None)背景知识 


当需要限制 HTTPLB（Hypertext Transfer Protocol Load Balancing，超文本传输负载均衡）与远端指定IPv4地址范围内网元之间的链路数时，需要添加该配置。HTTPLB会将IPv4地址范围内的所有服务端网元都划分到对应的分区中，结合客户端连接策略限制本端链路数。 




[](None)功能说明 


IPv4地址范围配置用于将ipv4地址范围划分到归属的分区标识中。 

该配置中的归属分区标识需要关联分区标识配置（可通过[SHOW ZONE ID DESCRIPTION](../mml/1220012.html)命令查询）。




[](None)子主题： 






#### 新增IPv4地址范围配置(ADD IPV4 ADDR RANGE) 
#### 新增IPv4地址范围配置(ADD IPV4 ADDR RANGE) 


[](None)功能说明 

该命令用于新增IPv4地址范围配置，当需要限制HTTPLB（Hypertext Transfer Protocol Load Balancing，超文本传输负载均衡）与远端指定IPv4地址范围内网元之间的链路数时，执行该命令。命令执行成功后，HTTPLB会将IPv4地址范围内的所有服务端网元都划分到对应的分区中，结合客户端连接策略（可通过命令[SHOW CLIENT CONNECTION POLICY](../mml/1220176.html)查询）限制本端链路数。


[](None)注意事项 


 
增加IPv4地址范围配置，属于该配置中地址范围内的远端网元链路会重建，存在话务少量呼损的风险。 

 
多个配置编号内的地址范围不允许存在重叠部分。 

 


[](None)输入参数说明 


[](None)标识|名称|类型|说明
---|---|---|---
ID|标识|参数可选性: 必选参数类型: 数字参数范围: 1-65535|该参数用于设置IPv4地址范围配置的标识。
START|起始|参数可选性: 必选参数类型: 字符串|该参数用于设置IPv4地址范围配置的起始地址。
END|结束|参数可选性: 必选参数类型: 字符串|该参数用于设置IPv4地址范围配置的结束地址。
ZONEID|归属分区标识|参数可选性: 必选参数类型: 数字参数范围: 1-65535|该参数用于设置IPv4地址范围配置的归属分区标识。其中分区标识关联分区标志配置（可通过命令SHOW ZONE ID DESCRIPTION查询），同时客户端连接策略（可通过命令SHOW CLIENT CONNECTION POLICY查询）中也会关联此分区标识。




[](None)输出参数说明 


[](None)标识|名称|类型|说明
---|---|---|---
ID|标识|参数可选性: 任选参数类型: 数字参数范围: 1-65535|该参数用于设置IPv4地址范围配置的标识。
START|起始|参数可选性: 任选参数类型: 字符串|该参数用于设置IPv4地址范围配置的起始地址。
END|结束|参数可选性: 任选参数类型: 字符串|该参数用于设置IPv4地址范围配置的结束地址。
ZONEID|归属分区标识|参数可选性: 任选参数类型: 数字参数范围: 1-65535|该参数用于设置IPv4地址范围配置的归属分区标识。其中分区标识关联分区标志配置（可通过命令SHOW ZONE ID DESCRIPTION查询），同时客户端连接策略（可通过命令SHOW CLIENT CONNECTION POLICY查询）中也会关联此分区标识。




[](None)命令举例 


`
新增IPv4地址范围配置：编号1，起始地址"1.2.3.4"，结束地址"1.2.3.4"，归属分区标识1。
ADD IPV4 ADDR RANGE:ID=1,START="1.2.3.4",END="1.2.3.4",ZONEID=1;
` 


#### 修改IPv4地址范围配置(SET IPV4 ADDR RANGE) 
#### 修改IPv4地址范围配置(SET IPV4 ADDR RANGE) 


[](None)功能说明 

该命令用于修改IPv4地址范围配置，当需要修改IPv4地址范围或者对应的归属分区标识时，执行该命令。命令执行成功后，该配置的IPv4地址范围或者对应的分区标识会发生变更。 


[](None)注意事项 


 
IPv4地址范围配置变化时，属于该配置中地址范围内的远端网元链路会重建，存在话务少量呼损的风险。 

 
多个配置编号内的地址范围不允许存在重叠部分。 

 


[](None)输入参数说明 


[](None)标识|名称|类型|说明
---|---|---|---
ID|标识|参数可选性: 必选参数类型: 数字参数范围: 1-65535|该参数用于设置IPv4地址范围配置的标识。
START|起始|参数可选性: 任选参数类型: 字符串|该参数用于设置IPv4地址范围配置的起始地址。
END|结束|参数可选性: 任选参数类型: 字符串|该参数用于设置IPv4地址范围配置的结束地址。
ZONEID|归属分区标识|参数可选性: 任选参数类型: 数字参数范围: 1-65535|该参数用于设置IPv4地址范围配置的归属分区标识。其中分区标识关联分区标志配置（可通过命令SHOW ZONE ID DESCRIPTION查询），同时客户端连接策略（可通过命令SHOW CLIENT CONNECTION POLICY查询）中也会关联此分区标识。




[](None)输出参数说明 


[](None)标识|名称|类型|说明
---|---|---|---
ID|标识|参数可选性: 任选参数类型: 数字参数范围: 1-65535|该参数用于设置IPv4地址范围配置的标识。
START|起始|参数可选性: 任选参数类型: 字符串|该参数用于设置IPv4地址范围配置的起始地址。
END|结束|参数可选性: 任选参数类型: 字符串|该参数用于设置IPv4地址范围配置的结束地址。
ZONEID|归属分区标识|参数可选性: 任选参数类型: 数字参数范围: 1-65535|该参数用于设置IPv4地址范围配置的归属分区标识。其中分区标识关联分区标志配置（可通过命令SHOW ZONE ID DESCRIPTION查询），同时客户端连接策略（可通过命令SHOW CLIENT CONNECTION POLICY查询）中也会关联此分区标识。




[](None)命令举例 


`
修改IPv4地址范围配置：编号1，起始地址"1.2.3.4"，结束地址"1.2.3.4"，归属分区标识1。
SET IPV4 ADDR RANGE:ID=1,START="1.2.3.4",END="1.2.3.4",ZONEID=1;
` 


#### 删除IPv4地址范围配置(DELETE IPV4 ADDR RANGE) 
#### 删除IPv4地址范围配置(DELETE IPV4 ADDR RANGE) 


[](None)功能说明 

该命令用于删除IPv4地址范围配置，当不再需要限制该IPv4地址范围内的网元与HTTPLB的链路数时，执行该命令。命令执行成功后，对应IPv4地址范围内的网元与HTTPLB之间的链路数将不再被限制。 


[](None)注意事项 

IPv4地址范围配置删除时，属于该配置中地址范围内的远端网元链路会重建，存在话务少量呼损的风险。 


[](None)输入参数说明 


[](None)标识|名称|类型|说明
---|---|---|---
ID|标识|参数可选性: 必选参数类型: 数字参数范围: 1-65535|该参数用于设置IPv4地址范围配置的标识。




[](None)输出参数说明 


[](None)标识|名称|类型|说明
---|---|---|---
ID|标识|参数可选性: 任选参数类型: 数字参数范围: 1-65535|该参数用于设置IPv4地址范围配置的标识。
START|起始|参数可选性: 任选参数类型: 字符串|该参数用于设置IPv4地址范围配置的起始地址。
END|结束|参数可选性: 任选参数类型: 字符串|该参数用于设置IPv4地址范围配置的结束地址。
ZONEID|归属分区标识|参数可选性: 任选参数类型: 数字参数范围: 1-65535|该参数用于设置IPv4地址范围配置的归属分区标识。其中分区标识关联分区标志配置（可通过命令SHOW ZONE ID DESCRIPTION查询），同时客户端连接策略（可通过命令SHOW CLIENT CONNECTION POLICY查询）中也会关联此分区标识。




[](None)命令举例 


`
删除IPv4地址范围配置：编号1。
DELETE IPV4 ADDR RANGE:ID=1;
` 


#### 查询IPv4地址范围配置(SHOW IPV4 ADDR RANGE) 
#### 查询IPv4地址范围配置(SHOW IPV4 ADDR RANGE) 


[](None)功能说明 

该命令用于查询IPv4地址范围配置，当需要查询IPv4地址范围配置信息时，使用该命令。该命令执行成功后，显示该IPv4地址范围配置的标识、起始地址、结束地址和归属分区标识等配置信息。 


[](None)注意事项 


 
如需要查询全部IPv4地址范围配置，则不需要输入任何参数。 

 
如需要查询指定的IPv4地址范围配置，则需要输入标识。 

 


[](None)输入参数说明 


[](None)标识|名称|类型|说明
---|---|---|---
ID|标识|参数可选性: 任选参数类型: 数字参数范围: 1-65535|该参数用于设置IPv4地址范围配置的标识。




[](None)输出参数说明 


[](None)标识|名称|类型|说明
---|---|---|---
ID|标识|参数可选性: 任选参数类型: 数字参数范围: 1-65535|该参数用于设置IPv4地址范围配置的标识。
START|起始|参数可选性: 任选参数类型: 字符串|该参数用于设置IPv4地址范围配置的起始地址。
END|结束|参数可选性: 任选参数类型: 字符串|该参数用于设置IPv4地址范围配置的结束地址。
ZONEID|归属分区标识|参数可选性: 任选参数类型: 数字参数范围: 1-65535|该参数用于设置IPv4地址范围配置的归属分区标识。其中分区标识关联分区标志配置（可通过命令SHOW ZONE ID DESCRIPTION查询），同时客户端连接策略（可通过命令SHOW CLIENT CONNECTION POLICY查询）中也会关联此分区标识。




[](None)命令举例 


`
查询IPv4地址范围配置：编号1。
SHOW IPV4 ADDR RANGE:ID=1;

(No.1) : SHOW IPV4 ADDR RANGE:
-----------------CommonS_HTTP_LB_0----------------
操作维护       标识 起始    结束    归属分区标识 
-------------------------------------------------
复制 修改      1    1.2.3.4 1.2.3.4 1            
-------------------------------------------------
记录数：1
执行成功开始时间:2021-04-14 19:22:08 耗时: 0.564 秒

` 


### IPv6前缀范围配置 
### IPv6前缀范围配置 


[](None)背景知识 


当需要限制 HTTPLB（Hypertext Transfer Protocol Load Balancing，超文本传输负载均衡）与远端指定IPv6前缀范围内网元之间的链路数时，需要添加该配置。HTTPLB会将IPv6前缀范围内的所有服务端网元都划分到对应的分区中，结合客户端连接策略限制本端链路数。 




[](None)功能说明 


IPv6前缀范围配置用于将IPv6前缀范围划分到归属的分区标识中。 

该配置中的归属分区标识需要关联分区标识配置（可通过[SHOW ZONE ID DESCRIPTION](../mml/1220012.html)命令查询）。




[](None)子主题： 






#### 新增IPv6地址范围配置(ADD IPV6 ADDR RANGE) 
#### 新增IPv6地址范围配置(ADD IPV6 ADDR RANGE) 


[](None)功能说明 

该命令用于新增IPv6前缀范围配置，当需要限制 HTTPLB（Hypertext Transfer Protocol Load Balancing，超文本传输负载均衡）与远端指定IPv6前缀范围内网元之间的链路数时，执行该命令。命令执行成功后，HTTPLB会将IPv6前缀范围内的所有服务端网元都划分到对应的分区中，结合客户端连接策略（可通过命令[SHOW CLIENT CONNECTION POLICY](../mml/1220176.html)查询）限制本端链路数。


[](None)注意事项 


 
增加IPv6前缀范围配置，属于该配置中地址范围内的远端网元链路会重建，存在话务少量呼损的风险。 

 
多个配置编号内的地址范围不允许存在重叠部分。 

 


[](None)输入参数说明 


[](None)标识|名称|类型|说明
---|---|---|---
ID|标识|参数可选性: 必选参数类型: 数字参数范围: 1-65535|该参数用于设置IPv6前缀范围配置的标识。
START|起始|参数可选性: 必选参数类型: 字符串参数范围: 0-71|该参数用于设置IPv6前缀范围配置的起始地址。
END|结束|参数可选性: 必选参数类型: 字符串参数范围: 0-71|该参数用于设置IPv6前缀范围配置的结束地址。
ZONEID|归属分区标识|参数可选性: 必选参数类型: 数字参数范围: 1-65535|该参数用于设置IPv6前缀范围配置的归属分区标识。其中分区标识关联分区标志配置（可通过命令SHOW ZONE ID DESCRIPTION查询），同时客户端连接策略中也会关联此分区标识（可通过命令SHOW CLIENT CONNECTION POLICY查询）。




[](None)输出参数说明 


[](None)标识|名称|类型|说明
---|---|---|---
ID|标识|参数可选性: 任选参数类型: 数字参数范围: 1-65535|该参数用于设置IPv6前缀范围配置的标识。
START|起始|参数可选性: 任选参数类型: 字符串参数范围: 0-71|该参数用于设置IPv6前缀范围配置的起始地址。
END|结束|参数可选性: 任选参数类型: 字符串参数范围: 0-71|该参数用于设置IPv6前缀范围配置的结束地址。
ZONEID|归属分区标识|参数可选性: 任选参数类型: 数字参数范围: 1-65535|该参数用于设置IPv6前缀范围配置的归属分区标识。其中分区标识关联分区标志配置（可通过命令SHOW ZONE ID DESCRIPTION查询），同时客户端连接策略中也会关联此分区标识（可通过命令SHOW CLIENT CONNECTION POLICY查询）。




[](None)命令举例 


`
新增IPv6前缀范围配置：编号1，起始地址"2020:143::1:22/128"，结束地址"2020:143::1:22/128"，归属分区标识1。
ADD IPV6 ADDR RANGE:ID=1,START=2020:143::1:22/128,END=2020:143::1:22/128,ZONEID=1;
` 


#### 修改IPv6地址范围配置(SET IPV6 ADDR RANGE) 
#### 修改IPv6地址范围配置(SET IPV6 ADDR RANGE) 


[](None)功能说明 

该命令用于修改IPv6前缀范围配置，当需要修改IPv6前缀范围或者对应的归属分区标识时，执行该命令。命令执行成功后，该配置的IPv6前缀范围或者对应的分区标识会发生变更。 


[](None)注意事项 


 
IPv6前缀范围配置变化时，属于该配置中地址范围内的远端网元链路会重建，存在话务少量呼损的风险。 

 
多个配置编号内的地址范围不允许存在重叠部分。 

 


[](None)输入参数说明 


[](None)标识|名称|类型|说明
---|---|---|---
ID|标识|参数可选性: 必选参数类型: 数字参数范围: 1-65535|该参数用于设置IPv6前缀范围配置的标识。
START|起始|参数可选性: 任选参数类型: 字符串参数范围: 0-71|该参数用于设置IPv6前缀范围配置的起始地址。
END|结束|参数可选性: 任选参数类型: 字符串参数范围: 0-71|该参数用于设置IPv6前缀范围配置的结束地址。
ZONEID|归属分区标识|参数可选性: 任选参数类型: 数字参数范围: 1-65535|该参数用于设置IPv6前缀范围配置的归属分区标识。其中分区标识关联分区标志配置（可通过命令SHOW ZONE ID DESCRIPTION查询），同时客户端连接策略中也会关联此分区标识（可通过命令SHOW CLIENT CONNECTION POLICY查询）。




[](None)输出参数说明 


[](None)标识|名称|类型|说明
---|---|---|---
ID|标识|参数可选性: 任选参数类型: 数字参数范围: 1-65535|该参数用于设置IPv6前缀范围配置的标识。
START|起始|参数可选性: 任选参数类型: 字符串参数范围: 0-71|该参数用于设置IPv6前缀范围配置的起始地址。
END|结束|参数可选性: 任选参数类型: 字符串参数范围: 0-71|该参数用于设置IPv6前缀范围配置的结束地址。
ZONEID|归属分区标识|参数可选性: 任选参数类型: 数字参数范围: 1-65535|该参数用于设置IPv6前缀范围配置的归属分区标识。其中分区标识关联分区标志配置（可通过命令SHOW ZONE ID DESCRIPTION查询），同时客户端连接策略中也会关联此分区标识（可通过命令SHOW CLIENT CONNECTION POLICY查询）。




[](None)命令举例 


`
修改IPv6前缀范围配置：编号1，起始地址"2020:143::1:22/128"，结束地址"2020:143::1:22/128"，归属分区标识1。
SET IPV6 ADDR RANGE:ID=1,START=2020:143::1:22/128,END=2020:143::1:22/128,ZONEID=1;
` 


#### 删除IPv6地址范围配置(DELETE IPV6 ADDR RANGE) 
#### 删除IPv6地址范围配置(DELETE IPV6 ADDR RANGE) 


[](None)功能说明 

该命令用于删除IPv6前缀范围配置，当不再需要限制该IPv6前缀范围内的网元与HTTPLB的链路数时，执行该命令。命令执行成功后，对应IPv6前缀范围内的网元与HTTPLB之间的链路数将不再被限制。 


[](None)注意事项 

IPv6前缀范围配置删除时，属于该配置中地址范围内的远端网元链路会重建，存在话务少量呼损的风险。 


[](None)输入参数说明 


[](None)标识|名称|类型|说明
---|---|---|---
ID|标识|参数可选性: 必选参数类型: 数字参数范围: 1-65535|该参数用于设置IPv6前缀范围配置的标识。




[](None)输出参数说明 


[](None)标识|名称|类型|说明
---|---|---|---
ID|标识|参数可选性: 任选参数类型: 数字参数范围: 1-65535|该参数用于设置IPv6前缀范围配置的标识。
START|起始|参数可选性: 任选参数类型: 字符串参数范围: 0-71|该参数用于设置IPv6前缀范围配置的起始地址。
END|结束|参数可选性: 任选参数类型: 字符串参数范围: 0-71|该参数用于设置IPv6前缀范围配置的结束地址。
ZONEID|归属分区标识|参数可选性: 任选参数类型: 数字参数范围: 1-65535|该参数用于设置IPv6前缀范围配置的归属分区标识。其中分区标识关联分区标志配置（可通过命令SHOW ZONE ID DESCRIPTION查询），同时客户端连接策略中也会关联此分区标识（可通过命令SHOW CLIENT CONNECTION POLICY查询）。




[](None)命令举例 


`
删除IPv6前缀范围配置：编号1。
DELETE IPV6 ADDR RANGE:ID=1;
` 


#### 查询IPv6地址范围配置(SHOW IPV6 ADDR RANGE) 
#### 查询IPv6地址范围配置(SHOW IPV6 ADDR RANGE) 


[](None)功能说明 

该命令用于查询IPv6前缀范围配置，当需要查询IPv6前缀范围配置信息时，使用该命令。该命令执行成功后，显示该IPv6前缀范围配置的标识、起始地址、结束地址和归属分区标识等配置信息。 


[](None)注意事项 


 
如需要查询全部IPv6前缀范围配置，则不需要输入任何参数。 

 
如需要查询指定的IPv6前缀范围配置，则需要输入标识。 

 


[](None)输入参数说明 


[](None)标识|名称|类型|说明
---|---|---|---
ID|标识|参数可选性: 任选参数类型: 数字参数范围: 1-65535|该参数用于设置IPv6前缀范围配置的标识。




[](None)输出参数说明 


[](None)标识|名称|类型|说明
---|---|---|---
ID|标识|参数可选性: 任选参数类型: 数字参数范围: 1-65535|该参数用于设置IPv6前缀范围配置的标识。
START|起始|参数可选性: 任选参数类型: 字符串参数范围: 0-71|该参数用于设置IPv6前缀范围配置的起始地址。
END|结束|参数可选性: 任选参数类型: 字符串参数范围: 0-71|该参数用于设置IPv6前缀范围配置的结束地址。
ZONEID|归属分区标识|参数可选性: 任选参数类型: 数字参数范围: 1-65535|该参数用于设置IPv6前缀范围配置的归属分区标识。其中分区标识关联分区标志配置（可通过命令SHOW ZONE ID DESCRIPTION查询），同时客户端连接策略中也会关联此分区标识（可通过命令SHOW CLIENT CONNECTION POLICY查询）。




[](None)命令举例 


`
查询IPv6前缀范围配置：编号1。
SHOW IPV6 ADDR RANGE:ID=1;

(No.1) : SHOW IPV6 ADDR RANGE:
-----------------CommonS_HTTP_LB_0----------------
操作维护       标识 起始               结束               归属分区标识 
-----------------------------------------------------------------------
复制 修改      1    2020:143::1:22/128 2020:143::1:22/128 1            
-----------------------------------------------------------------------
记录数：1
执行成功开始时间:2021-04-15 00:40:13 耗时: 0.53 秒

` 


## 客户端连接策略配置 
## 客户端连接策略配置 


[](None)背景知识 


HTTPLB（Hypertext Transfer Protocol Load Balancing，超文本传输负载均衡）作为客户端时，需要基于对端的网元类型、对端是省内网元还是省外网元、对端是to-Business（面向企业）业务还是to-Customer（面向消费者）业务等条件，限制本端向对端网元的链路上限，减少服务端链路负载。 

客户端连接策略配置用于限定客户端连接属性，包括分配的建链数及是否允许随话务量弹性变化。 




[](None)功能说明 


客户端连接策略配置用于配置HTTPLB与指定目的NF类型和分区标识的网元间的客户端连接属性，包括分配的建链数及是否随话务量弹性变化。 

该配置中的归属分区标识需要关联分区标识配置（可通过[SHOW ZONE ID DESCRIPTION](../mml/1220012.html)命令查询）。




[](None)子主题： 






### 新增客户端连接策略配置(ADD CLIENT CONNECTION POLICY) 
### 新增客户端连接策略配置(ADD CLIENT CONNECTION POLICY) 


[](None)功能说明 

该命令用于新增客户端连接策略配置。当需要限制HTTPLB（Hypertext Transfer Protocol Load Balancing，超文本传输负载均衡）与指定目的NF类型和分区标识的网元之间的链路数时，使用该命令。该命令执行成功后，HTTPLB根据该配置限制客户端的链路数，降低远端（服务端）的链路负荷。 


[](None)注意事项 


 
客户端连接策略配置是为降低远端网元（作服务端）链路负荷，所以配置中的目的NF类型和分区标识均指远端（服务端）的属性。 

 
由于本端HTTPLB会根据客户端连接策略配置限制客户端链路数量，所以要求配置的取值需要参考HTTPLB和远端（服务端）间实际话务量及链路承载能力。 

 
弹性链路开关可通过SHOW CLIENTPROFILE命令查询，如果在该客户端连接策略配置中关闭此开关，则本端HTTPLB与符合目的NF类型和分区标识的网元间的建链数会限定为初始建链数无法弹缩，存在话务量超过原链路数负载极限而造成少量呼损的风险。 

 
当客户端连接策略配置变化时，会触发HTTPLB链路数量变更，存在话务量少量呼损的风险。 

 


[](None)输入参数说明 


[](None)标识|名称|类型|说明
---|---|---|---
TARGETNFTYPE|目的NF类型|参数可选性: 必选参数类型: 枚举，参见枚举定义参数范围: 0-128|该参数用于设置客户端连接策略配置的目的NF类型。目的NF类型包括未知NF、NRF、UDM、AMF、SMF、AUSF、NEF、PCF、SMSF、NSSF、UDR、LMF、GMLC、5G_EIR、SEPP、UPF、N3IWF、AF、UDSF、BSF、CHF、NWDAF、OCS等。目的NF类型选择为远端实际的网元类型。
ZONEID|分区标识|参数可选性: 必选参数类型: 数字参数范围: 0-65535|该参数用于设置客户端连接策略配置的分区标识。需要先配置分区标识配置（可通过SHOW ZONE ID DESCRIPTION命令查询）、IPv4地址范围配置（可通过SHOW IPV4 ADDR RANGE命令查询）和IPV6前缀范围配置（可通过SHOW IPV6 ADDR RANGE命令查询），此处引用分区标识配置。
INITSCNUM|初始SC个数|参数可选性: 必选参数类型: 数字参数范围: 1-1024默认值: 1|该参数用于设置客户端连接策略配置的初始SC个数。HTTPLB依据配置的初始SC个数，将本端与符合目的NF类型和分区标识的网元间的所有链路分配到配置的SC上，达到限制本端作客户端时的建链总数目的。
INITCONNPERSC|每SC初始链路数|参数可选性: 必选参数类型: 数字参数范围: 1-20默认值: 1|该参数用于设置客户端连接策略配置的每SC初始链路数。HTTPLB依据配置的每SC初始链路数，将本端与符合目的NF类型和分区标识的网元间的初始建链数限定到固定值，达到限制本端作客户端时的建链总数目的。
ELASTICINNERSC|SC内弹性链路开关|参数可选性: 任选参数类型: 枚举，参见枚举定义参数范围: 0-1默认值: SWITCH_ON|该参数用于设置客户端连接策略配置的SC内弹性链路开关。弹性链路的初始配置可以通过SHOW CLIENTPROFILE命令查询。如果打开此开关，则本端与符合目的NF类型和分区标识的网元间的建链数会随话务量的增加而增多。如果关闭此开关，则本端与符合目的NF类型和分区标识的网元间的建链数会限定为初始建链数无法弹缩，达到限制本端作客户端时的建链总数目的。但同时会存在话务量超过原链路数负载极限而造成少量呼损的风险。




[](None)输出参数说明 


[](None)标识|名称|类型|说明
---|---|---|---
TARGETNFTYPE|目的NF类型|参数可选性: 任选参数类型: 枚举，参见枚举定义参数范围: 0-128|该参数用于设置客户端连接策略配置的目的NF类型。目的NF类型包括未知NF、NRF、UDM、AMF、SMF、AUSF、NEF、PCF、SMSF、NSSF、UDR、LMF、GMLC、5G_EIR、SEPP、UPF、N3IWF、AF、UDSF、BSF、CHF、NWDAF、OCS等。目的NF类型选择为远端实际的网元类型。
ZONEID|分区标识|参数可选性: 任选参数类型: 数字参数范围: 0-65535|该参数用于设置客户端连接策略配置的分区标识。需要先配置分区标识配置（可通过SHOW ZONE ID DESCRIPTION命令查询）、IPv4地址范围配置（可通过SHOW IPV4 ADDR RANGE命令查询）和IPV6前缀范围配置（可通过SHOW IPV6 ADDR RANGE命令查询），此处引用分区标识配置。
INITSCNUM|初始SC个数|参数可选性: 任选参数类型: 数字参数范围: 1-1024默认值: 1|该参数用于设置客户端连接策略配置的初始SC个数。HTTPLB依据配置的初始SC个数，将本端与符合目的NF类型和分区标识的网元间的所有链路分配到配置的SC上，达到限制本端作客户端时的建链总数目的。
INITCONNPERSC|每SC初始链路数|参数可选性: 任选参数类型: 数字参数范围: 1-20默认值: 1|该参数用于设置客户端连接策略配置的每SC初始链路数。HTTPLB依据配置的每SC初始链路数，将本端与符合目的NF类型和分区标识的网元间的初始建链数限定到固定值，达到限制本端作客户端时的建链总数目的。
ELASTICINNERSC|SC内弹性链路开关|参数可选性: 任选参数类型: 枚举，参见枚举定义参数范围: 0-1默认值: SWITCH_ON|该参数用于设置客户端连接策略配置的SC内弹性链路开关。弹性链路的初始配置可以通过SHOW CLIENTPROFILE命令查询。如果打开此开关，则本端与符合目的NF类型和分区标识的网元间的建链数会随话务量的增加而增多。如果关闭此开关，则本端与符合目的NF类型和分区标识的网元间的建链数会限定为初始建链数无法弹缩，达到限制本端作客户端时的建链总数目的。但同时会存在话务量超过原链路数负载极限而造成少量呼损的风险。




[](None)命令举例 


`
新增客户端连接策略配置：目的NF类型:NRF，分区标识1，分配初始SC个数1，每SC内初始链路数1，SC内弹性链路开关打开。
ADD CLIENT CONNECTION POLICY:TARGETNFTYPE="NRF_TYPE",ZONEID=1,INITSCNUM=2,INITCONNPERSC=1,ELASTICINNERSC="SWITCH_ON";
` 


### 修改客户端连接策略配置(SET CLIENT CONNECTION POLICY) 
### 修改客户端连接策略配置(SET CLIENT CONNECTION POLICY) 


[](None)功能说明 

该命令用于修改客户端连接策略配置。当需要修改客户端连接策略配置中的初始SC个数、每SC初始链路数、SC内弹性链路开关等配置信息时，使用该命令。命令执行成功后，客户端连接策略配置发生变更。 


[](None)注意事项 

当客户端连接策略配置变化时，会触发HTTPLB链路数量变更，存在话务量少量呼损的风险。 


[](None)输入参数说明 


[](None)标识|名称|类型|说明
---|---|---|---
TARGETNFTYPE|目的NF类型|参数可选性: 必选参数类型: 枚举，参见枚举定义参数范围: 0-128|该参数用于设置客户端连接策略配置的目的NF类型。目的NF类型包括未知NF、NRF、UDM、AMF、SMF、AUSF、NEF、PCF、SMSF、NSSF、UDR、LMF、GMLC、5G_EIR、SEPP、UPF、N3IWF、AF、UDSF、BSF、CHF、NWDAF、OCS等。目的NF类型选择为远端实际的网元类型。
ZONEID|分区标识|参数可选性: 必选参数类型: 数字参数范围: 0-65535|该参数用于设置客户端连接策略配置的分区标识。需要先配置分区标识配置（可通过SHOW ZONE ID DESCRIPTION命令查询）、IPv4地址范围配置（可通过SHOW IPV4 ADDR RANGE命令查询）和IPV6前缀范围配置（可通过SHOW IPV6 ADDR RANGE命令查询），此处引用分区标识配置。
INITSCNUM|初始SC个数|参数可选性: 任选参数类型: 数字参数范围: 1-1024默认值: 1|该参数用于设置客户端连接策略配置的初始SC个数。HTTPLB依据配置的初始SC个数，将本端与符合目的NF类型和分区标识的网元间的所有链路分配到配置的SC上，达到限制本端作客户端时的建链总数目的。
INITCONNPERSC|每SC初始链路数|参数可选性: 任选参数类型: 数字参数范围: 1-20默认值: 1|该参数用于设置客户端连接策略配置的每SC初始链路数。HTTPLB依据配置的每SC初始链路数，将本端与符合目的NF类型和分区标识的网元间的初始建链数限定到固定值，达到限制本端作客户端时的建链总数目的。
ELASTICINNERSC|SC内弹性链路开关|参数可选性: 任选参数类型: 枚举，参见枚举定义参数范围: 0-1默认值: SWITCH_ON|该参数用于设置客户端连接策略配置的SC内弹性链路开关。弹性链路的初始配置可以通过SHOW CLIENTPROFILE命令查询。如果打开此开关，则本端与符合目的NF类型和分区标识的网元间的建链数会随话务量的增加而增多。如果关闭此开关，则本端与符合目的NF类型和分区标识的网元间的建链数会限定为初始建链数无法弹缩，达到限制本端作客户端时的建链总数目的。但同时会存在话务量超过原链路数负载极限而造成少量呼损的风险。




[](None)输出参数说明 


[](None)标识|名称|类型|说明
---|---|---|---
TARGETNFTYPE|目的NF类型|参数可选性: 任选参数类型: 枚举，参见枚举定义参数范围: 0-128|该参数用于设置客户端连接策略配置的目的NF类型。目的NF类型包括未知NF、NRF、UDM、AMF、SMF、AUSF、NEF、PCF、SMSF、NSSF、UDR、LMF、GMLC、5G_EIR、SEPP、UPF、N3IWF、AF、UDSF、BSF、CHF、NWDAF、OCS等。目的NF类型选择为远端实际的网元类型。
ZONEID|分区标识|参数可选性: 任选参数类型: 数字参数范围: 0-65535|该参数用于设置客户端连接策略配置的分区标识。需要先配置分区标识配置（可通过SHOW ZONE ID DESCRIPTION命令查询）、IPv4地址范围配置（可通过SHOW IPV4 ADDR RANGE命令查询）和IPV6前缀范围配置（可通过SHOW IPV6 ADDR RANGE命令查询），此处引用分区标识配置。
INITSCNUM|初始SC个数|参数可选性: 任选参数类型: 数字参数范围: 1-1024默认值: 1|该参数用于设置客户端连接策略配置的初始SC个数。HTTPLB依据配置的初始SC个数，将本端与符合目的NF类型和分区标识的网元间的所有链路分配到配置的SC上，达到限制本端作客户端时的建链总数目的。
INITCONNPERSC|每SC初始链路数|参数可选性: 任选参数类型: 数字参数范围: 1-20默认值: 1|该参数用于设置客户端连接策略配置的每SC初始链路数。HTTPLB依据配置的每SC初始链路数，将本端与符合目的NF类型和分区标识的网元间的初始建链数限定到固定值，达到限制本端作客户端时的建链总数目的。
ELASTICINNERSC|SC内弹性链路开关|参数可选性: 任选参数类型: 枚举，参见枚举定义参数范围: 0-1默认值: SWITCH_ON|该参数用于设置客户端连接策略配置的SC内弹性链路开关。弹性链路的初始配置可以通过SHOW CLIENTPROFILE命令查询。如果打开此开关，则本端与符合目的NF类型和分区标识的网元间的建链数会随话务量的增加而增多。如果关闭此开关，则本端与符合目的NF类型和分区标识的网元间的建链数会限定为初始建链数无法弹缩，达到限制本端作客户端时的建链总数目的。但同时会存在话务量超过原链路数负载极限而造成少量呼损的风险。




[](None)命令举例 


`
设置客户端连接策略配置：目的NF类型:NRF，分区标识1，分配初始SC个数1，每SC内初始链路数1，SC内弹性链路开关打开。
SET CLIENT CONNECTION POLICY:TARGETNFTYPE="NRF_TYPE",ZONEID=1,INITSCNUM=2,INITCONNPERSC=1,ELASTICINNERSC="SWITCH_ON";
` 


### 删除客户端连接策略配置(DELETE CLIENT CONNECTION POLICY) 
### 删除客户端连接策略配置(DELETE CLIENT CONNECTION POLICY) 


[](None)功能说明 

该命令用于删除客户端连接策略配置。当不再需要限制HTTPLB与指定目的NF类型和分区标识的网元之间的链路数时，使用该命令。命令执行成功后，对应目的NF类型和分区标识的网元与HTTPLB之间的链路数将不再被限制。 


[](None)注意事项 

当客户端连接策略配置删除时，会触发HTTPLB链路数量变更，存在话务量少量呼损的风险。 


[](None)输入参数说明 


[](None)标识|名称|类型|说明
---|---|---|---
TARGETNFTYPE|目的NF类型|参数可选性: 必选参数类型: 枚举，参见枚举定义参数范围: 0-128|该参数用于设置客户端连接策略配置的目的NF类型。目的NF类型包括未知NF、NRF、UDM、AMF、SMF、AUSF、NEF、PCF、SMSF、NSSF、UDR、LMF、GMLC、5G_EIR、SEPP、UPF、N3IWF、AF、UDSF、BSF、CHF、NWDAF、OCS等。目的NF类型选择为远端实际的网元类型。
ZONEID|分区标识|参数可选性: 必选参数类型: 数字参数范围: 0-65535|该参数用于设置客户端连接策略配置的分区标识。需要先配置分区标识配置（可通过SHOW ZONE ID DESCRIPTION命令查询）、IPv4地址范围配置（可通过SHOW IPV4 ADDR RANGE命令查询）和IPV6前缀范围配置（可通过SHOW IPV6 ADDR RANGE命令查询），此处引用分区标识配置。




[](None)输出参数说明 


[](None)标识|名称|类型|说明
---|---|---|---
TARGETNFTYPE|目的NF类型|参数可选性: 任选参数类型: 枚举，参见枚举定义参数范围: 0-128|该参数用于设置客户端连接策略配置的目的NF类型。目的NF类型包括未知NF、NRF、UDM、AMF、SMF、AUSF、NEF、PCF、SMSF、NSSF、UDR、LMF、GMLC、5G_EIR、SEPP、UPF、N3IWF、AF、UDSF、BSF、CHF、NWDAF、OCS等。目的NF类型选择为远端实际的网元类型。
ZONEID|分区标识|参数可选性: 任选参数类型: 数字参数范围: 0-65535|该参数用于设置客户端连接策略配置的分区标识。需要先配置分区标识配置（可通过SHOW ZONE ID DESCRIPTION命令查询）、IPv4地址范围配置（可通过SHOW IPV4 ADDR RANGE命令查询）和IPV6前缀范围配置（可通过SHOW IPV6 ADDR RANGE命令查询），此处引用分区标识配置。
INITSCNUM|初始SC个数|参数可选性: 任选参数类型: 数字参数范围: 1-1024默认值: 1|该参数用于设置客户端连接策略配置的初始SC个数。HTTPLB依据配置的初始SC个数，将本端与符合目的NF类型和分区标识的网元间的所有链路分配到配置的SC上，达到限制本端作客户端时的建链总数目的。
INITCONNPERSC|每SC初始链路数|参数可选性: 任选参数类型: 数字参数范围: 1-20默认值: 1|该参数用于设置客户端连接策略配置的每SC初始链路数。HTTPLB依据配置的每SC初始链路数，将本端与符合目的NF类型和分区标识的网元间的初始建链数限定到固定值，达到限制本端作客户端时的建链总数目的。
ELASTICINNERSC|SC内弹性链路开关|参数可选性: 任选参数类型: 枚举，参见枚举定义参数范围: 0-1默认值: SWITCH_ON|该参数用于设置客户端连接策略配置的SC内弹性链路开关。弹性链路的初始配置可以通过SHOW CLIENTPROFILE命令查询。如果打开此开关，则本端与符合目的NF类型和分区标识的网元间的建链数会随话务量的增加而增多。如果关闭此开关，则本端与符合目的NF类型和分区标识的网元间的建链数会限定为初始建链数无法弹缩，达到限制本端作客户端时的建链总数目的。但同时会存在话务量超过原链路数负载极限而造成少量呼损的风险。




[](None)命令举例 


`
删除客户端连接策略配置：目的NF类型:NRF，分区标识1。
DELETE CLIENT CONNECTION POLICY:TARGETNFTYPE="NRF_TYPE",ZONEID=1;
` 


### 查询客户端连接策略配置(SHOW CLIENT CONNECTION POLICY) 
### 查询客户端连接策略配置(SHOW CLIENT CONNECTION POLICY) 


[](None)功能说明 

该命令用于查询客户端连接策略配置。当需要查询客户端连接策略配置信息时，使用该命令。该命令执行成功后，显示该客户端连接策略配置的NF类型、分区标识、初始SC个数、每SC初始链路数、SC内弹性链路开关等配置信息。 


[](None)注意事项 


 
如需要查询全部客户端连接策略配置信息，则不需要输入任何参数。 

 
如需要查询指定的客户端连接策略配置，则需要输入目的NF类型或分区标识。 

 


[](None)输入参数说明 


[](None)标识|名称|类型|说明
---|---|---|---
TARGETNFTYPE|目的NF类型|参数可选性: 任选参数类型: 枚举，参见枚举定义参数范围: 0-128|该参数用于设置客户端连接策略配置的目的NF类型。目的NF类型包括未知NF、NRF、UDM、AMF、SMF、AUSF、NEF、PCF、SMSF、NSSF、UDR、LMF、GMLC、5G_EIR、SEPP、UPF、N3IWF、AF、UDSF、BSF、CHF、NWDAF、OCS等。目的NF类型选择为远端实际的网元类型。
ZONEID|分区标识|参数可选性: 任选参数类型: 数字参数范围: 0-65535|该参数用于设置客户端连接策略配置的分区标识。需要先配置分区标识配置（可通过SHOW ZONE ID DESCRIPTION命令查询）、IPv4地址范围配置（可通过SHOW IPV4 ADDR RANGE命令查询）和IPV6前缀范围配置（可通过SHOW IPV6 ADDR RANGE命令查询），此处引用分区标识配置。




[](None)输出参数说明 


[](None)标识|名称|类型|说明
---|---|---|---
TARGETNFTYPE|目的NF类型|参数可选性: 任选参数类型: 枚举，参见枚举定义参数范围: 0-128|该参数用于设置客户端连接策略配置的目的NF类型。目的NF类型包括未知NF、NRF、UDM、AMF、SMF、AUSF、NEF、PCF、SMSF、NSSF、UDR、LMF、GMLC、5G_EIR、SEPP、UPF、N3IWF、AF、UDSF、BSF、CHF、NWDAF、OCS等。目的NF类型选择为远端实际的网元类型。
ZONEID|分区标识|参数可选性: 任选参数类型: 数字参数范围: 0-65535|该参数用于设置客户端连接策略配置的分区标识。需要先配置分区标识配置（可通过SHOW ZONE ID DESCRIPTION命令查询）、IPv4地址范围配置（可通过SHOW IPV4 ADDR RANGE命令查询）和IPV6前缀范围配置（可通过SHOW IPV6 ADDR RANGE命令查询），此处引用分区标识配置。
INITSCNUM|初始SC个数|参数可选性: 任选参数类型: 数字参数范围: 1-1024默认值: 1|该参数用于设置客户端连接策略配置的初始SC个数。HTTPLB依据配置的初始SC个数，将本端与符合目的NF类型和分区标识的网元间的所有链路分配到配置的SC上，达到限制本端作客户端时的建链总数目的。
INITCONNPERSC|每SC初始链路数|参数可选性: 任选参数类型: 数字参数范围: 1-20默认值: 1|该参数用于设置客户端连接策略配置的每SC初始链路数。HTTPLB依据配置的每SC初始链路数，将本端与符合目的NF类型和分区标识的网元间的初始建链数限定到固定值，达到限制本端作客户端时的建链总数目的。
ELASTICINNERSC|SC内弹性链路开关|参数可选性: 任选参数类型: 枚举，参见枚举定义参数范围: 0-1默认值: SWITCH_ON|该参数用于设置客户端连接策略配置的SC内弹性链路开关。弹性链路的初始配置可以通过SHOW CLIENTPROFILE命令查询。如果打开此开关，则本端与符合目的NF类型和分区标识的网元间的建链数会随话务量的增加而增多。如果关闭此开关，则本端与符合目的NF类型和分区标识的网元间的建链数会限定为初始建链数无法弹缩，达到限制本端作客户端时的建链总数目的。但同时会存在话务量超过原链路数负载极限而造成少量呼损的风险。




[](None)命令举例 


`
查询客户端连接策略配置：目的NF类型:NRF，分区标识1。
SHOW CLIENT CONNECTION POLICY:TARGETNFTYPE="NRF_TYPE",ZONEID=1;

(No.1) : SHOW CLIENT CONNECTION POLICY:TARGETNFTYPE="NRF_TYPE",ZONEID=1
-----------------CommonS_HTTP_LB_0----------------
操作维护       目的NF类型 分区标识 初始SC个数 每SC初始链路数 SC内弹性链路开关 
------------------------------------------------------------------------------
复制 修改      NRF        1        1          1              开启             
------------------------------------------------------------------------------
记录数：1
执行成功开始时间:2021-04-14 11:28:13 耗时: 0.58 秒

` 


## 客户端静态链路选择模式 
## 客户端静态链路选择模式 


[](None)背景知识 


HTTPLB（Hypertext Transfer Protocol Load Balancing，超文本传输负载均衡）作为客户端时，需要基于对端的网元类型、对端是省内网元还是省外网元等条件确定发送消息的选链行为是否只选择静态链路。 




[](None)功能说明 


客户端静态链路选择模式是用于确定与对端网元发送消息的选链行为是否只选静态链路。 

该配置中的归属分区标识需要关联分区标识配置（可通过[SHOW ZONE ID DESCRIPTION](../mml/1220012.html)命令查询）。




[](None)子主题： 






### 新增客户端静态链路选择模式(ADD CLIENT STATIC LINK SELECTION) 
### 新增客户端静态链路选择模式(ADD CLIENT STATIC LINK SELECTION) 


[](None)功能说明 

该命令用于新增客户端静态链路选择模式。当需要与指定目的NF类型和分区标识的网元发送消息只选静态链路时，使用该命令。该命令执行成功后，HTTPLB根据该配置执行是否只选静态链路进行发送消息。 


[](None)注意事项 


 
客户端静态链路选择模式是为了确定与对端网元发送消息的选链行为，所以配置中的目的NF类型和分区标识均指远端（服务端）的属性。 

 


[](None)输入参数说明 


[](None)标识|名称|类型|说明
---|---|---|---
TARGETNFTYPE|目的NF类型|参数可选性: 必选参数类型: 枚举，参见枚举定义参数范围: 0-128|该参数用于设置客户端静态链路选择模式目的NF类型。目的NF类型包括未知NF、NRF、UDM、AMF、SMF、AUSF、NEF、PCF、SMSF、NSSF、UDR、LMF、GMLC、5G_EIR、SEPP、UPF、N3IWF、AF、UDSF、BSF、CHF、NWDAF、OCS等。目的NF类型选择为远端实际的网元类型。
ZONEID|分区标识|参数可选性: 必选参数类型: 数字参数范围: 0-65535|该参数用于设置客户端静态链路选择模式所属分区标识。需要先配置分区标识配置（可通过SHOW ZONE ID DESCRIPTION命令查询）、IPv4地址范围配置（可通过SHOW IPV4 ADDR RANGE命令查询）和IPV6前缀范围配置（可通过SHOW IPV6 ADDR RANGE命令查询），此处引用分区标识配置。
STATICONLY|只选静态链路|参数可选性: 必选参数类型: 枚举，参见枚举定义参数范围: 0-1默认值: NO|该参数用于设置客户端静态链路选择模式是否只选静态链路。




[](None)输出参数说明 


[](None)标识|名称|类型|说明
---|---|---|---
TARGETNFTYPE|目的NF类型|参数可选性: 任选参数类型: 枚举，参见枚举定义参数范围: 0-128|该参数用于设置客户端静态链路选择模式目的NF类型。目的NF类型包括未知NF、NRF、UDM、AMF、SMF、AUSF、NEF、PCF、SMSF、NSSF、UDR、LMF、GMLC、5G_EIR、SEPP、UPF、N3IWF、AF、UDSF、BSF、CHF、NWDAF、OCS等。目的NF类型选择为远端实际的网元类型。
ZONEID|分区标识|参数可选性: 任选参数类型: 数字参数范围: 0-65535|该参数用于设置客户端静态链路选择模式所属分区标识。需要先配置分区标识配置（可通过SHOW ZONE ID DESCRIPTION命令查询）、IPv4地址范围配置（可通过SHOW IPV4 ADDR RANGE命令查询）和IPV6前缀范围配置（可通过SHOW IPV6 ADDR RANGE命令查询），此处引用分区标识配置。
STATICONLY|只选静态链路|参数可选性: 任选参数类型: 枚举，参见枚举定义参数范围: 0-1默认值: NO|该参数用于设置客户端静态链路选择模式是否只选静态链路。




[](None)命令举例 


`
新增客户端静态链路选择模式：目的NF类型:NRF，分区标识1，选择模式为只选静态链路。
ADD CLIENT STATIC LINK SELECTION:TARGETNFTYPE="NRF_TYPE",ZONEID=1,STATICONLY="YES";
` 


### 修改客户端静态链路选择模式(SET CLIENT STATIC LINK SELECTION) 
### 修改客户端静态链路选择模式(SET CLIENT STATIC LINK SELECTION) 


[](None)功能说明 

该命令用于修改客户端静态链路选择模式。当需要修改与指定目的NF类型和分区标识的网元发送消息是否只选静态链路时，使用该命令。该命令执行成功后，HTTPLB根据新的配置执行是否只选静态链路进行发送消息。 


[](None)注意事项 

无。 


[](None)输入参数说明 


[](None)标识|名称|类型|说明
---|---|---|---
TARGETNFTYPE|目的NF类型|参数可选性: 必选参数类型: 枚举，参见枚举定义参数范围: 0-128|该参数用于设置客户端静态链路选择模式目的NF类型。目的NF类型包括未知NF、NRF、UDM、AMF、SMF、AUSF、NEF、PCF、SMSF、NSSF、UDR、LMF、GMLC、5G_EIR、SEPP、UPF、N3IWF、AF、UDSF、BSF、CHF、NWDAF、OCS等。目的NF类型选择为远端实际的网元类型。
ZONEID|分区标识|参数可选性: 必选参数类型: 数字参数范围: 0-65535|该参数用于设置客户端静态链路选择模式所属分区标识。需要先配置分区标识配置（可通过SHOW ZONE ID DESCRIPTION命令查询）、IPv4地址范围配置（可通过SHOW IPV4 ADDR RANGE命令查询）和IPV6前缀范围配置（可通过SHOW IPV6 ADDR RANGE命令查询），此处引用分区标识配置。
STATICONLY|只选静态链路|参数可选性: 任选参数类型: 枚举，参见枚举定义参数范围: 0-1默认值: NO|该参数用于设置客户端静态链路选择模式是否只选静态链路。




[](None)输出参数说明 


[](None)标识|名称|类型|说明
---|---|---|---
TARGETNFTYPE|目的NF类型|参数可选性: 任选参数类型: 枚举，参见枚举定义参数范围: 0-128|该参数用于设置客户端静态链路选择模式目的NF类型。目的NF类型包括未知NF、NRF、UDM、AMF、SMF、AUSF、NEF、PCF、SMSF、NSSF、UDR、LMF、GMLC、5G_EIR、SEPP、UPF、N3IWF、AF、UDSF、BSF、CHF、NWDAF、OCS等。目的NF类型选择为远端实际的网元类型。
ZONEID|分区标识|参数可选性: 任选参数类型: 数字参数范围: 0-65535|该参数用于设置客户端静态链路选择模式所属分区标识。需要先配置分区标识配置（可通过SHOW ZONE ID DESCRIPTION命令查询）、IPv4地址范围配置（可通过SHOW IPV4 ADDR RANGE命令查询）和IPV6前缀范围配置（可通过SHOW IPV6 ADDR RANGE命令查询），此处引用分区标识配置。
STATICONLY|只选静态链路|参数可选性: 任选参数类型: 枚举，参见枚举定义参数范围: 0-1默认值: NO|该参数用于设置客户端静态链路选择模式是否只选静态链路。




[](None)命令举例 


`
修改客户端静态链路选择模式：目的NF类型:NRF，分区标识1，选择模式为只选静态链路。
SET CLIENT STATIC LINK SELECTION:TARGETNFTYPE="NRF_TYPE",ZONEID=1,STATICONLY="YES";
` 


### 删除客户端静态链路选择模式(DEL CLIENT STATIC LINK SELECTION) 
### 删除客户端静态链路选择模式(DEL CLIENT STATIC LINK SELECTION) 


[](None)功能说明 

该命令用于删除客户端静态链路选择模式。当不再需要与指定目的NF类型和分区标识的网元发送消息只选静态链路时，使用该命令。该命令执行成功后，HTTPLB不再只选静态链路进行发送消息。 


[](None)注意事项 


 
客户端静态链路选择模式删除时，发送消息到符合原配置的网元不再只选择静态链路。 

 


[](None)输入参数说明 


[](None)标识|名称|类型|说明
---|---|---|---
TARGETNFTYPE|目的NF类型|参数可选性: 必选参数类型: 枚举，参见枚举定义参数范围: 0-128|该参数用于设置客户端静态链路选择模式目的NF类型。目的NF类型包括未知NF、NRF、UDM、AMF、SMF、AUSF、NEF、PCF、SMSF、NSSF、UDR、LMF、GMLC、5G_EIR、SEPP、UPF、N3IWF、AF、UDSF、BSF、CHF、NWDAF、OCS等。目的NF类型选择为远端实际的网元类型。
ZONEID|分区标识|参数可选性: 必选参数类型: 数字参数范围: 0-65535|该参数用于设置客户端静态链路选择模式所属分区标识。需要先配置分区标识配置（可通过SHOW ZONE ID DESCRIPTION命令查询）、IPv4地址范围配置（可通过SHOW IPV4 ADDR RANGE命令查询）和IPV6前缀范围配置（可通过SHOW IPV6 ADDR RANGE命令查询），此处引用分区标识配置。




[](None)输出参数说明 


[](None)标识|名称|类型|说明
---|---|---|---
TARGETNFTYPE|目的NF类型|参数可选性: 任选参数类型: 枚举，参见枚举定义参数范围: 0-128|该参数用于设置客户端静态链路选择模式目的NF类型。目的NF类型包括未知NF、NRF、UDM、AMF、SMF、AUSF、NEF、PCF、SMSF、NSSF、UDR、LMF、GMLC、5G_EIR、SEPP、UPF、N3IWF、AF、UDSF、BSF、CHF、NWDAF、OCS等。目的NF类型选择为远端实际的网元类型。
ZONEID|分区标识|参数可选性: 任选参数类型: 数字参数范围: 0-65535|该参数用于设置客户端静态链路选择模式所属分区标识。需要先配置分区标识配置（可通过SHOW ZONE ID DESCRIPTION命令查询）、IPv4地址范围配置（可通过SHOW IPV4 ADDR RANGE命令查询）和IPV6前缀范围配置（可通过SHOW IPV6 ADDR RANGE命令查询），此处引用分区标识配置。
STATICONLY|只选静态链路|参数可选性: 任选参数类型: 枚举，参见枚举定义参数范围: 0-1默认值: NO|该参数用于设置客户端静态链路选择模式是否只选静态链路。




[](None)命令举例 


`
删除客户端静态链路选择模式：目的NF类型:NRF，分区标识1。
DEL CLIENT STATIC LINK SELECTION:TARGETNFTYPE="NRF_TYPE",ZONEID=1;
` 


### 查询客户端静态链路选择模式(SHOW CLIENT STATIC LINK SELECTION) 
### 查询客户端静态链路选择模式(SHOW CLIENT STATIC LINK SELECTION) 


[](None)功能说明 

该命令用于查询客户端静态链路选择模式。当需要查询客户端静态链路选择模式时，使用该命令。该命令执行成功后，显示该客户端静态链路选择模式的NF类型、分区标识、是否只选静态链路等配置信息。 


[](None)注意事项 


 
如需要查询全部客户端静态链路选择模式信息，则不需要输入任何参数。 

 
如需要查询指定的客户端静态链路选择模式，则需要输入目的NF类型或分区标识。 

 


[](None)输入参数说明 


[](None)标识|名称|类型|说明
---|---|---|---
TARGETNFTYPE|目的NF类型|参数可选性: 任选参数类型: 枚举，参见枚举定义参数范围: 0-128|该参数用于设置客户端静态链路选择模式目的NF类型。目的NF类型包括未知NF、NRF、UDM、AMF、SMF、AUSF、NEF、PCF、SMSF、NSSF、UDR、LMF、GMLC、5G_EIR、SEPP、UPF、N3IWF、AF、UDSF、BSF、CHF、NWDAF、OCS等。目的NF类型选择为远端实际的网元类型。
ZONEID|分区标识|参数可选性: 任选参数类型: 数字参数范围: 0-65535|该参数用于设置客户端静态链路选择模式所属分区标识。需要先配置分区标识配置（可通过SHOW ZONE ID DESCRIPTION命令查询）、IPv4地址范围配置（可通过SHOW IPV4 ADDR RANGE命令查询）和IPV6前缀范围配置（可通过SHOW IPV6 ADDR RANGE命令查询），此处引用分区标识配置。




[](None)输出参数说明 


[](None)标识|名称|类型|说明
---|---|---|---
TARGETNFTYPE|目的NF类型|参数可选性: 任选参数类型: 枚举，参见枚举定义参数范围: 0-128|该参数用于设置客户端静态链路选择模式目的NF类型。目的NF类型包括未知NF、NRF、UDM、AMF、SMF、AUSF、NEF、PCF、SMSF、NSSF、UDR、LMF、GMLC、5G_EIR、SEPP、UPF、N3IWF、AF、UDSF、BSF、CHF、NWDAF、OCS等。目的NF类型选择为远端实际的网元类型。
ZONEID|分区标识|参数可选性: 任选参数类型: 数字参数范围: 0-65535|该参数用于设置客户端静态链路选择模式所属分区标识。需要先配置分区标识配置（可通过SHOW ZONE ID DESCRIPTION命令查询）、IPv4地址范围配置（可通过SHOW IPV4 ADDR RANGE命令查询）和IPV6前缀范围配置（可通过SHOW IPV6 ADDR RANGE命令查询），此处引用分区标识配置。
STATICONLY|只选静态链路|参数可选性: 任选参数类型: 枚举，参见枚举定义参数范围: 0-1默认值: NO|该参数用于设置客户端静态链路选择模式是否只选静态链路。




[](None)命令举例 


`
查询客户端静态链路选择模式：目的NF类型:NRF，分区标识1。
SHOW CLIENT STATIC LINK SELECTION:TARGETNFTYPE="NRF_TYPE",ZONEID=1;

(No.1) : SHOW CLIENT STATIC LINK SELECTION:TARGETNFTYPE="NRF_TYPE",ZONEID=1
-----------------CommonS_HTTP_LB_0----------------
操作维护       目的NF类型 分区标识 只选静态链路 
------------------------------------------------
复制 修改 删除 NRF        1        是           
------------------------------------------------
记录数：1
执行成功开始时间:2022-09-01 10:52:56 耗时: 1.496秒

` 


## TLS配置管理 
## TLS配置管理 


[](None)背景知识 


TLS（Transport Layer Security，传输层安全性协议）及其前身SSL（Secure Sockets Layer，安全套接层）是一种安全协议，目的是为互联网通信提供安全及数据完整性保障。 




[](None)功能说明 


TLS配置管理用于管理本网元TLS相关配置。 

TLS配置管理可进行加密套件集配置、加密套件配置、服务端PSK集配置、服务端PSK配置、客户端PSK集配置和客户端PSK配置。 




[](None)子主题： 






### 加密套件集配置 
### 加密套件集配置 


[](None)背景知识 


加密套件集是多个加密套件组成的集合。 




[](None)功能说明 


一个加密套件集对应一个TLS协议版本号。 




[](None)子主题： 






#### 新增加密套件集配置(ADD SBITLSCIPHERSUITES) 
#### 新增加密套件集配置(ADD SBITLSCIPHERSUITES) 


[](None)功能说明 

该命令用于新增加密套件集配置。当TLS配置管理需要新增加密套件集时，使用该命令。 

命令执行成功后，加密套件集可以被“加密套件配置”、“客户端模板配置”及“服务端模板配置”引用。 


[](None)注意事项 

无。


[](None)输入参数说明 


[](None)标识|名称|类型|说明
---|---|---|---
NAME|套件集名称|参数可选性: 必选参数类型: 字符串参数范围: 1-64|该参数用于设置加密套件集名称，该名称是加密套件集的唯一标识，被“加密套件配置”、“客户端模板配置”及“服务端模板配置”引用。
PROTOCOL|协议版本|参数可选性: 必选参数类型: 枚举，参见枚举定义参数范围: 0-1默认值: TLS1_2|该参数用于设置TLS协议版本。




[](None)输出参数说明 


[](None)标识|名称|类型|说明
---|---|---|---
NAME|套件集名称|参数可选性: 任选参数类型: 字符串参数范围: 1-64|该参数用于设置加密套件集名称，该名称是加密套件集的唯一标识，被“加密套件配置”、“客户端模板配置”及“服务端模板配置”引用。
PROTOCOL|协议版本|参数可选性: 任选参数类型: 枚举，参见枚举定义参数范围: 0-1默认值: TLS1_2|该参数用于设置TLS协议版本。




[](None)命令举例 


`
新增加密套件集配置：套件集名称为default，协议版本为TLS1.2。
ADD SBITLSCIPHERSUITES:NAME="default",PROTOCOL="TLS1_2";
` 


#### 修改加密套件集配置(SET SBITLSCIPHERSUITES) 
#### 修改加密套件集配置(SET SBITLSCIPHERSUITES) 


[](None)功能说明 

该命令用于修改加密套件集配置。当需要修改已配置的加密套件集时，使用该命令。 


[](None)注意事项 

修改该加密套件集配置，会影响与该配置关联的客户端模板、服务端模板。必须将客户端、服务端链路中的动态链路拆除，静态链路拆链重建。建议NF退出服务后再修改。 


[](None)输入参数说明 


[](None)标识|名称|类型|说明
---|---|---|---
NAME|套件集名称|参数可选性: 必选参数类型: 字符串参数范围: 1-64|该参数用于设置加密套件集名称，该名称是加密套件集的唯一标识，被“加密套件配置”、“客户端模板配置”及“服务端模板配置”引用。
PROTOCOL|协议版本|参数可选性: 任选参数类型: 枚举，参见枚举定义参数范围: 0-1默认值: TLS1_2|该参数用于设置TLS协议版本。




[](None)输出参数说明 


[](None)标识|名称|类型|说明
---|---|---|---
NAME|套件集名称|参数可选性: 任选参数类型: 字符串参数范围: 1-64|该参数用于设置加密套件集名称，该名称是加密套件集的唯一标识，被“加密套件配置”、“客户端模板配置”及“服务端模板配置”引用。
PROTOCOL|协议版本|参数可选性: 任选参数类型: 枚举，参见枚举定义参数范围: 0-1默认值: TLS1_2|该参数用于设置TLS协议版本。




[](None)命令举例 


`
修改加密套件集配置：套件集名称为default，协议版本为TLS1.2。
SET SBITLSCIPHERSUITES:NAME="default",PROTOCOL="TLS1_2";
` 


#### 删除加密套件集配置(DEL SBITLSCIPHERSUITES) 
#### 删除加密套件集配置(DEL SBITLSCIPHERSUITES) 


[](None)功能说明 

该命令用于删除加密套件集配置。当TLS配置管理不需要加密套件集时，使用该命令。 


[](None)注意事项 

删除加密套件集前，需要先删除加密套件配置中的引用。 


[](None)输入参数说明 


[](None)标识|名称|类型|说明
---|---|---|---
NAME|套件集名称|参数可选性: 必选参数类型: 字符串参数范围: 1-64|该参数用于设置加密套件集名称，该名称是加密套件集的唯一标识，被“加密套件配置”、“客户端模板配置”及“服务端模板配置”引用。




[](None)输出参数说明 


[](None)标识|名称|类型|说明
---|---|---|---
NAME|套件集名称|参数可选性: 任选参数类型: 字符串参数范围: 1-64|该参数用于设置加密套件集名称，该名称是加密套件集的唯一标识，被“加密套件配置”、“客户端模板配置”及“服务端模板配置”引用。
PROTOCOL|协议版本|参数可选性: 任选参数类型: 枚举，参见枚举定义参数范围: 0-1默认值: TLS1_2|该参数用于设置TLS协议版本。




[](None)命令举例 


`
删除加密套件集配置：套件集名称为default。
DEL SBITLSCIPHERSUITES:NAME="default";
` 


#### 查询加密套件集配置(SHOW SBITLSCIPHERSUITES) 
#### 查询加密套件集配置(SHOW SBITLSCIPHERSUITES) 


[](None)功能说明 

该命令用于查询加密套件集配置。当需要查询加密套件集配置信息时，使用该命令。 


[](None)注意事项 

无。


[](None)输入参数说明 


[](None)标识|名称|类型|说明
---|---|---|---
NAME|套件集名称|参数可选性: 任选参数类型: 字符串参数范围: 1-64|该参数用于设置加密套件集名称，该名称是加密套件集的唯一标识，被“加密套件配置”、“客户端模板配置”及“服务端模板配置”引用。
PROTOCOL|协议版本|参数可选性: 任选参数类型: 枚举，参见枚举定义参数范围: 0-1默认值: TLS1_2|该参数用于设置TLS协议版本。




[](None)输出参数说明 


[](None)标识|名称|类型|说明
---|---|---|---
NAME|套件集名称|参数可选性: 任选参数类型: 字符串参数范围: 1-64|该参数用于设置加密套件集名称，该名称是加密套件集的唯一标识，被“加密套件配置”、“客户端模板配置”及“服务端模板配置”引用。
PROTOCOL|协议版本|参数可选性: 任选参数类型: 枚举，参见枚举定义参数范围: 0-1默认值: TLS1_2|该参数用于设置TLS协议版本。




[](None)命令举例 


`
查询加密套件集配置。
SHOW SBITLSCIPHERSUITES:NAME="default";

(No.1) : SHOW SBITLSCIPHERSUITES:NAME="default"
-----------------CommonS_HTTP_LB_0----------------
操作维护       套件集名称 协议版本 
-----------------------------------
复制 修改 删除 default    TLS1.2   
-----------------------------------
记录数：1
执行成功开始时间:2021-12-14 11:06:40 耗时: 0.626 秒

` 


### 加密套件配置 
### 加密套件配置 


[](None)背景知识 


加密套件是指在TLS通信中，服务器和客户端所使用的加密算法的组合。在TLS握手初期，客户端将自身支持的加密套件列表发送给服务器；在握手阶段，服务端选取一个双方都支持的加密套件，该套件作为之后所要使用的加密方式。加密套件中的算法包括：认证算法、密钥交换算法、对称算法和摘要算法等。 




[](None)功能说明 


在配置加密套件时需要配置其归属的加密套件集。 




[](None)子主题： 






#### 新增加密套件配置(ADD SBITLSCIPHERSUITE) 
#### 新增加密套件配置(ADD SBITLSCIPHERSUITE) 


[](None)功能说明 

该命令用于新增加密套件配置。当一个加密套件集需要新增加密套件时，使用该命令。命令执行成功后，加密套件集可包含新增加密套件。 


[](None)注意事项 

新增加密套件配置，会影响与该配置关联的客户端模板、服务端模板。必须将客户端、服务端链路中的动态链路拆除，静态链路拆链重建。建议NF退出服务后再修改。当加密套件集不包含任何加密套件时，表示不指定加密套件进行TLS协商。因此只要新增加密套件就会影响关联配置。 


[](None)输入参数说明 


[](None)标识|名称|类型|说明
---|---|---|---
NAME|套件集名称|参数可选性: 必选参数类型: 字符串参数范围: 1-64|该参数用于设置加密套件集名称。加密套件配置引用“加密套件集配置”中的配置。加密套件集可通过SHOW SBITLSCIPHERSUITES命令进行查询。
CIPHERSUITE|加密套件|参数可选性: 必选参数类型: 枚举，参见枚举定义参数范围: 0-65535|该参数用于设置加密套件配置。从枚举值中选择可使用的加密套件。




[](None)输出参数说明 


[](None)标识|名称|类型|说明
---|---|---|---
NAME|套件集名称|参数可选性: 任选参数类型: 字符串参数范围: 1-64|该参数用于设置加密套件集名称。加密套件配置引用“加密套件集配置”中的配置。加密套件集可通过SHOW SBITLSCIPHERSUITES命令进行查询。
CIPHERSUITE|加密套件|参数可选性: 任选参数类型: 枚举，参见枚举定义参数范围: 0-65535|该参数用于设置加密套件配置。从枚举值中选择可使用的加密套件。




[](None)命令举例 


`
新增加密套件配置：套件集名称为default，加密套件为TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA256。
ADD SBITLSCIPHERSUITE:NAME="default",CIPHERSUITE="TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA256";
` 


#### 删除加密套件配置(DEL SBITLSCIPHERSUITE) 
#### 删除加密套件配置(DEL SBITLSCIPHERSUITE) 


[](None)功能说明 

该命令用于删除加密套件配置。当一个加密套件配置不再归属于一个加密套件集时，使用该命令。命令执行成功后，加密套件集就可以删除该加密套件配置。 


[](None)注意事项 

删除加密套件配置，会影响和该配置关联的客户端模板、服务端模板。必须将客户端，服务端链路中的动态链路拆除，静态链路拆链重建。建议NF退出服务后再修改。 


[](None)输入参数说明 


[](None)标识|名称|类型|说明
---|---|---|---
NAME|套件集名称|参数可选性: 必选参数类型: 字符串参数范围: 1-64|该参数用于设置加密套件集名称。加密套件配置引用“加密套件集配置”中的配置。加密套件集可通过SHOW SBITLSCIPHERSUITES命令进行查询。
CIPHERSUITE|加密套件|参数可选性: 必选参数类型: 枚举，参见枚举定义参数范围: 0-65535|该参数用于设置加密套件配置。从枚举值中选择可使用的加密套件。




[](None)输出参数说明 


[](None)标识|名称|类型|说明
---|---|---|---
NAME|套件集名称|参数可选性: 任选参数类型: 字符串参数范围: 1-64|该参数用于设置加密套件集名称。加密套件配置引用“加密套件集配置”中的配置。加密套件集可通过SHOW SBITLSCIPHERSUITES命令进行查询。
CIPHERSUITE|加密套件|参数可选性: 任选参数类型: 枚举，参见枚举定义参数范围: 0-65535|该参数用于设置加密套件配置。从枚举值中选择可使用的加密套件。




[](None)命令举例 


`
删除加密套件配置：套件集名称为default，加密套件为TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA256。
DEL SBITLSCIPHERSUITE:NAME="default",CIPHERSUITE="TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA256";
` 


#### 查询加密套件配置(SHOW SBITLSCIPHERSUITE) 
#### 查询加密套件配置(SHOW SBITLSCIPHERSUITE) 


[](None)功能说明 

该命令用于查询加密套件配置。当需要查询加密套件配置时，使用该命令。 


[](None)注意事项 

无。


[](None)输入参数说明 


[](None)标识|名称|类型|说明
---|---|---|---
NAME|套件集名称|参数可选性: 任选参数类型: 字符串参数范围: 1-64|该参数用于设置加密套件集名称。加密套件配置引用“加密套件集配置”中的配置。加密套件集可通过SHOW SBITLSCIPHERSUITES命令进行查询。
CIPHERSUITE|加密套件|参数可选性: 任选参数类型: 枚举，参见枚举定义参数范围: 0-65535|该参数用于设置加密套件配置。从枚举值中选择可使用的加密套件。




[](None)输出参数说明 


[](None)标识|名称|类型|说明
---|---|---|---
NAME|套件集名称|参数可选性: 任选参数类型: 字符串参数范围: 1-64|该参数用于设置加密套件集名称。加密套件配置引用“加密套件集配置”中的配置。加密套件集可通过SHOW SBITLSCIPHERSUITES命令进行查询。
CIPHERSUITE|加密套件|参数可选性: 任选参数类型: 枚举，参见枚举定义参数范围: 0-65535|该参数用于设置加密套件配置。从枚举值中选择可使用的加密套件。




[](None)命令举例 


`
查询加密套件配置。
SHOW SBITLSCIPHERSUITE:NAME="default";

(No.1) : SHOW SBITLSCIPHERSUITE:NAME="default"
-----------------CommonS_HTTP_LB_0----------------
操作维护       套件集名称 加密套件                                    
----------------------------------------------------------------------
复制 删除      default    TLS_RSA_WITH_AES_128_CBC_SHA                
复制 删除      default    TLS_RSA_WITH_AES_128_CBC_SHA256             
复制 删除      default    TLS_RSA_WITH_AES_128_GCM_SHA256             
复制 删除      default    TLS_DHE_RSA_WITH_AES_128_GCM_SHA256         
复制 删除      default    TLS_DHE_RSA_WITH_AES_256_GCM_SHA384         
复制 删除      default    TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA          
复制 删除      default    TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA          
复制 删除      default    TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA256       
复制 删除      default    TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256       
复制 删除      default    TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384       
复制 删除      default    TLS_DHE_RSA_WITH_AES_128_CCM                
复制 删除      default    TLS_DHE_RSA_WITH_AES_256_CCM                
复制 删除      default    TLS_ECDHE_RSA_WITH_CHACHA20_POLY1305_SHA256 
复制 删除      default    TLS_DHE_RSA_WITH_CHACHA20_POLY1305_SHA256   
----------------------------------------------------------------------
记录数：14
执行成功开始时间:2021-12-14 11:25:15 耗时: 0.671 秒

` 


### 服务端PSK集配置 
### 服务端PSK集配置 


[](None)背景知识 


服务端PSK集配置是多个服务端PSK配置的集合。 




[](None)功能说明 


该配置用于配置服务端PSK集及PSK提示信息。 




[](None)子主题： 






#### 新增服务端PSK集配置(ADD SBISERVERPSKSET) 
#### 新增服务端PSK集配置(ADD SBISERVERPSKSET) 


[](None)功能说明 

该命令用于新增服务端PSK集配置。当需要增加新的PSK集时，使用该命令。 

命令执行成功后，PSK集名PSKSETNAME可以被“服务端PSK配置”及“服务端模板配置”引用。 


[](None)注意事项 

无。


[](None)输入参数说明 


[](None)标识|名称|类型|说明
---|---|---|---
PSKSETNAME|PSK集名|参数可选性: 必选参数类型: 字符串参数范围: 1-64|该参数用于设置服务端PSK集名，该名称是服务端PSK集的唯一标识，被“服务端PSK配置”及“服务端模板配置”引用。
PSKHINT|PSK提示信息|参数可选性: 必选参数类型: 字符串参数范围: 1-128|该参数用于设置PSK提示信息。提示信息为长度不超过128的字符串。




[](None)输出参数说明 


[](None)标识|名称|类型|说明
---|---|---|---
PSKSETNAME|PSK集名|参数可选性: 任选参数类型: 字符串参数范围: 1-64|该参数用于设置服务端PSK集名，该名称是服务端PSK集的唯一标识，被“服务端PSK配置”及“服务端模板配置”引用。
PSKHINT|PSK提示信息|参数可选性: 任选参数类型: 字符串参数范围: 1-128|该参数用于设置PSK提示信息。提示信息为长度不超过128的字符串。




[](None)命令举例 


`
新增服务端PSK集配置：PSK集名为psk，PSK提示信息为123。 ADD SBISERVERPSKSET:PSKSETNAME="psk",PSKHINT="123";
` 


#### 修改服务端PSK集配置(SET SBISERVERPSKSET) 
#### 修改服务端PSK集配置(SET SBISERVERPSKSET) 


[](None)功能说明 

该命令用于修改服务端PSK集配置。当PSK集需要修改时，使用该命令。 


[](None)注意事项 

修改该服务端PSK集配置，会影响与配置中PSKSETNAME相关联的服务端模板。必须将服务端链路中的动态链路拆除，静态链路拆链重建。建议NF退出服务后再修改。 


[](None)输入参数说明 


[](None)标识|名称|类型|说明
---|---|---|---
PSKSETNAME|PSK集名|参数可选性: 必选参数类型: 字符串参数范围: 1-64|该参数用于设置服务端PSK集名，该名称是服务端PSK集的唯一标识，被“服务端PSK配置”及“服务端模板配置”引用。
PSKHINT|PSK提示信息|参数可选性: 必选参数类型: 字符串参数范围: 1-128|该参数用于设置PSK提示信息。提示信息为长度不超过128的字符串。




[](None)输出参数说明 


[](None)标识|名称|类型|说明
---|---|---|---
PSKSETNAME|PSK集名|参数可选性: 任选参数类型: 字符串参数范围: 1-64|该参数用于设置服务端PSK集名，该名称是服务端PSK集的唯一标识，被“服务端PSK配置”及“服务端模板配置”引用。
PSKHINT|PSK提示信息|参数可选性: 任选参数类型: 字符串参数范围: 1-128|该参数用于设置PSK提示信息。提示信息为长度不超过128的字符串。




[](None)命令举例 


`
修改服务端PSK集配置：PSK集名为psk，PSK提示信息为123。 SET SBISERVERPSKSET:PSKSETNAME="psk",PSKHINT="123";
` 


#### 删除服务端PSK集配置(DEL SBISERVERPSKSET) 
#### 删除服务端PSK集配置(DEL SBISERVERPSKSET) 


[](None)功能说明 

该命令用于删除服务端PSK集配置。当不需要服务端PSK集配置时，使用该命令。 


[](None)注意事项 

删除服务端PSK集前，需要先删除服务端PSK配置中的引用。 


[](None)输入参数说明 


[](None)标识|名称|类型|说明
---|---|---|---
PSKSETNAME|PSK集名|参数可选性: 必选参数类型: 字符串参数范围: 1-64|该参数用于设置服务端PSK集名，该名称是服务端PSK集的唯一标识，被“服务端PSK配置”及“服务端模板配置”引用。




[](None)输出参数说明 


[](None)标识|名称|类型|说明
---|---|---|---
PSKSETNAME|PSK集名|参数可选性: 任选参数类型: 字符串参数范围: 1-64|该参数用于设置服务端PSK集名，该名称是服务端PSK集的唯一标识，被“服务端PSK配置”及“服务端模板配置”引用。
PSKHINT|PSK提示信息|参数可选性: 任选参数类型: 字符串参数范围: 1-128|该参数用于设置PSK提示信息。提示信息为长度不超过128的字符串。




[](None)命令举例 


`
删除服务端PSK集配置：PSK集名为psk。                             DEL SBISERVERPSKSET:PSKSETNAME="psk";
` 


#### 查询服务端PSK集配置(SHOW SBISERVERPSKSET) 
#### 查询服务端PSK集配置(SHOW SBISERVERPSKSET) 


[](None)功能说明 

该命令用于查询服务端PSK集配置。当需要查询服务端PSK集配置信息时，使用该命令。 


[](None)注意事项 

无。


[](None)输入参数说明 


[](None)标识|名称|类型|说明
---|---|---|---
PSKSETNAME|PSK集名|参数可选性: 任选参数类型: 字符串参数范围: 1-64|该参数用于设置服务端PSK集名，该名称是服务端PSK集的唯一标识，被“服务端PSK配置”及“服务端模板配置”引用。
PSKHINT|PSK提示信息|参数可选性: 任选参数类型: 字符串参数范围: 1-128|该参数用于设置PSK提示信息。提示信息为长度不超过128的字符串。




[](None)输出参数说明 


[](None)标识|名称|类型|说明
---|---|---|---
PSKSETNAME|PSK集名|参数可选性: 任选参数类型: 字符串参数范围: 1-64|该参数用于设置服务端PSK集名，该名称是服务端PSK集的唯一标识，被“服务端PSK配置”及“服务端模板配置”引用。
PSKHINT|PSK提示信息|参数可选性: 任选参数类型: 字符串参数范围: 1-128|该参数用于设置PSK提示信息。提示信息为长度不超过128的字符串。




[](None)命令举例 


`
查询服务端PSK集配置。
SHOW SBITLSCIPHERSUITES:PSKSETNAME="psk";

(No.1) : SHOW SBISERVERPSKSET:PSKSETNAME="psk"
-----------------CommonS_HTTP_LB_0----------------
操作维护       PSK集名 PSK提示信息 
-----------------------------------
复制 修改 删除 psk     123         
-----------------------------------
记录数：1
执行成功开始时间:2021-12-14 13:50:26 耗时: 0.597 秒

` 


### 服务端PSK配置 
### 服务端PSK配置 


[](None)背景知识 


PSK（pre-shared key，预共享密钥）是一种密钥协商机制。通讯双方在建立连接前，共享密钥已部署在双方系统内。双方通过密钥标识ID确定使用的加密密钥。PSK密钥协商不依赖公钥体系，也不需要CA证书。 




[](None)功能说明 


在服务端PSK配置前需要配置其归属的服务端PSK集。服务端PSK配置确定服务端的PSK和PSK标识间的映射关系。 




[](None)子主题： 






#### 新增服务端PSK配置(ADD SBISERVERPSK) 
#### 新增服务端PSK配置(ADD SBISERVERPSK) 


[](None)功能说明 

该命令用于新增服务端PSK配置。当一个服务端PSK配置需要归属于一个服务端PSK集时，使用该命令。命令执行成功后，服务端PSK集就可以包含服务端PSK配置。 


[](None)注意事项 

如果要新增服务端PSK配置，会影响与配置中PSKSETNAME相关联的服务端模板，与该模板关联的服务端链路的动态链路应拆除、静态链路应拆链。 


[](None)输入参数说明 


[](None)标识|名称|类型|说明
---|---|---|---
PSKSETNAME|归属PSK集名|参数可选性: 必选参数类型: 字符串参数范围: 1-64|该参数用于设置归属PSK集名。服务端PSK配置引用“服务端PSK集配置”中的配置。
PSKID|PSK标识|参数可选性: 必选参数类型: 字符串参数范围: 1-128|该参数用于设置服务端PSK标识，与PSKSETNAME构成唯一索引。
PSK|PSK|参数可选性: 必选参数类型: 字符串参数范围: 1-256|该参数用于设置PSK预共享密钥。PSK满足十六进制字符格式，长度不超过256。




[](None)输出参数说明 


[](None)标识|名称|类型|说明
---|---|---|---
PSKSETNAME|归属PSK集名|参数可选性: 任选参数类型: 字符串参数范围: 1-64|该参数用于设置归属PSK集名。服务端PSK配置引用“服务端PSK集配置”中的配置。
PSKID|PSK标识|参数可选性: 任选参数类型: 字符串参数范围: 1-128|该参数用于设置服务端PSK标识，与PSKSETNAME构成唯一索引。
PSK|PSK|参数可选性: 任选参数类型: 字符串参数范围: 1-256|该参数用于设置PSK预共享密钥。PSK满足十六进制字符格式，长度不超过256。




[](None)命令举例 


`
新增服务端PSK配置：PSK集名为psk，PSK标识为abc，PSK为长度范围[1，256]的十六进制字符串。                                                 
ADD SBISERVERPSK:PSKSETNAME="psk",PSKID="abc",PSK="111111111111111111111111111111111111111111111aaaaaaaaaaaabbbbbbbcccccccddddddeeeeeeeffffffffffffffffffffffffffffffFABCDEFFFFFF";
` 


#### 修改服务端PSK配置(SET SBISERVERPSK) 
#### 修改服务端PSK配置(SET SBISERVERPSK) 


[](None)功能说明 

该命令用于修改服务端PSK配置。当一个服务端PSK配置需要改变归属的服务端PSK集时，使用该命令。命令执行成功后，服务端PSK配置归属到变更后服务端PSK集。 


[](None)注意事项 

如果要修改服务端PSK配置，会影响与配置中PSKSETNAME相关联的服务端模板，与该模板关联的服务端链路的动态链路应拆除、静态链路应拆链。 


[](None)输入参数说明 


[](None)标识|名称|类型|说明
---|---|---|---
PSKSETNAME|归属PSK集名|参数可选性: 必选参数类型: 字符串参数范围: 1-64|该参数用于设置归属PSK集名。服务端PSK配置引用“服务端PSK集配置”中的配置。
PSKID|PSK标识|参数可选性: 必选参数类型: 字符串参数范围: 1-128|该参数用于设置服务端PSK标识，与PSKSETNAME构成唯一索引。
PSK|PSK|参数可选性: 必选参数类型: 字符串参数范围: 1-256|该参数用于设置PSK预共享密钥。PSK满足十六进制字符格式，长度不超过256。




[](None)输出参数说明 


[](None)标识|名称|类型|说明
---|---|---|---
PSKSETNAME|归属PSK集名|参数可选性: 任选参数类型: 字符串参数范围: 1-64|该参数用于设置归属PSK集名。服务端PSK配置引用“服务端PSK集配置”中的配置。
PSKID|PSK标识|参数可选性: 任选参数类型: 字符串参数范围: 1-128|该参数用于设置服务端PSK标识，与PSKSETNAME构成唯一索引。
PSK|PSK|参数可选性: 任选参数类型: 字符串参数范围: 1-256|该参数用于设置PSK预共享密钥。PSK满足十六进制字符格式，长度不超过256。




[](None)命令举例 


`
修改服务端PSK配置：PSK集名为psk，PSK标识为abc，PSK为长度范围  [1，256]的十六进制字符串。                                                          SET SBISERVERPSK:PSKSETNAME="psk",PSKID="abc",PSK="111111111111111111111111111111111111111111111aaaaaaaaaaaabbbbbbbcccccccddddddeeeeeeeffffffffffffffffffffffffffffffFABCDEFFFFFF";
` 


#### 删除服务端PSK配置(DEL SBISERVERPSK) 
#### 删除服务端PSK配置(DEL SBISERVERPSK) 


[](None)功能说明 

该命令用于删除服务端PSK配置。当一个服务端PSK配置不再归属于一个服务端PSK配置集时，使用该命令。命令执行成功后，原先的服务端PSK集不再包含该服务端PSK配置。 


[](None)注意事项 

如果要删除服务端PSK配置，会影响与配置中PSKSETNAME相关联的服务端模板，与该模板关联的服务端链路的动态链路应拆除、静态链路应拆链。 


[](None)输入参数说明 


[](None)标识|名称|类型|说明
---|---|---|---
PSKSETNAME|归属PSK集名|参数可选性: 必选参数类型: 字符串参数范围: 1-64|该参数用于设置归属PSK集名。服务端PSK配置引用“服务端PSK集配置”中的配置。
PSKID|PSK标识|参数可选性: 必选参数类型: 字符串参数范围: 1-128|该参数用于设置服务端PSK标识，与PSKSETNAME构成唯一索引。




[](None)输出参数说明 


[](None)标识|名称|类型|说明
---|---|---|---
PSKSETNAME|归属PSK集名|参数可选性: 任选参数类型: 字符串参数范围: 1-64|该参数用于设置归属PSK集名。服务端PSK配置引用“服务端PSK集配置”中的配置。
PSKID|PSK标识|参数可选性: 任选参数类型: 字符串参数范围: 1-128|该参数用于设置服务端PSK标识，与PSKSETNAME构成唯一索引。
PSK|PSK|参数可选性: 任选参数类型: 字符串参数范围: 1-256|该参数用于设置PSK预共享密钥。PSK满足十六进制字符格式，长度不超过256。




[](None)命令举例 


`
删除服务端PSK配置：PSK集名为psk，PSK标识为abc。   DEL SBISERVERPSK:PSKSETNAME="psk",PSKID="abc";
` 


#### 查询服务端PSK配置(SHOW SBISERVERPSK) 
#### 查询服务端PSK配置(SHOW SBISERVERPSK) 


[](None)功能说明 

该命令用于查询服务端PSK配置。当需要查询服务端PSK配置时，使用该命令。 


[](None)注意事项 

无。


[](None)输入参数说明 


[](None)标识|名称|类型|说明
---|---|---|---
PSKSETNAME|归属PSK集名|参数可选性: 任选参数类型: 字符串参数范围: 1-64|该参数用于设置归属PSK集名。服务端PSK配置引用“服务端PSK集配置”中的配置。
PSKID|PSK标识|参数可选性: 任选参数类型: 字符串参数范围: 1-128|该参数用于设置服务端PSK标识，与PSKSETNAME构成唯一索引。
PSK|PSK|参数可选性: 任选参数类型: 字符串参数范围: 1-256|该参数用于设置PSK预共享密钥。PSK满足十六进制字符格式，长度不超过256。




[](None)输出参数说明 


[](None)标识|名称|类型|说明
---|---|---|---
PSKSETNAME|归属PSK集名|参数可选性: 任选参数类型: 字符串参数范围: 1-64|该参数用于设置归属PSK集名。服务端PSK配置引用“服务端PSK集配置”中的配置。
PSKID|PSK标识|参数可选性: 任选参数类型: 字符串参数范围: 1-128|该参数用于设置服务端PSK标识，与PSKSETNAME构成唯一索引。
PSK|PSK|参数可选性: 任选参数类型: 字符串参数范围: 1-256|该参数用于设置PSK预共享密钥。PSK满足十六进制字符格式，长度不超过256。




[](None)命令举例 


`
查询服务端PSK配置。
SHOW SBISERVERPSK:PSKSETNAME="psk";

(No.1) : SHOW SBISERVERPSK:PSKSETNAME="psk"
-----------------CommonS_HTTP_LB_0----------------
操作维护       归属PSK集名 PSK标识 PSK                                                                                                                            
------------------------------------------------------------------------------------------------------------------------------------------------------------------
复制 修改 删除 psk         abc     111111111111111111111111111111111111111111111aaaaaaaaaaaabbbbbbbcccccccddddddeeeeeeeffffffffffffffffffffffffffffffFABCDEFFFFFF 
------------------------------------------------------------------------------------------------------------------------------------------------------------------
记录数：1
执行成功开始时间:2021-12-14 14:00:54 耗时: 0.625 秒

` 


### 客户端PSK集配置 
### 客户端PSK集配置 


[](None)背景知识 


客户端PSK集配置是多个客户端PSK配置的集合。 




[](None)功能说明 


指定客户端PSK集的名称。 




[](None)子主题： 






#### 新增客户端PSK集配置(ADD SBICLIENTPSKSET) 
#### 新增客户端PSK集配置(ADD SBICLIENTPSKSET) 


[](None)功能说明 

该命令用于新增客户端PSK集配置。当需要增加新的PSK集配置时，使用该命令。 

命令执行成功后，PSK集名PSKSETNAME可以被“客户端PSK配置”及“客户端模板配置”引用。 


[](None)注意事项 

无。


[](None)输入参数说明 


[](None)标识|名称|类型|说明
---|---|---|---
PSKSETNAME|PSK集名|参数可选性: 必选参数类型: 字符串参数范围: 1-64|该参数用于设置客户端PSK集名，该名称是客户端PSK集的唯一标识，被“客户端PSK配置”及“客户端模板配置”引用。




[](None)输出参数说明 


[](None)标识|名称|类型|说明
---|---|---|---
PSKSETNAME|PSK集名|参数可选性: 任选参数类型: 字符串参数范围: 1-64|该参数用于设置客户端PSK集名，该名称是客户端PSK集的唯一标识，被“客户端PSK配置”及“客户端模板配置”引用。




[](None)命令举例 


`
新增客户端PSK集配置：PSK集名为psk。 ADD SBICLIENTPSKSET:PSKSETNAME="psk";
` 


#### 删除客户端PSK集配置(DEL SBICLIENTPSKSET) 
#### 删除客户端PSK集配置(DEL SBICLIENTPSKSET) 


[](None)功能说明 

该命令用于删除客户端PSK集配置。当不需要客户端PSK集配置时，使用该命令。 


[](None)注意事项 

删除客户端PSK集前，需要先删除客户端PSK配置中的引用。 


[](None)输入参数说明 


[](None)标识|名称|类型|说明
---|---|---|---
PSKSETNAME|PSK集名|参数可选性: 必选参数类型: 字符串参数范围: 1-64|该参数用于设置客户端PSK集名，该名称是客户端PSK集的唯一标识，被“客户端PSK配置”及“客户端模板配置”引用。




[](None)输出参数说明 


[](None)标识|名称|类型|说明
---|---|---|---
PSKSETNAME|PSK集名|参数可选性: 任选参数类型: 字符串参数范围: 1-64|该参数用于设置客户端PSK集名，该名称是客户端PSK集的唯一标识，被“客户端PSK配置”及“客户端模板配置”引用。




[](None)命令举例 


`
删除客户端PSK集配置：PSK集名为psk。 DEL SBICLIENTPSKSET:PSKSETNAME="psk";
` 


#### 查询客户端PSK集配置(SHOW SBICLIENTPSKSET) 
#### 查询客户端PSK集配置(SHOW SBICLIENTPSKSET) 


[](None)功能说明 

该命令用于查询客户端PSK集配置。当需要查询客户端PSK集配置信息时，使用该命令。 


[](None)注意事项 

无。


[](None)输入参数说明 


[](None)标识|名称|类型|说明
---|---|---|---
PSKSETNAME|PSK集名|参数可选性: 任选参数类型: 字符串参数范围: 1-64|该参数用于设置客户端PSK集名，该名称是客户端PSK集的唯一标识，被“客户端PSK配置”及“客户端模板配置”引用。




[](None)输出参数说明 


[](None)标识|名称|类型|说明
---|---|---|---
PSKSETNAME|PSK集名|参数可选性: 任选参数类型: 字符串参数范围: 1-64|该参数用于设置客户端PSK集名，该名称是客户端PSK集的唯一标识，被“客户端PSK配置”及“客户端模板配置”引用。




[](None)命令举例 


`
查询客户端PSK集配置。
SHOW SBICLIENTPSKSET:PSKSETNAME="psk";

(No.1) : SHOW SBICLIENTPSKSET:PSKSETNAME="psk"
-----------------CommonS_HTTP_LB_0----------------
操作维护       PSK集名 
-----------------------
复制 删除      psk     
-----------------------
记录数：1
执行成功开始时间:2021-12-14 14:04:10 耗时: 0.612 秒

` 


### 客户端PSK配置 
### 客户端PSK配置 


[](None)背景知识 


PSK（pre-shared key，预共享密钥）是一种密钥协商机制。通讯双方在建立连接前，共享密钥已部署在双方系统内。双方通过密钥标识ID确定使用的加密密钥。PSK密钥协商不依赖公钥体系，也不需要CA证书。 




[](None)功能说明 


在客户端PSK配置前需要配置其归属的客户端PSK集。 




[](None)子主题： 






#### 新增客户端PSK配置(ADD SBICLIENTPSK) 
#### 新增客户端PSK配置(ADD SBICLIENTPSK) 


[](None)功能说明 

该命令用于新增客户端PSK配置。当一个客户端PSK配置需要归属于一个客户端PSK集时，使用该命令。命令执行成功后，客户端PSK集就可以包含客户端PSK配置。 


[](None)注意事项 

如果要新增客户端PSK配置，会影响和配置中PSKSETNAME相关联的客户端模板，和该模板关联的客户端链路动态链路应拆除、静态链路应拆链。 


[](None)输入参数说明 


[](None)标识|名称|类型|说明
---|---|---|---
PSKSETNAME|归属PSK集名|参数可选性: 必选参数类型: 字符串参数范围: 1-64|该参数用于设置归属PSK集名。客户端PSK配置引用“客户端PSK集配置”中的配置。
PSKHINT|PSK提示信息|参数可选性: 必选参数类型: 字符串参数范围: 1-128|该参数用于设置PSK提示信息，与PSKSETNAME构成唯一索引。提示信息为长度不超过128的字符串。
PSKID|PSK标识|参数可选性: 必选参数类型: 字符串参数范围: 1-128|该参数用于设置客户端PSK标识，PSK标识为长度不超过128的字符串。
PSK|PSK|参数可选性: 必选参数类型: 字符串参数范围: 1-256|该参数用于设置PSK预共享密钥。PSK满足十六进制字符格式，长度不超过256。




[](None)输出参数说明 


[](None)标识|名称|类型|说明
---|---|---|---
PSKSETNAME|归属PSK集名|参数可选性: 任选参数类型: 字符串参数范围: 1-64|该参数用于设置归属PSK集名。客户端PSK配置引用“客户端PSK集配置”中的配置。
PSKHINT|PSK提示信息|参数可选性: 任选参数类型: 字符串参数范围: 1-128|该参数用于设置PSK提示信息，与PSKSETNAME构成唯一索引。提示信息为长度不超过128的字符串。
PSKID|PSK标识|参数可选性: 任选参数类型: 字符串参数范围: 1-128|该参数用于设置客户端PSK标识，PSK标识为长度不超过128的字符串。
PSK|PSK|参数可选性: 任选参数类型: 字符串参数范围: 1-256|该参数用于设置PSK预共享密钥。PSK满足十六进制字符格式，长度不超过256。




[](None)命令举例 


`
新增客户端PSK配置：PSK集名为psk，PSK提示信息为abc，PSK标识为123，PSK为长度范围[1，256]的十六进制字符串。                                                 ADD SBICLIENTPSK:PSKSETNAME="psk",PSKHINT="abc",PSKID="123",PSK="111111111111111111111111111111111111111111111aaaaaaaaaaaabbbbbbbcccccccddddddeeeeeeeffffffffffffffffffffffffffffffFABCDEFFFFFF";
` 


#### 修改客户端PSK配置(SET SBICLIENTPSK) 
#### 修改客户端PSK配置(SET SBICLIENTPSK) 


[](None)功能说明 

该命令用于修改客户端PSK配置。当一个客户端PSK配置需要改变归属的客户端PSK集时，使用该命令。命令执行成功后，客户端PSK配置归属到变更后客户端PSK集。 


[](None)注意事项 

如果要修改客户端PSK配置，会影响和配置中PSKSETNAME相关联的客户端模板，和该模板关联的客户端链路动态链路应拆除、静态链路应拆链。 


[](None)输入参数说明 


[](None)标识|名称|类型|说明
---|---|---|---
PSKSETNAME|归属PSK集名|参数可选性: 必选参数类型: 字符串参数范围: 1-64|该参数用于设置归属PSK集名。客户端PSK配置引用“客户端PSK集配置”中的配置。
PSKHINT|PSK提示信息|参数可选性: 必选参数类型: 字符串参数范围: 1-128|该参数用于设置PSK提示信息，与PSKSETNAME构成唯一索引。提示信息为长度不超过128的字符串。
PSKID|PSK标识|参数可选性: 必选参数类型: 字符串参数范围: 1-128|该参数用于设置客户端PSK标识，PSK标识为长度不超过128的字符串。
PSK|PSK|参数可选性: 必选参数类型: 字符串参数范围: 1-256|该参数用于设置PSK预共享密钥。PSK满足十六进制字符格式，长度不超过256。




[](None)输出参数说明 


[](None)标识|名称|类型|说明
---|---|---|---
PSKSETNAME|归属PSK集名|参数可选性: 任选参数类型: 字符串参数范围: 1-64|该参数用于设置归属PSK集名。客户端PSK配置引用“客户端PSK集配置”中的配置。
PSKHINT|PSK提示信息|参数可选性: 任选参数类型: 字符串参数范围: 1-128|该参数用于设置PSK提示信息，与PSKSETNAME构成唯一索引。提示信息为长度不超过128的字符串。
PSKID|PSK标识|参数可选性: 任选参数类型: 字符串参数范围: 1-128|该参数用于设置客户端PSK标识，PSK标识为长度不超过128的字符串。
PSK|PSK|参数可选性: 任选参数类型: 字符串参数范围: 1-256|该参数用于设置PSK预共享密钥。PSK满足十六进制字符格式，长度不超过256。




[](None)命令举例 


`
修改客户端PSK配置：PSK集名为psk，PSK提示信息为abc，PSK标识为123，PSK为长度范围[1，256]的十六进制字符串。                                                 SET SBICLIENTPSK:PSKSETNAME="psk",PSKHINT="abc",PSKID="123",PSK="111111111111111111111111111111111111111111111aaaaaaaaaaaabbbbbbbcccccccddddddeeeeeeeffffffffffffffffffffffffffffffFABCDEFFFFFF";
` 


#### 删除客户端PSK配置(DEL SBICLIENTPSK) 
#### 删除客户端PSK配置(DEL SBICLIENTPSK) 


[](None)功能说明 

该命令用于删除客户端PSK配置。当一个客户端PSK配置不再归属于一个客户端PSK配置集时，使用该命令。命令执行成功后，原先的客户端PSK集不再包含该客户端PSK配置。 


[](None)注意事项 

如果要删除客户端PSK配置，会影响和配置中PSKSETNAME相关联的客户端模板，和该模板关联的客户端链路动态链路应拆除、静态链路应拆链。 


[](None)输入参数说明 


[](None)标识|名称|类型|说明
---|---|---|---
PSKSETNAME|归属PSK集名|参数可选性: 必选参数类型: 字符串参数范围: 1-64|该参数用于设置归属PSK集名。客户端PSK配置引用“客户端PSK集配置”中的配置。
PSKHINT|PSK提示信息|参数可选性: 必选参数类型: 字符串参数范围: 1-128|该参数用于设置PSK提示信息，与PSKSETNAME构成唯一索引。提示信息为长度不超过128的字符串。




[](None)输出参数说明 


[](None)标识|名称|类型|说明
---|---|---|---
PSKSETNAME|归属PSK集名|参数可选性: 任选参数类型: 字符串参数范围: 1-64|该参数用于设置归属PSK集名。客户端PSK配置引用“客户端PSK集配置”中的配置。
PSKHINT|PSK提示信息|参数可选性: 任选参数类型: 字符串参数范围: 1-128|该参数用于设置PSK提示信息，与PSKSETNAME构成唯一索引。提示信息为长度不超过128的字符串。
PSKID|PSK标识|参数可选性: 任选参数类型: 字符串参数范围: 1-128|该参数用于设置客户端PSK标识，PSK标识为长度不超过128的字符串。
PSK|PSK|参数可选性: 任选参数类型: 字符串参数范围: 1-256|该参数用于设置PSK预共享密钥。PSK满足十六进制字符格式，长度不超过256。




[](None)命令举例 


`
删除客户端PSK配置：PSK集名为psk，PSK提示信息为abc。                DEL SBICLIENTPSK:PSKSETNAME="psk",PSKHINT="abc";
` 


#### 查询客户端PSK配置(SHOW SBICLIENTPSK) 
#### 查询客户端PSK配置(SHOW SBICLIENTPSK) 


[](None)功能说明 

该命令用于查询客户端PSK配置。当需要查询客户端PSK配置时，使用该命令。 


[](None)注意事项 

无。


[](None)输入参数说明 


[](None)标识|名称|类型|说明
---|---|---|---
PSKSETNAME|归属PSK集名|参数可选性: 任选参数类型: 字符串参数范围: 1-64|该参数用于设置归属PSK集名。客户端PSK配置引用“客户端PSK集配置”中的配置。
PSKHINT|PSK提示信息|参数可选性: 任选参数类型: 字符串参数范围: 1-128|该参数用于设置PSK提示信息，与PSKSETNAME构成唯一索引。提示信息为长度不超过128的字符串。
PSKID|PSK标识|参数可选性: 任选参数类型: 字符串参数范围: 1-128|该参数用于设置客户端PSK标识，PSK标识为长度不超过128的字符串。
PSK|PSK|参数可选性: 任选参数类型: 字符串参数范围: 1-256|该参数用于设置PSK预共享密钥。PSK满足十六进制字符格式，长度不超过256。




[](None)输出参数说明 


[](None)标识|名称|类型|说明
---|---|---|---
PSKSETNAME|归属PSK集名|参数可选性: 任选参数类型: 字符串参数范围: 1-64|该参数用于设置归属PSK集名。客户端PSK配置引用“客户端PSK集配置”中的配置。
PSKHINT|PSK提示信息|参数可选性: 任选参数类型: 字符串参数范围: 1-128|该参数用于设置PSK提示信息，与PSKSETNAME构成唯一索引。提示信息为长度不超过128的字符串。
PSKID|PSK标识|参数可选性: 任选参数类型: 字符串参数范围: 1-128|该参数用于设置客户端PSK标识，PSK标识为长度不超过128的字符串。
PSK|PSK|参数可选性: 任选参数类型: 字符串参数范围: 1-256|该参数用于设置PSK预共享密钥。PSK满足十六进制字符格式，长度不超过256。




[](None)命令举例 


`
查询客户端PSK配置。
SHOW SBICLIENTPSK:PSKSETNAME="psk";

(No.1) : SHOW SBICLIENTPSK:PSKSETNAME="psk"
-----------------CommonS_HTTP_LB_0----------------
操作维护       归属PSK集名 PSK提示信息 PSK标识 PSK                                                                                                                            
------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
复制 修改 删除 psk         abc         123    111111111111111111111111111111111111111111111aaaaaaaaaaaabbbbbbbcccccccddddddeeeeeeeffffffffffffffffffffffffffffffFABCDEFFFFFF 
------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
记录数：1
执行成功开始时间:2021-12-14 14:11:21 耗时: 0.616 秒

` 


## 流控配置管理 
## 流控配置管理 


[](None)背景知识 


当需要限制HTTPLB（Hypertext Transfer Protocol Load Balancing，超文本传输负载均衡）接收或者发送消息流量时，使用HTTPLB的流控配置，进行流量控制。
流量控制的目标：
1、控制流控周期内放通的业务量。
2、流控周期内放通业务比较均匀，避免集中放通。
3、区分优先级，较高的能够优先放通。 




[](None)功能说明 


HTTPLB提供的流控功能，可以配置流控的HTTP方法优先级、拒绝策略。支持三种流控：链路流控、SC流控、局向流控。 




[](None)子主题： 






### 流控基本功能配置 
### 流控基本功能配置 


[](None)背景知识 


HTTPLB（Hypertext Transfer Protocol Load Balancing，超文本传输负载均衡）支持三种流控：链路流控、SC流控、局向流控。此配置为三种流控各自的功能启用开关，可以同时启用多种。 




[](None)功能说明 


HTTPLB三种流控的功能启用开关，可以同时启用多种。 




[](None)子主题： 






#### 修改流控基本功能配置(SET FLOWCONTROLBASEPRO) 
#### 修改流控基本功能配置(SET FLOWCONTROLBASEPRO) 


[](None)功能说明 

该命令用于修改流控基本功能配置。当流控功能是否启用发生变化时，执行该命令。命令执行成功后，根据配置决定是否启用对应类型的流控。


[](None)注意事项 

无。


[](None)输入参数说明 


[](None)标识|名称|类型|说明
---|---|---|---
SCCONTROL|按SC流控|参数可选性: 任选参数类型: 枚举，参见枚举定义参数范围: 0-1默认值: SWITCH_OFF|该参数用于设置按SC流控功能是否启用。SWITCH_OFF：关闭，表示关闭按SC流控。SWITCH_ON：开启，表示开启按SC流控。
OFFICECONTROL|按局向流控|参数可选性: 任选参数类型: 枚举，参见枚举定义参数范围: 0-1默认值: SWITCH_OFF|该参数用于设置按局向流控功能是否启用。SWITCH_OFF：关闭，表示关闭按局向流控。SWITCH_ON：开启，表示开启按局向流控。
LINKCONTROL|按链路流控|参数可选性: 任选参数类型: 枚举，参见枚举定义参数范围: 0-1默认值: SWITCH_OFF|该参数用于设置按链路流控功能是否启用。SWITCH_OFF：关闭，表示关闭按链路流控。SWITCH_ON：开启，表示开启按链路流控。




[](None)输出参数说明 


[](None)标识|名称|类型|说明
---|---|---|---
SCCONTROL|按SC流控|参数可选性: 任选参数类型: 枚举，参见枚举定义参数范围: 0-1默认值: SWITCH_OFF|该参数用于设置按SC流控功能是否启用。SWITCH_OFF：关闭，表示关闭按SC流控。SWITCH_ON：开启，表示开启按SC流控。
OFFICECONTROL|按局向流控|参数可选性: 任选参数类型: 枚举，参见枚举定义参数范围: 0-1默认值: SWITCH_OFF|该参数用于设置按局向流控功能是否启用。SWITCH_OFF：关闭，表示关闭按局向流控。SWITCH_ON：开启，表示开启按局向流控。
LINKCONTROL|按链路流控|参数可选性: 任选参数类型: 枚举，参见枚举定义参数范围: 0-1默认值: SWITCH_OFF|该参数用于设置按链路流控功能是否启用。SWITCH_OFF：关闭，表示关闭按链路流控。SWITCH_ON：开启，表示开启按链路流控。




[](None)命令举例 


`
修改流控基本功能配置，按SC流控修改为开启。
SET FLOWCONTROLBASEPRO:SCCONTROL="SWITCH_ON";
` 


#### 查询流控基本功能配置(SHOW FLOWCONTROLBASEPRO) 
#### 查询流控基本功能配置(SHOW FLOWCONTROLBASEPRO) 


[](None)功能说明 

该命令用于查询流控基本功能配置信息，包括：按SC流控，按局向流控，按链路流控。当需要查询流控基本功能配置信息时，使用该命令。


[](None)注意事项 

无。


[](None)输出参数说明 


[](None)标识|名称|类型|说明
---|---|---|---
SCCONTROL|按SC流控|参数可选性: 任选参数类型: 枚举，参见枚举定义参数范围: 0-1默认值: SWITCH_OFF|该参数用于设置按SC流控功能是否启用。SWITCH_OFF：关闭，表示关闭按SC流控。SWITCH_ON：开启，表示开启按SC流控。
OFFICECONTROL|按局向流控|参数可选性: 任选参数类型: 枚举，参见枚举定义参数范围: 0-1默认值: SWITCH_OFF|该参数用于设置按局向流控功能是否启用。SWITCH_OFF：关闭，表示关闭按局向流控。SWITCH_ON：开启，表示开启按局向流控。
LINKCONTROL|按链路流控|参数可选性: 任选参数类型: 枚举，参见枚举定义参数范围: 0-1默认值: SWITCH_OFF|该参数用于设置按链路流控功能是否启用。SWITCH_OFF：关闭，表示关闭按链路流控。SWITCH_ON：开启，表示开启按链路流控。




[](None)命令举例 


`
查询流控基本功能配置。
SHOW FLOWCONTROLBASEPRO;

(No.1) : SHOW FLOWCONTROLBASEPRO:
-----------------CommonS_HTTP_LB_0----------------
操作维护       按SC流控 按局向流控 按链路流控 
----------------------------------------------
修改           关闭     关闭       开启       
----------------------------------------------
记录数：1
执行成功开始时间:2022-03-28 17:20:16 耗时: 0.578 秒

` 


### 优先级模板组配置 
### 优先级模板组配置 


[](None)背景知识 


HTTPLB（Hypertext Transfer Protocol Load Balancing，超文本传输负载均衡）流控功能的优先级模板组配置。一个优先级模板组配置可以包含多个优先级模板。 




[](None)功能说明 


HTTPLB流控功能的优先级模板组配置。可以配置的具体参数包括模板组标识、模板组描述。 




[](None)子主题： 






#### 新增优先级模板组配置(ADD PRIORITY PROFILE GROUP) 
#### 新增优先级模板组配置(ADD PRIORITY PROFILE GROUP) 


[](None)功能说明 

该命令用于新增优先级模板组配置。当需要按照优先级高低进行流控管理时，执行该命令。命令执行成功后，可以配置归属于该优先级模板组的优先级模板（[ADD PRIORITY PROFILE](../mml/1220233.html)）。


[](None)注意事项 

无。 


[](None)输入参数说明 


[](None)标识|名称|类型|说明
---|---|---|---
ID|模板组标识|参数可选性: 必选参数类型: 数字参数范围: 1-128|该参数用于设置优先级模板组对应的标识，该参数在以下配置中被引用。优先级模板（ADD PRIORITY PROFILE）按SC入向流控（ADD FLOW CONTROL BY SC IN）按SC出向流控（ADD FLOW CONTROL BY SC OUT）按链路入向流控（ADD FLOW CONTROL BY LINK IN）?按链路出向流控（ADD FLOW CONTROL BY LINK OUT）按局向入向流控（ADD OFFICERECVFLOWCTL）按局向出向流控（ADD OFFICESENDFLOWCTL）
DESC|描述|参数可选性: 任选参数类型: 字符串参数范围: 0-64|该参数用于设置优先级模板组的描述信息。




[](None)输出参数说明 


[](None)标识|名称|类型|说明
---|---|---|---
ID|模板组标识|参数可选性: 任选参数类型: 数字参数范围: 1-128|该参数用于设置优先级模板组对应的标识，该参数在以下配置中被引用。优先级模板（ADD PRIORITY PROFILE）按SC入向流控（ADD FLOW CONTROL BY SC IN）按SC出向流控（ADD FLOW CONTROL BY SC OUT）按链路入向流控（ADD FLOW CONTROL BY LINK IN）?按链路出向流控（ADD FLOW CONTROL BY LINK OUT）按局向入向流控（ADD OFFICERECVFLOWCTL）按局向出向流控（ADD OFFICESENDFLOWCTL）
DESC|描述|参数可选性: 任选参数类型: 字符串参数范围: 0-64|该参数用于设置优先级模板组的描述信息。




[](None)命令举例 


`
新增优先级模板组配置，模板组标识为1。
ADD PRIORITY PROFILE GROUP:ID=1
` 


#### 修改优先级模板组配置(SET PRIORITY PROFILE GROUP) 
#### 修改优先级模板组配置(SET PRIORITY PROFILE GROUP) 


[](None)功能说明 

该命令用于修改优先级模板组配置。当需要修优先级模板组的描述信息时，执行该命令。命令执行成功后，可以通过[SHOW PRIORITY PROFILE GROUP](../mml/1220232.html)查看当前的优先级模板组配置。


[](None)注意事项 

无。 


[](None)输入参数说明 


[](None)标识|名称|类型|说明
---|---|---|---
ID|模板组标识|参数可选性: 必选参数类型: 数字参数范围: 1-128|该参数用于设置优先级模板组对应的标识，该参数在以下配置中被引用。优先级模板（ADD PRIORITY PROFILE）按SC入向流控（ADD FLOW CONTROL BY SC IN）按SC出向流控（ADD FLOW CONTROL BY SC OUT）按链路入向流控（ADD FLOW CONTROL BY LINK IN）?按链路出向流控（ADD FLOW CONTROL BY LINK OUT）按局向入向流控（ADD OFFICERECVFLOWCTL）按局向出向流控（ADD OFFICESENDFLOWCTL）
DESC|描述|参数可选性: 任选参数类型: 字符串参数范围: 0-64|该参数用于设置优先级模板组的描述信息。




[](None)输出参数说明 


[](None)标识|名称|类型|说明
---|---|---|---
ID|模板组标识|参数可选性: 任选参数类型: 数字参数范围: 1-128|该参数用于设置优先级模板组对应的标识，该参数在以下配置中被引用。优先级模板（ADD PRIORITY PROFILE）按SC入向流控（ADD FLOW CONTROL BY SC IN）按SC出向流控（ADD FLOW CONTROL BY SC OUT）按链路入向流控（ADD FLOW CONTROL BY LINK IN）?按链路出向流控（ADD FLOW CONTROL BY LINK OUT）按局向入向流控（ADD OFFICERECVFLOWCTL）按局向出向流控（ADD OFFICESENDFLOWCTL）
DESC|描述|参数可选性: 任选参数类型: 字符串参数范围: 0-64|该参数用于设置优先级模板组的描述信息。




[](None)命令举例 


`
修改优先级模板组配置，模板组标识为1。
SET PRIORITY PROFILE GROUP:ID=1
` 


#### 删除优先级模板组配置(DEL PRIORITY PROFILE GROUP) 
#### 删除优先级模板组配置(DEL PRIORITY PROFILE GROUP) 


[](None)功能说明 

该命令用于删除优先级模板组配置。当需要删除指定模板组标识的优先级模板组配置时，执行该命令。命令执行成功后，可以通过[SHOW PRIORITY PROFILE GROUP](../mml/1220232.html)查看当前的优先级模板组配置，以确认是否已删除。



[](None)注意事项 

删除优先级模板组配置之前，需要确认该配置的“模板组标识”未在以下配置中被引用。 


 
优先级模板（ADD PRIORITY PROFILE） 

 
按SC入向流控（ADD FLOW CONTROL BY SC IN） 

 
按SC出向流控（ADD FLOW CONTROL BY SC OUT） 

 
按链路入向流控（ADD FLOW CONTROL BY LINK IN） 

 
按链路出向流控（ADD FLOW CONTROL BY LINK OUT） 

 
按局向入向流控（ADD OFFICERECVFLOWCTL） 

 
按局向出向流控（ADD OFFICESENDFLOWCTL） 

 


[](None)输入参数说明 


[](None)标识|名称|类型|说明
---|---|---|---
ID|模板组标识|参数可选性: 必选参数类型: 数字参数范围: 1-128|该参数用于设置优先级模板组对应的标识，该参数在以下配置中被引用。优先级模板（ADD PRIORITY PROFILE）按SC入向流控（ADD FLOW CONTROL BY SC IN）按SC出向流控（ADD FLOW CONTROL BY SC OUT）按链路入向流控（ADD FLOW CONTROL BY LINK IN）?按链路出向流控（ADD FLOW CONTROL BY LINK OUT）按局向入向流控（ADD OFFICERECVFLOWCTL）按局向出向流控（ADD OFFICESENDFLOWCTL）




[](None)输出参数说明 


[](None)标识|名称|类型|说明
---|---|---|---
ID|模板组标识|参数可选性: 任选参数类型: 数字参数范围: 1-128|该参数用于设置优先级模板组对应的标识，该参数在以下配置中被引用。优先级模板（ADD PRIORITY PROFILE）按SC入向流控（ADD FLOW CONTROL BY SC IN）按SC出向流控（ADD FLOW CONTROL BY SC OUT）按链路入向流控（ADD FLOW CONTROL BY LINK IN）?按链路出向流控（ADD FLOW CONTROL BY LINK OUT）按局向入向流控（ADD OFFICERECVFLOWCTL）按局向出向流控（ADD OFFICESENDFLOWCTL）
DESC|描述|参数可选性: 任选参数类型: 字符串参数范围: 0-64|该参数用于设置优先级模板组的描述信息。




[](None)命令举例 


`
删除优先级模板组配置，模板组标识为1。
DEL PRIORITY PROFILE GROUP:ID=1
` 


#### 查询优先级模板组配置(SHOW PRIORITY PROFILE GROUP) 
#### 查询优先级模板组配置(SHOW PRIORITY PROFILE GROUP) 


[](None)功能说明 

该命令用于查询优先级模板组配置。若需要查询指定标识的优先级模板组配置，则需要输入参数“模板组标识”；若不输入参数模板组标识，则查询所有优先级模板组配置。 


[](None)注意事项 

无。 


[](None)输入参数说明 


[](None)标识|名称|类型|说明
---|---|---|---
ID|模板组标识|参数可选性: 任选参数类型: 数字参数范围: 1-128|该参数用于设置优先级模板组对应的标识，该参数在以下配置中被引用。优先级模板（ADD PRIORITY PROFILE）按SC入向流控（ADD FLOW CONTROL BY SC IN）按SC出向流控（ADD FLOW CONTROL BY SC OUT）按链路入向流控（ADD FLOW CONTROL BY LINK IN）?按链路出向流控（ADD FLOW CONTROL BY LINK OUT）按局向入向流控（ADD OFFICERECVFLOWCTL）按局向出向流控（ADD OFFICESENDFLOWCTL）




[](None)输出参数说明 


[](None)标识|名称|类型|说明
---|---|---|---
ID|模板组标识|参数可选性: 任选参数类型: 数字参数范围: 1-128|该参数用于设置优先级模板组对应的标识，该参数在以下配置中被引用。优先级模板（ADD PRIORITY PROFILE）按SC入向流控（ADD FLOW CONTROL BY SC IN）按SC出向流控（ADD FLOW CONTROL BY SC OUT）按链路入向流控（ADD FLOW CONTROL BY LINK IN）?按链路出向流控（ADD FLOW CONTROL BY LINK OUT）按局向入向流控（ADD OFFICERECVFLOWCTL）按局向出向流控（ADD OFFICESENDFLOWCTL）
DESC|描述|参数可选性: 任选参数类型: 字符串参数范围: 0-64|该参数用于设置优先级模板组的描述信息。




[](None)命令举例 


`
查询优先级模板组配置，模板组标识为1。
SHOW PRIORITY PROFILE GROUP:ID=1

(No.1) : SHOW PRIORITY PROFILE GROUP:
-----------------CommonS_HTTP_LB_0----------------
操作维护       模板组标识 描述 
-------------------------------
复制 修改 删除 1               
-------------------------------
记录数: 1
执行成功开始时间:2022-08-09 11:06:56 耗时: 1.018秒

` 


### 拒绝方式模板配置 
### 拒绝方式模板配置 


[](None)背景知识 


HTTPLB（Hypertext Transfer Protocol Load Balancing，超文本传输负载均衡）流控功能的拒绝方式模板配置。每个优先级模板可以单独引用相同或不同的拒绝方式模板。 




[](None)功能说明 


HTTPLB流控功能的拒绝方式模板配置。可以配置的具体参数包括模板标识、模板描述信息、拒绝方式、响应码、是否携带retry-after头部、retry-after头部值等。当使用消息类型+方法名读取不到对应的方法优先级模板配置时，如果当前消息由于流控需要拒绝，则使用默认拒绝方式。 




[](None)子主题： 






#### 新增拒绝方式模板配置(ADD REJECT MODE PROFILE) 
#### 新增拒绝方式模板配置(ADD REJECT MODE PROFILE) 


[](None)功能说明 

该命令用于新增拒绝方式模板配置。进行流控管理时，当需要回复失败响应、直接丢弃或不拒绝消息时，执行该命令。命令执行成功后，可以在优先级模板配置（[ADD PRIORITY PROFILE](../mml/1220233.html)）中引用该拒绝方式模板。


[](None)注意事项 

无。 


[](None)输入参数说明 


[](None)标识|名称|类型|说明
---|---|---|---
ID|模板标识|参数可选性: 必选参数类型: 数字参数范围: 1-128|该参数用于设置拒绝方式模板配置的模板标识。命令执行成功后，该模板标识可被优先级模板引用（ADD PRIORITY PROFILE）。
DESCRIPTION|描述信息|参数可选性: 任选参数类型: 字符串参数范围: 0-128|该参数用于设置拒绝方式模板配置的描述信息。
REJECTWAY|拒绝方式|参数可选性: 任选参数类型: 枚举，参见枚举定义参数范围: 0-2默认值: RESPONSE_FAILED|该参数用于设置拒绝方式模板对应的消息拒绝方式。NO_REFUSE：不拒绝。RESPONSE_FAILED：回失败响应。DISCARD：直接丢弃。
RSPCODE|响应码|参数可选性: 任选参数类型: 数字参数范围: 400-599默认值: 500|该参数用于设置当流控的“拒绝方式”为“回失败响应”时的失败响应码。
ISRETRY|携带retry-after头部|参数可选性: 任选参数类型: 枚举，参见枚举定义参数范围: 0-1默认值: WITHOUT_RETRY_AFTER_HEADER|该参数用于设置当流控的“拒绝方式”为“回失败响应”时是否携带Retry-After头部。WITHOUT_RETRY_AFTER_HEADER：否。在收到流控后，不会在Retry时间后再次发起请求。WITH_RETRY_AFTER_HEADER：是。在收到流控后，会在Retry时间后再次发起请求。
RETRYLEN|retry时间(秒)|参数可选性: 任选参数类型: 数字参数范围: 1-1200默认值: 5|该参数用于设置当流控的“拒绝方式”为“回失败响应”并且“是否携带Retry-After头部”为“是”时的Retry时间。




[](None)输出参数说明 


[](None)标识|名称|类型|说明
---|---|---|---
ID|模板标识|参数可选性: 任选参数类型: 数字参数范围: 1-128|该参数用于设置拒绝方式模板配置的模板标识。命令执行成功后，该模板标识可被优先级模板引用（ADD PRIORITY PROFILE）。
DESCRIPTION|描述信息|参数可选性: 任选参数类型: 字符串参数范围: 0-128|该参数用于设置拒绝方式模板配置的描述信息。
REJECTWAY|拒绝方式|参数可选性: 任选参数类型: 枚举，参见枚举定义参数范围: 0-2默认值: RESPONSE_FAILED|该参数用于设置拒绝方式模板对应的消息拒绝方式。NO_REFUSE：不拒绝。RESPONSE_FAILED：回失败响应。DISCARD：直接丢弃。
RSPCODE|响应码|参数可选性: 任选参数类型: 数字参数范围: 400-599默认值: 500|该参数用于设置当流控的“拒绝方式”为“回失败响应”时的失败响应码。
ISRETRY|携带retry-after头部|参数可选性: 任选参数类型: 枚举，参见枚举定义参数范围: 0-1默认值: WITHOUT_RETRY_AFTER_HEADER|该参数用于设置当流控的“拒绝方式”为“回失败响应”时是否携带Retry-After头部。WITHOUT_RETRY_AFTER_HEADER：否。在收到流控后，不会在Retry时间后再次发起请求。WITH_RETRY_AFTER_HEADER：是。在收到流控后，会在Retry时间后再次发起请求。
RETRYLEN|retry时间(秒)|参数可选性: 任选参数类型: 数字参数范围: 1-1200默认值: 5|该参数用于设置当流控的“拒绝方式”为“回失败响应”并且“是否携带Retry-After头部”为“是”时的Retry时间。




[](None)命令举例 


`
新增拒绝方式模板配置，模板标识为1。
ADD REJECT MODE PROFILE:ID=1
` 


#### 修改拒绝方式模板配置(SET REJECT MODE PROFILE) 
#### 修改拒绝方式模板配置(SET REJECT MODE PROFILE) 


[](None)功能说明 

该命令用于修改拒绝方式模板配置。当需要修改流控的拒绝方式时，执行该命令。命令执行成功后，引用该模板标识的优先级模板将按照新的拒绝方式执行。 


[](None)注意事项 

无。 


[](None)输入参数说明 


[](None)标识|名称|类型|说明
---|---|---|---
ID|模板标识|参数可选性: 必选参数类型: 数字参数范围: 1-128|该参数用于设置拒绝方式模板配置的模板标识。命令执行成功后，该模板标识可被优先级模板引用（ADD PRIORITY PROFILE）。
DESCRIPTION|描述信息|参数可选性: 任选参数类型: 字符串参数范围: 0-128|该参数用于设置拒绝方式模板配置的描述信息。
REJECTWAY|拒绝方式|参数可选性: 任选参数类型: 枚举，参见枚举定义参数范围: 0-2默认值: RESPONSE_FAILED|该参数用于设置拒绝方式模板对应的消息拒绝方式。NO_REFUSE：不拒绝。RESPONSE_FAILED：回失败响应。DISCARD：直接丢弃。
RSPCODE|响应码|参数可选性: 任选参数类型: 数字参数范围: 400-599默认值: 500|该参数用于设置当流控的“拒绝方式”为“回失败响应”时的失败响应码。
ISRETRY|携带retry-after头部|参数可选性: 任选参数类型: 枚举，参见枚举定义参数范围: 0-1默认值: WITHOUT_RETRY_AFTER_HEADER|该参数用于设置当流控的“拒绝方式”为“回失败响应”时是否携带Retry-After头部。WITHOUT_RETRY_AFTER_HEADER：否。在收到流控后，不会在Retry时间后再次发起请求。WITH_RETRY_AFTER_HEADER：是。在收到流控后，会在Retry时间后再次发起请求。
RETRYLEN|retry时间(秒)|参数可选性: 任选参数类型: 数字参数范围: 1-1200默认值: 5|该参数用于设置当流控的“拒绝方式”为“回失败响应”并且“是否携带Retry-After头部”为“是”时的Retry时间。




[](None)输出参数说明 


[](None)标识|名称|类型|说明
---|---|---|---
ID|模板标识|参数可选性: 任选参数类型: 数字参数范围: 1-128|该参数用于设置拒绝方式模板配置的模板标识。命令执行成功后，该模板标识可被优先级模板引用（ADD PRIORITY PROFILE）。
DESCRIPTION|描述信息|参数可选性: 任选参数类型: 字符串参数范围: 0-128|该参数用于设置拒绝方式模板配置的描述信息。
REJECTWAY|拒绝方式|参数可选性: 任选参数类型: 枚举，参见枚举定义参数范围: 0-2默认值: RESPONSE_FAILED|该参数用于设置拒绝方式模板对应的消息拒绝方式。NO_REFUSE：不拒绝。RESPONSE_FAILED：回失败响应。DISCARD：直接丢弃。
RSPCODE|响应码|参数可选性: 任选参数类型: 数字参数范围: 400-599默认值: 500|该参数用于设置当流控的“拒绝方式”为“回失败响应”时的失败响应码。
ISRETRY|携带retry-after头部|参数可选性: 任选参数类型: 枚举，参见枚举定义参数范围: 0-1默认值: WITHOUT_RETRY_AFTER_HEADER|该参数用于设置当流控的“拒绝方式”为“回失败响应”时是否携带Retry-After头部。WITHOUT_RETRY_AFTER_HEADER：否。在收到流控后，不会在Retry时间后再次发起请求。WITH_RETRY_AFTER_HEADER：是。在收到流控后，会在Retry时间后再次发起请求。
RETRYLEN|retry时间(秒)|参数可选性: 任选参数类型: 数字参数范围: 1-1200默认值: 5|该参数用于设置当流控的“拒绝方式”为“回失败响应”并且“是否携带Retry-After头部”为“是”时的Retry时间。




[](None)命令举例 


`
修改拒绝方式模板配置，模板标识为1，拒绝方式为回失败响应，响应码500，不携带retry-after头部，retry时间为5秒。
SET REJECT MODE PROFILE:ID="1",REJECTWAY="RESPONSE_FAILED",RSPCODE="500",ISRETRY="WITHOUT_RETRY_AFTER_HEADER",RETRYLEN="5"
` 


#### 删除拒绝方式模板配置(DEL REJECT MODE PROFILE) 
#### 删除拒绝方式模板配置(DEL REJECT MODE PROFILE) 


[](None)功能说明 

该命令用于删除拒绝方式模板配置。当不再需要此条拒绝方式模板配置时，执行该命令。命令执行成功后，此模板标识将不能在优先级模板中被引用。 


[](None)注意事项 

删除拒绝方式模板配置需要确认该拒绝方式“模板标识”未在优先级模板（[SHOW PRIORITY PROFILE](../mml/1220236.html)）中被引用。


[](None)输入参数说明 


[](None)标识|名称|类型|说明
---|---|---|---
ID|模板标识|参数可选性: 必选参数类型: 数字参数范围: 1-128|该参数用于设置拒绝方式模板配置的模板标识。命令执行成功后，该模板标识可被优先级模板引用（ADD PRIORITY PROFILE）。




[](None)输出参数说明 


[](None)标识|名称|类型|说明
---|---|---|---
ID|模板标识|参数可选性: 任选参数类型: 数字参数范围: 1-128|该参数用于设置拒绝方式模板配置的模板标识。命令执行成功后，该模板标识可被优先级模板引用（ADD PRIORITY PROFILE）。
DESCRIPTION|描述信息|参数可选性: 任选参数类型: 字符串参数范围: 0-128|该参数用于设置拒绝方式模板配置的描述信息。
REJECTWAY|拒绝方式|参数可选性: 任选参数类型: 枚举，参见枚举定义参数范围: 0-2默认值: RESPONSE_FAILED|该参数用于设置拒绝方式模板对应的消息拒绝方式。NO_REFUSE：不拒绝。RESPONSE_FAILED：回失败响应。DISCARD：直接丢弃。
RSPCODE|响应码|参数可选性: 任选参数类型: 数字参数范围: 400-599默认值: 500|该参数用于设置当流控的“拒绝方式”为“回失败响应”时的失败响应码。
ISRETRY|携带retry-after头部|参数可选性: 任选参数类型: 枚举，参见枚举定义参数范围: 0-1默认值: WITHOUT_RETRY_AFTER_HEADER|该参数用于设置当流控的“拒绝方式”为“回失败响应”时是否携带Retry-After头部。WITHOUT_RETRY_AFTER_HEADER：否。在收到流控后，不会在Retry时间后再次发起请求。WITH_RETRY_AFTER_HEADER：是。在收到流控后，会在Retry时间后再次发起请求。
RETRYLEN|retry时间(秒)|参数可选性: 任选参数类型: 数字参数范围: 1-1200默认值: 5|该参数用于设置当流控的“拒绝方式”为“回失败响应”并且“是否携带Retry-After头部”为“是”时的Retry时间。




[](None)命令举例 


`
删除拒绝方式模板配置，模板标识为1。
DEL REJECT MODE PROFILE:ID=1
` 


#### 查询拒绝方式模板配置(SHOW REJECT MODE PROFILE) 
#### 查询拒绝方式模板配置(SHOW REJECT MODE PROFILE) 


[](None)功能说明 

该命令用于查询拒绝方式模板配置。若需要查询指定标识的拒绝方式模板配置，则需要输入参数“模板标识”；若不输入参数“模板标识”，则查询所有拒绝方式模板配置。 


[](None)注意事项 

无。 


[](None)输入参数说明 


[](None)标识|名称|类型|说明
---|---|---|---
ID|模板标识|参数可选性: 任选参数类型: 数字参数范围: 1-128|该参数用于设置拒绝方式模板配置的模板标识。命令执行成功后，该模板标识可被优先级模板引用（ADD PRIORITY PROFILE）。




[](None)输出参数说明 


[](None)标识|名称|类型|说明
---|---|---|---
ID|模板标识|参数可选性: 任选参数类型: 数字参数范围: 1-128|该参数用于设置拒绝方式模板配置的模板标识。命令执行成功后，该模板标识可被优先级模板引用（ADD PRIORITY PROFILE）。
DESCRIPTION|描述信息|参数可选性: 任选参数类型: 字符串参数范围: 0-128|该参数用于设置拒绝方式模板配置的描述信息。
REJECTWAY|拒绝方式|参数可选性: 任选参数类型: 枚举，参见枚举定义参数范围: 0-2默认值: RESPONSE_FAILED|该参数用于设置拒绝方式模板对应的消息拒绝方式。NO_REFUSE：不拒绝。RESPONSE_FAILED：回失败响应。DISCARD：直接丢弃。
RSPCODE|响应码|参数可选性: 任选参数类型: 数字参数范围: 400-599默认值: 500|该参数用于设置当流控的“拒绝方式”为“回失败响应”时的失败响应码。
ISRETRY|携带retry-after头部|参数可选性: 任选参数类型: 枚举，参见枚举定义参数范围: 0-1默认值: WITHOUT_RETRY_AFTER_HEADER|该参数用于设置当流控的“拒绝方式”为“回失败响应”时是否携带Retry-After头部。WITHOUT_RETRY_AFTER_HEADER：否。在收到流控后，不会在Retry时间后再次发起请求。WITH_RETRY_AFTER_HEADER：是。在收到流控后，会在Retry时间后再次发起请求。
RETRYLEN|retry时间(秒)|参数可选性: 任选参数类型: 数字参数范围: 1-1200默认值: 5|该参数用于设置当流控的“拒绝方式”为“回失败响应”并且“是否携带Retry-After头部”为“是”时的Retry时间。




[](None)命令举例 


`
查询拒绝方式模板配置，模板标识为1。
SHOW REJECT MODE PROFILE:ID=1

(No.1) : SHOW REJECT MODE PROFILE:
-----------------CommonS_HTTP_LB_0----------------
操作维护       模板标识 描述信息 拒绝方式   响应码 携带retry-after头部 retry时间(秒) 
-----------------------------------------------------------------------------------
复制 修改 删除 1               回失败响应 500    否                  5             
-----------------------------------------------------------------------------------
记录数：1
执行成功开始时间:2022-08-09 14:11:44 耗时: 1.276秒

` 


### 优先级模板配置 
### 优先级模板配置 


[](None)背景知识 


HTTPLB（Hypertext Transfer Protocol Load Balancing，超文本传输负载均衡）流控功能的优先模板配置。通过区分消息类型+方法名来配置不同的优先级模板。 




[](None)功能说明 


HTTPLB流控功能的优先级模板配置。可以配置的具体参数包括模板标识、归属优先级模板组标识、消息类型、方法名、优先级、拒绝方式模板标识等。 




[](None)子主题： 






#### 新增优先级模板配置(ADD PRIORITY PROFILE) 
#### 新增优先级模板配置(ADD PRIORITY PROFILE) 


[](None)功能说明 

该命令用于新增优先级模板配置。当需要按照优先级进行流控管理时，执行该命令。命令执行成功后，根据引用的优先级模板组，按照“消息类型”和“方法名”匹配归属于该优先级模板组的优先级模板，并根据对应优先级进行流控。 


[](None)注意事项 

无。 


[](None)输入参数说明 


[](None)标识|名称|类型|说明
---|---|---|---
ID|模板标识|参数可选性: 必选参数类型: 数字参数范围: 1-1024|该参数用于设置优先级模板标识。
PRIORPFGROUPID|归属优先级模板组标识|参数可选性: 必选参数类型: 数字参数范围: 1-128|该参数用于设置优先级模板的归属优先级模板组标识，优先级模板组标识可通过命令SHOW PRIORITY PROFILE GROUP查询。
MSGTYPE|消息类型|参数可选性: 必选参数类型: 枚举，参见枚举定义参数范围: 0-1|该参数用于设置优先级模板的消息类型，该消息类型为系统方案中规定的类型。SERVICEREQ_TYPE：服务请求类。SUBNOTIFY_TYPE：订阅通知类。
METHOD|方法名|参数可选性: 必选参数类型: 枚举，参见枚举定义参数范围: 0-5|该参数用于设置优先级模板的方法名，该方法名为系统方案中消息类型对应的方法。PUT：PUT消息。POST：POST消息。GET：GET消息。DELETE：DELETE消息。PATCH：PATCH消息。OTHER：其他消息。
PRIORITY|优先级|参数可选性: 必选参数类型: 枚举，参见枚举定义参数范围: 0-4默认值: PRIORITY_ONE|该参数用于设置优先级模板的请求优先级，其中优先级4的级别最低。PRIORITY_ONE：优先级1。按照优先级1的级别进行流控。PRIORITY_TWO：优先级2。按照优先级2的级别进行流控。PRIORITY_THREE：优先级3。按照优先级3的级别进行流控。PRIORITY_FOUR：优先级4。按照优先级4的级别进行流控。PRIORITY_UNCONTROL：不控。不进行流控。
REJECTMODEPFID|拒绝方式模板标识|参数可选性: 必选参数类型: 数字参数范围: 1-128|该参数用于设置优先级模板关联的拒绝方式模板标识，拒绝方式模板标识可通过命令SHOW REJECT MODE PROFILE查询。




[](None)输出参数说明 


[](None)标识|名称|类型|说明
---|---|---|---
ID|模板标识|参数可选性: 任选参数类型: 数字参数范围: 1-1024|该参数用于设置优先级模板标识。
PRIORPFGROUPID|归属优先级模板组标识|参数可选性: 任选参数类型: 数字参数范围: 1-128|该参数用于设置优先级模板的归属优先级模板组标识，优先级模板组标识可通过命令SHOW PRIORITY PROFILE GROUP查询。
MSGTYPE|消息类型|参数可选性: 任选参数类型: 枚举，参见枚举定义参数范围: 0-1|该参数用于设置优先级模板的消息类型，该消息类型为系统方案中规定的类型。SERVICEREQ_TYPE：服务请求类。SUBNOTIFY_TYPE：订阅通知类。
METHOD|方法名|参数可选性: 任选参数类型: 枚举，参见枚举定义参数范围: 0-5|该参数用于设置优先级模板的方法名，该方法名为系统方案中规定的方法名。PUT：PUT消息。POST：POST消息。GET：GET消息。DELETE：DELETE消息。PATCH：PATCH消息。OTHER：其他消息。
PRIORITY|优先级|参数可选性: 任选参数类型: 枚举，参见枚举定义参数范围: 0-4默认值: PRIORITY_ONE|该参数用于设置优先级模板的请求优先级，其中优先级4的级别最低。PRIORITY_ONE：优先级1。按照优先级1的级别进行流控。PRIORITY_TWO：优先级2。按照优先级2的级别进行流控。PRIORITY_THREE：优先级3。按照优先级3的级别进行流控。PRIORITY_FOUR：优先级4。按照优先级4的级别进行流控。PRIORITY_UNCONTROL：不控。不进行流控。
REJECTMODEPFID|拒绝方式模板标识|参数可选性: 任选参数类型: 数字参数范围: 1-128|该参数用于设置优先级模板关联的拒绝方式模板标识，拒绝方式模板标识可通过命令SHOW REJECT MODE PROFILE查询。




[](None)命令举例 


`
新增优先级模板配置，模板标识为1。
ADD PRIORITY PROFILE:ID=1
` 


#### 修改优先级模板配置(SET PRIORITY PROFILE) 
#### 修改优先级模板配置(SET PRIORITY PROFILE) 


[](None)功能说明 

该命令用于修改优先级模板配置。当需要修改归属优先级模板组标识、消息类型、方法名、优先级、拒绝方式模板标识时，执行该命令。命令执行成功后，可通过[SHOW PRIORITY PROFILE](../mml/1220236.html)查看当前的优先级模板配置。


[](None)注意事项 

无。 


[](None)输入参数说明 


[](None)标识|名称|类型|说明
---|---|---|---
ID|模板标识|参数可选性: 必选参数类型: 数字参数范围: 1-1024|该参数用于设置优先级模板标识。
PRIORPFGROUPID|归属优先级模板组标识|参数可选性: 任选参数类型: 数字参数范围: 1-128|该参数用于设置优先级模板的归属优先级模板组标识，优先级模板组标识可通过命令SHOW PRIORITY PROFILE GROUP查询。
MSGTYPE|消息类型|参数可选性: 任选参数类型: 枚举，参见枚举定义参数范围: 0-1|该参数用于设置优先级模板的消息类型，该消息类型为系统方案中规定的类型。SERVICEREQ_TYPE：服务请求类。SUBNOTIFY_TYPE：订阅通知类。
METHOD|方法名|参数可选性: 任选参数类型: 枚举，参见枚举定义参数范围: 0-5|该参数用于设置优先级模板的方法名，该方法名为系统方案中消息类型对应的方法。PUT：PUT消息。POST：POST消息。GET：GET消息。DELETE：DELETE消息。PATCH：PATCH消息。OTHER：其他消息。
PRIORITY|优先级|参数可选性: 任选参数类型: 枚举，参见枚举定义参数范围: 0-4默认值: PRIORITY_ONE|该参数用于设置优先级模板的请求优先级，其中优先级4的级别最低。PRIORITY_ONE：优先级1。按照优先级1的级别进行流控。PRIORITY_TWO：优先级2。按照优先级2的级别进行流控。PRIORITY_THREE：优先级3。按照优先级3的级别进行流控。PRIORITY_FOUR：优先级4。按照优先级4的级别进行流控。PRIORITY_UNCONTROL：不控。不进行流控。
REJECTMODEPFID|拒绝方式模板标识|参数可选性: 任选参数类型: 数字参数范围: 1-128|该参数用于设置优先级模板关联的拒绝方式模板标识，拒绝方式模板标识可通过命令SHOW REJECT MODE PROFILE查询。




[](None)输出参数说明 


[](None)标识|名称|类型|说明
---|---|---|---
ID|模板标识|参数可选性: 任选参数类型: 数字参数范围: 1-1024|该参数用于设置优先级模板标识。
PRIORPFGROUPID|归属优先级模板组标识|参数可选性: 任选参数类型: 数字参数范围: 1-128|该参数用于设置优先级模板的归属优先级模板组标识，优先级模板组标识可通过命令SHOW PRIORITY PROFILE GROUP查询。
MSGTYPE|消息类型|参数可选性: 任选参数类型: 枚举，参见枚举定义参数范围: 0-1|该参数用于设置优先级模板的消息类型，该消息类型为系统方案中规定的类型。SERVICEREQ_TYPE：服务请求类。SUBNOTIFY_TYPE：订阅通知类。
METHOD|方法名|参数可选性: 任选参数类型: 枚举，参见枚举定义参数范围: 0-5|该参数用于设置优先级模板的方法名，该方法名为系统方案中规定的方法名。PUT：PUT消息。POST：POST消息。GET：GET消息。DELETE：DELETE消息。PATCH：PATCH消息。OTHER：其他消息。
PRIORITY|优先级|参数可选性: 任选参数类型: 枚举，参见枚举定义参数范围: 0-4默认值: PRIORITY_ONE|该参数用于设置优先级模板的请求优先级，其中优先级4的级别最低。PRIORITY_ONE：优先级1。按照优先级1的级别进行流控。PRIORITY_TWO：优先级2。按照优先级2的级别进行流控。PRIORITY_THREE：优先级3。按照优先级3的级别进行流控。PRIORITY_FOUR：优先级4。按照优先级4的级别进行流控。PRIORITY_UNCONTROL：不控。不进行流控。
REJECTMODEPFID|拒绝方式模板标识|参数可选性: 任选参数类型: 数字参数范围: 1-128|该参数用于设置优先级模板关联的拒绝方式模板标识，拒绝方式模板标识可通过命令SHOW REJECT MODE PROFILE查询。




[](None)命令举例 


`
修改优先级模板配置，模板标识为1。
SET PRIORITY PROFILE:ID=1
` 


#### 删除优先级模板配置(DEL PRIORITY PROFILE) 
#### 删除优先级模板配置(DEL PRIORITY PROFILE) 


[](None)功能说明 

该命令用于删除优先级模板配置。当需要删除指定模板标识的优先级模板配置时，执行该命令。命令执行成功后，可以通过[SHOW PRIORITY PROFILE](../mml/1220236.html)查看当前的优先级模板配置，确认是否已删除


[](None)注意事项 

无。 


[](None)输入参数说明 


[](None)标识|名称|类型|说明
---|---|---|---
ID|模板标识|参数可选性: 必选参数类型: 数字参数范围: 1-1024|该参数用于设置优先级模板标识。




[](None)输出参数说明 


[](None)标识|名称|类型|说明
---|---|---|---
ID|模板标识|参数可选性: 任选参数类型: 数字参数范围: 1-1024|该参数用于设置优先级模板标识。
PRIORPFGROUPID|归属优先级模板组标识|参数可选性: 任选参数类型: 数字参数范围: 1-128|该参数用于设置优先级模板的归属优先级模板组标识，优先级模板组标识可通过命令SHOW PRIORITY PROFILE GROUP查询。
MSGTYPE|消息类型|参数可选性: 任选参数类型: 枚举，参见枚举定义参数范围: 0-1|该参数用于设置优先级模板的消息类型，该消息类型为系统方案中规定的类型。SERVICEREQ_TYPE：服务请求类。SUBNOTIFY_TYPE：订阅通知类。
METHOD|方法名|参数可选性: 任选参数类型: 枚举，参见枚举定义参数范围: 0-5|该参数用于设置优先级模板的方法名，该方法名为系统方案中规定的方法名。PUT：PUT消息。POST：POST消息。GET：GET消息。DELETE：DELETE消息。PATCH：PATCH消息。OTHER：其他消息。
PRIORITY|优先级|参数可选性: 任选参数类型: 枚举，参见枚举定义参数范围: 0-4默认值: PRIORITY_ONE|该参数用于设置优先级模板的请求优先级，其中优先级4的级别最低。PRIORITY_ONE：优先级1。按照优先级1的级别进行流控。PRIORITY_TWO：优先级2。按照优先级2的级别进行流控。PRIORITY_THREE：优先级3。按照优先级3的级别进行流控。PRIORITY_FOUR：优先级4。按照优先级4的级别进行流控。PRIORITY_UNCONTROL：不控。不进行流控。
REJECTMODEPFID|拒绝方式模板标识|参数可选性: 任选参数类型: 数字参数范围: 1-128|该参数用于设置优先级模板关联的拒绝方式模板标识，拒绝方式模板标识可通过命令SHOW REJECT MODE PROFILE查询。




[](None)命令举例 


`
删除优先级模板配置，模板标识为1。
DEL PRIORITY PROFILE:ID=1
` 


#### 查询优先级模板配置(SHOW PRIORITY PROFILE) 
#### 查询优先级模板配置(SHOW PRIORITY PROFILE) 


[](None)功能说明 

该命令用于查询优先级模板配置。若需要查询指定编号的优先级模板配置，则需要输入参数“模板标识”；若不输入参数模板标识，则查询所有优先级模板配置。 


[](None)注意事项 

无。 


[](None)输入参数说明 


[](None)标识|名称|类型|说明
---|---|---|---
ID|模板标识|参数可选性: 任选参数类型: 数字参数范围: 1-1024|该参数用于设置优先级模板标识。




[](None)输出参数说明 


[](None)标识|名称|类型|说明
---|---|---|---
ID|模板标识|参数可选性: 任选参数类型: 数字参数范围: 1-1024|该参数用于设置优先级模板标识。
PRIORPFGROUPID|归属优先级模板组标识|参数可选性: 任选参数类型: 数字参数范围: 1-128|该参数用于设置优先级模板的归属优先级模板组标识，优先级模板组标识可通过命令SHOW PRIORITY PROFILE GROUP查询。
MSGTYPE|消息类型|参数可选性: 任选参数类型: 枚举，参见枚举定义参数范围: 0-1|该参数用于设置优先级模板的消息类型，该消息类型为系统方案中规定的类型。SERVICEREQ_TYPE：服务请求类。SUBNOTIFY_TYPE：订阅通知类。
METHOD|方法名|参数可选性: 任选参数类型: 枚举，参见枚举定义参数范围: 0-5|该参数用于设置优先级模板的方法名，该方法名为系统方案中规定的方法名。PUT：PUT消息。POST：POST消息。GET：GET消息。DELETE：DELETE消息。PATCH：PATCH消息。OTHER：其他消息。
PRIORITY|优先级|参数可选性: 任选参数类型: 枚举，参见枚举定义参数范围: 0-4默认值: PRIORITY_ONE|该参数用于设置优先级模板的请求优先级，其中优先级4的级别最低。PRIORITY_ONE：优先级1。按照优先级1的级别进行流控。PRIORITY_TWO：优先级2。按照优先级2的级别进行流控。PRIORITY_THREE：优先级3。按照优先级3的级别进行流控。PRIORITY_FOUR：优先级4。按照优先级4的级别进行流控。PRIORITY_UNCONTROL：不控。不进行流控。
REJECTMODEPFID|拒绝方式模板标识|参数可选性: 任选参数类型: 数字参数范围: 1-128|该参数用于设置优先级模板关联的拒绝方式模板标识，拒绝方式模板标识可通过命令SHOW REJECT MODE PROFILE查询。




[](None)命令举例 


`
查询优先级模板配置，模板标识为1。
SHOW PRIORITY PROFILE:ID=1

(No.2) : SHOW PRIORITY PROFILE:
-----------------CommonS_HTTP_LB_0----------------
操作维护       模板ID 归属优先级模板组标识 消息类型   方法名   优先级  拒绝方式模板标识 
----------------------------------------------------------------------------------------
复制 修改 删除 1      1                    订阅通知类 POST消息 优先级1 1                
----------------------------------------------------------------------------------------
记录数: 1
执行成功开始时间:2022-08-09 11:42:59 耗时: 3.313秒

` 


### 拒绝策略模板配置 
### 拒绝策略模板配置 


[](None)背景知识 


HTTPLB（Hypertext Transfer Protocol Load Balancing，超文本传输负载均衡）流控功能需要明确具体的拒绝策略。包括达到流控的条件，流控拒绝是否要告警，流控拒绝的响应码等等。 




[](None)功能说明 


HTTPLB流控功能的拒绝策略模板配置。可以配置拒策略的具体参数。包括流控的门限（有消息量和流量两种门限）、流控恢复门限（用于流控告警恢复，有消息量和流量两种门限）、拒绝方式、响应码、是否告警等参数。 




[](None)子主题： 






#### 新增拒绝策略模板配置(ADD REJECT POLICY PROFILE) 
#### 新增拒绝策略模板配置(ADD REJECT POLICY PROFILE) 


[](None)功能说明 

该命令用于新增拒绝策略模板配置。当需要进行流控管理时，执行该命令。命令执行成功后，引用该模板ID的流控按此拒绝策略执行。 


[](None)注意事项 


 
当流控门限（TPS）不为0时，新增拒绝策略模板配置的流控恢复门限（TPS）必须小于流控门限（TPS）。 

 
当流控门限（M BYTES/s）不为0时，新增拒绝策略模板配置的流控恢复门限（M BYTES/s）必须小于流控门限（M BYTES/s）。 

 
新增拒绝策略模板配置的错误响应码范围为[400，599]。 

 


[](None)输入参数说明 


[](None)标识|名称|类型|说明
---|---|---|---
ID|模板标识|参数可选性: 必选参数类型: 数字参数范围: 1-65535|该参数用于设置拒绝策略模板配置的模板编号。模板编号会被按链路入向流控（ADD FLOW CONTROL BY LINK IN）、按链路出向流控（ADD FLOW CONTROL BY LINK OUT）、按局向入向流控（ADD OFFICERECVFLOWCTL）、按局向出向流控（ADD OFFICESENDFLOWCTL）、按SC入向流控（ADD FLOW CONTROL BY SC IN）、按SC出向流控（ADD FLOW CONTROL BY SC OUT）引用
DESCRIPTION|描述信息|参数可选性: 任选参数类型: 字符串参数范围: 0-128|该参数用于设置拒绝策略模板配置的描述信息。
TIPSTHD|流控门限(TPS)|参数可选性: 必选参数类型: 数字参数范围: 0-4294967295|该参数用于设置拒绝策略模板配置的按请求个数流控门限。
TIPSRECOVERTHD|流控恢复门限(TPS)|参数可选性: 必选参数类型: 数字参数范围: 0-4294967295|该参数用于设置拒绝策略模板配置的按请求个数流控恢复门限。
BYTESTHD|流控门限(MB/s)|参数可选性: 必选参数类型: 数字参数范围: 0-65535|该参数用于设置拒绝策略模板配置的按每秒字节数流控门限。
BYTESRECOVERTHD|流控恢复门限(MB/s)|参数可选性: 必选参数类型: 数字参数范围: 0-65535|该参数用于设置拒绝策略模板配置的按每秒字节数流控恢复门限。
REJECTWAY|拒绝方式|参数可选性: 任选参数类型: 枚举，参见枚举定义参数范围: 0-2默认值: RESPONSE_FAILED|该参数用于设置拒绝策略模板配置的拒绝方式。NO_REFUSE：不拒绝。RESPONSE_FAILED：回失败响应。DISCARD：直接丢弃。
RSPCODE|响应码|参数可选性: 任选参数类型: 数字参数范围: 400-599默认值: 500|该参数用于设置拒绝策略模板配置当拒绝方式为回失败响应时设置的失败响应码。
ISRETRY|携带retry-after头部|参数可选性: 任选参数类型: 枚举，参见枚举定义参数范围: 0-1默认值: WITHOUT_RETRY_AFTER_HEADER|该参数用于设置当流控拒绝方式为回失败响应时是否携带Retry-After头部。WITHOUT_RETRY_AFTER_HEADER：否。WITH_RETRY_AFTER_HEADER：是。
RETRYLEN|retry时间(秒)|参数可选性: 任选参数类型: 数字参数范围: 1-1200默认值: 5|该参数用于设置当流控的拒绝方式为回失败响应并且携带Retry-After头部时Retry的时间。
ISALARM|告警|参数可选性: 任选参数类型: 枚举，参见枚举定义参数范围: 0-1默认值: ALARM_OFF|该参数用于设置当达到流控门限时是否发送告警。ALARM_OFF：否。ALARM_ON：是。




[](None)输出参数说明 


[](None)标识|名称|类型|说明
---|---|---|---
ID|模板标识|参数可选性: 任选参数类型: 数字参数范围: 1-65535|该参数用于设置拒绝策略模板配置的模板编号。模板编号会被按链路入向流控（ADD FLOW CONTROL BY LINK IN）、按链路出向流控（ADD FLOW CONTROL BY LINK OUT）、按局向入向流控（ADD OFFICERECVFLOWCTL）、按局向出向流控（ADD OFFICESENDFLOWCTL）、按SC入向流控（ADD FLOW CONTROL BY SC IN）、按SC出向流控（ADD FLOW CONTROL BY SC OUT）引用
DESCRIPTION|描述信息|参数可选性: 任选参数类型: 字符串参数范围: 0-128|该参数用于设置拒绝策略模板的描述信息。
TIPSTHD|流控门限(TPS)|参数可选性: 任选参数类型: 数字参数范围: 0-4294967295|该参数用于设置拒绝策略模板的按请求个数流控门限。
TIPSRECOVERTHD|流控恢复门限(TPS)|参数可选性: 任选参数类型: 数字参数范围: 0-4294967295|该参数用于设置拒绝策略模板的按请求个数流控恢复门限。
BYTESTHD|流控门限(MB/s)|参数可选性: 任选参数类型: 数字参数范围: 0-65535|该参数用于设置拒绝策略模板的按每秒字节数流控门限。
BYTESRECOVERTHD|流控恢复门限(MB/s)|参数可选性: 任选参数类型: 数字参数范围: 0-65535|该参数用于设置拒绝策略模板的按每秒字节数流控恢复门限。
REJECTWAY|拒绝方式|参数可选性: 任选参数类型: 枚举，参见枚举定义参数范围: 0-2默认值: RESPONSE_FAILED|该参数用于设置拒绝策略模板的拒绝方式。NO_REFUSE：不拒绝。RESPONSE_FAILED：回失败响应。DISCARD：直接丢弃。
RSPCODE|响应码|参数可选性: 任选参数类型: 数字参数范围: 400-599默认值: 500|该参数用于设置拒绝策略模板配置当拒绝方式为回失败响应时设置的失败响应码。
ISRETRY|携带retry-after头部|参数可选性: 任选参数类型: 枚举，参见枚举定义参数范围: 0-1默认值: WITHOUT_RETRY_AFTER_HEADER|该参数用于设置当流控拒绝方式为回失败响应时是否携带Retry-After头部。WITHOUT_RETRY_AFTER_HEADER：否。WITH_RETRY_AFTER_HEADER：是。
RETRYLEN|retry时间(秒)|参数可选性: 任选参数类型: 数字参数范围: 1-1200默认值: 5|该参数用于设置当流控的拒绝方式为回失败响应并且携带Retry-After头部时Retry的时间。
ISALARM|告警|参数可选性: 任选参数类型: 枚举，参见枚举定义参数范围: 0-1默认值: ALARM_OFF|该参数用于设置当达到流控门限时是否发送告警。ALARM_OFF：否。ALARM_ON：是。




[](None)命令举例 


`
新增拒绝策略模板配置：模板ID为1，描述信息为demo，流控门限（TPS）为600，流控恢复门限（TPS）为5，流控门限（M BYTES/s）为800，流控恢复门限（M BYTES/s）为0，拒绝方式为回错误响应，响应码为412，是否携带retry-after头部为是，retry时间（秒）为5，是否告警为否。
ADD REJECT POLICY PROFILE:ID=1,DESCRIPTION=demo,TIPSTHD=600,TIPSRECOVERTHD=5,BYTESTHD=800,BYTESRECOVERTHD=0,REJECTWAY=RESPONSE_FAILED,RSPCODE=412,ISRETRY=WITH_RETRY_AFTER_HEADER,RETRYLEN=5,ISALARM=ALARM_OFF;
` 


#### 修改拒绝策略模板配置(SET REJECT POLICY PROFILE) 
#### 修改拒绝策略模板配置(SET REJECT POLICY PROFILE) 


[](None)功能说明 

该命令用于修改拒绝策略模板配置。当需要修改流控的拒绝策略时，执行该命令。命令执行成功后，引用该模板ID的流控按新的拒绝策略执行。 


[](None)注意事项 


 
修改拒绝策略模板配置的流控恢复门限（TPS）必须小于流控门限（TPS）。 

 
修改拒绝策略模板配置的流控恢复门限（M BYTES/s）必须小于流控门限（M BYTES/s）。 

 
修改拒绝策略模板配置的错误响应码范围为[400，599]。 

 


[](None)输入参数说明 


[](None)标识|名称|类型|说明
---|---|---|---
ID|模板标识|参数可选性: 必选参数类型: 数字参数范围: 1-65535|该参数用于设置拒绝策略模板配置的模板编号。模板编号会被按链路入向流控（ADD FLOW CONTROL BY LINK IN）、按链路出向流控（ADD FLOW CONTROL BY LINK OUT）、按局向入向流控（ADD OFFICERECVFLOWCTL）、按局向出向流控（ADD OFFICESENDFLOWCTL）、按SC入向流控（ADD FLOW CONTROL BY SC IN）、按SC出向流控（ADD FLOW CONTROL BY SC OUT）引用
DESCRIPTION|描述信息|参数可选性: 任选参数类型: 字符串参数范围: 0-128|该参数用于设置拒绝策略模板配置的描述信息。
TIPSTHD|流控门限(TPS)|参数可选性: 任选参数类型: 数字参数范围: 0-4294967295|该参数用于设置拒绝策略模板配置的按请求个数流控门限。
TIPSRECOVERTHD|流控恢复门限(TPS)|参数可选性: 任选参数类型: 数字参数范围: 0-4294967295|该参数用于设置拒绝策略模板配置的按请求个数流控恢复门限。
BYTESTHD|流控门限(MB/s)|参数可选性: 任选参数类型: 数字参数范围: 0-65535|该参数用于设置拒绝策略模板配置的按每秒字节数流控门限。
BYTESRECOVERTHD|流控恢复门限(MB/s)|参数可选性: 任选参数类型: 数字参数范围: 0-65535|该参数用于设置拒绝策略模板配置的按每秒字节数流控恢复门限。
REJECTWAY|拒绝方式|参数可选性: 任选参数类型: 枚举，参见枚举定义参数范围: 0-2默认值: RESPONSE_FAILED|该参数用于设置拒绝策略模板配置的拒绝方式。NO_REFUSE：不拒绝。RESPONSE_FAILED：回失败响应。DISCARD：直接丢弃。
RSPCODE|响应码|参数可选性: 任选参数类型: 数字参数范围: 400-599默认值: 500|该参数用于设置拒绝策略模板配置当拒绝方式为回失败响应时设置的失败响应码。
ISRETRY|携带retry-after头部|参数可选性: 任选参数类型: 枚举，参见枚举定义参数范围: 0-1默认值: WITHOUT_RETRY_AFTER_HEADER|该参数用于设置当流控拒绝方式为回失败响应时是否携带Retry-After头部。WITHOUT_RETRY_AFTER_HEADER：否。WITH_RETRY_AFTER_HEADER：是。
RETRYLEN|retry时间(秒)|参数可选性: 任选参数类型: 数字参数范围: 1-1200默认值: 5|该参数用于设置当流控的拒绝方式为回失败响应并且携带Retry-After头部时Retry的时间。
ISALARM|告警|参数可选性: 任选参数类型: 枚举，参见枚举定义参数范围: 0-1默认值: ALARM_OFF|该参数用于设置当达到流控门限时是否发送告警。ALARM_OFF：否。ALARM_ON：是。




[](None)输出参数说明 


[](None)标识|名称|类型|说明
---|---|---|---
ID|模板标识|参数可选性: 任选参数类型: 数字参数范围: 1-65535|该参数用于设置拒绝策略模板配置的模板编号。模板编号会被按链路入向流控（ADD FLOW CONTROL BY LINK IN）、按链路出向流控（ADD FLOW CONTROL BY LINK OUT）、按局向入向流控（ADD OFFICERECVFLOWCTL）、按局向出向流控（ADD OFFICESENDFLOWCTL）、按SC入向流控（ADD FLOW CONTROL BY SC IN）、按SC出向流控（ADD FLOW CONTROL BY SC OUT）引用
DESCRIPTION|描述信息|参数可选性: 任选参数类型: 字符串参数范围: 0-128|该参数用于设置拒绝策略模板的描述信息。
TIPSTHD|流控门限(TPS)|参数可选性: 任选参数类型: 数字参数范围: 0-4294967295|该参数用于设置拒绝策略模板的按请求个数流控门限。
TIPSRECOVERTHD|流控恢复门限(TPS)|参数可选性: 任选参数类型: 数字参数范围: 0-4294967295|该参数用于设置拒绝策略模板的按请求个数流控恢复门限。
BYTESTHD|流控门限(MB/s)|参数可选性: 任选参数类型: 数字参数范围: 0-65535|该参数用于设置拒绝策略模板的按每秒字节数流控门限。
BYTESRECOVERTHD|流控恢复门限(MB/s)|参数可选性: 任选参数类型: 数字参数范围: 0-65535|该参数用于设置拒绝策略模板的按每秒字节数流控恢复门限。
REJECTWAY|拒绝方式|参数可选性: 任选参数类型: 枚举，参见枚举定义参数范围: 0-2默认值: RESPONSE_FAILED|该参数用于设置拒绝策略模板的拒绝方式。NO_REFUSE：不拒绝。RESPONSE_FAILED：回失败响应。DISCARD：直接丢弃。
RSPCODE|响应码|参数可选性: 任选参数类型: 数字参数范围: 400-599默认值: 500|该参数用于设置拒绝策略模板配置当拒绝方式为回失败响应时设置的失败响应码。
ISRETRY|携带retry-after头部|参数可选性: 任选参数类型: 枚举，参见枚举定义参数范围: 0-1默认值: WITHOUT_RETRY_AFTER_HEADER|该参数用于设置当流控拒绝方式为回失败响应时是否携带Retry-After头部。WITHOUT_RETRY_AFTER_HEADER：否。WITH_RETRY_AFTER_HEADER：是。
RETRYLEN|retry时间(秒)|参数可选性: 任选参数类型: 数字参数范围: 1-1200默认值: 5|该参数用于设置当流控的拒绝方式为回失败响应并且携带Retry-After头部时Retry的时间。
ISALARM|告警|参数可选性: 任选参数类型: 枚举，参见枚举定义参数范围: 0-1默认值: ALARM_OFF|该参数用于设置当达到流控门限时是否发送告警。ALARM_OFF：否。ALARM_ON：是。




[](None)命令举例 


`
修改拒绝策略模板配置：模板ID为1，描述信息为demo，流控门限（TPS）为600，流控恢复门限（TPS）为5，流控门限（M BYTES/s）为800，流控恢复门限（M BYTES/s）为0，拒绝方式为回错误响应，响应码为412，是否携带retry-after头部为是，retry时间（秒）为5，是否告警为否。
SET REJECT POLICY PROFILE:ID=1,DESCRIPTION=demo,TIPSTHD=600,TIPSRECOVERTHD=5,BYTESTHD=800,BYTESRECOVERTHD=0,REJECTWAY=RESPONSE_FAILED,RSPCODE=412,ISRETRY=WITH_RETRY_AFTER_HEADER,RETRYLEN=5,ISALARM=ALARM_OFF;
` 


#### 删除拒绝策略模板配置(DEL REJECT POLICY PROFILE) 
#### 删除拒绝策略模板配置(DEL REJECT POLICY PROFILE) 


[](None)功能说明 

该命令用于删除拒绝策略模板配置。当不再需要此条拒绝策略模板配置时，执行该命令。命令执行成功后，此模板ID不能在按链路入向流控、按链路出向流控、按局向入向流控、按局向出向流控、按SC入向流控、按SC出向流控中被引用。


[](None)注意事项 


 
删除拒绝策略模板配置需要确认该拒绝策略模板编号未在按链路入向流控、按链路出向流控、按局向入向流控、按局向出向流控、按SC入向流控、按SC出向流控中被引用。 

 


[](None)输入参数说明 


[](None)标识|名称|类型|说明
---|---|---|---
ID|模板标识|参数可选性: 必选参数类型: 数字参数范围: 1-65535|该参数用于设置拒绝策略模板配置的模板编号。模板编号会被按链路入向流控（ADD FLOW CONTROL BY LINK IN）、按链路出向流控（ADD FLOW CONTROL BY LINK OUT）、按局向入向流控（ADD OFFICERECVFLOWCTL）、按局向出向流控（ADD OFFICESENDFLOWCTL）、按SC入向流控（ADD FLOW CONTROL BY SC IN）、按SC出向流控（ADD FLOW CONTROL BY SC OUT）引用




[](None)输出参数说明 


[](None)标识|名称|类型|说明
---|---|---|---
ID|模板标识|参数可选性: 任选参数类型: 数字参数范围: 1-65535|该参数用于设置拒绝策略模板配置的模板编号。模板编号会被按链路入向流控（ADD FLOW CONTROL BY LINK IN）、按链路出向流控（ADD FLOW CONTROL BY LINK OUT）、按局向入向流控（ADD OFFICERECVFLOWCTL）、按局向出向流控（ADD OFFICESENDFLOWCTL）、按SC入向流控（ADD FLOW CONTROL BY SC IN）、按SC出向流控（ADD FLOW CONTROL BY SC OUT）引用
DESCRIPTION|描述信息|参数可选性: 任选参数类型: 字符串参数范围: 0-128|该参数用于设置拒绝策略模板的描述信息。
TIPSTHD|流控门限(TPS)|参数可选性: 任选参数类型: 数字参数范围: 0-4294967295|该参数用于设置拒绝策略模板的按请求个数流控门限。
TIPSRECOVERTHD|流控恢复门限(TPS)|参数可选性: 任选参数类型: 数字参数范围: 0-4294967295|该参数用于设置拒绝策略模板的按请求个数流控恢复门限。
BYTESTHD|流控门限(MB/s)|参数可选性: 任选参数类型: 数字参数范围: 0-65535|该参数用于设置拒绝策略模板的按每秒字节数流控门限。
BYTESRECOVERTHD|流控恢复门限(MB/s)|参数可选性: 任选参数类型: 数字参数范围: 0-65535|该参数用于设置拒绝策略模板的按每秒字节数流控恢复门限。
REJECTWAY|拒绝方式|参数可选性: 任选参数类型: 枚举，参见枚举定义参数范围: 0-2默认值: RESPONSE_FAILED|该参数用于设置拒绝策略模板的拒绝方式。NO_REFUSE：不拒绝。RESPONSE_FAILED：回失败响应。DISCARD：直接丢弃。
RSPCODE|响应码|参数可选性: 任选参数类型: 数字参数范围: 400-599默认值: 500|该参数用于设置拒绝策略模板配置当拒绝方式为回失败响应时设置的失败响应码。
ISRETRY|携带retry-after头部|参数可选性: 任选参数类型: 枚举，参见枚举定义参数范围: 0-1默认值: WITHOUT_RETRY_AFTER_HEADER|该参数用于设置当流控拒绝方式为回失败响应时是否携带Retry-After头部。WITHOUT_RETRY_AFTER_HEADER：否。WITH_RETRY_AFTER_HEADER：是。
RETRYLEN|retry时间(秒)|参数可选性: 任选参数类型: 数字参数范围: 1-1200默认值: 5|该参数用于设置当流控的拒绝方式为回失败响应并且携带Retry-After头部时Retry的时间。
ISALARM|告警|参数可选性: 任选参数类型: 枚举，参见枚举定义参数范围: 0-1默认值: ALARM_OFF|该参数用于设置当达到流控门限时是否发送告警。ALARM_OFF：否。ALARM_ON：是。




[](None)命令举例 


`
删除拒绝策略模板配置：模板ID1。
DEL REJECT POLICY PROFILE:ID=1;
` 


#### 查询拒绝策略模板配置(SHOW REJECT POLICY PROFILE) 
#### 查询拒绝策略模板配置(SHOW REJECT POLICY PROFILE) 


[](None)功能说明 

该命令用于查询拒绝策略模板配置，包括：模板ID、描述信息、流控门限(TPS)、流控恢复门限(TPS)、流控门限(M BYTES/s)、流控恢复门限(M BYTES/s)、拒绝方式、响应码、是否携带Retry-After头部、Retry时间(秒)、是否告警等信息。当需要查询拒绝策略模板配置信息时，使用该命令。


[](None)注意事项 


 
如需要查询全部的拒绝策略模板配置，则不需要输入任何参数。 

 
如需要查询指定编号的拒绝策略模板配置，则需要输入参数模板ID。 

 


[](None)输入参数说明 


[](None)标识|名称|类型|说明
---|---|---|---
ID|模板标识|参数可选性: 任选参数类型: 数字参数范围: 1-65535|该参数用于设置拒绝策略模板配置的模板编号。模板编号会被按链路入向流控（ADD FLOW CONTROL BY LINK IN）、按链路出向流控（ADD FLOW CONTROL BY LINK OUT）、按局向入向流控（ADD OFFICERECVFLOWCTL）、按局向出向流控（ADD OFFICESENDFLOWCTL）、按SC入向流控（ADD FLOW CONTROL BY SC IN）、按SC出向流控（ADD FLOW CONTROL BY SC OUT）引用




[](None)输出参数说明 


[](None)标识|名称|类型|说明
---|---|---|---
ID|模板标识|参数可选性: 任选参数类型: 数字参数范围: 1-65535|该参数用于设置拒绝策略模板配置的模板编号。模板编号会被按链路入向流控（ADD FLOW CONTROL BY LINK IN）、按链路出向流控（ADD FLOW CONTROL BY LINK OUT）、按局向入向流控（ADD OFFICERECVFLOWCTL）、按局向出向流控（ADD OFFICESENDFLOWCTL）、按SC入向流控（ADD FLOW CONTROL BY SC IN）、按SC出向流控（ADD FLOW CONTROL BY SC OUT）引用
DESCRIPTION|描述信息|参数可选性: 任选参数类型: 字符串参数范围: 0-128|该参数用于设置拒绝策略模板的描述信息。
TIPSTHD|流控门限(TPS)|参数可选性: 任选参数类型: 数字参数范围: 0-4294967295|该参数用于设置拒绝策略模板的按请求个数流控门限。
TIPSRECOVERTHD|流控恢复门限(TPS)|参数可选性: 任选参数类型: 数字参数范围: 0-4294967295|该参数用于设置拒绝策略模板的按请求个数流控恢复门限。
BYTESTHD|流控门限(MB/s)|参数可选性: 任选参数类型: 数字参数范围: 0-65535|该参数用于设置拒绝策略模板的按每秒字节数流控门限。
BYTESRECOVERTHD|流控恢复门限(MB/s)|参数可选性: 任选参数类型: 数字参数范围: 0-65535|该参数用于设置拒绝策略模板的按每秒字节数流控恢复门限。
REJECTWAY|拒绝方式|参数可选性: 任选参数类型: 枚举，参见枚举定义参数范围: 0-2默认值: RESPONSE_FAILED|该参数用于设置拒绝策略模板的拒绝方式。NO_REFUSE：不拒绝。RESPONSE_FAILED：回失败响应。DISCARD：直接丢弃。
RSPCODE|响应码|参数可选性: 任选参数类型: 数字参数范围: 400-599默认值: 500|该参数用于设置拒绝策略模板配置当拒绝方式为回失败响应时设置的失败响应码。
ISRETRY|携带retry-after头部|参数可选性: 任选参数类型: 枚举，参见枚举定义参数范围: 0-1默认值: WITHOUT_RETRY_AFTER_HEADER|该参数用于设置当流控拒绝方式为回失败响应时是否携带Retry-After头部。WITHOUT_RETRY_AFTER_HEADER：否。WITH_RETRY_AFTER_HEADER：是。
RETRYLEN|retry时间(秒)|参数可选性: 任选参数类型: 数字参数范围: 1-1200默认值: 5|该参数用于设置当流控的拒绝方式为回失败响应并且携带Retry-After头部时Retry的时间。
ISALARM|告警|参数可选性: 任选参数类型: 枚举，参见枚举定义参数范围: 0-1默认值: ALARM_OFF|该参数用于设置当达到流控门限时是否发送告警。ALARM_OFF：否。ALARM_ON：是。




[](None)命令举例 


`
查询拒绝策略模板配置：模板ID1。
SHOW REJECT POLICY PROFILE:ID=1;

(No.1) : SHOW REJECT POLICY PROFILE:ID=1
-----------------VNF145/CommonS_HTTP_LB_0----------------
操作维护       模板ID 描述信息 流控门限(TPS) 流控恢复门限(TPS) 流控门限(MB/s) 流控恢复门限(MB/s) 拒绝方式   响应码 携带retry-after头部 retry时间(秒) 告警 
----------------------------------------------------------------------------------------------------------------------------------------------------------
复制 修改 删除 1               11111         11                1111           11                 回失败响应 500    否                  5             否   
----------------------------------------------------------------------------------------------------------------------------------------------------------
记录数：1

执行成功开始时间:2022-05-21 15:44:24 耗时: 1.074秒

` 


### 按SC流控配置管理 
### 按SC流控配置管理 


[](None)背景知识 


HTTPLB（Hypertext Transfer Protocol Load Balancing，超文本传输负载均衡）的SC级流控功能的相关配置管理。SC流控，可以控制指定SC上所有的HTTP消息收发。 




[](None)功能说明 


HTTPLB的SC流控功能相关配置，包括入向流控和出向流控配置。 




[](None)子主题： 






#### 入向流控配置 
#### 入向流控配置 


[](None)背景知识 


HTTPLB（Hypertext Transfer Protocol Load Balancing，超文本传输负载均衡）的SC入向流控功能的相关配置。 




[](None)功能说明 


HTTPLB的SC入向流控功能相关配置，包括设定哪个SC进行流控，使用的HTTP方法优先级模板和拒绝策略模板。SC逻辑号设置为0的配置，表示通配，当某个SC没有匹配到自身逻辑号对应的配置，则根据此配置进行流控。 




[](None)子主题： 






##### 新增按SC入向流控配置(ADD FLOW CONTROL BY SC IN) 
##### 新增按SC入向流控配置(ADD FLOW CONTROL BY SC IN) 


[](None)功能说明 

该命令用于新增按SC入向流控配置。当本端作为服务端需要增加SC流控时，执行该命令。命令执行成功后，符合该配置逻辑号的SC收到请求时按照此配置进行SC入向流控。


[](None)注意事项 


 
引用的方法优先级模板标识必须存在，可用SHOW HTTPMETHODPRIPRO查询当前的HTTP方法优先级模板标识。 

 
引用的拒绝策略模板标识必须存在，可用SHOW REJECT POLICY PROFILE查询当前的拒绝策略模板标识。 

 


[](None)输入参数说明 


[](None)标识|名称|类型|说明
---|---|---|---
SCNO|SC的逻辑号|参数可选性: 必选参数类型: 数字参数范围: 0-1024|该参数用于设置按SC入向流控配置的SC的逻辑号。
PRIORPFGROUPID|优先级模板组标识|参数可选性: 必选参数类型: 数字参数范围: 1-128|该参数用于设置优先级模板组配置的模板编号。模板组编号会被优先级模板（ADD PRIORITY PROFILE）、按链路入向流控（ADD FLOW CONTROL BY LINK IN）、按链路出向流控（ADD FLOW CONTROL BY LINK OUT）、按局向入向流控（ADD OFFICERECVFLOWCTL）、按局向出向流控（ADD OFFICESENDFLOWCTL）、按SC入向流控（ADD FLOW CONTROL BY SC IN）、按SC出向流控（ADD FLOW CONTROL BY SC OUT）引用。
REJECTPF|拒绝策略模板标识|参数可选性: 必选参数类型: 数字参数范围: 1-65535|该参数用于设置按SC入向流控配置的拒绝策略模板编号，拒绝策略模板编号关联拒绝策略模板配置（可通过命令SHOW REJECT POLICY PROFILE查询）。




[](None)输出参数说明 


[](None)标识|名称|类型|说明
---|---|---|---
SCNO|SC的逻辑号|参数可选性: 任选参数类型: 数字参数范围: 0-1024|该参数用于设置按SC入向流控配置的SC的逻辑号。
PRIORPFGROUPID|优先级模板组标识|参数可选性: 任选参数类型: 数字参数范围: 1-128|该参数用于设置优先级模板组配置的模板编号。模板组编号会被优先级模板（ADD PRIORITY PROFILE）、按链路入向流控（ADD FLOW CONTROL BY LINK IN）、按链路出向流控（ADD FLOW CONTROL BY LINK OUT）、按局向入向流控（ADD OFFICERECVFLOWCTL）、按局向出向流控（ADD OFFICESENDFLOWCTL）、按SC入向流控（ADD FLOW CONTROL BY SC IN）、按SC出向流控（ADD FLOW CONTROL BY SC OUT）引用。
REJECTPF|拒绝策略模板标识|参数可选性: 任选参数类型: 数字参数范围: 1-65535|该参数用于设置按SC入向流控配置的拒绝策略模板编号，拒绝策略模板编号关联拒绝策略模板配置（可通过命令SHOW REJECT POLICY PROFILE查询）。




[](None)命令举例 


`
新增按SC入向流控配置：SC逻辑号为1，优先级模板组标识为1，拒绝策略模板标识为1。
ADD FLOW CONTROL BY SC IN:SCNO=1,PRIORPFGROUPID=1,REJECTPF=1;
` 


##### 修改按SC入向流控配置(SET FLOW CONTROL BY SC IN) 
##### 修改按SC入向流控配置(SET FLOW CONTROL BY SC IN) 


[](None)功能说明 

该命令用于修改按SC入向流控配置。当服务端的SC流控信息发生变化时，执行该命令。命令执行成功后，符合该配置逻辑号的SC收到请求时按照新的配置进行SC入向流控。


[](None)注意事项 


 
引用的方法优先级模板标识必须存在，可用SHOW HTTPMETHODPRIPRO查询当前的HTTP方法优先级模板标识。 

 
引用的拒绝策略模板标识必须存在，可用SHOW REJECT POLICY PROFILE查询当前的拒绝策略模板标识。 

 


[](None)输入参数说明 


[](None)标识|名称|类型|说明
---|---|---|---
SCNO|SC的逻辑号|参数可选性: 必选参数类型: 数字参数范围: 0-1024|该参数用于设置按SC入向流控配置的SC的逻辑号。
PRIORPFGROUPID|优先级模板组标识|参数可选性: 任选参数类型: 数字参数范围: 1-128|该参数用于设置优先级模板组配置的模板编号。模板组编号会被优先级模板（ADD PRIORITY PROFILE）、按链路入向流控（ADD FLOW CONTROL BY LINK IN）、按链路出向流控（ADD FLOW CONTROL BY LINK OUT）、按局向入向流控（ADD OFFICERECVFLOWCTL）、按局向出向流控（ADD OFFICESENDFLOWCTL）、按SC入向流控（ADD FLOW CONTROL BY SC IN）、按SC出向流控（ADD FLOW CONTROL BY SC OUT）引用。
REJECTPF|拒绝策略模板标识|参数可选性: 任选参数类型: 数字参数范围: 1-65535|该参数用于设置按SC入向流控配置的拒绝策略模板编号，拒绝策略模板编号关联拒绝策略模板配置（可通过命令SHOW REJECT POLICY PROFILE查询）。




[](None)输出参数说明 


[](None)标识|名称|类型|说明
---|---|---|---
SCNO|SC的逻辑号|参数可选性: 任选参数类型: 数字参数范围: 0-1024|该参数用于设置按SC入向流控配置的SC的逻辑号。
PRIORPFGROUPID|优先级模板组标识|参数可选性: 任选参数类型: 数字参数范围: 1-128|该参数用于设置优先级模板组配置的模板编号。模板组编号会被优先级模板（ADD PRIORITY PROFILE）、按链路入向流控（ADD FLOW CONTROL BY LINK IN）、按链路出向流控（ADD FLOW CONTROL BY LINK OUT）、按局向入向流控（ADD OFFICERECVFLOWCTL）、按局向出向流控（ADD OFFICESENDFLOWCTL）、按SC入向流控（ADD FLOW CONTROL BY SC IN）、按SC出向流控（ADD FLOW CONTROL BY SC OUT）引用。
REJECTPF|拒绝策略模板标识|参数可选性: 任选参数类型: 数字参数范围: 1-65535|该参数用于设置按SC入向流控配置的拒绝策略模板编号，拒绝策略模板编号关联拒绝策略模板配置（可通过命令SHOW REJECT POLICY PROFILE查询）。




[](None)命令举例 


`
修改按SC入向流控配置：SC逻辑号为1，优先级模板组标识为1，拒绝策略模板标识为1。
SET FLOW CONTROL BY SC IN:SCNO=1,PRIORPFGROUPID=1,REJECTPF=1;
` 


##### 删除按SC入向流控配置(DEL FLOW CONTROL BY SC IN) 
##### 删除按SC入向流控配置(DEL FLOW CONTROL BY SC IN) 


[](None)功能说明 

该命令用于删除按SC入向流控配置。当服务端不再需要对此逻辑号的SC进行SC流控时，执行该命令。命令执行成功后，不再按此配置进行SC入向流控。


[](None)注意事项 

按SC入向流控配置配置删除时，逻辑号匹配该配置的SC上服务端链路不再进行SC入向流控。 


[](None)输入参数说明 


[](None)标识|名称|类型|说明
---|---|---|---
SCNO|SC的逻辑号|参数可选性: 必选参数类型: 数字参数范围: 0-1024|该参数用于设置按SC入向流控配置的SC的逻辑号。




[](None)输出参数说明 


[](None)标识|名称|类型|说明
---|---|---|---
SCNO|SC的逻辑号|参数可选性: 任选参数类型: 数字参数范围: 0-1024|该参数用于设置按SC入向流控配置的SC的逻辑号。
PRIORPFGROUPID|优先级模板组标识|参数可选性: 任选参数类型: 数字参数范围: 1-128|该参数用于设置优先级模板组配置的模板编号。模板组编号会被优先级模板（ADD PRIORITY PROFILE）、按链路入向流控（ADD FLOW CONTROL BY LINK IN）、按链路出向流控（ADD FLOW CONTROL BY LINK OUT）、按局向入向流控（ADD OFFICERECVFLOWCTL）、按局向出向流控（ADD OFFICESENDFLOWCTL）、按SC入向流控（ADD FLOW CONTROL BY SC IN）、按SC出向流控（ADD FLOW CONTROL BY SC OUT）引用。
REJECTPF|拒绝策略模板标识|参数可选性: 任选参数类型: 数字参数范围: 1-65535|该参数用于设置按SC入向流控配置的拒绝策略模板编号，拒绝策略模板编号关联拒绝策略模板配置（可通过命令SHOW REJECT POLICY PROFILE查询）。




[](None)命令举例 


`
删除按SC入向流控配置：SC逻辑号为1。
DEL FLOW CONTROL BY SC IN:SCNO=1;
` 


##### 查询按SC入向流控配置(SHOW FLOW CONTROL BY SC IN) 
##### 查询按SC入向流控配置(SHOW FLOW CONTROL BY SC IN) 


[](None)功能说明 

该命令用于查询按SC入向流控配置，包括SC的逻辑号、方法优先级模板标识、拒绝策略模板标识等配置信息。当需要查询按SC入向流控配置信息时，使用该命令。


[](None)注意事项 


 
如需要查询全部的按SC入向流控配置，则不需要输入任何参数。 

 
如需要查询指定SC逻辑号按SC入向流控配置，则需要输入SC逻辑号。 

 


[](None)输入参数说明 


[](None)标识|名称|类型|说明
---|---|---|---
SCNO|SC的逻辑号|参数可选性: 任选参数类型: 数字参数范围: 0-1024|该参数用于设置按SC入向流控配置的SC的逻辑号。




[](None)输出参数说明 


[](None)标识|名称|类型|说明
---|---|---|---
SCNO|SC的逻辑号|参数可选性: 任选参数类型: 数字参数范围: 0-1024|该参数用于设置按SC入向流控配置的SC的逻辑号。
PRIORPFGROUPID|优先级模板组标识|参数可选性: 任选参数类型: 数字参数范围: 1-128|该参数用于设置优先级模板组配置的模板编号。模板组编号会被优先级模板（ADD PRIORITY PROFILE）、按链路入向流控（ADD FLOW CONTROL BY LINK IN）、按链路出向流控（ADD FLOW CONTROL BY LINK OUT）、按局向入向流控（ADD OFFICERECVFLOWCTL）、按局向出向流控（ADD OFFICESENDFLOWCTL）、按SC入向流控（ADD FLOW CONTROL BY SC IN）、按SC出向流控（ADD FLOW CONTROL BY SC OUT）引用。
REJECTPF|拒绝策略模板标识|参数可选性: 任选参数类型: 数字参数范围: 1-65535|该参数用于设置按SC入向流控配置的拒绝策略模板编号，拒绝策略模板编号关联拒绝策略模板配置（可通过命令SHOW REJECT POLICY PROFILE查询）。




[](None)命令举例 


`
查询按SC入向流控配置：SC逻辑号为1。
SHOW FLOW CONTROL BY SC IN:SCNO=1;

(No.1) : SHOW FLOW CONTROL BY SC IN:
-----------------CommonS_HTTP_LB_0----------------
操作维护       SC的逻辑号 优先级模板组标识 拒绝策略模板标识 
------------------------------------------------------------
复制 修改 删除 1          1                1                
------------------------------------------------------------
记录数：1
执行成功开始时间:2022-08-30 09:46:32 耗时: 2.308秒

` 


#### 出向流控配置 
#### 出向流控配置 


[](None)背景知识 


HTTPLB（Hypertext Transfer Protocol Load Balancing，超文本传输负载均衡）的SC出向流控功能的相关配置。 




[](None)功能说明 


HTTPLB的SC出向流控功能相关配置，包括设定哪个SC进行流控，使用的HTTP方法优先级模板和拒绝策略模板。SC逻辑号设置为0的配置，表示通配，当某个SC没有匹配到自身逻辑号对应的配置，则根据此配置进行流控。 




[](None)子主题： 






##### 新增按SC出向流控配置(ADD FLOW CONTROL BY SC OUT) 
##### 新增按SC出向流控配置(ADD FLOW CONTROL BY SC OUT) 


[](None)功能说明 

该命令用于新增按SC出向流控配置。当本端作为客户端需要增加SC流控时，执行该命令。命令执行成功后，符合该配置逻辑号的SC收到本网元业务的请求时按照此配置进行SC出向流控。


[](None)注意事项 


 
引用的方法优先级模板标识必须存在，可用SHOW HTTPMETHODPRIPRO查询当前的HTTP方法优先级模板标识。 

 
引用的拒绝策略模板标识必须存在，可用SHOW REJECT POLICY PROFILE查询当前的拒绝策略模板标识。 

 


[](None)输入参数说明 


[](None)标识|名称|类型|说明
---|---|---|---
SCNO|SC的逻辑号|参数可选性: 必选参数类型: 数字参数范围: 0-1024|该参数用于设置按SC出向流控配置的SC的逻辑号。
PRIORPFGROUPID|优先级模板组标识|参数可选性: 必选参数类型: 数字参数范围: 1-128|该参数用于设置优先级模板组配置的模板编号。模板组编号会被优先级模板（ADD PRIORITY PROFILE）、按链路入向流控（ADD FLOW CONTROL BY LINK IN）、按链路出向流控（ADD FLOW CONTROL BY LINK OUT）、按局向入向流控（ADD OFFICERECVFLOWCTL）、按局向出向流控（ADD OFFICESENDFLOWCTL）、按SC入向流控（ADD FLOW CONTROL BY SC IN）、按SC出向流控（ADD FLOW CONTROL BY SC OUT）引用。
REJECTPF|拒绝策略模板标识|参数可选性: 必选参数类型: 数字参数范围: 1-65535|该参数用于设置按SC出向流控配置的拒绝策略模板编号，拒绝策略模板编号关联拒绝策略模板配置（可通过命令SHOW REJECT POLICY PROFILE查询）。




[](None)输出参数说明 


[](None)标识|名称|类型|说明
---|---|---|---
SCNO|SC的逻辑号|参数可选性: 任选参数类型: 数字参数范围: 0-1024|该参数用于设置按SC出向流控配置的SC的逻辑号。
PRIORPFGROUPID|优先级模板组标识|参数可选性: 任选参数类型: 数字参数范围: 1-128|该参数用于设置优先级模板组配置的模板编号。模板组编号会被优先级模板（ADD PRIORITY PROFILE）、按链路入向流控（ADD FLOW CONTROL BY LINK IN）、按链路出向流控（ADD FLOW CONTROL BY LINK OUT）、按局向入向流控（ADD OFFICERECVFLOWCTL）、按局向出向流控（ADD OFFICESENDFLOWCTL）、按SC入向流控（ADD FLOW CONTROL BY SC IN）、按SC出向流控（ADD FLOW CONTROL BY SC OUT）引用。
REJECTPF|拒绝策略模板标识|参数可选性: 任选参数类型: 数字参数范围: 1-65535|该参数用于设置按SC出向流控配置的拒绝策略模板编号，拒绝策略模板编号关联拒绝策略模板配置（可通过命令SHOW REJECT POLICY PROFILE查询）。




[](None)命令举例 


`
新增按SC出向流控配置：SC逻辑号为1，优先级模板组标识为1，拒绝策略模板标识为1。
ADD FLOW CONTROL BY SC OUT:SCNO=1,PRIORPFGROUPID=1,REJECTPF=1;
` 


##### 修改按SC出向流控配置(SET FLOW CONTROL BY SC OUT) 
##### 修改按SC出向流控配置(SET FLOW CONTROL BY SC OUT) 


[](None)功能说明 

该命令用于修改按SC出向流控配置。当客户端的SC流控信息发生变化时，执行该命令。命令执行成功后，符合该配置逻辑号的SC收到本网元业务的请求时按照新的配置进行SC出向流控。


[](None)注意事项 


 
引用的方法优先级模板标识必须存在，可用SHOW HTTPMETHODPRIPRO查询当前的HTTP方法优先级模板标识。 

 
引用的拒绝策略模板标识必须存在，可用SHOW REJECT POLICY PROFILE查询当前的拒绝策略模板标识。 

 


[](None)输入参数说明 


[](None)标识|名称|类型|说明
---|---|---|---
SCNO|SC的逻辑号|参数可选性: 必选参数类型: 数字参数范围: 0-1024|该参数用于设置按SC出向流控配置的SC的逻辑号。
PRIORPFGROUPID|优先级模板组标识|参数可选性: 任选参数类型: 数字参数范围: 1-128|该参数用于设置优先级模板组配置的模板编号。模板组编号会被优先级模板（ADD PRIORITY PROFILE）、按链路入向流控（ADD FLOW CONTROL BY LINK IN）、按链路出向流控（ADD FLOW CONTROL BY LINK OUT）、按局向入向流控（ADD OFFICERECVFLOWCTL）、按局向出向流控（ADD OFFICESENDFLOWCTL）、按SC入向流控（ADD FLOW CONTROL BY SC IN）、按SC出向流控（ADD FLOW CONTROL BY SC OUT）引用。
REJECTPF|拒绝策略模板标识|参数可选性: 任选参数类型: 数字参数范围: 1-65535|该参数用于设置按SC出向流控配置的拒绝策略模板编号，拒绝策略模板编号关联拒绝策略模板配置（可通过命令SHOW REJECT POLICY PROFILE查询）。




[](None)输出参数说明 


[](None)标识|名称|类型|说明
---|---|---|---
SCNO|SC的逻辑号|参数可选性: 任选参数类型: 数字参数范围: 0-1024|该参数用于设置按SC出向流控配置的SC的逻辑号。
PRIORPFGROUPID|优先级模板组标识|参数可选性: 任选参数类型: 数字参数范围: 1-128|该参数用于设置优先级模板组配置的模板编号。模板组编号会被优先级模板（ADD PRIORITY PROFILE）、按链路入向流控（ADD FLOW CONTROL BY LINK IN）、按链路出向流控（ADD FLOW CONTROL BY LINK OUT）、按局向入向流控（ADD OFFICERECVFLOWCTL）、按局向出向流控（ADD OFFICESENDFLOWCTL）、按SC入向流控（ADD FLOW CONTROL BY SC IN）、按SC出向流控（ADD FLOW CONTROL BY SC OUT）引用。
REJECTPF|拒绝策略模板标识|参数可选性: 任选参数类型: 数字参数范围: 1-65535|该参数用于设置按SC出向流控配置的拒绝策略模板编号，拒绝策略模板编号关联拒绝策略模板配置（可通过命令SHOW REJECT POLICY PROFILE查询）。




[](None)命令举例 


`
修改按SC出向流控配置：SC逻辑号为1，优先级模板组标识为1，拒绝策略模板标识为1。
SET FLOW CONTROL BY SC OUT:SCNO=1,PRIORPFGROUPID=1,REJECTPF=1;
` 


##### 删除按SC出向流控配置(DEL FLOW CONTROL BY SC OUT) 
##### 删除按SC出向流控配置(DEL FLOW CONTROL BY SC OUT) 


[](None)功能说明 

该命令用于删除按SC出向流控配置。当客户端不再需要对此逻辑号的SC进行SC流控时，执行该命令。命令执行成功后，不再按此配置进行SC出向流控。


[](None)注意事项 

按SC出向流控配置配置删除时，逻辑号匹配该配置的SC上客户端链路不再进行SC出向流控。 


[](None)输入参数说明 


[](None)标识|名称|类型|说明
---|---|---|---
SCNO|SC的逻辑号|参数可选性: 必选参数类型: 数字参数范围: 0-1024|该参数用于设置按SC出向流控配置的SC的逻辑号。




[](None)输出参数说明 


[](None)标识|名称|类型|说明
---|---|---|---
SCNO|SC的逻辑号|参数可选性: 任选参数类型: 数字参数范围: 0-1024|该参数用于设置按SC出向流控配置的SC的逻辑号。
PRIORPFGROUPID|优先级模板组标识|参数可选性: 任选参数类型: 数字参数范围: 1-128|该参数用于设置优先级模板组配置的模板编号。模板组编号会被优先级模板（ADD PRIORITY PROFILE）、按链路入向流控（ADD FLOW CONTROL BY LINK IN）、按链路出向流控（ADD FLOW CONTROL BY LINK OUT）、按局向入向流控（ADD OFFICERECVFLOWCTL）、按局向出向流控（ADD OFFICESENDFLOWCTL）、按SC入向流控（ADD FLOW CONTROL BY SC IN）、按SC出向流控（ADD FLOW CONTROL BY SC OUT）引用。
REJECTPF|拒绝策略模板标识|参数可选性: 任选参数类型: 数字参数范围: 1-65535|该参数用于设置按SC出向流控配置的拒绝策略模板编号，拒绝策略模板编号关联拒绝策略模板配置（可通过命令SHOW REJECT POLICY PROFILE查询）。




[](None)命令举例 


`
删除按链路出向流控配置：SC逻辑号为1。
DEL FLOW CONTROL BY SC OUT:SCNO=1;
` 


##### 查询按SC出向流控配置(SHOW FLOW CONTROL BY SC OUT) 
##### 查询按SC出向流控配置(SHOW FLOW CONTROL BY SC OUT) 


[](None)功能说明 

该命令用于查询按SC出向流控配置，包括SC的逻辑号、方法优先级模板标识、拒绝策略模板标识等配置信息。当需要查询按SC出向流控配置信息时，使用该命令。


[](None)注意事项 


 
如需要查询全部的按SC出向流控配置，则不需要输入任何参数。 

 
如需要查询指定SC逻辑号按SC出向流控配置，则需要输入SC逻辑号。 

 


[](None)输入参数说明 


[](None)标识|名称|类型|说明
---|---|---|---
SCNO|SC的逻辑号|参数可选性: 任选参数类型: 数字参数范围: 0-1024|该参数用于设置按SC出向流控配置的SC的逻辑号。




[](None)输出参数说明 


[](None)标识|名称|类型|说明
---|---|---|---
SCNO|SC的逻辑号|参数可选性: 任选参数类型: 数字参数范围: 0-1024|该参数用于设置按SC出向流控配置的SC的逻辑号。
PRIORPFGROUPID|优先级模板组标识|参数可选性: 任选参数类型: 数字参数范围: 1-128|该参数用于设置优先级模板组配置的模板编号。模板组编号会被优先级模板（ADD PRIORITY PROFILE）、按链路入向流控（ADD FLOW CONTROL BY LINK IN）、按链路出向流控（ADD FLOW CONTROL BY LINK OUT）、按局向入向流控（ADD OFFICERECVFLOWCTL）、按局向出向流控（ADD OFFICESENDFLOWCTL）、按SC入向流控（ADD FLOW CONTROL BY SC IN）、按SC出向流控（ADD FLOW CONTROL BY SC OUT）引用。
REJECTPF|拒绝策略模板标识|参数可选性: 任选参数类型: 数字参数范围: 1-65535|该参数用于设置按SC出向流控配置的拒绝策略模板编号，拒绝策略模板编号关联拒绝策略模板配置（可通过命令SHOW REJECT POLICY PROFILE查询）。




[](None)命令举例 


`
查询按SC出向流控配置：SC逻辑号为1。
SHOW FLOW CONTROL BY SC OUT:SCNO=1;

(No.1) : SHOW FLOW CONTROL BY SC OUT:SCNO=1
-----------------CommonS_HTTP_LB_0----------------
操作维护       SC的逻辑号 优先级模板组标识 拒绝策略模板标识 
------------------------------------------------------------
复制 修改 删除 1          1                1                
------------------------------------------------------------
记录数：1
执行成功开始时间:2022-08-30 09:58:43 耗时: 2.67秒

` 


### 按链路流控配置管理 
### 按链路流控配置管理 


[](None)背景知识 


HTTPLB（Hypertext Transfer Protocol Load Balancing，超文本传输负载均衡）的链路级流控功能的相关配置管理。链路流控，可以控制远端IP在配置的IP段内的链路的HTTP消息收发。 




[](None)功能说明 


HTTPLB的链路流控功能相关配置，包括入向流控和出向流控配置。 




[](None)子主题： 






#### 入向流控配置 
#### 入向流控配置 


[](None)背景知识 


HTTPLB（Hypertext Transfer Protocol Load Balancing，超文本传输负载均衡）的链路入向流控功能的相关配置。 




[](None)功能说明 


HTTPLB的链路入向流控功能相关配置，包括设定IP段，使用的HTTP方法优先级模板和拒绝策略模板。IP段全0，表示通配，当某个IP没有匹配到任何IP段，则根据此配置进行流控。 




[](None)子主题： 






##### 新增按链路入向流控配置(ADD FLOW CONTROL BY LINK IN) 
##### 新增按链路入向流控配置(ADD FLOW CONTROL BY LINK IN) 


[](None)功能说明 

该命令用于新增按链路入向流控配置。当本端作为服务端需要增加链路流控时，执行该命令。命令执行成功后，服务端地址在此起止范围内的链路收到请求时按照此配置进行链路入向流控。


[](None)注意事项 


 
多个配置编号内的地址范围不允许存在重叠部分。 

 
可以配置通用配置，在链路地址不在起止范围内时采用通用配置，IPV4地址通用配置起始地址“0.0.0.0”，结束地址“0.0.0.0”；IPV6地址通用配置起始地址“::”，结束地址“::”。 

 
引用的方法优先级模板标识必须存在，可用SHOW HTTPMETHODPRIPRO查询当前的HTTP方法优先级模板标识。 

 
引用的拒绝策略模板标识必须存在，可用SHOW REJECT POLICY PROFILE查询当前的拒绝策略模板标识。 

 


[](None)输入参数说明 


[](None)标识|名称|类型|说明
---|---|---|---
ID|标识|参数可选性: 必选参数类型: 数字参数范围: 1-65535|该参数用于设置按链路入向流控配置的编号。
STARTIP|起始IP|参数可选性: 必选参数类型: 字符串|该参数用于设置按链路入向流控配置的起始地址。
ENDIP|结束IP|参数可选性: 必选参数类型: 字符串|该参数用于设置按链路入向流控配置的结束地址。
PRIORPFGROUPID|优先级模板组标识|参数可选性: 必选参数类型: 数字参数范围: 1-128|该参数用于设置优先级模板组配置的模板编号。模板组编号会被优先级模板（ADD PRIORITY PROFILE）、按链路入向流控（ADD FLOW CONTROL BY LINK IN）、按链路出向流控（ADD FLOW CONTROL BY LINK OUT）、按局向入向流控（ADD OFFICERECVFLOWCTL）、按局向出向流控（ADD OFFICESENDFLOWCTL）、按SC入向流控（ADD FLOW CONTROL BY SC IN）、按SC出向流控（ADD FLOW CONTROL BY SC OUT）引用。
REJECTPF|拒绝策略模板标识|参数可选性: 必选参数类型: 数字参数范围: 1-65535|该参数用于设置按链路入向流控配置的拒绝策略模板编号，拒绝策略模板编号关联拒绝策略模板配置（可通过命令SHOW REJECT POLICY PROFILE查询）。




[](None)输出参数说明 


[](None)标识|名称|类型|说明
---|---|---|---
ID|标识|参数可选性: 任选参数类型: 数字参数范围: 1-65535|该参数用于设置按链路入向流控配置的编号。
STARTIP|起始IP|参数可选性: 任选参数类型: 字符串|该参数用于设置按链路入向流控配置的起始地址。
ENDIP|结束IP|参数可选性: 任选参数类型: 字符串|该参数用于设置按链路入向流控配置的结束地址。
PRIORPFGROUPID|优先级模板组标识|参数可选性: 任选参数类型: 数字参数范围: 1-128|该参数用于设置优先级模板组配置的模板编号。模板组编号会被优先级模板（ADD PRIORITY PROFILE）、按链路入向流控（ADD FLOW CONTROL BY LINK IN）、按链路出向流控（ADD FLOW CONTROL BY LINK OUT）、按局向入向流控（ADD OFFICERECVFLOWCTL）、按局向出向流控（ADD OFFICESENDFLOWCTL）、按SC入向流控（ADD FLOW CONTROL BY SC IN）、按SC出向流控（ADD FLOW CONTROL BY SC OUT）引用。
REJECTPF|拒绝策略模板标识|参数可选性: 任选参数类型: 数字参数范围: 1-65535|该参数用于设置按链路入向流控配置的拒绝策略模板编号，拒绝策略模板编号关联拒绝策略模板配置（可通过命令SHOW REJECT POLICY PROFILE查询）。




[](None)命令举例 


`
新增按链路入向流控配置：编号为1，起始地址为"1.1.1.1"，结束地址为"100.100.100.100"，优先级模板组标识为1，拒绝策略模板标识为1。
ADD FLOW CONTROL BY LINK IN:ID=1,STARTIP="1.1.1.1",ENDIP="100.100.100.100",PRIORPFGROUPID=1,REJECTPF=1;
` 


##### 修改按链路入向流控配置(SET FLOW CONTROL BY LINK IN) 
##### 修改按链路入向流控配置(SET FLOW CONTROL BY LINK IN) 


[](None)功能说明 

该命令用于修改按链路入向流控配置。当服务端的链路流控信息发生变化时，执行该命令。命令执行成功后，服务端地址在此起止范围内的链路收到请求时按照新的配置进行链路入向流控。


[](None)注意事项 


 
多个配置编号内的地址范围不允许存在重叠部分。 

 
可以配置通用配置，在链路IP无法匹配到起止范围内时采用通用配置，IPV4地址通用配置起始地址“0.0.0.0”，结束地址“0.0.0.0”；IPV6地址通用配置起始地址“::”，结束地址“::”。 

 
引用的方法优先级模板标识必须存在，可用SHOW HTTPMETHODPRIPRO查询当前的HTTP方法优先级模板标识。 

 
引用的拒绝策略模板标识必须存在，可用SHOW REJECT POLICY PROFILE查询当前的拒绝策略模板标识。 

 


[](None)输入参数说明 


[](None)标识|名称|类型|说明
---|---|---|---
ID|标识|参数可选性: 必选参数类型: 数字参数范围: 1-65535|该参数用于设置按链路入向流控配置的编号。
STARTIP|起始IP|参数可选性: 任选参数类型: 字符串|该参数用于设置按链路入向流控配置的起始地址。
ENDIP|结束IP|参数可选性: 任选参数类型: 字符串|该参数用于设置按链路入向流控配置的结束地址。
PRIORPFGROUPID|优先级模板组标识|参数可选性: 任选参数类型: 数字参数范围: 1-128|该参数用于设置优先级模板组配置的模板编号。模板组编号会被优先级模板（ADD PRIORITY PROFILE）、按链路入向流控（ADD FLOW CONTROL BY LINK IN）、按链路出向流控（ADD FLOW CONTROL BY LINK OUT）、按局向入向流控（ADD OFFICERECVFLOWCTL）、按局向出向流控（ADD OFFICESENDFLOWCTL）、按SC入向流控（ADD FLOW CONTROL BY SC IN）、按SC出向流控（ADD FLOW CONTROL BY SC OUT）引用。
REJECTPF|拒绝策略模板标识|参数可选性: 任选参数类型: 数字参数范围: 1-65535|该参数用于设置按链路入向流控配置的拒绝策略模板编号，拒绝策略模板编号关联拒绝策略模板配置（可通过命令SHOW REJECT POLICY PROFILE查询）。




[](None)输出参数说明 


[](None)标识|名称|类型|说明
---|---|---|---
ID|标识|参数可选性: 任选参数类型: 数字参数范围: 1-65535|该参数用于设置按链路入向流控配置的编号。
STARTIP|起始IP|参数可选性: 任选参数类型: 字符串|该参数用于设置按链路入向流控配置的起始地址。
ENDIP|结束IP|参数可选性: 任选参数类型: 字符串|该参数用于设置按链路入向流控配置的结束地址。
PRIORPFGROUPID|优先级模板组标识|参数可选性: 任选参数类型: 数字参数范围: 1-128|该参数用于设置优先级模板组配置的模板编号。模板组编号会被优先级模板（ADD PRIORITY PROFILE）、按链路入向流控（ADD FLOW CONTROL BY LINK IN）、按链路出向流控（ADD FLOW CONTROL BY LINK OUT）、按局向入向流控（ADD OFFICERECVFLOWCTL）、按局向出向流控（ADD OFFICESENDFLOWCTL）、按SC入向流控（ADD FLOW CONTROL BY SC IN）、按SC出向流控（ADD FLOW CONTROL BY SC OUT）引用。
REJECTPF|拒绝策略模板标识|参数可选性: 任选参数类型: 数字参数范围: 1-65535|该参数用于设置按链路入向流控配置的拒绝策略模板编号，拒绝策略模板编号关联拒绝策略模板配置（可通过命令SHOW REJECT POLICY PROFILE查询）。




[](None)命令举例 


`
修改按链路入向流控配置：编号为1，起始地址为"1.1.1.1"，结束地址为"100.100.100.100"，优先级模板组标识为1，拒绝策略模板标识为1。
SET FLOW CONTROL BY LINK IN:ID=1,STARTIP="1.1.1.1",ENDIP="100.100.100.100",PRIORPFGROUPID=1,REJECTPF=1;
` 


##### 删除按链路入向流控配置(DEL FLOW CONTROL BY LINK IN) 
##### 删除按链路入向流控配置(DEL FLOW CONTROL BY LINK IN) 


[](None)功能说明 

该命令用于删除按链路入向流控配置。当服务端不再需要对此起止地址范围内链路流控时，执行该命令。命令执行成功后，服务端不再按此配置进行链路入向流控。


[](None)注意事项 

按链路入向流控配置配置删除时，对端IP地址匹配该配置的服务端链路不再进行链路入向流控。 


[](None)输入参数说明 


[](None)标识|名称|类型|说明
---|---|---|---
ID|标识|参数可选性: 必选参数类型: 数字参数范围: 1-65535|该参数用于设置按链路入向流控配置的编号。




[](None)输出参数说明 


[](None)标识|名称|类型|说明
---|---|---|---
ID|标识|参数可选性: 任选参数类型: 数字参数范围: 1-65535|该参数用于设置按链路入向流控配置的编号。
STARTIP|起始IP|参数可选性: 任选参数类型: 字符串|该参数用于设置按链路入向流控配置的起始地址。
ENDIP|结束IP|参数可选性: 任选参数类型: 字符串|该参数用于设置按链路入向流控配置的结束地址。
PRIORPFGROUPID|优先级模板组标识|参数可选性: 任选参数类型: 数字参数范围: 1-128|该参数用于设置优先级模板组配置的模板编号。模板组编号会被优先级模板（ADD PRIORITY PROFILE）、按链路入向流控（ADD FLOW CONTROL BY LINK IN）、按链路出向流控（ADD FLOW CONTROL BY LINK OUT）、按局向入向流控（ADD OFFICERECVFLOWCTL）、按局向出向流控（ADD OFFICESENDFLOWCTL）、按SC入向流控（ADD FLOW CONTROL BY SC IN）、按SC出向流控（ADD FLOW CONTROL BY SC OUT）引用。
REJECTPF|拒绝策略模板标识|参数可选性: 任选参数类型: 数字参数范围: 1-65535|该参数用于设置按链路入向流控配置的拒绝策略模板编号，拒绝策略模板编号关联拒绝策略模板配置（可通过命令SHOW REJECT POLICY PROFILE查询）。




[](None)命令举例 


`
删除按链路入向流控配置：编号1。
DEL FLOW CONTROL BY LINK IN:ID=1;
` 


##### 查询按链路入向流控配置(SHOW FLOW CONTROL BY LINK IN) 
##### 查询按链路入向流控配置(SHOW FLOW CONTROL BY LINK IN) 


[](None)功能说明 

该命令用于查询按链路入向流控配置，包括标识、起始IP、结束IP、方法优先级模板标识、拒绝策略模板标识等配置信息。当需要查询按链路入向流控配置信息时，使用该命令。


[](None)注意事项 


 
如需要查询全部的按链路入向流控配置，则不需要输入任何参数。 

 
如需要查询指定编号的按链路入向流控配置，则需要输入参数标识。 

 


[](None)输入参数说明 


[](None)标识|名称|类型|说明
---|---|---|---
ID|标识|参数可选性: 任选参数类型: 数字参数范围: 1-65535|该参数用于设置按链路入向流控配置的编号。




[](None)输出参数说明 


[](None)标识|名称|类型|说明
---|---|---|---
ID|标识|参数可选性: 任选参数类型: 数字参数范围: 1-65535|该参数用于设置按链路入向流控配置的编号。
STARTIP|起始IP|参数可选性: 任选参数类型: 字符串|该参数用于设置按链路入向流控配置的起始地址。
ENDIP|结束IP|参数可选性: 任选参数类型: 字符串|该参数用于设置按链路入向流控配置的结束地址。
PRIORPFGROUPID|优先级模板组标识|参数可选性: 任选参数类型: 数字参数范围: 1-128|该参数用于设置优先级模板组配置的模板编号。模板组编号会被优先级模板（ADD PRIORITY PROFILE）、按链路入向流控（ADD FLOW CONTROL BY LINK IN）、按链路出向流控（ADD FLOW CONTROL BY LINK OUT）、按局向入向流控（ADD OFFICERECVFLOWCTL）、按局向出向流控（ADD OFFICESENDFLOWCTL）、按SC入向流控（ADD FLOW CONTROL BY SC IN）、按SC出向流控（ADD FLOW CONTROL BY SC OUT）引用。
REJECTPF|拒绝策略模板标识|参数可选性: 任选参数类型: 数字参数范围: 1-65535|该参数用于设置按链路入向流控配置的拒绝策略模板编号，拒绝策略模板编号关联拒绝策略模板配置（可通过命令SHOW REJECT POLICY PROFILE查询）。




[](None)命令举例 


`
查询按链路入向流控配置：编号1。
SHOW FLOW CONTROL BY LINK IN:ID=1;

(No.1) : SHOW FLOW CONTROL BY LINK IN:ID=1
-----------------CommonS_HTTP_LB_0----------------
操作维护       标识 起始IP    结束IP     优先级模板组标识 拒绝策略模板标识 
---------------------------------------------------------------------------
复制 修改 删除 1    1.1.1.1 100.100.100.100 1                1                
---------------------------------------------------------------------------
记录数：1
执行成功开始时间:2022-08-30 10:35:34 耗时: 2.262秒

` 


#### 出向流控配置 
#### 出向流控配置 


[](None)背景知识 


HTTPLB（Hypertext Transfer Protocol Load Balancing，超文本传输负载均衡）的链路出向流控功能的相关配置。 




[](None)功能说明 


HTTPLB的链路出向流控功能相关配置，包括设定IP段，对IP段内远端地址进行流控，使用的HTTP方法优先级模板和拒绝策略模板。IP段全0，表示通配，当某个IP没有匹配到任何IP段，则根据此配置进行流控。 




[](None)子主题： 






##### 新增按链路出向流控配置(ADD FLOW CONTROL BY LINK OUT) 
##### 新增按链路出向流控配置(ADD FLOW CONTROL BY LINK OUT) 


[](None)功能说明 

该命令用于新增按链路出向流控配置。当本端作为客户端需要增加链路流控时，执行该命令。命令执行成功后，客户端地址在此起止范围内的链路收到本网元的请求时可按照此配置进行链路流控。


[](None)注意事项 


 
多个配置编号内的地址范围不允许存在重叠部分。 

 
可以配置通用配置，在链路对端IP地址不在起止范围内时采用通用配置，IPV4地址通用配置起始地址“0.0.0.0”，结束地址“0.0.0.0”；IPV6地址通用配置起始地址“::”，结束地址“::”。 

 
引用的方法优先级模板标识必须存在，可用SHOW HTTPMETHODPRIPRO查询当前的HTTP方法优先级模板标识。 

 
引用的拒绝策略模板标识必须存在，可用SHOW REJECT POLICY PROFILE查询当前的拒绝策略模板标识。 

 


[](None)输入参数说明 


[](None)标识|名称|类型|说明
---|---|---|---
ID|标识|参数可选性: 必选参数类型: 数字参数范围: 1-65535|该参数用于设置按链路出向流控配置的编号。
STARTIP|起始IP|参数可选性: 必选参数类型: 字符串|该参数用于设置按链路出向流控配置的起始地址。
ENDIP|结束IP|参数可选性: 必选参数类型: 字符串|该参数用于设置按链路出向流控配置的结束地址。
PRIORPFGROUPID|优先级模板组标识|参数可选性: 必选参数类型: 数字参数范围: 1-128|该参数用于设置优先级模板组配置的模板编号。模板组编号会被优先级模板（ADD PRIORITY PROFILE）、按链路入向流控（ADD FLOW CONTROL BY LINK IN）、按链路出向流控（ADD FLOW CONTROL BY LINK OUT）、按局向入向流控（ADD OFFICERECVFLOWCTL）、按局向出向流控（ADD OFFICESENDFLOWCTL）、按SC入向流控（ADD FLOW CONTROL BY SC IN）、按SC出向流控（ADD FLOW CONTROL BY SC OUT）引用。
REJECTPF|拒绝策略模板标识|参数可选性: 必选参数类型: 数字参数范围: 1-65535|该参数用于设置按链路出向流控配置的拒绝策略模板编号，拒绝策略模板编号关联拒绝策略模板配置（可通过命令SHOW REJECT POLICY PROFILE查询）。




[](None)输出参数说明 


[](None)标识|名称|类型|说明
---|---|---|---
ID|标识|参数可选性: 任选参数类型: 数字参数范围: 1-65535|该参数用于设置按链路出向流控配置的编号。
STARTIP|起始IP|参数可选性: 任选参数类型: 字符串|该参数用于设置按链路出向流控配置的起始地址。
ENDIP|结束IP|参数可选性: 任选参数类型: 字符串|该参数用于设置按链路出向流控配置的结束地址。
PRIORPFGROUPID|优先级模板组标识|参数可选性: 任选参数类型: 数字参数范围: 1-128|该参数用于设置优先级模板组配置的模板编号。模板组编号会被优先级模板（ADD PRIORITY PROFILE）、按链路入向流控（ADD FLOW CONTROL BY LINK IN）、按链路出向流控（ADD FLOW CONTROL BY LINK OUT）、按局向入向流控（ADD OFFICERECVFLOWCTL）、按局向出向流控（ADD OFFICESENDFLOWCTL）、按SC入向流控（ADD FLOW CONTROL BY SC IN）、按SC出向流控（ADD FLOW CONTROL BY SC OUT）引用。
REJECTPF|拒绝策略模板标识|参数可选性: 任选参数类型: 数字参数范围: 1-65535|该参数用于设置按链路出向流控配置的拒绝策略模板编号，拒绝策略模板编号关联拒绝策略模板配置（可通过命令SHOW REJECT POLICY PROFILE查询）。




[](None)命令举例 


`
新增按链路出向流控配置：编号为1，起始地址为"1.1.1.1"，结束地址为"100.100.100.100"，优先级模板组标识为1，拒绝策略模板标识为1。
ADD FLOW CONTROL BY LINK OUT:ID=1,STARTIP="1.1.1.1",ENDIP="100.100.100.100",PRIORPFGROUPID=1,REJECTPF=1;
` 


##### 修改按链路出向流控配置(SET FLOW CONTROL BY LINK OUT) 
##### 修改按链路出向流控配置(SET FLOW CONTROL BY LINK OUT) 


[](None)功能说明 

该命令用于修改按链路出向流控配置。当客户端的链路流控信息发生变化时，执行该命令。命令执行成功后，客户端地址在此起止范围内的链路收到本网元的请求时按照新的配置进行链路流控。


[](None)注意事项 


 
多个配置编号内的地址范围不允许存在重叠部分。 

 
可以配置通用配置，在链路对端IP地址不在起止范围内时采用通用配置，IPV4地址通用配置起始地址“0.0.0.0”，结束地址“0.0.0.0”；IPV6地址通用配置起始地址“::”，结束地址“::”。 

 
引用的方法优先级模板标识必须存在，可用SHOW HTTPMETHODPRIPRO查询当前的HTTP方法优先级模板标识。 

 
引用的拒绝策略模板标识必须存在，可用SHOW REJECT POLICY PROFILE查询当前的拒绝策略模板标识。 

 


[](None)输入参数说明 


[](None)标识|名称|类型|说明
---|---|---|---
ID|标识|参数可选性: 必选参数类型: 数字参数范围: 1-65535|该参数用于设置按链路出向流控配置的编号。
STARTIP|起始IP|参数可选性: 任选参数类型: 字符串|该参数用于设置按链路出向流控配置的起始地址。
ENDIP|结束IP|参数可选性: 任选参数类型: 字符串|该参数用于设置按链路出向流控配置的结束地址。
PRIORPFGROUPID|优先级模板组标识|参数可选性: 任选参数类型: 数字参数范围: 1-128|该参数用于设置优先级模板组配置的模板编号。模板组编号会被优先级模板（ADD PRIORITY PROFILE）、按链路入向流控（ADD FLOW CONTROL BY LINK IN）、按链路出向流控（ADD FLOW CONTROL BY LINK OUT）、按局向入向流控（ADD OFFICERECVFLOWCTL）、按局向出向流控（ADD OFFICESENDFLOWCTL）、按SC入向流控（ADD FLOW CONTROL BY SC IN）、按SC出向流控（ADD FLOW CONTROL BY SC OUT）引用。
REJECTPF|拒绝策略模板标识|参数可选性: 任选参数类型: 数字参数范围: 1-65535|该参数用于设置按链路出向流控配置的拒绝策略模板编号，拒绝策略模板编号关联拒绝策略模板配置（可通过命令SHOW REJECT POLICY PROFILE查询）。




[](None)输出参数说明 


[](None)标识|名称|类型|说明
---|---|---|---
ID|标识|参数可选性: 任选参数类型: 数字参数范围: 1-65535|该参数用于设置按链路出向流控配置的编号。
STARTIP|起始IP|参数可选性: 任选参数类型: 字符串|该参数用于设置按链路出向流控配置的起始地址。
ENDIP|结束IP|参数可选性: 任选参数类型: 字符串|该参数用于设置按链路出向流控配置的结束地址。
PRIORPFGROUPID|优先级模板组标识|参数可选性: 任选参数类型: 数字参数范围: 1-128|该参数用于设置优先级模板组配置的模板编号。模板组编号会被优先级模板（ADD PRIORITY PROFILE）、按链路入向流控（ADD FLOW CONTROL BY LINK IN）、按链路出向流控（ADD FLOW CONTROL BY LINK OUT）、按局向入向流控（ADD OFFICERECVFLOWCTL）、按局向出向流控（ADD OFFICESENDFLOWCTL）、按SC入向流控（ADD FLOW CONTROL BY SC IN）、按SC出向流控（ADD FLOW CONTROL BY SC OUT）引用。
REJECTPF|拒绝策略模板标识|参数可选性: 任选参数类型: 数字参数范围: 1-65535|该参数用于设置按链路出向流控配置的拒绝策略模板编号，拒绝策略模板编号关联拒绝策略模板配置（可通过命令SHOW REJECT POLICY PROFILE查询）。




[](None)命令举例 


`
修改按链路出向流控配置：编号为1，起始地址为"1.1.1.1"，结束地址为"100.100.100.100"，优先级模板组标识为1，拒绝策略模板标识为1。
SET FLOW CONTROL BY LINK OUT:ID=1,STARTIP="1.1.1.1",ENDIP="100.100.100.100",PRIORPFGROUPID=1,REJECTPF=1;
` 


##### 删除按链路出向流控配置(DEL FLOW CONTROL BY LINK OUT) 
##### 删除按链路出向流控配置(DEL FLOW CONTROL BY LINK OUT) 


[](None)功能说明 

该命令用于删除按链路出向流控配置。当客户端不再需要对此起止地址范围内的链路流控时，执行该命令。命令执行成功后，客户端不再按此配置进行链路流控。


[](None)注意事项 

按链路出向流控配置配置删除时，对端IP地址匹配该配置的客户端链路不再进行链路出向流控。 


[](None)输入参数说明 


[](None)标识|名称|类型|说明
---|---|---|---
ID|标识|参数可选性: 必选参数类型: 数字参数范围: 1-65535|该参数用于设置按链路出向流控配置的编号。




[](None)输出参数说明 


[](None)标识|名称|类型|说明
---|---|---|---
ID|标识|参数可选性: 任选参数类型: 数字参数范围: 1-65535|该参数用于设置按链路出向流控配置的编号。
STARTIP|起始IP|参数可选性: 任选参数类型: 字符串|该参数用于设置按链路出向流控配置的起始地址。
ENDIP|结束IP|参数可选性: 任选参数类型: 字符串|该参数用于设置按链路出向流控配置的结束地址。
PRIORPFGROUPID|优先级模板组标识|参数可选性: 任选参数类型: 数字参数范围: 1-128|该参数用于设置优先级模板组配置的模板编号。模板组编号会被优先级模板（ADD PRIORITY PROFILE）、按链路入向流控（ADD FLOW CONTROL BY LINK IN）、按链路出向流控（ADD FLOW CONTROL BY LINK OUT）、按局向入向流控（ADD OFFICERECVFLOWCTL）、按局向出向流控（ADD OFFICESENDFLOWCTL）、按SC入向流控（ADD FLOW CONTROL BY SC IN）、按SC出向流控（ADD FLOW CONTROL BY SC OUT）引用。
REJECTPF|拒绝策略模板标识|参数可选性: 任选参数类型: 数字参数范围: 1-65535|该参数用于设置按链路出向流控配置的拒绝策略模板编号，拒绝策略模板编号关联拒绝策略模板配置（可通过命令SHOW REJECT POLICY PROFILE查询）。




[](None)命令举例 


`
删除按链路出向流控配置：编号1。
DEL FLOW CONTROL BY LINK OUT:ID=1;
` 


##### 查询按链路出向流控配置(SHOW FLOW CONTROL BY LINK OUT) 
##### 查询按链路出向流控配置(SHOW FLOW CONTROL BY LINK OUT) 


[](None)功能说明 

该命令用于查询按链路出向流控配置，包括标识、起始IP、结束IP、方法优先级模板标识、拒绝策略模板标识等配置信息。当需要查询按链路出向流控配置信息时，使用该命令。


[](None)注意事项 


 
如需要查询全部的按链路出向流控配置，则不需要输入任何参数。 

 
如需要查询指定编号的按链路出向流控配置，则需要输入参数标识。 

 


[](None)输入参数说明 


[](None)标识|名称|类型|说明
---|---|---|---
ID|标识|参数可选性: 任选参数类型: 数字参数范围: 1-65535|该参数用于设置按链路出向流控配置的编号。




[](None)输出参数说明 


[](None)标识|名称|类型|说明
---|---|---|---
ID|标识|参数可选性: 任选参数类型: 数字参数范围: 1-65535|该参数用于设置按链路出向流控配置的编号。
STARTIP|起始IP|参数可选性: 任选参数类型: 字符串|该参数用于设置按链路出向流控配置的起始地址。
ENDIP|结束IP|参数可选性: 任选参数类型: 字符串|该参数用于设置按链路出向流控配置的结束地址。
PRIORPFGROUPID|优先级模板组标识|参数可选性: 任选参数类型: 数字参数范围: 1-128|该参数用于设置优先级模板组配置的模板编号。模板组编号会被优先级模板（ADD PRIORITY PROFILE）、按链路入向流控（ADD FLOW CONTROL BY LINK IN）、按链路出向流控（ADD FLOW CONTROL BY LINK OUT）、按局向入向流控（ADD OFFICERECVFLOWCTL）、按局向出向流控（ADD OFFICESENDFLOWCTL）、按SC入向流控（ADD FLOW CONTROL BY SC IN）、按SC出向流控（ADD FLOW CONTROL BY SC OUT）引用。
REJECTPF|拒绝策略模板标识|参数可选性: 任选参数类型: 数字参数范围: 1-65535|该参数用于设置按链路出向流控配置的拒绝策略模板编号，拒绝策略模板编号关联拒绝策略模板配置（可通过命令SHOW REJECT POLICY PROFILE查询）。




[](None)命令举例 


`
查询按链路出向流控配置：编号1。
SHOW FLOW CONTROL BY LINK OUT:ID=1;

(No.1) : SHOW FLOW CONTROL BY LINK OUT:
-----------------CommonS_HTTP_LB_0----------------
操作维护       标识 起始IP  结束IP          优先级模板组标识 拒绝策略模板标识 
------------------------------------------------------------------------------
复制 修改 删除 1    1.1.1.1 100.100.100.100 1                1                
------------------------------------------------------------------------------
记录数：1
执行成功开始时间:2022-08-30 10:43:52 耗时: 1.904秒

` 


### 按局向流控配置管理 
### 按局向流控配置管理 


[](None)背景知识 


HTTPLB（Hypertext Transfer Protocol Load Balancing，超文本传输负载均衡）的局向级流控功能的相关配置管理。局向流控，可以控制某一局向上的所有链路HTTP消息收发。 




[](None)功能说明 


HTTPLB的局向流控功能相关配置，包括入向和出向各自的流控、地址归属配置。 




[](None)子主题： 






#### 入向流控配置 
#### 入向流控配置 


[](None)背景知识 


HTTPLB（Hypertext Transfer Protocol Load Balancing，超文本传输负载均衡）的局向入向流控功能的相关配置。 




[](None)功能说明 


HTTPLB的局向入向流控功能相关配置，包括设定局向优先级，使用的HTTP方法优先级模板和拒绝策略模板。局向标识为0的配置代表通配，如果某个IP没有归属的局向，使用局向标识为0的配置。 




[](None)子主题： 






##### 新增局向入向流控配置(ADD OFFICERECVFLOWCTL) 
##### 新增局向入向流控配置(ADD OFFICERECVFLOWCTL) 


[](None)功能说明 

该命令用于新增按局向入向流控配置。当需要对服务端局向流控管理时，执行该命令。命令执行成功后，对端IP属于该局向的服务端链路收到对端的请求时按此配置执行局向入向流控。 


[](None)注意事项 


 
ID配置为0，表示通用配置，所有未匹配到其他局向配置的服务端，按此配置进行局向流控。 

 
引用的方法优先级模板标识必须存在，可用SHOW HTTPMETHODPRIPRO查询当前的HTTP方法优先级模板标识 

 
引用的拒绝策略模板标识必须存在，可用SHOW REJECT POLICY PROFILE查询当前的拒绝策略模板标识 

 


[](None)输入参数说明 


[](None)标识|名称|类型|说明
---|---|---|---
ID|标识|参数可选性: 必选参数类型: 数字参数范围: 0-65535|该参数用于设置按局向入向流控配置的编号，编号会被按局向入向IP地址归属配置（ADD OFFICERECVIPBELONG）引用。编号配置为0，表示是通用配置。
NAME|名称|参数可选性: 任选参数类型: 字符串参数范围: 0-256|该参数用于设置按局向入向流控配置的名称。
PRIORITY|局向优先级|参数可选性: 任选参数类型: 枚举，参见枚举定义参数范围: 0-4默认值: PRIORITY_ONE|该参数用于设置按局向入向流控配置的局向优先级，该参数用于SC入向流控时的消息优先级的确认，同一个SC上可能有多个局向的消息，不同局向上的消息优先级可能不同， SC流控上使用的局向优先级在局向上配置，局向流控不使用局向上配置的局向优先级。在按SC入向流控时综合SC入向流控配置的方法优先级与局向优先级确定当前请求消息优先级：方法优先级为低、局向优先级为低，则最终优先级为低；方法优先级和局向优先级有一个为不控，则最终优先级为不控；方法优先级和局向优先级有一个为高，则最终优先级为高。PRIORITY_LOW：低。PRIORITY_HIGH：高。PRIORITY_UNCHECKED：不控。
PRIORPFGROUPID|优先级模板组标识|参数可选性: 必选参数类型: 数字参数范围: 1-128|该参数用于设置优先级模板组配置的模板编号。模板组编号会被优先级模板（ADD PRIORITY PROFILE）、按链路入向流控（ADD FLOW CONTROL BY LINK IN）、按链路出向流控（ADD FLOW CONTROL BY LINK OUT）、按局向入向流控（ADD OFFICERECVFLOWCTL）、按局向出向流控（ADD OFFICESENDFLOWCTL）、按SC入向流控（ADD FLOW CONTROL BY SC IN）、按SC出向流控（ADD FLOW CONTROL BY SC OUT）引用。
REJECTPF|拒绝策略模板标识|参数可选性: 必选参数类型: 数字参数范围: 1-65535|该参数用于设置按局向入向流控配置的拒绝策略模板编号，拒绝策略模板编号关联拒绝策略模板配置（可通过命令SHOW REJECT POLICY PROFILE查询）。




[](None)输出参数说明 


[](None)标识|名称|类型|说明
---|---|---|---
ID|标识|参数可选性: 任选参数类型: 数字参数范围: 0-65535|该参数用于设置按局向入向流控配置的编号，编号会被按局向入向IP地址归属配置（ADD OFFICERECVIPBELONG）引用。编号配置为0，表示是通用配置。
NAME|名称|参数可选性: 任选参数类型: 字符串参数范围: 0-256|该参数用于设置按局向入向流控配置的名称。
PRIORITY|局向优先级|参数可选性: 任选参数类型: 枚举，参见枚举定义参数范围: 0-4默认值: PRIORITY_ONE|该参数用于设置按局向入向流控配置的局向优先级，该参数用于SC入向流控时的消息优先级的确认，同一个SC上可能有多个局向的消息，不同局向上的消息优先级可能不同， SC流控上使用的局向优先级在局向上配置，局向流控不使用局向上配置的局向优先级。在按SC入向流控时综合SC入向流控配置的方法优先级与局向优先级确定当前请求消息优先级：方法优先级为低、局向优先级为低，则最终优先级为低；方法优先级和局向优先级有一个为不控，则最终优先级为不控；方法优先级和局向优先级有一个为高，则最终优先级为高。PRIORITY_LOW：低。PRIORITY_HIGH：高。PRIORITY_UNCHECKED：不控。
PRIORPFGROUPID|优先级模板组标识|参数可选性: 任选参数类型: 数字参数范围: 1-128|该参数用于设置优先级模板组配置的模板编号。模板组编号会被优先级模板（ADD PRIORITY PROFILE）、按链路入向流控（ADD FLOW CONTROL BY LINK IN）、按链路出向流控（ADD FLOW CONTROL BY LINK OUT）、按局向入向流控（ADD OFFICERECVFLOWCTL）、按局向出向流控（ADD OFFICESENDFLOWCTL）、按SC入向流控（ADD FLOW CONTROL BY SC IN）、按SC出向流控（ADD FLOW CONTROL BY SC OUT）引用。
REJECTPF|拒绝策略模板标识|参数可选性: 任选参数类型: 数字参数范围: 1-65535|该参数用于设置按局向入向流控配置的拒绝策略模板编号，拒绝策略模板编号关联拒绝策略模板配置（可通过命令SHOW REJECT POLICY PROFILE查询）。




[](None)命令举例 


`
新增按局向入向流控配置：编号为1，名称为"demo"，局向优先级为4，优先级模板组标识为1，拒绝策略模板标识为1。
ADD OFFICERECVFLOWCTL:ID=1,NAME="demo",PRIORITY="PRIORITY_ONE",PRIORPFGROUPID=1,REJECTPF=1;
` 


##### 修改局向入向流控配置(SET OFFICERECVFLOWCTL) 
##### 修改局向入向流控配置(SET OFFICERECVFLOWCTL) 


[](None)功能说明 

该命令用于修改按局向入向流控配置。当需要修改局向入向流控管理时，执行该命令。命令执行成功后，对端IP属于该局向的服务端链路收到对端的请求时按新的配置执行局向入向流控。 


[](None)注意事项 


 
ID配置为0，表示通用配置，所有未匹配到其他局向配置的服务端，按此配置进行局向流控。 

 
引用的方法优先级模板标识必须存在，可用SHOW HTTPMETHODPRIPRO查询当前的HTTP方法优先级模板标识 

 
引用的拒绝策略模板标识必须存在，可用SHOW REJECT POLICY PROFILE查询当前的拒绝策略模板标识 

 


[](None)输入参数说明 


[](None)标识|名称|类型|说明
---|---|---|---
ID|标识|参数可选性: 必选参数类型: 数字参数范围: 0-65535|该参数用于设置按局向入向流控配置的编号，编号会被按局向入向IP地址归属配置（ADD OFFICERECVIPBELONG）引用。编号配置为0，表示是通用配置。
NAME|名称|参数可选性: 任选参数类型: 字符串参数范围: 0-256|该参数用于设置按局向入向流控配置的名称。
PRIORITY|局向优先级|参数可选性: 任选参数类型: 枚举，参见枚举定义参数范围: 0-4默认值: PRIORITY_ONE|该参数用于设置按局向入向流控配置的局向优先级，该参数用于SC入向流控时的消息优先级的确认，同一个SC上可能有多个局向的消息，不同局向上的消息优先级可能不同， SC流控上使用的局向优先级在局向上配置，局向流控不使用局向上配置的局向优先级。在按SC入向流控时综合SC入向流控配置的方法优先级与局向优先级确定当前请求消息优先级：方法优先级为低、局向优先级为低，则最终优先级为低；方法优先级和局向优先级有一个为不控，则最终优先级为不控；方法优先级和局向优先级有一个为高，则最终优先级为高。PRIORITY_LOW：低。PRIORITY_HIGH：高。PRIORITY_UNCHECKED：不控。
PRIORPFGROUPID|优先级模板组标识|参数可选性: 任选参数类型: 数字参数范围: 1-128|该参数用于设置优先级模板组配置的模板编号。模板组编号会被优先级模板（ADD PRIORITY PROFILE）、按链路入向流控（ADD FLOW CONTROL BY LINK IN）、按链路出向流控（ADD FLOW CONTROL BY LINK OUT）、按局向入向流控（ADD OFFICERECVFLOWCTL）、按局向出向流控（ADD OFFICESENDFLOWCTL）、按SC入向流控（ADD FLOW CONTROL BY SC IN）、按SC出向流控（ADD FLOW CONTROL BY SC OUT）引用。
REJECTPF|拒绝策略模板标识|参数可选性: 任选参数类型: 数字参数范围: 1-65535|该参数用于设置按局向入向流控配置的拒绝策略模板编号，拒绝策略模板编号关联拒绝策略模板配置（可通过命令SHOW REJECT POLICY PROFILE查询）。




[](None)输出参数说明 


[](None)标识|名称|类型|说明
---|---|---|---
ID|标识|参数可选性: 任选参数类型: 数字参数范围: 0-65535|该参数用于设置按局向入向流控配置的编号，编号会被按局向入向IP地址归属配置（ADD OFFICERECVIPBELONG）引用。编号配置为0，表示是通用配置。
NAME|名称|参数可选性: 任选参数类型: 字符串参数范围: 0-256|该参数用于设置按局向入向流控配置的名称。
PRIORITY|局向优先级|参数可选性: 任选参数类型: 枚举，参见枚举定义参数范围: 0-4默认值: PRIORITY_ONE|该参数用于设置按局向入向流控配置的局向优先级，该参数用于SC入向流控时的消息优先级的确认，同一个SC上可能有多个局向的消息，不同局向上的消息优先级可能不同， SC流控上使用的局向优先级在局向上配置，局向流控不使用局向上配置的局向优先级。在按SC入向流控时综合SC入向流控配置的方法优先级与局向优先级确定当前请求消息优先级：方法优先级为低、局向优先级为低，则最终优先级为低；方法优先级和局向优先级有一个为不控，则最终优先级为不控；方法优先级和局向优先级有一个为高，则最终优先级为高。PRIORITY_LOW：低。PRIORITY_HIGH：高。PRIORITY_UNCHECKED：不控。
PRIORPFGROUPID|优先级模板组标识|参数可选性: 任选参数类型: 数字参数范围: 1-128|该参数用于设置优先级模板组配置的模板编号。模板组编号会被优先级模板（ADD PRIORITY PROFILE）、按链路入向流控（ADD FLOW CONTROL BY LINK IN）、按链路出向流控（ADD FLOW CONTROL BY LINK OUT）、按局向入向流控（ADD OFFICERECVFLOWCTL）、按局向出向流控（ADD OFFICESENDFLOWCTL）、按SC入向流控（ADD FLOW CONTROL BY SC IN）、按SC出向流控（ADD FLOW CONTROL BY SC OUT）引用。
REJECTPF|拒绝策略模板标识|参数可选性: 任选参数类型: 数字参数范围: 1-65535|该参数用于设置按局向入向流控配置的拒绝策略模板编号，拒绝策略模板编号关联拒绝策略模板配置（可通过命令SHOW REJECT POLICY PROFILE查询）。




[](None)命令举例 


`
修改按局向入向流控配置：编号为1，名称为"demo"，局向优先级为1，优先级模板组标识为1，拒绝策略模板标识为1。
SET OFFICERECVFLOWCTL:ID=1,NAME="demo",PRIORITY="PRIORITY_FOUR",PRIORPFGROUPID=1,REJECTPF=1;
` 


##### 删除局向入向流控配置(DEL OFFICERECVFLOWCTL) 
##### 删除局向入向流控配置(DEL OFFICERECVFLOWCTL) 


[](None)功能说明 

该命令用于删除局向入向流控模板配置。当服务端不再需要对此局向执行局向入向流控时，执行该命令。命令执行成功后，服务端不再按此配置进行局向入向流控。


[](None)注意事项 


 
删除按局向入向流控配置配置需要确认该配置编号未在按局向入向IP地址归属配置中被引用。 

 
按局向入向流控配置配置删除时，对端IP匹配该配置的局向上服务端链路不再进行按局向入向流控。 

 


[](None)输入参数说明 


[](None)标识|名称|类型|说明
---|---|---|---
ID|标识|参数可选性: 必选参数类型: 数字参数范围: 0-65535|该参数用于设置按局向入向流控配置的编号，编号会被按局向入向IP地址归属配置（ADD OFFICERECVIPBELONG）引用。编号配置为0，表示是通用配置。




[](None)输出参数说明 


[](None)标识|名称|类型|说明
---|---|---|---
ID|标识|参数可选性: 任选参数类型: 数字参数范围: 0-65535|该参数用于设置按局向入向流控配置的编号，编号会被按局向入向IP地址归属配置（ADD OFFICERECVIPBELONG）引用。编号配置为0，表示是通用配置。
NAME|名称|参数可选性: 任选参数类型: 字符串参数范围: 0-256|该参数用于设置按局向入向流控配置的名称。
PRIORITY|局向优先级|参数可选性: 任选参数类型: 枚举，参见枚举定义参数范围: 0-4默认值: PRIORITY_ONE|该参数用于设置按局向入向流控配置的局向优先级，该参数用于SC入向流控时的消息优先级的确认，同一个SC上可能有多个局向的消息，不同局向上的消息优先级可能不同， SC流控上使用的局向优先级在局向上配置，局向流控不使用局向上配置的局向优先级。在按SC入向流控时综合SC入向流控配置的方法优先级与局向优先级确定当前请求消息优先级：方法优先级为低、局向优先级为低，则最终优先级为低；方法优先级和局向优先级有一个为不控，则最终优先级为不控；方法优先级和局向优先级有一个为高，则最终优先级为高。PRIORITY_LOW：低。PRIORITY_HIGH：高。PRIORITY_UNCHECKED：不控。
PRIORPFGROUPID|优先级模板组标识|参数可选性: 任选参数类型: 数字参数范围: 1-128|该参数用于设置优先级模板组配置的模板编号。模板组编号会被优先级模板（ADD PRIORITY PROFILE）、按链路入向流控（ADD FLOW CONTROL BY LINK IN）、按链路出向流控（ADD FLOW CONTROL BY LINK OUT）、按局向入向流控（ADD OFFICERECVFLOWCTL）、按局向出向流控（ADD OFFICESENDFLOWCTL）、按SC入向流控（ADD FLOW CONTROL BY SC IN）、按SC出向流控（ADD FLOW CONTROL BY SC OUT）引用。
REJECTPF|拒绝策略模板标识|参数可选性: 任选参数类型: 数字参数范围: 1-65535|该参数用于设置按局向入向流控配置的拒绝策略模板编号，拒绝策略模板编号关联拒绝策略模板配置（可通过命令SHOW REJECT POLICY PROFILE查询）。




[](None)命令举例 


`
删除按局向入向流控配置：编号为1。
DEL OFFICERECVFLOWCTL:ID=1;
` 


##### 查询局向入向流控配置(SHOW OFFICERECVFLOWCTL) 
##### 查询局向入向流控配置(SHOW OFFICERECVFLOWCTL) 


[](None)功能说明 

该命令用于查询局向入向流控模板配置。包括标识、名称、局向优先级、方法优先级模板标识、拒绝策略模板标识等配置信息。当需要查询按局向入向流控配置信息时，使用该命令。


[](None)注意事项 


 
如需要查询全部的按局向入向流控配置，则不需要输入任何参数。 

 
如需要查询指定编号的按局向入向流控配置，则需要输入参数标识。 

 


[](None)输入参数说明 


[](None)标识|名称|类型|说明
---|---|---|---
ID|标识|参数可选性: 任选参数类型: 数字参数范围: 0-65535|该参数用于设置按局向入向流控配置的编号，编号会被按局向入向IP地址归属配置（ADD OFFICERECVIPBELONG）引用。编号配置为0，表示是通用配置。




[](None)输出参数说明 


[](None)标识|名称|类型|说明
---|---|---|---
ID|标识|参数可选性: 任选参数类型: 数字参数范围: 0-65535|该参数用于设置按局向入向流控配置的编号，编号会被按局向入向IP地址归属配置（ADD OFFICERECVIPBELONG）引用。编号配置为0，表示是通用配置。
NAME|名称|参数可选性: 任选参数类型: 字符串参数范围: 0-256|该参数用于设置按局向入向流控配置的名称。
PRIORITY|局向优先级|参数可选性: 任选参数类型: 枚举，参见枚举定义参数范围: 0-4默认值: PRIORITY_ONE|该参数用于设置按局向入向流控配置的局向优先级，该参数用于SC入向流控时的消息优先级的确认，同一个SC上可能有多个局向的消息，不同局向上的消息优先级可能不同， SC流控上使用的局向优先级在局向上配置，局向流控不使用局向上配置的局向优先级。在按SC入向流控时综合SC入向流控配置的方法优先级与局向优先级确定当前请求消息优先级：方法优先级为低、局向优先级为低，则最终优先级为低；方法优先级和局向优先级有一个为不控，则最终优先级为不控；方法优先级和局向优先级有一个为高，则最终优先级为高。PRIORITY_LOW：低。PRIORITY_HIGH：高。PRIORITY_UNCHECKED：不控。
PRIORPFGROUPID|优先级模板组标识|参数可选性: 任选参数类型: 数字参数范围: 1-128|该参数用于设置优先级模板组配置的模板编号。模板组编号会被优先级模板（ADD PRIORITY PROFILE）、按链路入向流控（ADD FLOW CONTROL BY LINK IN）、按链路出向流控（ADD FLOW CONTROL BY LINK OUT）、按局向入向流控（ADD OFFICERECVFLOWCTL）、按局向出向流控（ADD OFFICESENDFLOWCTL）、按SC入向流控（ADD FLOW CONTROL BY SC IN）、按SC出向流控（ADD FLOW CONTROL BY SC OUT）引用。
REJECTPF|拒绝策略模板标识|参数可选性: 任选参数类型: 数字参数范围: 1-65535|该参数用于设置按局向入向流控配置的拒绝策略模板编号，拒绝策略模板编号关联拒绝策略模板配置（可通过命令SHOW REJECT POLICY PROFILE查询）。




[](None)命令举例 


`
查询按局向入向流控配置：编号1。
SHOW OFFICERECVFLOWCTL:ID=1;

(No.1) : SHOW OFFICERECVFLOWCTL:
-----------------CommonS_HTTP_LB_0----------------
操作维护       标识 名称 局向优先级 优先级模板组标识 拒绝策略模板标识 
----------------------------------------------------------------------
复制 修改 删除 1         优先级4    1                1                
----------------------------------------------------------------------
记录数：1
执行成功开始时间:2022-08-30 10:28:13 耗时: 1.954秒

` 


#### 入向IP地址归属配置 
#### 入向IP地址归属配置 


[](None)背景知识 


HTTPLB（Hypertext Transfer Protocol Load Balancing，超文本传输负载均衡）的局向流控功能，入向IP地址归属的相关配置。 




[](None)功能说明 


HTTPLB的局向入向流控功能相关配置，可以设置指定IP的归属局向。多个IP可以归属于同一局向。 




[](None)子主题： 






##### 新增局向入向IP地址归属配置(ADD OFFICERECVIPBELONG) 
##### 新增局向入向IP地址归属配置(ADD OFFICERECVIPBELONG) 


[](None)功能说明 

该命令用于新增局向入向IP归属配置。当需要对局向入向进行流控管理增加局向IP信息时，执行该命令。命令执行成功后，局向绑定对应IP。 


[](None)注意事项 


 
对端地址如填写IPV6地址需要注意检查大小写与全简写区别，不允许配置的对端地址出现重复 

 
引用的归属局向必须存在，可用SHOW OFFICERECVFLOWCTL查询当前的局向入向流控配置 

 


[](None)输入参数说明 


[](None)标识|名称|类型|说明
---|---|---|---
PEERIP|对端地址|参数可选性: 必选参数类型: 字符串|该参数用于设置局向入向IP归属配置的对端地址。
OFFICEID|归属局向|参数可选性: 必选参数类型: 数字参数范围: 1-65535|该参数用于设置局向入向IP归属配置的归属局向，归属局向编号关联按局向入向流控配置（可通过命令SHOW OFFICERECVFLOWCTL查询）。




[](None)输出参数说明 


[](None)标识|名称|类型|说明
---|---|---|---
PEERIP|对端地址|参数可选性: 任选参数类型: 字符串|该参数用于设置局向入向IP归属配置的对端地址。
OFFICEID|归属局向|参数可选性: 任选参数类型: 数字参数范围: 1-65535|该参数用于设置局向入向IP归属配置的归属局向，归属局向编号关联按局向入向流控配置（可通过命令SHOW OFFICERECVFLOWCTL查询）。




[](None)命令举例 


`
新增局向入向IP归属配置：对端地址为"1.1.1.1"，归属局向为1。
ADD OFFICERECVIPBELONG:PEERIP="1.1.1.1",OFFICEID=1;
` 


##### 修改局向入向IP地址归属配置(SET OFFICERECVIPBELONG) 
##### 修改局向入向IP地址归属配置(SET OFFICERECVIPBELONG) 


[](None)功能说明 

该命令用于修改局向入向IP归属配置。当需要修改局向入向IP归属配置，执行该命令。命令执行成功后，局向重新绑定IP。 


[](None)注意事项 


 
对端地址如填写IPV6地址需要注意检查大小写与全简写区别，不允许配置的对端地址出现重复 

 
引用的归属局向必须存在，可用SHOW OFFICERECVFLOWCTL查询当前的局向入向流控配置 

 


[](None)输入参数说明 


[](None)标识|名称|类型|说明
---|---|---|---
PEERIP|对端地址|参数可选性: 必选参数类型: 字符串|该参数用于设置局向入向IP归属配置的对端地址。
OFFICEID|归属局向|参数可选性: 任选参数类型: 数字参数范围: 1-65535|该参数用于设置局向入向IP归属配置的归属局向，归属局向编号关联按局向入向流控配置（可通过命令SHOW OFFICERECVFLOWCTL查询）。




[](None)输出参数说明 


[](None)标识|名称|类型|说明
---|---|---|---
PEERIP|对端地址|参数可选性: 任选参数类型: 字符串|该参数用于设置局向入向IP归属配置的对端地址。
OFFICEID|归属局向|参数可选性: 任选参数类型: 数字参数范围: 1-65535|该参数用于设置局向入向IP归属配置的归属局向，归属局向编号关联按局向入向流控配置（可通过命令SHOW OFFICERECVFLOWCTL查询）。




[](None)命令举例 


`
修改局向入向IP归属配置：对端地址为"1.1.1.1"，归属局向为1。
SET OFFICERECVIPBELONG:PEERIP="1.1.1.1",OFFICEID=1;
` 


##### 删除局向入向IP地址归属配置(DEL OFFICERECVIPBELONG) 
##### 删除局向入向IP地址归属配置(DEL OFFICERECVIPBELONG) 


[](None)功能说明 

该命令用于删除局向入向IP归属配置。命令执行成功后，原IP不再归属该局向入向管理


[](None)注意事项 


 
按局向入向IP归属配置删除时，对端IP匹配该配置的局向上服务端链路不再进行按局向入向流控。 

 


[](None)输入参数说明 


[](None)标识|名称|类型|说明
---|---|---|---
PEERIP|对端地址|参数可选性: 必选参数类型: 字符串|该参数用于设置局向入向IP归属配置的对端地址。




[](None)输出参数说明 


[](None)标识|名称|类型|说明
---|---|---|---
PEERIP|对端地址|参数可选性: 任选参数类型: 字符串|该参数用于设置局向入向IP归属配置的对端地址。
OFFICEID|归属局向|参数可选性: 任选参数类型: 数字参数范围: 1-65535|该参数用于设置局向入向IP归属配置的归属局向，归属局向编号关联按局向入向流控配置（可通过命令SHOW OFFICERECVFLOWCTL查询）。




[](None)命令举例 


`
删除局向入向IP归属配置：对端地址为"1.1.1.1"。
DEL OFFICERECVIPBELONG:PEERIP="1.1.1.1";
` 


##### 查询局向入向IP地址归属配置(SHOW OFFICERECVIPBELONG) 
##### 查询局向入向IP地址归属配置(SHOW OFFICERECVIPBELONG) 


[](None)功能说明 

该命令用于查询局向入向IP归属配置。包括对端地址、归属局向。当需要查询局向入向IP地址归属配置信息时，使用该命令。


[](None)注意事项 


 
如需要查询全部的局向入向IP归属配置，则不需要输入任何参数。 

 
如需要查询指定对端地址的局向入向IP归属配置，则需要输入参数对端地址。 

 


[](None)输入参数说明 


[](None)标识|名称|类型|说明
---|---|---|---
PEERIP|对端地址|参数可选性: 任选参数类型: 字符串|该参数用于设置局向入向IP归属配置的对端地址。




[](None)输出参数说明 


[](None)标识|名称|类型|说明
---|---|---|---
PEERIP|对端地址|参数可选性: 任选参数类型: 字符串|该参数用于设置局向入向IP归属配置的对端地址。
OFFICEID|归属局向|参数可选性: 任选参数类型: 数字参数范围: 1-65535|该参数用于设置局向入向IP归属配置的归属局向，归属局向编号关联按局向入向流控配置（可通过命令SHOW OFFICERECVFLOWCTL查询）。




[](None)命令举例 


`
查询局向入向IP归属配置：对端地址为"1.1.1.1"。
SHOW OFFICERECVIPBELONG:PEERIP="1.1.1.1";

(No.1) : SHOW OFFICESENDIPBELONG:PEERIP="1.1.1.1"
-----------------CommonS_HTTP_LB_0----------------
操作维护       对端地址 归属局向 
---------------------------------
复制 修改 删除 1.1.1.1  1        
---------------------------------
记录数：1
执行成功开始时间:2022-03-30 17:49:35 耗时: 0.529 秒

` 


#### 出向流控配置 
#### 出向流控配置 


[](None)背景知识 


HTTPLB（Hypertext Transfer Protocol Load Balancing，超文本传输负载均衡）的局向出向流控功能的相关配置。 




[](None)功能说明 


HTTPLB的局向出向流控功能相关配置，包括设定局向优先级，使用的HTTP方法优先级模板和拒绝策略模板。局向标识为0的配置代表通配，没有指定IP归属的局向，使用局向标识为0的配置。 




[](None)子主题： 






##### 新增局向出向流控配置(ADD OFFICESENDFLOWCTL) 
##### 新增局向出向流控配置(ADD OFFICESENDFLOWCTL) 


[](None)功能说明 

该命令用于新增按局向出向流控配置。当需要对客户端局向流控管理时，执行该命令。命令执行成功后，对端IP属于该局向的客户端链路收到本网元业务的请求时按此配置执行局向出向流控。 


[](None)注意事项 


 
ID配置为0，表示通用配置，所有未匹配到其他局向配置的客户端，按此配置进行局向流控。 

 
引用的方法优先级模板标识必须存在，可用SHOW HTTPMETHODPRIPRO查询当前的HTTP方法优先级模板标识 

 
引用的拒绝策略模板标识必须存在，可用SHOW REJECT POLICY PROFILE查询当前的拒绝策略模板标识 

 


[](None)输入参数说明 


[](None)标识|名称|类型|说明
---|---|---|---
ID|标识|参数可选性: 必选参数类型: 数字参数范围: 0-65535|该参数用于设置按局向出向流控配置的编号，编号会被按局向出向IP地址归属配置（ADD OFFICESENDIPBELONG）引用。编号配置为0，表示是通用配置。
NAME|名称|参数可选性: 任选参数类型: 字符串参数范围: 0-256|该参数用于设置按局向出向流控配置的名称。
PRIORITY|局向优先级|参数可选性: 任选参数类型: 枚举，参见枚举定义参数范围: 0-4默认值: PRIORITY_ONE|该参数用于设置按局向出向流控配置的局向优先级，该参数用于SC出向流控时的消息优先级的确认，同一个SC上可能有多个局向的消息，不同局向上的消息优先级可能不同， SC流控上使用的局向优先级在局向上配置，局向流控不使用局向上配置的局向优先级。在按SC出向流控时综合SC出向流控配置的方法优先级与局向优先级确定当前请求消息优先级：方法优先级为低、局向优先级为低，则最终优先级为低；方法优先级和局向优先级有一个为不控，则最终优先级为不控；方法优先级和局向优先级有一个为高，则最终优先级为高。PRIORITY_LOW：低。PRIORITY_HIGH：高。PRIORITY_UNCHECKED：不控。
PRIORPFGROUPID|优先级模板组标识|参数可选性: 必选参数类型: 数字参数范围: 1-128|该参数用于设置优先级模板组配置的模板编号。模板组编号会被优先级模板（ADD PRIORITY PROFILE）、按链路入向流控（ADD FLOW CONTROL BY LINK IN）、按链路出向流控（ADD FLOW CONTROL BY LINK OUT）、按局向入向流控（ADD OFFICERECVFLOWCTL）、按局向出向流控（ADD OFFICESENDFLOWCTL）、按SC入向流控（ADD FLOW CONTROL BY SC IN）、按SC出向流控（ADD FLOW CONTROL BY SC OUT）引用。
REJECTPF|拒绝策略模板标识|参数可选性: 必选参数类型: 数字参数范围: 1-65535|该参数用于设置按局向出向流控配置的拒绝策略模板编号，拒绝策略模板编号关联拒绝策略模板配置（可通过命令SHOW REJECT POLICY PROFILE查询）。




[](None)输出参数说明 


[](None)标识|名称|类型|说明
---|---|---|---
ID|标识|参数可选性: 任选参数类型: 数字参数范围: 0-65535|该参数用于设置按局向出向流控配置的编号，编号会被按局向出向IP地址归属配置（ADD OFFICESENDIPBELONG）引用。编号配置为0，表示是通用配置。
NAME|名称|参数可选性: 任选参数类型: 字符串参数范围: 0-256|该参数用于设置按局向出向流控配置的名称。
PRIORITY|局向优先级|参数可选性: 任选参数类型: 枚举，参见枚举定义参数范围: 0-4默认值: PRIORITY_ONE|该参数用于设置按局向出向流控配置的局向优先级，该参数用于SC出向流控时的消息优先级的确认，同一个SC上可能有多个局向的消息，不同局向上的消息优先级可能不同， SC流控上使用的局向优先级在局向上配置，局向流控不使用局向上配置的局向优先级。在按SC出向流控时综合SC出向流控配置的方法优先级与局向优先级确定当前请求消息优先级：方法优先级为低、局向优先级为低，则最终优先级为低；方法优先级和局向优先级有一个为不控，则最终优先级为不控；方法优先级和局向优先级有一个为高，则最终优先级为高。PRIORITY_LOW：低。PRIORITY_HIGH：高。PRIORITY_UNCHECKED：不控。
PRIORPFGROUPID|优先级模板组标识|参数可选性: 任选参数类型: 数字参数范围: 1-128|该参数用于设置优先级模板组配置的模板编号。模板组编号会被优先级模板（ADD PRIORITY PROFILE）、按链路入向流控（ADD FLOW CONTROL BY LINK IN）、按链路出向流控（ADD FLOW CONTROL BY LINK OUT）、按局向入向流控（ADD OFFICERECVFLOWCTL）、按局向出向流控（ADD OFFICESENDFLOWCTL）、按SC入向流控（ADD FLOW CONTROL BY SC IN）、按SC出向流控（ADD FLOW CONTROL BY SC OUT）引用。
REJECTPF|拒绝策略模板标识|参数可选性: 任选参数类型: 数字参数范围: 1-65535|该参数用于设置按局向出向流控配置的拒绝策略模板编号，拒绝策略模板编号关联拒绝策略模板配置（可通过命令SHOW REJECT POLICY PROFILE查询）。




[](None)命令举例 


`
新增按局向出向流控配置：编号为1，名称为"demo"，局向优先级为4，优先级模板组标识为1，拒绝策略模板标识为1。
ADD OFFICESENDFLOWCTL:ID=1,NAME="demo",PRIORITY="PRIORITY_ONE",PRIORPFGROUPID=1,REJECTPF=1;
` 


##### 修改局向出向流控配置(SET OFFICESENDFLOWCTL) 
##### 修改局向出向流控配置(SET OFFICESENDFLOWCTL) 


[](None)功能说明 

该命令用于新增按局向出向流控配置。当需要对客户端局向流控管理时，执行该命令。命令执行成功后，对端IP属于该局向的客户端链路收到本网元业务的请求时按此配置执行局向出向流控。 


[](None)注意事项 


 
ID配置为0，表示通用配置，所有未匹配到其他局向配置的客户端，按此配置进行局向流控。 

 
引用的方法优先级模板标识必须存在，可用SHOW HTTPMETHODPRIPRO查询当前的HTTP方法优先级模板标识 

 
引用的拒绝策略模板标识必须存在，可用SHOW REJECT POLICY PROFILE查询当前的拒绝策略模板标识 

 


[](None)输入参数说明 


[](None)标识|名称|类型|说明
---|---|---|---
ID|标识|参数可选性: 必选参数类型: 数字参数范围: 0-65535|该参数用于设置按局向出向流控配置的编号，编号会被按局向出向IP地址归属配置（ADD OFFICESENDIPBELONG）引用。编号配置为0，表示是通用配置。
NAME|名称|参数可选性: 任选参数类型: 字符串参数范围: 0-256|该参数用于设置按局向出向流控配置的名称。
PRIORITY|局向优先级|参数可选性: 任选参数类型: 枚举，参见枚举定义参数范围: 0-4默认值: PRIORITY_ONE|该参数用于设置按局向出向流控配置的局向优先级，该参数用于SC出向流控时的消息优先级的确认，同一个SC上可能有多个局向的消息，不同局向上的消息优先级可能不同， SC流控上使用的局向优先级在局向上配置，局向流控不使用局向上配置的局向优先级。在按SC出向流控时综合SC出向流控配置的方法优先级与局向优先级确定当前请求消息优先级：方法优先级为低、局向优先级为低，则最终优先级为低；方法优先级和局向优先级有一个为不控，则最终优先级为不控；方法优先级和局向优先级有一个为高，则最终优先级为高。PRIORITY_LOW：低。PRIORITY_HIGH：高。PRIORITY_UNCHECKED：不控。
PRIORPFGROUPID|优先级模板组标识|参数可选性: 任选参数类型: 数字参数范围: 1-128|该参数用于设置优先级模板组配置的模板编号。模板组编号会被优先级模板（ADD PRIORITY PROFILE）、按链路入向流控（ADD FLOW CONTROL BY LINK IN）、按链路出向流控（ADD FLOW CONTROL BY LINK OUT）、按局向入向流控（ADD OFFICERECVFLOWCTL）、按局向出向流控（ADD OFFICESENDFLOWCTL）、按SC入向流控（ADD FLOW CONTROL BY SC IN）、按SC出向流控（ADD FLOW CONTROL BY SC OUT）引用。
REJECTPF|拒绝策略模板标识|参数可选性: 任选参数类型: 数字参数范围: 1-65535|该参数用于设置按局向出向流控配置的拒绝策略模板编号，拒绝策略模板编号关联拒绝策略模板配置（可通过命令SHOW REJECT POLICY PROFILE查询）。




[](None)输出参数说明 


[](None)标识|名称|类型|说明
---|---|---|---
ID|标识|参数可选性: 任选参数类型: 数字参数范围: 0-65535|该参数用于设置按局向出向流控配置的编号，编号会被按局向出向IP地址归属配置（ADD OFFICESENDIPBELONG）引用。编号配置为0，表示是通用配置。
NAME|名称|参数可选性: 任选参数类型: 字符串参数范围: 0-256|该参数用于设置按局向出向流控配置的名称。
PRIORITY|局向优先级|参数可选性: 任选参数类型: 枚举，参见枚举定义参数范围: 0-4默认值: PRIORITY_ONE|该参数用于设置按局向出向流控配置的局向优先级，该参数用于SC出向流控时的消息优先级的确认，同一个SC上可能有多个局向的消息，不同局向上的消息优先级可能不同， SC流控上使用的局向优先级在局向上配置，局向流控不使用局向上配置的局向优先级。在按SC出向流控时综合SC出向流控配置的方法优先级与局向优先级确定当前请求消息优先级：方法优先级为低、局向优先级为低，则最终优先级为低；方法优先级和局向优先级有一个为不控，则最终优先级为不控；方法优先级和局向优先级有一个为高，则最终优先级为高。PRIORITY_LOW：低。PRIORITY_HIGH：高。PRIORITY_UNCHECKED：不控。
PRIORPFGROUPID|优先级模板组标识|参数可选性: 任选参数类型: 数字参数范围: 1-128|该参数用于设置优先级模板组配置的模板编号。模板组编号会被优先级模板（ADD PRIORITY PROFILE）、按链路入向流控（ADD FLOW CONTROL BY LINK IN）、按链路出向流控（ADD FLOW CONTROL BY LINK OUT）、按局向入向流控（ADD OFFICERECVFLOWCTL）、按局向出向流控（ADD OFFICESENDFLOWCTL）、按SC入向流控（ADD FLOW CONTROL BY SC IN）、按SC出向流控（ADD FLOW CONTROL BY SC OUT）引用。
REJECTPF|拒绝策略模板标识|参数可选性: 任选参数类型: 数字参数范围: 1-65535|该参数用于设置按局向出向流控配置的拒绝策略模板编号，拒绝策略模板编号关联拒绝策略模板配置（可通过命令SHOW REJECT POLICY PROFILE查询）。




[](None)命令举例 


`
修改按局向出向流控配置：编号为1，名称为"demo"，局向优先级为4，优先级模板组标识为1，拒绝策略模板标识为1。
SET OFFICESENDFLOWCTL:ID=1,NAME="demo",PRIORITY="PRIORITY_ONE",PRIORPFGROUPID=1,REJECTPF=1;
` 


##### 删除局向出向流控配置(DEL OFFICESENDFLOWCTL) 
##### 删除局向出向流控配置(DEL OFFICESENDFLOWCTL) 


[](None)功能说明 

该命令用于删除局向出向流控模板配置。当客户端不再需要对此局向执行局向出向流控时，执行该命令。命令执行成功后，客户端不再按此配置进行局向出向流控。


[](None)注意事项 


 
删除按局向出向流控配置配置需要确认该配置编号未在按局向出向IP地址归属配置中被引用。 

 
按局向出向流控配置配置删除时，对端IP匹配该配置的局向上客户端链路不再进行按局向出向流控。 

 


[](None)输入参数说明 


[](None)标识|名称|类型|说明
---|---|---|---
ID|标识|参数可选性: 必选参数类型: 数字参数范围: 0-65535|该参数用于设置按局向出向流控配置的编号，编号会被按局向出向IP地址归属配置（ADD OFFICESENDIPBELONG）引用。编号配置为0，表示是通用配置。




[](None)输出参数说明 


[](None)标识|名称|类型|说明
---|---|---|---
ID|标识|参数可选性: 任选参数类型: 数字参数范围: 0-65535|该参数用于设置按局向出向流控配置的编号，编号会被按局向出向IP地址归属配置（ADD OFFICESENDIPBELONG）引用。编号配置为0，表示是通用配置。
NAME|名称|参数可选性: 任选参数类型: 字符串参数范围: 0-256|该参数用于设置按局向出向流控配置的名称。
PRIORITY|局向优先级|参数可选性: 任选参数类型: 枚举，参见枚举定义参数范围: 0-4默认值: PRIORITY_ONE|该参数用于设置按局向出向流控配置的局向优先级，该参数用于SC出向流控时的消息优先级的确认，同一个SC上可能有多个局向的消息，不同局向上的消息优先级可能不同， SC流控上使用的局向优先级在局向上配置，局向流控不使用局向上配置的局向优先级。在按SC出向流控时综合SC出向流控配置的方法优先级与局向优先级确定当前请求消息优先级：方法优先级为低、局向优先级为低，则最终优先级为低；方法优先级和局向优先级有一个为不控，则最终优先级为不控；方法优先级和局向优先级有一个为高，则最终优先级为高。PRIORITY_LOW：低。PRIORITY_HIGH：高。PRIORITY_UNCHECKED：不控。
PRIORPFGROUPID|优先级模板组标识|参数可选性: 任选参数类型: 数字参数范围: 1-128|该参数用于设置优先级模板组配置的模板编号。模板组编号会被优先级模板（ADD PRIORITY PROFILE）、按链路入向流控（ADD FLOW CONTROL BY LINK IN）、按链路出向流控（ADD FLOW CONTROL BY LINK OUT）、按局向入向流控（ADD OFFICERECVFLOWCTL）、按局向出向流控（ADD OFFICESENDFLOWCTL）、按SC入向流控（ADD FLOW CONTROL BY SC IN）、按SC出向流控（ADD FLOW CONTROL BY SC OUT）引用。
REJECTPF|拒绝策略模板标识|参数可选性: 任选参数类型: 数字参数范围: 1-65535|该参数用于设置按局向出向流控配置的拒绝策略模板编号，拒绝策略模板编号关联拒绝策略模板配置（可通过命令SHOW REJECT POLICY PROFILE查询）。




[](None)命令举例 


`
删除按局向出向流控配置：编号为1。
DEL OFFICESENDFLOWCTL:ID=1;
` 


##### 查询局向出向流控配置(SHOW OFFICESENDFLOWCTL) 
##### 查询局向出向流控配置(SHOW OFFICESENDFLOWCTL) 


[](None)功能说明 

该命令用于查询局向出向流控模板配置。包括标识、名称、局向优先级、方法优先级模板标识、拒绝策略模板标识等配置信息。当需要查询按局向出向流控配置信息时，使用该命令。


[](None)注意事项 


 
如需要查询全部的按局向出向流控配置，则不需要输入任何参数。 

 
如需要查询指定编号的按局向出向流控配置，则需要输入参数标识。 

 


[](None)输入参数说明 


[](None)标识|名称|类型|说明
---|---|---|---
ID|标识|参数可选性: 任选参数类型: 数字参数范围: 0-65535|该参数用于设置按局向出向流控配置的编号，编号会被按局向出向IP地址归属配置（ADD OFFICESENDIPBELONG）引用。编号配置为0，表示是通用配置。




[](None)输出参数说明 


[](None)标识|名称|类型|说明
---|---|---|---
ID|标识|参数可选性: 任选参数类型: 数字参数范围: 0-65535|该参数用于设置按局向出向流控配置的编号，编号会被按局向出向IP地址归属配置（ADD OFFICESENDIPBELONG）引用。编号配置为0，表示是通用配置。
NAME|名称|参数可选性: 任选参数类型: 字符串参数范围: 0-256|该参数用于设置按局向出向流控配置的名称。
PRIORITY|局向优先级|参数可选性: 任选参数类型: 枚举，参见枚举定义参数范围: 0-4默认值: PRIORITY_ONE|该参数用于设置按局向出向流控配置的局向优先级，该参数用于SC出向流控时的消息优先级的确认，同一个SC上可能有多个局向的消息，不同局向上的消息优先级可能不同， SC流控上使用的局向优先级在局向上配置，局向流控不使用局向上配置的局向优先级。在按SC出向流控时综合SC出向流控配置的方法优先级与局向优先级确定当前请求消息优先级：方法优先级为低、局向优先级为低，则最终优先级为低；方法优先级和局向优先级有一个为不控，则最终优先级为不控；方法优先级和局向优先级有一个为高，则最终优先级为高。PRIORITY_LOW：低。PRIORITY_HIGH：高。PRIORITY_UNCHECKED：不控。
PRIORPFGROUPID|优先级模板组标识|参数可选性: 任选参数类型: 数字参数范围: 1-128|该参数用于设置优先级模板组配置的模板编号。模板组编号会被优先级模板（ADD PRIORITY PROFILE）、按链路入向流控（ADD FLOW CONTROL BY LINK IN）、按链路出向流控（ADD FLOW CONTROL BY LINK OUT）、按局向入向流控（ADD OFFICERECVFLOWCTL）、按局向出向流控（ADD OFFICESENDFLOWCTL）、按SC入向流控（ADD FLOW CONTROL BY SC IN）、按SC出向流控（ADD FLOW CONTROL BY SC OUT）引用。
REJECTPF|拒绝策略模板标识|参数可选性: 任选参数类型: 数字参数范围: 1-65535|该参数用于设置按局向出向流控配置的拒绝策略模板编号，拒绝策略模板编号关联拒绝策略模板配置（可通过命令SHOW REJECT POLICY PROFILE查询）。




[](None)命令举例 


`
查询按局向出向流控配置：编号1。
SHOW OFFICESENDFLOWCTL:ID=1;

(No.1) : SHOW OFFICESENDFLOWCTL:ID=1
-----------------CommonS_HTTP_LB_0----------------
操作维护       标识 名称 局向优先级 优先级模板组标识 拒绝策略模板标识 
----------------------------------------------------------------------
复制 修改 删除 1         优先级1    1                1                
----------------------------------------------------------------------
记录数：1
执行成功开始时间:2022-08-30 11:05:28 耗时: 2.121秒

` 


#### 出向IP地址归属配置 
#### 出向IP地址归属配置 


[](None)背景知识 


HTTPLB（Hypertext Transfer Protocol Load Balancing，超文本传输负载均衡）的局向流控功能，出向IP地址归属的相关配置。 




[](None)功能说明 


HTTPLB的局向出向流控功能相关配置，可以设置指定IP的归属局向。多个IP可以归属于同一局向。 




[](None)子主题： 






##### 新增局向出向IP地址归属配置(ADD OFFICESENDIPBELONG) 
##### 新增局向出向IP地址归属配置(ADD OFFICESENDIPBELONG) 


[](None)功能说明 

该命令用于新增局向出向IP归属配置。当需要对局向出向进行流控管理增加局向IP信息时，执行该命令。命令执行成功后，局向绑定对应IP。 


[](None)注意事项 


 
对端地址如填写IPV6地址需要注意检查大小写与全简写区别，不允许配置的对端地址出现重复 

 
引用的归属局向必须存在，可用SHOW OFFICESENDFLOWCTL查询当前的局向出向流控配置 

 


[](None)输入参数说明 


[](None)标识|名称|类型|说明
---|---|---|---
PEERIP|对端地址|参数可选性: 必选参数类型: 字符串|该参数用于设置局向出向IP归属配置的对端地址。
OFFICEID|归属局向|参数可选性: 必选参数类型: 数字参数范围: 1-65535|该参数用于设置局向出向IP归属配置的归属局向，归属局向编号关联按局向出向流控配置（可通过命令SHOW OFFICESENDFLOWCTL查询）。




[](None)输出参数说明 


[](None)标识|名称|类型|说明
---|---|---|---
PEERIP|对端地址|参数可选性: 任选参数类型: 字符串|该参数用于设置局向出向IP归属配置的对端地址。
OFFICEID|归属局向|参数可选性: 任选参数类型: 数字参数范围: 1-65535|该参数用于设置局向出向IP归属配置的归属局向，归属局向编号关联按局向出向流控配置（可通过命令SHOW OFFICESENDFLOWCTL查询）。




[](None)命令举例 


`
新增局向出向IP归属配置：对端地址为"1.1.1.1"，归属局向为1。
ADD OFFICESENDIPBELONG:PEERIP="1.1.1.1",OFFICEID=1;
` 


##### 修改局向出向IP地址归属配置(SET OFFICESENDIPBELONG) 
##### 修改局向出向IP地址归属配置(SET OFFICESENDIPBELONG) 


[](None)功能说明 

该命令用于修改局向出向IP归属配置。当需要修改局向出向IP归属配置，执行该命令。命令执行成功后，局向重新绑定IP。 


[](None)注意事项 


 
对端地址如填写IPV6地址需要注意检查大小写与全简写区别，不允许配置的对端地址出现重复 

 
引用的归属局向必须存在，可用SHOW OFFICESENDFLOWCTL查询当前的局向出向流控配置 

 


[](None)输入参数说明 


[](None)标识|名称|类型|说明
---|---|---|---
PEERIP|对端地址|参数可选性: 必选参数类型: 字符串|该参数用于设置局向出向IP归属配置的对端地址。
OFFICEID|归属局向|参数可选性: 任选参数类型: 数字参数范围: 1-65535|该参数用于设置局向出向IP归属配置的归属局向，归属局向编号关联按局向出向流控配置（可通过命令SHOW OFFICESENDFLOWCTL查询）。




[](None)输出参数说明 


[](None)标识|名称|类型|说明
---|---|---|---
PEERIP|对端地址|参数可选性: 任选参数类型: 字符串|该参数用于设置局向出向IP归属配置的对端地址。
OFFICEID|归属局向|参数可选性: 任选参数类型: 数字参数范围: 1-65535|该参数用于设置局向出向IP归属配置的归属局向，归属局向编号关联按局向出向流控配置（可通过命令SHOW OFFICESENDFLOWCTL查询）。




[](None)命令举例 


`
修改局向出向IP归属配置：对端地址为"1.1.1.1"，归属局向为1。
SET OFFICESENDIPBELONG:PEERIP="1.1.1.1",OFFICEID=1;
` 


##### 删除局向出向IP地址归属配置(DEL OFFICESENDIPBELONG) 
##### 删除局向出向IP地址归属配置(DEL OFFICESENDIPBELONG) 


[](None)功能说明 

该命令用于删除局向出向IP归属配置。命令执行成功后，原IP不再归属该局向出向管理 


[](None)注意事项 


 
按局向出向IP归属配置删除时，对端IP匹配该配置的局向上客户端链路不再进行按局向出向流控。 

 


[](None)输入参数说明 


[](None)标识|名称|类型|说明
---|---|---|---
PEERIP|对端地址|参数可选性: 必选参数类型: 字符串|该参数用于设置局向出向IP归属配置的对端地址。




[](None)输出参数说明 


[](None)标识|名称|类型|说明
---|---|---|---
PEERIP|对端地址|参数可选性: 任选参数类型: 字符串|该参数用于设置局向出向IP归属配置的对端地址。
OFFICEID|归属局向|参数可选性: 任选参数类型: 数字参数范围: 1-65535|该参数用于设置局向出向IP归属配置的归属局向，归属局向编号关联按局向出向流控配置（可通过命令SHOW OFFICESENDFLOWCTL查询）。




[](None)命令举例 


`
删除局向出向IP归属配置：对端地址为"1.1.1.1"。
DEL OFFICESENDIPBELONG:PEERIP="1.1.1.1";
` 


##### 查询局向出向IP地址归属配置(SHOW OFFICESENDIPBELONG) 
##### 查询局向出向IP地址归属配置(SHOW OFFICESENDIPBELONG) 


[](None)功能说明 

该命令用于查询局向出向IP归属配置。包括对端地址、归属局向。当需要查询局向出向IP地址归属配置信息时，使用该命令。 


[](None)注意事项 


 
如需要查询全部的局向出向IP归属配置，则不需要输入任何参数。 

 
如需要查询指定对端地址的局向出向IP归属配置，则需要输入参数对端地址。 

 


[](None)输入参数说明 


[](None)标识|名称|类型|说明
---|---|---|---
PEERIP|对端地址|参数可选性: 任选参数类型: 字符串|该参数用于设置局向出向IP归属配置的对端地址。




[](None)输出参数说明 


[](None)标识|名称|类型|说明
---|---|---|---
PEERIP|对端地址|参数可选性: 任选参数类型: 字符串|该参数用于设置局向出向IP归属配置的对端地址。
OFFICEID|归属局向|参数可选性: 任选参数类型: 数字参数范围: 1-65535|该参数用于设置局向出向IP归属配置的归属局向，归属局向编号关联按局向出向流控配置（可通过命令SHOW OFFICESENDFLOWCTL查询）。




[](None)命令举例 


`
查询局向出向IP归属配置：对端地址为"1.1.1.1"。
SHOW OFFICESENDIPBELONG:PEERIP="1.1.1.1";

(No.1) : SHOW OFFICESENDIPBELONG:PEERIP="1.1.1.1"
-----------------CommonS_HTTP_LB_0----------------
操作维护       对端地址 归属局向 
---------------------------------
复制 修改 删除 1.1.1.1  1        
---------------------------------
记录数：1
执行成功开始时间:2022-03-30 16:49:35 耗时: 0.531 秒

` 


动态管理 动态管理 

[](None)背景知识 


对于已部署好的网元，不能直接在容器中进行链路查询、DNS缓存删除以及SBI-GW（Service Based Interface-GateWay，即基于服务化接口的代理网关）相关功能维护等操作。 

动态管理提供维护通道，用于在界面执行对应的动态命令来代替进入容器操作，进而获取本网元的相关链路信息、删除DNS缓存以及维护SBI-GW相关功能等。 




[](None)功能说明 


动态管理用于管理、查询、操作本网元，主要包括HTTP动态命令、DNS动态命令和服务化接口动态命令。 

当需要对HTTP链路等进行操作时，执行HTTP动态命令。 

当需要对DNS的cache进行删除操作时，执行DNS动态命令。 

当需要对SBI-GW相关功能等进行维护时，执行服务化接口动态命令。 




[](None)子主题： 






## HTTP动态命令 
## HTTP动态命令 


[](None)背景知识 


对于已部署好的网元，不能直接在容器中进行链路查询等操作。 

动态命令提供了一种通道，维护人员可以在界面执行对应的动态命令，进而获取本网元的相关链路信息。 




[](None)功能说明 


动态命令用于管理、查询、操作本网元。当需要对HTTP链路等进行操作时，执行该配置。 

目前动态命令支持链路信息查询，对HTTP链路进行中断、恢复、删除等操作，以及设置HTTP链路优先级权重等。 




[](None)子主题： 






### 统计管理 
### 统计管理 


[](None)背景知识 


统计管理用于维护人员通过动态命令的方式管理具体CPU统计等内部统计信息。 




[](None)功能说明 


统计管理用于CPU占用率的统计。当需要查看当前CPU占用率时，执行该配置。 




[](None)子主题： 






#### 查询CPU占用率统计(SHOW HTTPLB CPU STATISTIC) 
#### 查询CPU占用率统计(SHOW HTTPLB CPU STATISTIC) 


[](None)功能说明 

该命令用于查询HTTPLB各CPU的使用情况。查询成功后，会显示各CPU的占用率信息。


[](None)注意事项 

无。


[](None)输入参数说明 


[](None)标识|名称|类型|说明
---|---|---|---
SCNO|SC逻辑号|参数可选性: 任选参数类型: 数字参数范围: 0-1024|该参数用于标识SC的编号，每个SC上可以有多个独占核线程，0表示查询全部。




[](None)输出参数说明 


[](None)标识|名称|类型|说明
---|---|---|---
SCNO|SC逻辑号|参数可选性: 任选参数类型: 数字参数范围: 1-1024|该参数用于表示SC的编号。
ID|CPU对象ID|参数可选性: 任选参数类型: 字符串参数范围: 0-16|该参数用于表示CPU对象的ID。
DESC|CPU对象描述|参数可选性: 任选参数类型: 字符串参数范围: 0-32|该参数用于表示CPU对象的描述。
USAGE|CPU占用率(%)|参数可选性: 任选参数类型: 数字参数范围: 0-100|该参数用于表示CPU占用率。




[](None)命令举例 


`
查询HTTPLB CPU 占用率。
SHOW HTTPLB CPU STATISTIC

(No.1) : SHOW HTTPLB CPU STATISTIC:
-----------------CommonS_HTTP_LB_0----------------
SC逻辑号 CPU对象ID CPU对象描述    CPU占用率(%) 
-----------------------------------------------
1        1         HTTPLB1_DPDK   17           
1        2         HTTPLB1_VPP    0            
1        3         HTTPLB1_SBIGW1 0            
1        4         HTTPLB1_SBIGW2 0            
1        5         HTTPLB1_SBIGW3 0            
1        6         HTTPLB1_SBIGW4 0            
1        7         HTTPLB1_SBIGW5 0            
2        8         HTTPLB2_DPDK   17           
2        9         HTTPLB2_VPP    0            
2        10        HTTPLB2_SBIGW1 0            
2        11        HTTPLB2_SBIGW2 0            
2        12        HTTPLB2_SBIGW3 0            
2        13        HTTPLB2_SBIGW4 0            
2        14        HTTPLB2_SBIGW5 0            
-----------------------------------------------
记录数：14
执行成功开始时间:2022-05-20 14:18:54 耗时: 0.261 秒

` 


#### 查询HTTPLB虚机CPU占用率(SHOW HTTPLB VM CPU USAGE) 
#### 查询HTTPLB虚机CPU占用率(SHOW HTTPLB VM CPU USAGE) 


[](None)功能说明 

该命令用于查询HTTPLB虚机CPU的占用率信息。 


[](None)注意事项 

无。


[](None)输入参数说明 


[](None)标识|名称|类型|说明
---|---|---|---
SCNO|SC逻辑号|参数可选性: 任选参数类型: 数字参数范围: 0-1024|该参数用于标识SC的编号，0表示查询全部。




[](None)输出参数说明 


[](None)标识|名称|类型|说明
---|---|---|---
VRUNAME|虚拟运行单元名称|参数可选性: 任选参数类型: 字符串参数范围: 0-15|该参数用于显示虚拟运行单元名称。
VMNAME|虚机名称|参数可选性: 任选参数类型: 字符串参数范围: 0-256|该参数用于显示虚机名称。
CPUNO|CPU核号|参数可选性: 任选参数类型: 数字|该参数用于显示CPU核号。
USAGE|CPU占用率(%)|参数可选性: 任选参数类型: 数字参数范围: 0-100|该参数表示该CPU占用率信息。
CPUATTR|CPU属性|参数可选性: 任选参数类型: 字符串参数范围: 0-15|该参数用于显示CPU属性。




[](None)命令举例 


`
查询逻辑号为1的HTTPLB虚机CPU占用率。
SHOW HTTPLB VM CPU USAGE:SCNO=1

(No.1) : SHOW HTTPLB VM CPU USAGE:SCNO=1
-----------------CommonS_HTTP_LB_0----------------
虚拟运行单元名称 虚机名称                   CPU核号 CPU占用率 CPU属性       
----------------------------------------------------------------------------
vru-http-lb-0    http-004-VM-GSUCommonC80002 0       4        shared_cpu    
vru-http-lb-0    http-004-VM-GSUCommonC80002 1       17       exclusive_cpu 
vru-http-lb-0    http-004-VM-GSUCommonC80002 2       0        exclusive_cpu 
vru-http-lb-0    http-004-VM-GSUCommonC80002 3       0        exclusive_cpu 
vru-http-lb-0    http-004-VM-GSUCommonC80002 4       0        exclusive_cpu 
vru-http-lb-0    http-004-VM-GSUCommonC80002 5       0        exclusive_cpu 
vru-http-lb-0    http-004-VM-GSUCommonC80002 6       0        exclusive_cpu 
vru-http-lb-0    http-004-VM-GSUCommonC80002 7       0        exclusive_cpu 
----------------------------------------------------------------------------
记录数：8
执行成功开始时间:2022-05-20 14:24:08 耗时: 0.238 秒

` 


### 链路管理 
### 链路管理 


[](None)背景知识 


链路管理用于维护人员通过动态命令的方式管理链路。 

维护人员通过配置链路的状态、优先级、权重等信息满足不同业务场景下的需求。 




[](None)功能说明 


本网元支持HTTP链路管理的动态命令。当需要对HTTP链路进行查询、删除、配置等操作时，执行该配置。 

目前动态命令支持链路信息查询，对HTTP链路进行中断、恢复、删除等操作，以及设置HTTP链路优先级权重等。 




[](None)子主题： 






#### 查询链路数(SHOW LINK NUM) 
#### 查询链路数(SHOW LINK NUM) 


[](None)功能说明 

该命令用于查询各个SC（服务组件，Service Component）上按本端角色和状态区分的链路详细数量，同时显示其汇总信息。当需要查询所有SC上本端作服务端或者客户端的链路相关数量及链路分布的SC信息时，使用该命令。查询成功后，会逐条显示SC上按本端角色划分的链路数信息，并且在最后一行显示所有SC链路数的汇总。


[](None)注意事项 

该维护命令的链路状态信息通过GSU虚机上SC模块返回，如果某一GSU虚机没有正常启动，将查询不到该模块上的链路信息。


[](None)输出参数说明 


[](None)标识|名称|类型|说明
---|---|---|---
LogicNo|SC的逻辑号|参数可选性: 任选参数类型: 字符串参数范围: 0-64|该参数用于设置SC（服务组件，Service Component）的实例编号。 SC逻辑号可通过SHOW SCINFO命令查询。
ServerNum|服务端链路数|参数可选性: 任选参数类型: 数字|该参数表示SC（服务组件，Service Component）上本端作为服务端的HTTP链路数。服务端链路数等于建立态服务端链路数。
ClientNum|客户端链路数|参数可选性: 任选参数类型: 数字|该参数表示SC（服务组件，Service Component）上本端作为客户端的HTTP链路数，包括建立成功和正在建立的链路数。
EstSrvNum|建立态服务端链路数|参数可选性: 任选参数类型: 数字|该参数表示SC（服务组件，Service Component）上本端作为服务端，并且已建立成功的HTTP链路数。
EstCliNum|建立态客户端链路数|参数可选性: 任选参数类型: 数字|该参数表示SC（服务组件，Service Component）上本端作为客户端，并且已建立成功的HTTP链路数。
EstSrvDynNum|建立态服务端动态链路数|参数可选性: 任选参数类型: 数字|该参数表示SC（服务组件，Service Component）上本端作为服务端，并且已建立成功的HTTP动态链路数。动态链路是根据请求消息动态建立的链路。
EstCliDynNum|建立态客户端动态链路数|参数可选性: 任选参数类型: 数字|该参数表示SC（服务组件，Service Component）上本端作为客户端，并且已建立成功的HTTP动态链路数。动态链路是根据请求消息动态建立的链路。
EstSrvStaticNum|建立态服务端静态链路数|参数可选性: 任选参数类型: 数字|该参数表示SC（服务组件，Service Component）上本端作为服务端，并且已建立成功的HTTP静态链路数。静态链路是配置静态链路信息后建立的链路。
EstCliStaticNum|建立态客户端静态链路数|参数可选性: 任选参数类型: 数字|该参数表示SC（服务组件，Service Component）上本端作为客户端，并且已建立成功的HTTP静态链路数。静态链路是配置静态链路信息后建立的链路。
AcceptorNum|监听态链路数|参数可选性: 任选参数类型: 字符串参数范围: 0-64|该参数表示SC（服务组件，Service Component）上本端作为服务端的侦听链路数。服务端通过该链路侦听客户端发起的建链请求。如果本参数为0，将不能建立服务端链路。
ServerLinkUsage|服务端链路占用率(%)|参数可选性: 任选参数类型: 数字|该参数表示SC（服务组件，Service Component）上服务端链路占用率。计算方法为：服务端链路占用率=本SC的服务端链路数/本SC的服务端最大链路数*100%。其中，服务端最大链路数可通过SHOW LINKCY命令查询。
ClientLinkUsage|客户端链路占用率(%)|参数可选性: 任选参数类型: 数字|该参数表示SC（服务组件，Service Component）上客户端链路占用率。计算方法为：客户端链路占用率=本SC的客户端链路数/本SC的客户端最大链路数*100%。其中，客户端最大链路数可通过SHOW LINKCY命令查询。




[](None)命令举例 


`
查询所有SC上的链路信息。
SHOW LINK NUM

(No.1) : SHOW LINK NUM:
-----------------CommonS_HTTP_LB_0----------------
SC的逻辑号 服务端链路数 客户端链路数 建立态服务端链路数 建立态客户端链路数 建立态服务端动态链路数 建立态客户端动态链路数 建立态服务端静态链路数 建立态客户端静态链路数 监听态链路数 服务端链路占用率(%) 客户端链路占用率(%)
1          0            2            0                  0                  0                      0                      0                      0                      0            0                1                
2          0            2            0                  0                  0                      0                      0                      0                      0            0                1                
total      0            4            0                  0                  0                      0                      0                      0                      N/A            0                1

记录数：3
执行成功耗时: 0.174 秒

` 


#### 查询链路信息(SHOW LINK INFO) 
#### 查询链路信息(SHOW LINK INFO) 


[](None)功能说明 

该命令用于查询链路信息。当需要查询动态或静态链路的配置、状态、收发消息数等信息时，使用该命令。查询成功后，会显示相关的链路信息。


[](None)注意事项 

无。


[](None)输入参数说明 


[](None)标识|名称|类型|说明
---|---|---|---
LinkType|链路类别|参数可选性: 必选参数类型: 枚举，参见枚举定义|该参数用于表示链路类型，分为动态链路和静态链路。动态链路是根据请求消息动态建立的链路。静态链路是配置静态链路信息后，即建立的链路。
LogicNo|SC的逻辑号|参数可选性: 必选参数类型: 数字参数范围: 0-1000|该参数用于设置SC（服务组件，Service Component）的实例编号。 SC逻辑号可通过TMSP服务下的SHOW SCINFO命令查询。输入SC逻辑号为0，则默认为查询所有SC。
Role|角色|参数可选性: 任选参数类型: 枚举，参见枚举定义|该参数用于表示链路角色。CLIENT：本端作客户端。SERVER：本端作服务端。
StaticLinkID|静态链路编号|参数可选性: 任选参数类型: 数字参数范围: 0-65535|该参数用于表示静态链路编号。可根据SHOW CLIENTTCPLINK命令查询出静态链路编号的范围。查询动态链路无需填写此参数 。




[](None)输出参数说明 


[](None)标识|名称|类型|说明
---|---|---|---
LogicNo|SC的逻辑号|参数可选性: 任选参数类型: 数字参数范围: 1-1000|该参数用于设置SC（服务组件，Service Component）的实例编号。 SC逻辑号可通过TMSP服务下的SHOW SCINFO命令查询。
Index|链路索引|参数可选性: 任选参数类型: 数字参数范围: 0-4294967295|该参数表示链路索引，具有唯一性。其他动态命令会根据链路索引对指定链路进行处理。
Role|角色|参数可选性: 任选参数类型: 枚举，参见枚举定义|该参数用于表示链路角色。CLIENT：本端作客户端。SERVER：本端作服务端。
DynamicProfileID|动态链路模板号|参数可选性: 任选参数类型: 数字参数范围: 0-65535|该参数用于表示动态链路模板号。
StaticLinkID|静态链路编号|参数可选性: 任选参数类型: 数字参数范围: 0-65535|该参数用于表示静态链路编号。查询动态链路，则此参数出参为空 。
LocalIP|本端IP|参数可选性: 任选参数类型: 字符串参数范围: 0-64|该参数用于表示本端IP地址。
LocalPort|本端端口号|参数可选性: 任选参数类型: 数字参数范围: 0-65535|该参数用于表示本端端口。
RemoteIP|远端IP|参数可选性: 任选参数类型: 字符串参数范围: 0-64|该参数用于表示远端IP地址。
RemotePort|远端端口号|参数可选性: 任选参数类型: 数字参数范围: 0-65535|该参数用于表示远端端口。
VPNID|VPN ID|参数可选性: 任选参数类型: 数字参数范围: 0-254|该参数用于表示VPN ID。
TcpStatus|TCP链路状态|参数可选性: 任选参数类型: 枚举，参见枚举定义|该参数用于表示TCP链路状态。
Http2Status|HTTP2连接状态|参数可选性: 任选参数类型: 枚举，参见枚举定义|该参数用于表示HTTP链路状态。
RecvMsgNum|收到的消息数|参数可选性: 任选参数类型: 数字|该参数用于表示本端收到的消息数。
SendMsgNum|发送的消息数|参数可选性: 任选参数类型: 数字|该参数用于表示本端发送的消息数。
Priority|优先级|参数可选性: 任选参数类型: 数字参数范围: 0-100|该参数用于表示链路优先级。值越小，表示优先级越高。
Weight|权重|参数可选性: 任选参数类型: 数字参数范围: 0-100|该参数用于表示链路权重。值越大，表示权重越高。
RecvMsgNumLastCycle|上一周期接收消息数|参数可选性: 任选参数类型: 数字|网元根据配置的缩链评判周期，定期收集链路上接收的消息数。该参数用于表示网元在链路上上一个缩链评判周期内接收的消息数。
SendMsgNumLastCycle|上一周期发送消息数|参数可选性: 任选参数类型: 数字|网元根据配置的缩链评判周期，定期收集链路上发送的消息数。该参数用于表示网元在链路上上一个缩链评判周期内发送的消息数。
RecvBytesLastCycle|上一周期接收字节数|参数可选性: 任选参数类型: 数字|网元根据配置的缩链评判周期，定期收集链路上接收的字节数。该参数用于表示网元在链路上上一个缩链评判周期内接收的字节数。
SendBytesLastCycle|上一周期发送字节数|参数可选性: 任选参数类型: 数字|网元根据配置的缩链评判周期，定期收集链路上发送的字节数。该参数用于表示网元在链路上上一个缩链评判周期内发送字的节数。
StreamUsageLastCycle|上一周期流使用率（%）|参数可选性: 任选参数类型: 数字|网元根据配置的缩链评判周期，定期收集链路上并发请求数峰值和链路允许的最大并发流，计算并发请求数峰值占最大并发流的百分比，这个百分比即为流使用率。该参数用于表示网元在链路上上一个缩链评判周期内流使用率。
CachedReqPeakLastCycle|上一周期缓存请求峰值|参数可选性: 任选参数类型: 数字|网元根据配置的缩链评判周期，定期收集链路上缓存请求数的峰值。该参数用于表示网元在链路上上一个缩链评判周期内缓存请求数的峰值。
ForwardTpsLastCycle|上一周期请求转发能力（请求/秒）|参数可选性: 任选参数类型: 数字|网元根据配置的缩链评判周期，定期收集链路上允许的最大并发请求数，并统计链路上每个请求从发送给到端到收到对端响应的平均时延，估算出链路上每秒处理的请求数，这个估算结果即为请求转发能力。该参数用于表示网元在链路上上一个缩链评判周期内请求转发能力，单位：请求/秒。
LocalTimeStamp|链路创建时间|参数可选性: 任选参数类型: 字符串参数范围: 0-64|该参数用于获取链路创建的本地时间。




[](None)命令举例 


`
查询所有逻辑号为1的SC客户端动态链路信息。
SHOW LINK INFO:LINKTYPE="DYNAMIC LINK",LOGICNO=1,ROLE="CLIENT"

(No.1) : SHOW LINK INFO:LINKTYPE="DYNAMIC LINK",LOGICNO=1,ROLE="CLIENT"
-----------------CommonS_HTTP_LB_0----------------
SC的逻辑号 链路索引 角色   动态链路模板号 静态链路编号 本端IP         本端端口号 远端IP         远端端口号 VPN ID TCP链路状态 HTTP2连接状态 收到的消息数 发送的消息数 优先级 权重 上一周期接收消息数 上一周期发送消息数 上一周期接收字节数 上一周期发送字节数 上一周期流使用率（%） 上一周期缓存请求峰值 上一周期请求转发能力（请求/秒） 链路创建时间
-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
1          1        客户端 1                           2020:128::1:75 10000      2020:128::1:22 8888       0      已激活      已激活        140404       140407       0      50   18745              18745              375958             1705812            60                    1                    2500             2022-06-25 13:47:26                        
1          2        客户端 1                           2020:128::1:75 10001      2020:128::1:22 8888       0      已激活      已激活        139564       139567       0      50   18753              18754              376105             1706631            60                    1                    2500             2022-06-25 14:00:03                    
1          3        客户端 1                           2020:128::1:75 10002      2020:128::1:22 8888       0      已激活      已激活        139260       139263       0      50   18756              18755              376178             1706631            60                    1                    2500              2022-06-25 13:50:26               
1          4        客户端 1                           2020:128::1:75 10003      2020:128::1:22 8888       0      已激活      已激活        100687       100691       0      50   18275              18274              366558             1662951            60                    1                    2500              2022-06-25 13:49:26                 
-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
记录数：4
执行成功开始时间:2021-03-05 17:57:14 耗时: 0.593 秒


` 


#### 查询链路详细信息(SHOW LINK DETAIL INFO) 
#### 查询链路详细信息(SHOW LINK DETAIL INFO) 


[](None)功能说明 

该命令用于查询HTTP链路详细信息。当需要查询某条链路上消息收发消息的字节数等详细信息时，使用该命令。


[](None)注意事项 

无。


[](None)输入参数说明 


[](None)标识|名称|类型|说明
---|---|---|---
LogicNo|SC的逻辑号|参数可选性: 必选参数类型: 数字参数范围: 1-1000|该参数用于设置SC（服务组件，Service Component）的实例编号。 SC逻辑号可通过TMSP服务下的SHOW SCINFO命令查询。SC逻辑号为必填。
Index|链路索引号|参数可选性: 必选参数类型: 数字参数范围: 0-4294967295|该参数表示链路索引。链路索引作为唯一标识符对指定链路进行处理。可通过SHOW LINK INFO命令查询当前的链路索引号




[](None)输出参数说明 


[](None)标识|名称|类型|说明
---|---|---|---
LinkDetailInfo|链路详细信息|参数可选性: 任选参数类型: 字符串参数范围: 0-10240|该参数表示链路详细信息。




[](None)命令举例 


`
查询HTTP链路的详细信息。查询条件：SC逻辑号为1，链路编号为1。
SHOW LINK DETAIL INFO:LOGICNO=1,INDEX=1

(No.1) : SHOW LINK DETAIL INFO:LOGICNO=1,INDEX=1
-----------------CommonS_HTTP_LB_0----------------
链路详细信息                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        
--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
SC逻辑编号                      :1
链路索引号                      :1
HTTP模板号                      :1
角色                            :客户端
传输类型                        :TCP
HTTP版本号                      :HTTP/2
VPN-ID                          :0
本端IP/端口                     :2020:128::1:75/10000
对端IP/端口                     :2020:128::1:22/8888
TCP状态                         :已激活
HTTP状态                        :已激活
流ID最大值                      :2147482623
当前流ID值                      :97095
发送请求数                      :48548
接收响应数                      :48545
发送字节数                      :4418000
接收字节数                      :972945
上一周期接收消息数              :30952
上一周期发送消息数              :30958
上一周期接收字节数              :620352
上一周期发送字节数              :2817293
上一周期流使用率（%）           :37
上一周期缓存请求峰值            :36
上一周期转发能力（事务/秒）     :25000
线程号                                         :1
优先级                          :0
权重                            :50
 
--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
记录数：1
执行成功开始时间:2021-03-05 18:07:48 耗时: 0.537 秒


` 


#### 删除动态连接(DELETE DYNAMIC CONNECTION) 
#### 删除动态连接(DELETE DYNAMIC CONNECTION) 


[](None)功能说明 

该命令用于删除动态链路。当业务消息不需要在某条动态链路收发时，可使用该命令。命令执行成功后，该条链路将会拆链。


[](None)注意事项 

执行此命令会导致此动态链路中断。当本网元和对端间的所有动态链路中断时，将会导致业务中断。


[](None)输入参数说明 


[](None)标识|名称|类型|说明
---|---|---|---
LogicNo|SC的逻辑号|参数可选性: 必选参数类型: 数字参数范围: 0-1000|该参数用于设置SC（服务组件，Service Component）的实例编号。 SC逻辑号可通过TMSP服务下的SHOW SCINFO命令查询。若输入SC逻辑号为0，则默认为删除所有SC。
index|动态链路索引|参数可选性: 任选参数类型: 数字参数范围: 0-4294967295|该参数表示链路索引。链路索引作为唯一标识符对指定链路进行处理。可通过SHOW LINK INFO动态命令查询当前的链路索引号




[](None)输出参数说明 


[](None)标识|名称|类型|说明
---|---|---|---
OperationResult|操作结果|参数可选性: 必选参数类型: 字符串参数范围: 1-10240|该参数表示该动态命令的执行结果。




[](None)命令举例 


`
删除动态链路，删除条件为，SC逻辑号为1且链路编号为1。
DELETE DYNAMIC CONNECTION:LOGICNO=1,INDEX=1
` 


#### 删除服务端连接(DELETE SERVER CONNECTION) 
#### 删除服务端连接(DELETE SERVER CONNECTION) 


[](None)功能说明 

该命令用于删除服务端链接。当本端不需再作为服务端时，可使用该命令。命令执行成功后，所有本端作为服务端的TCP链路将拆除。


[](None)注意事项 

执行此命令会导致本端作为服务端的所有TCP链路中断，从而导致相应的业务中断。


[](None)输入参数说明 


[](None)标识|名称|类型|说明
---|---|---|---
LogicNo|SC的逻辑号|参数可选性: 必选参数类型: 数字参数范围: 0-1000|该参数用于设置SC（服务组件，Service Component）的实例编号。 SC逻辑号可通过TMSP服务下的SHOW SCINFO命令查询。若输入SC逻辑号为0，则默认为删除所有SC。




[](None)输出参数说明 


[](None)标识|名称|类型|说明
---|---|---|---
OperationResult|操作结果|参数可选性: 必选参数类型: 字符串参数范围: 1-10240|该参数表示该动态命令的执行结果。




[](None)命令举例 


`
删除所有服务端链路。
DELETE SERVER CONNECTION:LOGICNO=0
` 


#### 设置链路状态(SET LINK OPERATION) 
#### 设置链路状态(SET LINK OPERATION) 


[](None)功能说明 

该命令用于中断或恢复链路。当某条链路需要在不拆链的同时不参与负荷分担，可使用中断链路命令。当某条已中断的链路需要重新参与负荷分担时，可使用恢复链路命令。


[](None)注意事项 

中断链路后，该条链路将不再有消息收发。当本网元到对端的所有链路都中断后，将会导致本网元和对端网元间的业务中断。


[](None)输入参数说明 


[](None)标识|名称|类型|说明
---|---|---|---
LogicNo|SC的逻辑号|参数可选性: 必选参数类型: 数字参数范围: 1-1000|该参数用于设置SC（服务组件，Service Component）的实例编号。 SC逻辑号可通过TMSP服务下的SHOW SCINFO命令查询。
Index|链路索引号|参数可选性: 必选参数类型: 数字参数范围: 0-4294967295|该参数表示链路索引。链路索引作为唯一标识符对指定链路进行处理。可通过SHOW LINK INFO动态命令查询当前的链路索引号
OperationType|操作类型|参数可选性: 必选参数类型: 枚举，参见枚举定义|该参数表示对链路的操作类型。 INTERRUPT LINK：中断链路。RECOVERY LINK：恢复链路。




[](None)输出参数说明 


[](None)标识|名称|类型|说明
---|---|---|---
OperationResult|操作结果|参数可选性: 必选参数类型: 枚举，参见枚举定义|该参数表示该动态命令的执行结果。




[](None)命令举例 


`
中断链路操作。中断SC逻辑号为1上的链路编号为1的链路。
SET LINK OPERATION:LOGICNO=1,INDEX=1,OPERATIONTYPE="INTERRUPT LINK"
` 


#### 设置链路优先级(SET LINK PRIORITY) 
#### 设置链路优先级(SET LINK PRIORITY) 


[](None)功能说明 

该命令用于设置链路优先级。当需要修改已建好链路的优先级时，使用该命令。命令执行成功后，链路间将按新的优先级进行负荷分担。


[](None)注意事项 

无。


[](None)输入参数说明 


[](None)标识|名称|类型|说明
---|---|---|---
LogicNo|SC的逻辑号|参数可选性: 必选参数类型: 数字参数范围: 1-1000|该参数用于设置SC（服务组件，Service Component）的实例编号。 SC逻辑号可通过TMSP服务下的SHOW SCINFO命令查询。
Index|链路索引号|参数可选性: 必选参数类型: 数字参数范围: 0-4294967295|该参数表示链路索引。链路索引作为唯一标识符对指定链路进行处理。可通过SHOW LINK INFO命令查询当前的链路索引号
PRILevel|优先级|参数可选性: 必选参数类型: 数字参数范围: 0-100|该参数用于表示链路优先级。值越小，表示优先级越高。




[](None)输出参数说明 


[](None)标识|名称|类型|说明
---|---|---|---
OperationResult|操作结果|参数可选性: 必选参数类型: 枚举，参见枚举定义|该参数表示该动态命令的执行结果。




[](None)命令举例 


`
设置链路的优先级。将SC逻辑号为1上的链路编号为1的链路优先级修改为5。
SET LINK PRIORITY:LOGICNO=1,INDEX=1,PRILEVEL=5
` 


#### 设置链路权重(SET LINK WEIGHT) 
#### 设置链路权重(SET LINK WEIGHT) 


[](None)功能说明 

该命令用于设置链路权重。当需要修改已建好链路的权重时，使用该命令。命令执行成功后，将按新的权重进行负荷分担。


[](None)注意事项 

在优先级相同的链路间，根据权重进行负荷分担。


[](None)输入参数说明 


[](None)标识|名称|类型|说明
---|---|---|---
LogicNo|SC的逻辑号|参数可选性: 必选参数类型: 数字参数范围: 1-1000|该参数用于设置SC（服务组件，Service Component）的实例编号。 SC逻辑号可通过TMSP服务下的SHOW SCINFO命令查询。
Index|链路索引号|参数可选性: 必选参数类型: 数字参数范围: 0-4294967295|该参数表示链路索引。链路索引作为唯一标识符对指定链路进行处理。可通过SHOW LINK INFO命令查询当前的链路索引号
Weight|权重|参数可选性: 必选参数类型: 数字参数范围: 0-100|该参数用于表示链路权重。值越大，表示权重越高。权重范围为0-100。




[](None)输出参数说明 


[](None)标识|名称|类型|说明
---|---|---|---
OperationResult|操作结果|参数可选性: 必选参数类型: 枚举，参见枚举定义|该参数表示该动态命令的执行结果。




[](None)命令举例 


`
设置链路的权重。将SC逻辑号为1上的链路编号为1的链路权重修改为50。
SET LINK WEIGHT:LOGICNO=1,INDEX=1,WEIGHT=50
` 


#### 查询同向链路总数(SHOW DIRECTION TOTAL LINK NUM) 
#### 查询同向链路总数(SHOW DIRECTION TOTAL LINK NUM) 


[](None)功能说明 

该命令用于查询所有SC（服务组件，Service Component）上按本端角色和远程IP区分的链路详细数量。查询成功后，每条记录会显示同向链路的链路数信息。


[](None)注意事项 

该维护命令的链路状态信息通过GSU虚机上SC模块返回，如果某一GSU虚机没有正常启动，将查询不到该模块上的链路信息。


[](None)输入参数说明 


[](None)标识|名称|类型|说明
---|---|---|---
RemoteIp|远端地址|参数可选性: 任选参数类型: 字符串|该参数用于表示远端IP地址。
Role|角色|参数可选性: 任选参数类型: 枚举，参见枚举定义|该参数用于表示链路角色。CLIENT：本端作客户端。SERVER：本端作服务端。




[](None)输出参数说明 


[](None)标识|名称|类型|说明
---|---|---|---
RemoteIpEndPoint|远端IP端点|参数可选性: 任选参数类型: 字符串参数范围: 0-64|该参数表示远端IP端点。
Role|角色|参数可选性: 任选参数类型: 枚举，参见枚举定义|该参数表示本端角色。CLIENT：本端作客户端。SERVER：本端作服务端。
LocalProfileID|本端模板ID|参数可选性: 任选参数类型: 数字参数范围: 1-65535|该参数表示本端模板ID。
EstLinkNum|建立态链路数|参数可选性: 任选参数类型: 数字|该参数表示建立态链路数。
ActiveLinkNum|激活链路数|参数可选性: 任选参数类型: 数字|该参数表示激活的链路数。
StaLinkNum|静态链路数|参数可选性: 任选参数类型: 数字|该参数表示静态链路数。
DynLinkNum|动态链路数|参数可选性: 任选参数类型: 数字|该参数表示动态链路数。
LinkNum|链路数|参数可选性: 任选参数类型: 数字|该参数表示总链路数。
ELastic|弹性开关|参数可选性: 任选参数类型: 字符串参数范围: 0-8|该参数表示弹性开关状态。
ReqNum|请求数|参数可选性: 任选参数类型: 数字|该参数表示请求数。
RspNum|响应数|参数可选性: 任选参数类型: 数字|该参数表示响应数。




[](None)命令举例 


`
查询同向链路总数。
SHOW DIRECTION TOTAL LINK NUM

(No.1) : SHOW DIRECTION TOTAL LINK NUM:
-----------------CommonS_HTTP_LB_0----------------
远端IP端点 角色 本端模板ID 建立态链路数 激活链路数 静态链路数 动态链路数 链路数 弹性开关 请求数 响应数
80.96.1.22:8080 客户端     1       1              1             0                   1           1        1           2         2 
80.96.1.23:8080 客户端     1       1              1             0                   1           1        0           2         2 
80.96.1.24:8080 客户端     1       1              1             0                   1           1        0           2         2 

记录数：3
执行成功耗时: 0.174 秒

` 


#### 查询SC同向链路数(SHOW SC DIRECTION LINK NUM) 
#### 查询SC同向链路数(SHOW SC DIRECTION LINK NUM) 


[](None)功能说明 

该命令用于查询各个SC（服务组件，Service Component）上按本端角色和远程IP区分的链路详细数量，也可以查询所有SC。查询成功后，每条记录会显示对应SC上同向链路的链路数信息。


[](None)注意事项 

该维护命令的链路状态信息通过GSU虚机上SC模块返回，如果某一GSU虚机没有正常启动，将查询不到该模块上的链路信息。


[](None)输入参数说明 


[](None)标识|名称|类型|说明
---|---|---|---
RemoteIp|远端地址|参数可选性: 任选参数类型: 字符串|该参数用于表示远端IP地址。
Role|角色|参数可选性: 任选参数类型: 枚举，参见枚举定义|该参数用于表示链路角色。CLIENT：本端作客户端。SERVER：本端作服务端。
LogicNo|SC的逻辑号|参数可选性: 必选参数类型: 数字参数范围: 0-1024|该参数用于设置SC（服务组件，Service Component）的实例编号。 SC逻辑号可通过TMSP服务下的SHOW SCINFO命令查询。若指定SC的逻辑号为0，则默认为查询所有SC。




[](None)输出参数说明 


[](None)标识|名称|类型|说明
---|---|---|---
RemoteIpEndPoint|远端IP端点|参数可选性: 任选参数类型: 字符串参数范围: 0-64|该参数表示远端IP端点。
Role|角色|参数可选性: 任选参数类型: 枚举，参见枚举定义|该参数表示本端角色。CLIENT：本端作客户端。SERVER：本端作服务端。
LogicNo|SC的逻辑号|参数可选性: 任选参数类型: 数字参数范围: 1-1024|该参数用于设置SC（服务组件，Service Component）的实例编号。 SC逻辑号可通过TMSP服务下的SHOW SCINFO命令查询。
LocalProfileID|本端模板ID|参数可选性: 任选参数类型: 数字参数范围: 1-65535|该参数表示本端模板ID。
EstLinkNum|建立态链路数|参数可选性: 任选参数类型: 数字|该参数表示建立态链路数。
ActiveLinkNum|激活链路数|参数可选性: 任选参数类型: 数字|该参数表示激活的链路数。
StaLinkNum|静态链路数|参数可选性: 任选参数类型: 数字|该参数表示静态链路数。
DynLinkNum|动态链路数|参数可选性: 任选参数类型: 数字|该参数表示动态链路数。
LinkNum|链路数|参数可选性: 任选参数类型: 数字|该参数表示总链路数。
LinkRate|动态建链比率(%)|参数可选性: 任选参数类型: 数字参数范围: 0-100|该参数表示动态建链比率。
ELastic|弹性开关|参数可选性: 任选参数类型: 字符串参数范围: 0-8|该参数表示弹性开关状态。
ReqNum|请求数|参数可选性: 任选参数类型: 数字|该参数表示请求数。
RspNum|响应数|参数可选性: 任选参数类型: 数字|该参数表示响应数。




[](None)命令举例 


`
查询所有逻辑号为1的SC同向链路数。
SHOW SC DIRECTION LINK NUM:LOGICNO=1

(No.1) : SHOW SC DIRECTION LINK NUM:LOGICNO=1
-----------------CommonS_HTTP_LB_0----------------
远端IP端点           角色  SC的逻辑号 本端模板ID 建立态链路数 激活链路数 静态链路数 动态链路数 链路数 动态建链比率(%) 弹性开关 请求数 响应数
80.96.1.22:8080  客户端       1              1              1               1               0                1              1              1                1          2         2 
80.96.1.23:8080  客户端       1              1              1               1               0                1              1              1                0          2         2 
80.96.1.24:8080  客户端       1              1              1               1               0                1              1              1                0          2         2 

记录数：3
执行成功耗时: 0.174 秒

` 


#### 按IP查询链路信息(SHOW DIRECTION LINK INFO BY IP) 
#### 按IP查询链路信息(SHOW DIRECTION LINK INFO BY IP) 


[](None)功能说明 

该命令用于按远端IP查询链路信息。当需要查询动态或静态链路的配置、状态、收发消息数等信息时，使用该命令。查询成功后，会显示本IP相关的链路信息。


[](None)注意事项 

无。


[](None)输入参数说明 


[](None)标识|名称|类型|说明
---|---|---|---
RemoteIp|远端地址|参数可选性: 必选参数类型: 字符串|该参数用于表示远端IP地址。
Role|角色|参数可选性: 任选参数类型: 枚举，参见枚举定义|该参数用于表示链路角色。CLIENT：本端作客户端。SERVER：本端作服务端。
LogicNo|SC的逻辑号|参数可选性: 必选参数类型: 数字参数范围: 0-1024|该参数用于设置SC（服务组件，Service Component）的实例编号。 SC逻辑号可通过TMSP服务下的SHOW SCINFO命令查询。若指定SC的逻辑号为0，则默认为查询所有SC。




[](None)输出参数说明 


[](None)标识|名称|类型|说明
---|---|---|---
LogicNo|SC的逻辑号|参数可选性: 任选参数类型: 数字参数范围: 1-1000|该参数用于设置SC（服务组件，Service Component）的实例编号。 SC逻辑号可通过TMSP服务下的SHOW SCINFO命令查询。
Index|链路索引|参数可选性: 任选参数类型: 数字参数范围: 0-4294967295|该参数表示链路索引，具有唯一性。其他动态命令会根据链路索引对指定链路进行处理。
Role|角色|参数可选性: 任选参数类型: 枚举，参见枚举定义|该参数用于表示链路角色。CLIENT：本端作客户端。SERVER：本端作服务端。
DynamicProfileID|动态链路模板号|参数可选性: 任选参数类型: 数字参数范围: 0-65535|该参数用于表示动态链路模板号。
StaticLinkID|静态链路编号|参数可选性: 任选参数类型: 数字参数范围: 0-65535|该参数用于表示静态链路编号。查询动态链路，则此参数出参为空 。
LocalIP|本端IP|参数可选性: 任选参数类型: 字符串参数范围: 0-64|该参数用于表示本端IP地址。
LocalPort|本端端口号|参数可选性: 任选参数类型: 数字参数范围: 0-65535|该参数用于表示本端端口。
RemoteIP|远端IP|参数可选性: 任选参数类型: 字符串参数范围: 0-64|该参数用于表示远端IP地址。
RemotePort|远端端口号|参数可选性: 任选参数类型: 数字参数范围: 0-65535|该参数用于表示远端端口。
VPNID|VPN ID|参数可选性: 任选参数类型: 数字参数范围: 0-254|该参数用于表示VPN ID。
TcpStatus|TCP链路状态|参数可选性: 任选参数类型: 枚举，参见枚举定义|该参数用于表示TCP链路状态。
Http2Status|HTTP2连接状态|参数可选性: 任选参数类型: 枚举，参见枚举定义|该参数用于表示HTTP链路状态。
RecvMsgNum|收到的消息数|参数可选性: 任选参数类型: 数字|该参数用于表示本端收到的消息数。
SendMsgNum|发送的消息数|参数可选性: 任选参数类型: 数字|该参数用于表示本端发送的消息数。
Priority|优先级|参数可选性: 任选参数类型: 数字参数范围: 0-100|该参数用于表示链路优先级。值越小，表示优先级越高。
Weight|权重|参数可选性: 任选参数类型: 数字参数范围: 0-100|该参数用于表示链路权重。值越大，表示权重越高。
RecvMsgNumLastCycle|上一周期接收消息数|参数可选性: 任选参数类型: 数字|网元根据配置的缩链评判周期，定期收集链路上接收的消息数。该参数用于表示网元在链路上上一个缩链评判周期内接收的消息数。
SendMsgNumLastCycle|上一周期发送消息数|参数可选性: 任选参数类型: 数字|网元根据配置的缩链评判周期，定期收集链路上发送的消息数。该参数用于表示网元在链路上上一个缩链评判周期内发送的消息数。
RecvBytesLastCycle|上一周期接收字节数|参数可选性: 任选参数类型: 数字|网元根据配置的缩链评判周期，定期收集链路上接收的字节数。该参数用于表示网元在链路上上一个缩链评判周期内接收的字节数。
SendBytesLastCycle|上一周期发送字节数|参数可选性: 任选参数类型: 数字|网元根据配置的缩链评判周期，定期收集链路上发送的字节数。该参数用于表示网元在链路上上一个缩链评判周期内发送字的节数。
StreamUsageLastCycle|上一周期流使用率（%）|参数可选性: 任选参数类型: 数字|网元根据配置的缩链评判周期，定期收集链路上并发请求数峰值和链路允许的最大并发流，计算并发请求数峰值占最大并发流的百分比，这个百分比即为流使用率。该参数用于表示网元在链路上上一个缩链评判周期内流使用率。
CachedReqPeakLastCycle|上一周期缓存请求峰值|参数可选性: 任选参数类型: 数字|网元根据配置的缩链评判周期，定期收集链路上缓存请求数的峰值。该参数用于表示网元在链路上上一个缩链评判周期内缓存请求数的峰值。
ForwardTpsLastCycle|上一周期请求转发能力（请求/秒）|参数可选性: 任选参数类型: 数字|网元根据配置的缩链评判周期，定期收集链路上允许的最大并发请求数，并统计链路上每个请求从发送给到端到收到对端响应的平均时延，估算出链路上每秒处理的请求数，这个估算结果即为请求转发能力。该参数用于表示网元在链路上上一个缩链评判周期内请求转发能力，单位：请求/秒。
LocalTimeStamp|链路创建时间|参数可选性: 任选参数类型: 字符串参数范围: 0-64|该参数用于获取链路创建的本地时间。




[](None)命令举例 


`
查询所有远端IP为"2020:128::1:22"的链路信息。
SHOW DIRECTION LINK INFO BY IP:REMOTEIP="2020:128::1:22"

(No.1) : SHOW DIRECTION LINK INFO BY IP:REMOTEIP="2020:128::1:22"
-----------------CommonS_HTTP_LB_0----------------
SC的逻辑号 链路索引 角色   动态链路模板号 静态链路编号 本端IP         本端端口号 远端IP         远端端口号 VPN ID TCP链路状态 HTTP2连接状态 收到的消息数 发送的消息数 优先级 权重 上一周期接收消息数 上一周期发送消息数 上一周期接收字节数 上一周期发送字节数 上一周期流使用率（%） 上一周期缓存请求峰值 上一周期请求转发能力（请求/秒） 链路创建时间
-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
1          1        客户端 1                           2020:128::1:75 10000      2020:128::1:22 8888       0      已激活      已激活        140404       140407       0      50   18745              18745              375958             1705812            60                    1                    2500                   2022-06-25 13:47:26 
1          2        客户端 1                           2020:128::1:75 10001      2020:128::1:22 8888       0      已激活      已激活        139564       139567       0      50   18753              18754              376105             1706631            60                    1                    2500                    2022-06-25 14:00:03       
1          3        客户端 1                           2020:128::1:75 10002      2020:128::1:22 8888       0      已激活      已激活        139260       139263       0      50   18756              18755              376178             1706631            60                    1                    2500                     2022-06-25 13:50:26   
1          4        客户端 1                           2020:128::1:75 10003      2020:128::1:22 8888       0      已激活      已激活        100687       100691       0      50   18275              18274              366558             1662951            60                    1                    2500                     2022-06-25 13:49:26           
-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
记录数：4
执行成功开始时间:2021-03-05 17:57:14 耗时: 0.593 秒


` 


## DNS动态命令 
## DNS动态命令 


[](None)背景知识 


DNS服务，全称是Domain Name System，即域名系统，是一个位于应用层的协议（服务）。
DNS协议是用来将域名转换为IP地址（或者将IP地址转换为相应的域名地址） 




[](None)功能说明 


DNS管理是DNS相关的动态命令。当需要对DNS缓存的cache进行删除操作时，执行该动态命令。 




[](None)子主题： 






### 清除DNS cache(DELETE DNS CACHE) 
### 清除DNS cache(DELETE DNS CACHE) 


[](None)功能说明 

该命令用于清除DNS客户端的cache缓存。当需要手动清除DNS客户端的cache缓存，以便DNS客户端重新发起向服务器的查询时，使用该命令。


[](None)注意事项 

无。


[](None)输入参数说明 


[](None)标识|名称|类型|说明
---|---|---|---
LogicNo|SC的逻辑号|参数可选性: 必选参数类型: 数字参数范围: 0-1000|该参数用于设置SC（服务组件，Service Component）的实例编号。 SC逻辑号可通过TMSP服务下的SHOW SCINFO命令查询。若输入SC逻辑号为0，则默认为删除所有SC。




[](None)输出参数说明 


[](None)标识|名称|类型|说明
---|---|---|---
OperationResult|操作结果|参数可选性: 必选参数类型: 字符串参数范围: 1-10240|该参数表示该动态命令的执行结果。




[](None)命令举例 


`
删除逻辑编号为1的SC上的DNS客户端cache缓存。
DELETE DNS CACHE:LOGICNO=1
` 


## 服务化接口动态命令 
## 服务化接口动态命令 


[](None)背景知识 


对于已部署好的网元，不能直接在容器中对SBI-GW（Service Based Interface-GateWay，基于服务化接口的代理网关）相关功能进行维护。 

动态命令提供了一种通道，维护人员可以在界面执行对应的动态命令来代替进入容器操作，对SBI-GW相关功能进行维护。 




[](None)功能说明 


动态命令用于管理、查询、操作本网元。当需要对SBI-GW相关功能等进行维护时，执行该配置。 

目前动态命令支持动态发现cache管理、本地NRF管理、订阅管理、注册管理、NRF服务器管理以及状态检测管理等操作。 




[](None)子主题： 






### 动态发现cache管理 
### 动态发现cache管理 


[](None)背景知识 


SBI（Service Based Interface）会对服务发现功能中发现的结果进行cache缓存，以便提高服务发现的效率。 

该动态命令可以对SBI缓存的服务发现cache结果进行查询、删除等管理操作。 




[](None)功能说明 


该动态命令可以对SBI缓存的服务发现cache结果进行查询、删除等管理操作。 

目前动态命令支持查询NF Profile概要信息、NF Profile详细信息、通过NF实例ID删除NF Profile、通过NF类型删除NF Profile等操作。 




[](None)子主题： 






#### 查询NF Profile概要信息(SHOW NFPROFILE INFO) 
#### 查询NF Profile概要信息(SHOW NFPROFILE INFO) 


[](None)功能说明 

该命令用于查询本地cache中保存动态发现的NF profile的概要信息，包括NF的类型，实例ID和实例名称。cache的内容是动态变化的，所以当需要实时了解当前cache内profile的大致情况时，可使用该命令。 


[](None)注意事项 

启用缓存发现结果功能且服务发现成功后才可查询到概要信息，可通过命令[SHOW SBISRVDISCOVERY](../mml/1220526.html)查询启用缓存发现结果功能是否开启。


[](None)输入参数说明 


[](None)标识|名称|类型|说明
---|---|---|---
NFType|NF类型|参数可选性: 必选参数类型: 枚举，参见枚举定义|该参数用于设置要查询的NF profile的NF类型，当参数为ALL时查询所有NF类型。
LogicNo|SC的逻辑号|参数可选性: 必选参数类型: 数字参数范围: 0-1000|该参数用于设置SC（服务组件，Service Component）的实例编号。 SC逻辑号可通过TMSP服务下的SHOW SCINFO命令查询。若输入SC逻辑号为0，则默认为查询special SC。




[](None)输出参数说明 


[](None)标识|名称|类型|说明
---|---|---|---
NFType|NF类型|参数可选性: 任选参数类型: 枚举，参见枚举定义|该参数用于表示查询到的NF profile记录的NF类型。
NFInstId|NF实例ID|参数可选性: 任选参数类型: 字符串参数范围: 0-255|该参数用于表示查询到的NF profile记录的NF实例ID。
NFInstName|NF实例名称|参数可选性: 任选参数类型: 字符串参数范围: 0-255|该参数用于表示查询到的NF profile记录的NF实例名称。




[](None)命令举例 


`
查询NF Profile的概要信息。查询条件：NF类型是AMF_TYPE，SC的逻辑号是1。
SHOW NFPROFILE INFO:NFTYPE="AMF_TYPE",LOGICNO=1

(No.7) : SHOW NFPROFILE INFO:
-----------------CommonS_HTTP_LB_0----------------
NF类型     NF实例ID                  NF实例名称
AMF        1111-2222-aaaa-bbbb       1-2-a-b
BSF        1111-2222-aaaa-bbbb-2
记录数：2

执行成功耗时: 0.273 秒

` 


#### 查询NF Profile详细信息(SHOW NFPROFILE DETAIL INFO) 
#### 查询NF Profile详细信息(SHOW NFPROFILE DETAIL INFO) 


[](None)功能说明 

该命令用于查询本地cache中保存动态发现的NF profile的详细信息。cache的内容是动态变化的，所以需要实时了解当前cache内profile的详细信息时，可使用该命令。


[](None)注意事项 

无。


[](None)输入参数说明 


[](None)标识|名称|类型|说明
---|---|---|---
NFInstId|NF实例ID|参数可选性: 必选参数类型: 字符串参数范围: 0-255|该参数用于设置要查询的NF profile的NF实例ID。NF profile的NF实例ID可通过SHOW NFPROFILE INFO命令查询。
LogicNo|SC的逻辑号|参数可选性: 必选参数类型: 数字参数范围: 0-1000|该参数用于设置要查询的NF profile所在的SC（服务组件，Service Component）的实例编号。SC逻辑号可通过TMSP服务下的SHOW SCINFO命令查询。若输入SC逻辑号为0，则默认为查询special SC。




[](None)输出参数说明 


[](None)标识|名称|类型|说明
---|---|---|---
ResultInfo|NF Profile详细信息|参数可选性: 任选参数类型: 字符串参数范围: 1-30725|该参数用于表示查询到的NF Profile的详细信息。




[](None)命令举例 


`
查询NF Profile的详细信息。查询条件：NF实例ID是1111-2222-aaaa-bbbb，SC的逻辑号是1。
SHOW NFPROFILE DETAIL INFO:NFINSTID="1111-2222-aaaa-bbbb",LOGICNO=1

(No.25) : SHOW NFPROFILE DETAIL INFO:NFINSTID="1111-2222-aaaa",LOGICNO=1
-----------------CommonS_HTTP_LB_0----------------
NF Profile详细信息
-----------------------------------------------------------------------------------------
    "capacity":65535,
    "fqdn":"zte.com.cn",
    "ipv4Addresses":
    [
        "80.80.0.2"
    ],
    "load":50,
    "nfInstanceId":"1111-2222-aaaa",
    "nfInstanceName":"pcf_zte",
    "nfServicePersistence":true,
    "nfServices":
    [
        {
            "capacity":65535,
            "defaultNotificationSubscriptions":
            [
                {
                    "callbackUri":"http://mockapp",
                    "notificationType":"N2_INFORMATION"
                }
            ],
            "fqdn":"zte.com.cn",
            "ipEndPoints":
            [
                {
                    "ipv4Address":"80.80.0.2",
                    "port":1111
                }
            ],
            "load":0,
            "nfServiceStatus":"REGISTERED",
            "priority":0,
            "recoveryTime":"20220202",
            "scheme":"http",
            "serviceInstanceId":"UDM-1111-2222-aaaa-cccc",
            "serviceName":"npcf-smpolicycontrol",
            "versions":
            [
                {
                    "apiFullVersion":"v1",
                    "apiVersionInUri":"8.0",
                    "expiry":"20220202"
                }
            ]
        }
    ],
    "nfStatus":"REGISTERED",
    "nfType":"PCF",
    "priority":0
} 
-----------------------------------------------------------------------------------------
记录数：1
执行成功开始时间:2020-12-07 16:47:54 耗时: 0.561 秒

` 


#### 通过NF实例ID删除NF Profile(DELETE NFPROFILE BY NFINSTANCEID) 
#### 通过NF实例ID删除NF Profile(DELETE NFPROFILE BY NFINSTANCEID) 


[](None)功能说明 

该命令用于根据NF实例ID删除本地cache中保存的动态发现的NF profile。当本地调试需要向NRF Server触发查询，但不想在本地cache中查询时，可使用该命令将对应的NF profile删除。 


[](None)注意事项 

根据NF实例ID删除NF profile后，在本地cache中就查询不到该NF实例ID对应的NF profile信息，需要向NRF server触发查询。 


[](None)输入参数说明 


[](None)标识|名称|类型|说明
---|---|---|---
NFInstId|NF实例ID|参数可选性: 必选参数类型: 字符串参数范围: 0-255|该参数用于表示要删除的NF profile的NF实例ID。NF profile的NF实例ID可通过SHOW NFPROFILE INFO命令查询。




[](None)输出参数说明 


[](None)标识|名称|类型|说明
---|---|---|---
OperationResult|操作结果|参数可选性: 必选参数类型: 字符串参数范围: 1-10240|该参数表示该动态命令的执行结果。 如果NF profile的NF实例ID不存在，则执行失败，执行结果举例:"logicno[1]: nf[1111-2222-aaaa-bbbb] profile cache to delete does not exist"。如果NF profile的NF实例ID存在，则执行成功，执行结果举例:"logicno[1]: delete nf[1111-2222-aaaa-bbbb] profile cache successfully"。




[](None)命令举例 


`
删除指定NF实例ID对应的NF Profile，NF实例ID为1111-2222-aaaa-bbbb。
DELETE NFPROFILE BY NFINSTANCEID:NFINSTID="1111-2222-aaaa-bbbb"
` 


#### 通过NF类型在指定时长内开始启动删除NF Profile(DELETE NFPROFILE BY NFTYPE) 
#### 通过NF类型在指定时长内开始启动删除NF Profile(DELETE NFPROFILE BY NFTYPE) 


[](None)功能说明 

该命令用于根据NF类型在指定时长内开始启动删除本地cache中保存的动态发现的NF profile。当本地调试需要向NRF Server触发查询，但不想在本地cache中查询时，可使用该命令启动对应的NF profile删除。该命令执行完成后，在指定的时长内会开始删除对应的NF profile，删除完成的时间视本地cache中保存的动态发现的NF profile数量有所不同。 


[](None)注意事项 


 
根据NF类型删除NF profile后，本地cache就查询不到该NF类型对应的NF profile信息，需要向NRF server触发查询。 

 
该命令仅指定开始删除的时间，删除完成的时间视本地cache中保存的动态发现的NF profile数量有所不同，数量越多则删除完成越慢。 

 
“NF类型”参数为ALL时删除所有NF类型。 

 
“时长”参数为必选。 

 


[](None)输入参数说明 


[](None)标识|名称|类型|说明
---|---|---|---
NFType|NF类型|参数可选性: 必选参数类型: 枚举，参见枚举定义|该参数用于指定需要删除的NF profile的NF类型，当参数为ALL时删除所有NF类型。
TimeLen|时长(s)|参数可选性: 必选参数类型: 枚举，参见枚举定义默认值: 120|该参数用于指定开始启动删除NF profile的最大时长。




[](None)输出参数说明 


[](None)标识|名称|类型|说明
---|---|---|---
OperationResult|操作结果|参数可选性: 必选参数类型: 字符串参数范围: 1-10240|该参数表示该动态命令的执行结果。 如果指定某个NF类型，则执行结果举例如下:"logicno[1]: delete type[3] nf profile cache successfully."。如果指定NF类型位ALL，则删除所有类型的NF profile，执行结果举例如下:"logicno[1]: delete all type nf profile cache successfully. "。




[](None)命令举例 


`
开始删除指定NF类型的NF Profile，指定NF类型为AMF_TYPE，时长为0。
DELETE NFPROFILE BY NFTYPE:NFTYPE="AMF_TYPE",TIMELEN="LEN_0"
` 


### 本地NRF管理 
### 本地NRF管理 


[](None)背景知识 


在5G核心网系统中，服务使用者向NRF发现服务提供者，NRF在发现响应中携带满足条件的服务提供者的NFProfile。但某些场景下，运营商没有部署NRF或者NRF无法提供某些NF的发现结果，此时需要在服务使用者（本端）上把服务提供者（对端）的NFProfile配置出来。当服务使用者需要发现一个服务提供者时，就按照类似NRF的功能逻辑，在本地用服务发现请求里面的参数跟NFProfile里面的参数逐一匹配，如果全部匹配成功，则使用NFProfile里面的信息作为服务提供者的信息，上述功能称为本地NRF功能。 




[](None)功能说明 


本地NRF管理包含了本地NRF功能所需要的动态命令，包括查询本地NRF内NFProfile概要信息和查询本地NRF内NFProfile详细信息。 




[](None)子主题： 






#### 查询本地NRF内NFProfile概要信息(SHOW LOCALNRF NFINFO) 
#### 查询本地NRF内NFProfile概要信息(SHOW LOCALNRF NFINFO) 


[](None)功能说明 

该命令用于查询本地cache中保存的本地NRF配置生成的NF profile的概要信息。当配置本地NRF之后，可用该命令查看生成的NF profile的大致情况。


[](None)注意事项 

无。


[](None)输入参数说明 


[](None)标识|名称|类型|说明
---|---|---|---
NFType|NF类型|参数可选性: 必选参数类型: 枚举，参见枚举定义参数范围: 0-255|该参数用于设置要查询的NF profile的NF类型。当参数为ALL时，则默认是查询所有的NF类型。




[](None)输出参数说明 


[](None)标识|名称|类型|说明
---|---|---|---
NFType|NF类型|参数可选性: 任选参数类型: 枚举，参见枚举定义参数范围: 1-255|该参数用于表示查询到的NF profile记录的NF类型。
NFInstId|NF实例ID|参数可选性: 任选参数类型: 字符串参数范围: 0-255|该参数用于表示查询到的NF profile记录的NF实例ID。
NFInstName|NF实例名称|参数可选性: 任选参数类型: 字符串参数范围: 0-255|该参数用于表示查询到的NF profile记录的NF实例名称。




[](None)命令举例 


`
查询本地NRF所有类型的静态NFProfile信息。
SHOW LOCALNRF NFINFO

(No.1) : SHOW LOCALNRF NFINFO:
-----------------CommonS_HTTP_LB_0----------------
NF类型 NF实例ID        NF实例名称    
-------------------------------------
AMF    NF-instance-001 LocalNRF-test 
AMF    NF-instance-002 LocalNRF-test 
-------------------------------------
记录数：2
执行成功开始时间:2020-11-30 09:56:39 耗时: 0.615 秒

` 


#### 查询本地NRF内NFProfile详细信息(SHOW LOCALNRF NFDETAILINFO) 
#### 查询本地NRF内NFProfile详细信息(SHOW LOCALNRF NFDETAILINFO) 


[](None)功能说明 

该命令用于查询本地cache中保存的本地NRF配置生成的NF profile的详细信息。当配置本地NRF之后，可用该命令查看生成的NF profile的详细信息。


[](None)注意事项 

无。


[](None)输入参数说明 


[](None)标识|名称|类型|说明
---|---|---|---
NFInstId|NF实例ID|参数可选性: 必选参数类型: 字符串参数范围: 0-255|该参数用于设置要查询的NF profile的NF实例ID。NF profile的NF实例ID可通过SHOW REGISTER INFO命令查询。




[](None)输出参数说明 


[](None)标识|名称|类型|说明
---|---|---|---
ResultInfo|NF Profile详细信息|参数可选性: 任选参数类型: 字符串参数范围: 1-30725|该参数用于表示查询到的NF profile的详细信息。




[](None)命令举例 


`
查询本地NF Profile的详细信息。查询条件：NF实例ID是a-1。
SHOW LOCALNRF NFDETAILINFO:NFINSTID="a-1"

(No.1) : SHOW LOCALNRF NFDETAILINFO:NFINSTID="a-1"
-----------------CommonS_HTTP_LB_0----------------
NF Profile详细信息
------------------------------------------------------------
 
{
    "capacity":0,
    "lcHSupportInd":false,
    "nfInstanceId":"a-1",
    "nfInstanceName":"f-1",
    "nfServicePersistence":false,
    "nfServices":
    [
        {
            "capacity":0,
            "ipEndPoints":
            [
                {
                    "ipv6Address":"2020::999",
                    "port":8080
                },
                {
                    "ipv6Address":"2020::1",
                    "port":2222
                },
                {
                    "ipv4Address":"172.255.21.12",
                    "port":8080
                }
            ],
            "nfServiceStatus":"REGISTERED",
            "priority":0,
            "scheme":"http",
            "serviceInstanceId":"f-01",
            "serviceName":"namf-evts",
            "versions":
            [
                {
                    "apiFullVersion":"api-2.3",
                    "apiVersionInUri":"2.3"
                },
                {
                    "apiFullVersion":"api-2.2",
                    "apiVersionInUri":"2.2"
                }
            ]
        }
    ],
    "nfStatus":"REGISTERED",
    "nfType":"AMF",
    "olcHSupportInd":false,
    "plmnList":
    [
        {
            "mcc":"145",
            "mnc":"139"
        },
        {
            "mcc":"460",
            "mnc":"11"
        }
    ],
    "priority":0
}
  
------------------------------------------------------------
记录数：1
执行成功开始时间:2020-12-19 15:02:54 耗时: 0.607 秒

` 


### 订阅管理 
### 订阅管理 


[](None)背景知识 


SBI-GW（Service Based Interface-GateWay，基于服务化接口的代理网关）会对自身发起的订阅结果进行缓存，以便后续发起更新订阅、取消订阅，或在订阅结果异常时重新发起订阅。 

该配置可以对SBI缓存的自身发起的订阅的状态进行查询等动态管理操作。 




[](None)功能说明 


订阅管理是SBI自身发起的订阅相关的动态命令。当需要对SBI发起的配置订阅信息或基于服务发现结果的订阅信息进行查询等操作时，执行该动态命令。 




[](None)子主题： 






#### 查询配置订阅信息(SHOW CONFIG SUBINFO) 
#### 查询配置订阅信息(SHOW CONFIG SUBINFO) 


[](None)功能说明 

该命令用于查询通过配置触发的订阅信息。当需要查看该类订阅的实时状态时，可用该命令。


[](None)注意事项 

无。


[](None)输入参数说明 


[](None)标识|名称|类型|说明
---|---|---|---
SubIndex|配置订阅索引|参数可选性: 必选参数类型: 数字参数范围: 0-255|该参数用于指定要查询的配置订阅的索引，可以通过SHOW SBISUBCOND命令查看已配置的订阅索引ID。如果输入为0，则默认查询所有记录。




[](None)输出参数说明 


[](None)标识|名称|类型|说明
---|---|---|---
SubIndex|配置订阅索引|参数可选性: 任选参数类型: 数字参数范围: 1-255|该参数表示查询到的配置订阅记录的索引，对应SHOW SBISUBCOND命令中的ID参数。
SubscribeStatus|订阅状态|参数可选性: 任选参数类型: 枚举，参见枚举定义|该参数表示查询到的配置订阅记录的订阅状态，即SBIGW向NRF Server发起的订阅事务当前所处的状态。初始化：向NRF Server发起的订阅事务处于初始化状态。变更：向NRF Server发起订阅事务变更。等待响应：向NRF Server发起订阅请求后处于等待响应状态。超时：向NRF Server发起订阅请求后未收到NRF Server的响应。失败：向NRF Server发起的订阅事务失败。成功：向NRF Server发起的订阅事务成功。订阅条件配置错误：由于配置格式不正确引起的订阅条件配置错误。
SubscribeID|订阅ID|参数可选性: 任选参数类型: 字符串参数范围: 0-256|该参数表示查询到的配置订阅记录的订阅ID，唯一标识NRF Server上的一个订阅资源。
SubscribeStartTime|起始订阅时间|参数可选性: 任选参数类型: 字符串参数范围: 0-255|该参数表示查询到的配置订阅记录的订阅的起始时间，即订阅事务的有效起始时间。
SubscribeEndTime|订阅到期时间|参数可选性: 任选参数类型: 字符串参数范围: 0-255|该参数表示查询到的配置订阅记录的订阅的到期时间，即订阅事务的有效截止时间。
SubscribeRefreshTimes|订阅刷新次数|参数可选性: 任选参数类型: 数字参数范围: 0-4294967295|该参数表示查询到的配置订阅记录的订阅刷新次数，即SBIGW向NRF Server发订阅刷新消息的次数。
TargetNfType|订阅目的NF类型|参数可选性: 任选参数类型: 字符串参数范围: 0-255|该参数表示查询到的服务发现订阅记录的目的NF类型。




[](None)命令举例 


`
查询配置订阅信息.
SHOW CONFIG SUBINFO

(No.4) : SHOW CONFIG SUBINFO:
-----------------CommonS_HTTP_LB_0----------------
配置订阅索引 订阅状态 订阅ID     起始订阅时间         订阅到期时间         订阅刷新次数 订阅目的NF类型 
-------------------------------------------------------------------------------------------------------
1            成功     adffsub123 2021-08-03T05:42:52Z 2021-08-03T05:52:52Z 0            AMF            
-------------------------------------------------------------------------------------------------------
记录数：1
执行成功开始时间:2021-08-03 13:43:00 耗时: 0.172 秒

` 


#### 查询服务发现订阅信息(SHOW SRVDISCOVERY SUBINFO) 
#### 查询服务发现订阅信息(SHOW SRVDISCOVERY SUBINFO) 


[](None)功能说明 

该配置用于查询服务发现触发的订阅信息。当需要查询该类订阅的实时状态时，可用该命令。


[](None)注意事项 

无。


[](None)输入参数说明 


[](None)标识|名称|类型|说明
---|---|---|---
NFInstId|NF实例ID|参数可选性: 任选参数类型: 字符串参数范围: 0-255|该参数用于指定要查询的服务发现订阅记录的NF实例ID。如果该参数未指定，则默认查询所有服务发现订阅记录。可先通过SHOW NFPROFILE INFO命令查看所有服务发现订阅的NF实例ID。




[](None)输出参数说明 


[](None)标识|名称|类型|说明
---|---|---|---
NFInstId|NF实例ID|参数可选性: 任选参数类型: 字符串参数范围: 0-255|该参数用于表示查询到的服务发现订阅记录的NF实例ID。
SubscribeStatus|订阅状态|参数可选性: 任选参数类型: 枚举，参见枚举定义|该参数表示查询到的服务发现订阅记录的订阅状态，即SBIGW向NRF Server发起的订阅事务当前所处的状态。初始化：向NRF Server发起的订阅事务处于初始化状态。变更：向NRF Server发起订阅事务变更。等待响应：向NRF Server发起订阅请求后处于等待响应状态。超时：向NRF Server发起订阅请求后未收到NRF Server的响应。失败：向NRF Server发起的订阅事务失败。成功：向NRF Server发起的订阅事务成功。
SubscribeID|订阅ID|参数可选性: 任选参数类型: 字符串参数范围: 0-256|该参数表示查询到的服务发现订阅记录的订阅ID，唯一标识NRF Server上的一个订阅资源。
SubscribeStartTime|起始订阅时间|参数可选性: 任选参数类型: 字符串参数范围: 0-255|该参数表示查询到的服务发现订阅记录的订阅的起始时间，即订阅事务的有效起始时间。
SubscribeEndTime|订阅到期时间|参数可选性: 任选参数类型: 字符串参数范围: 0-255|该参数表示查询到的服务发现订阅记录的订阅的到期时间，即订阅事务的有效截止时间。
SubscribeRefreshTimes|订阅刷新次数|参数可选性: 任选参数类型: 数字参数范围: 0-4294967295|该参数表示查询到的服务发现订阅记录的订阅刷新次数，即SBIGW向NRF Server发送订阅刷新消息的次数。
TargetNfType|订阅目的NF类型|参数可选性: 任选参数类型: 字符串参数范围: 0-255|该参数表示查询到的服务发现订阅记录的目的NF类型。




[](None)命令举例 


`
查询服务发现订阅信息。
SHOW SRVDISCOVERY SUBINFO

(No.1) : SHOW SRVDISCOVERY SUBINFO:
-----------------CommonS_HTTP_LB_0----------------
NF实例ID            订阅状态 订阅ID 起始订阅时间         订阅到期时间 订阅刷新次数  订阅目的NF类型 
--------------------------------------------------------------------------------------------------
1111-2222-aaaa-bbbb 等待响应        2020-12-01T12:10:27Z 0            0              AMF
--------------------------------------------------------------------------------------------------
记录数：1
执行成功开始时间:2020-12-01 20:08:49 耗时: 0.599 秒

` 


### 注册管理 
### 注册管理 


[](None)背景知识 


SBI-GW（Service Based Interface-GateWay，基于服务化接口的代理网关）会对注册功能中的注册信息进行缓存，以便SBI-GW代理网元向NRF定时发送心跳，或在注册状态异常时SBI-GW通知网元重新向NRF注册。 

该配置可以对SBI缓存的注册信息进行查询等动态管理操作。 




[](None)功能说明 


注册管理是网元注册信息相关的动态命令。当需要对缓存的注册信息进行查询等操作时，执行该动态命令。 




[](None)子主题： 






#### 查询注册信息(SHOW REGISTER INFO) 
#### 查询注册信息(SHOW REGISTER INFO) 


[](None)功能说明 

该命令用于查询注册信息。Special SC上维护了业务注册的信息和状态，当需要实时查看所有的注册信息时，可用该命令。


[](None)注意事项 

无。


[](None)输出参数说明 


[](None)标识|名称|类型|说明
---|---|---|---
NFType|NF类型|参数可选性: 任选参数类型: 枚举，参见枚举定义|该参数用于表示查询到的注册记录的NF类型。
NFInstId|NF实例ID|参数可选性: 任选参数类型: 字符串参数范围: 0-255|该参数用于表示查询到的注册记录NF实例ID。
RegisteStatus|注册状态|参数可选性: 任选参数类型: 枚举，参见枚举定义|该参数用于表示查询到的注册记录中的注册状态。已注册：NF向NRF Server注册成功。注册中：NF向NRF Server注册进行中。注销中：NF向NRF Server注销进行中。注册更新中：NF向NRF Server注册更新进行中。注册失败：NF向NRF Server注册失败。
HeartbeatInterval|心跳间隔（秒）|参数可选性: 任选参数类型: 数字参数范围: 0-65535|该参数用于表示心跳间隔，参数单位为秒。




[](None)命令举例 


`
查询注册信息。
SHOW REGISTER INFO

(No.20) : SHOW REGISTER INFO:
-----------------CommonS_HTTP_LB_0----------------
NF类型 NF实例ID            注册状态 心跳间隔 （秒）
AMF    1111-2222-aaaa-bbbb 注册成功 30       

记录数：1
执行成功开始时间:2020-12-07 16:41:52 耗时: 0.558 秒

` 


#### 查询注册详细信息(SHOW REGISTER DETAIL INFO) 
#### 查询注册详细信息(SHOW REGISTER DETAIL INFO) 


[](None)功能说明 

该命令用于查询注册的详细信息。Special SC上维护了业务注册的信息和状态，当需要实时查看某个注册记录的详细信息，可用该命令。


[](None)注意事项 

无。


[](None)输入参数说明 


[](None)标识|名称|类型|说明
---|---|---|---
NFInstId|NF实例ID|参数可选性: 必选参数类型: 字符串参数范围: 0-255|该参数用于表示要查询注册记录的NF实例ID。可先通过SHOW REGISTER INFO命令查看所有注册记录的NF实例ID。




[](None)输出参数说明 


[](None)标识|名称|类型|说明
---|---|---|---
ResultInfo|注册详细信息|参数可选性: 任选参数类型: 字符串参数范围: 0-30725|该参数表示查询到的注册记录的详细信息。




[](None)命令举例 


`
查询注册详细信息。
SHOW REGISTER DETAIL INFO:NFINSTID="1111-2222-aaaa-bbbb"

(No.2) : SHOW REGISTER DETAIL INFO:NFINSTID="1111-2222-aaaa-bbbb"
-----------------CommonS_HTTP_LB_0----------------
注册详细信息                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              
---------------------------------------------------------------------------------------------------------------------------------------
 
{
    "allowedNfDomains":
    [
        "NF.ZTE.PC.node.5gc.mnc11.mcc460.3gppnetwork.org-NF.ZTE.PC.node.5gc.mnc11.mcc460.3gppnetwork.org-NF.ZTE.PC.node.5gc.mnc11.mcc461",
        "NF.ZTE.PC.node.5gc.mnc11.mcc460.3gppnetwork.org-NF.ZTE.PC.node.5gc.mnc11.mcc460.3gppnetwork.org-NF.ZTE.PC.node.5gc.mnc11.mcc462"
    ],
    "allowedNfTypes":
    [
        "NRF",
        "SMF",
        "SMSF",
        "PCF",
        "UDM"
    ],
    "allowedNssais":
    [
        {
            "sd":"010101",
            "sst":222
        }
    ],
    "capacity":65535,
    "heartBeatTimer":3600,
    "ipv4Addresses":
    [
        "80.80.0.3"
    ],
    "ipv6Addresses":
    [
        "2001:db8:85a3::8a2e:370:7001"
    ],
    "load":50,
    "loadTimeStamp":"20220202",
    "nfInstanceId":"1111-2222-aaaa-bbbb",
    "nfProfileChangesInd":false,
    "nfProfileChangesSupportInd":true,
    "nfServicePersistence":true,
    "nfServices":
    [
        {
            "allowedNfDomains":
            [
                "NF.ZTE.PC.node.5gc.mnc11.mcc460.3gppnetwork.org-NF.ZTE.PC.node.5gc.mnc11.mcc460.3gppnetwork.org-NF.ZTE.PC.node.5gc.mnc11.mcc461",
                "NF.ZTE.PC.node.5gc.mnc11.mcc460.3gppnetwork.org-NF.ZTE.PC.node.5gc.mnc11.mcc460.3gppnetwork.org-NF.ZTE.PC.node.5gc.mnc11.mcc462"
            ],
            "allowedNfTypes":
            [
                "SMF"
            ],
            "allowedNssais":
            [
                {
                    "sd":"010101",
                    "sst":1
                },
                {
                    "sd":"010102",
                    "sst":1
                }
            ],
            "allowedPlmns":
            [
                {
                    "mcc":"460",
                    "mnc":"11"
                },
                {
                    "mcc":"460",
                    "mnc":"01"
                }
            ],
            "allowedSnpns":
            [
                {
                    "mcc":"460",
                    "mnc":"460",
                    "nid":"460"
                }
            ],
            "apiPrefix":"nfapiPrefix",
            "capacity":65535,
            "defaultNotificationSubscriptions":
            [
                {
                    "callbackUri":"http://mockapp1",
                    "n1MessageClass":"5GMM",
                    "notificationType":"N1_MESSAGES"
                }
            ],
            "fqdn":"zte.com.cn",
            "interPlmnFqdn":"NF.ZTE.PC.node.5gc.mnc11.mcc460.3gppnetwork.org-NF.ZTE.PC.node.5gc.mnc11.mcc460.3gppnetwork.org-NF.ZTE.PC.node.5gc.mnc11.mcc460",
            "ipEndPoints":
            [
                {
                    "ipv4Address":"80.80.0.3",
                    "port":1111,
                    "transport":"TCP"
                }
            ],
            "load":0,
            "nfServiceSetIdList":
            [
                "nfServiceSetxxxxxxxx"
            ],
            "nfServiceStatus":"REGISTERED",
            "perPlmnSnssaiList":
            [
                {
                    "nid":"460",
                    "plmnId":
                    {
                        "mcc":"460",
                        "mnc":"460"
                    },
                    "sNssaiList":
                    [
                        {
                            "sd":"010102",
                            "sst":1
                        }
                    ]
                }
            ],
            "priority":0,
            "recoveryTime":"20220202",
            "sNssais":
            [
                {
                    "sd":"010102",
                    "sst":1
                }
            ],
            "scheme":"http",
            "serviceInstanceId":"1111-3333-bbbb-cccc",
            "serviceName":"namf-evts",
            "supportedFeatures":"0123456789abcde",
            "supportedVendorSpecificFeatures":
            {
                "111":
                [
                    {
                        "featureName":"ABCD123",
                        "featureVersion":"V2020.15"
                    },
                    {
                        "featureName":"zte1234",
                        "featureVersion":"V2020.16"
                    }
                ]
            },
            "vendorId":"xxxxxxxx",
            "versions":
            [
                {
                    "apiFullVersion":"v1",
                    "apiVersionInUri":"8.0",
                    "expiry":"20220202"
                }
            ]
        }
    ],
    "nfStatus":"REGISTERED",
    "nfType":"AMF",
    "nsiList":
    [
        "nsiList0000000000",
        "111111111"
    ],
    "priority":0
}

 
------------------------------------------------------------------------------------------------------------------------------------------------------------
记录数：1
执行成功开始时间:2020-12-01 16:29:09 耗时: 0.595 秒

` 


### NRF服务器管理 
### NRF服务器管理 


[](None)背景知识 


NRF服务器是5G核心网络中的网络实体，支持以下功能： 


 
维护可用NF实例及其支持的服务的NF配置文件； 

 
允许其他NF实例订阅并获得有关给定类型的新NF实例在NRF中的注册的通知； 

 
支持服务发现功能。它从NF实例接收NF发现请求，并提供满足某些条件（例如，支持给定服务）的可用NF实例的信息。 

 

同一个NRF服务器模板下的NRF服务器之间的主备状态、NF当前锚定NRF节点状态等信息，该动态命令可用于对这些NRF服务器状态进行管理。 




[](None)功能说明 


该动态命令用于对NRF服务器状态进行管理。 

目前动态命令支持查询NRF信息、NRF Server倒换等操作。 




[](None)子主题： 






#### 查询NRF信息(SHOW NRF INFO) 
#### 查询NRF信息(SHOW NRF INFO) 


[](None)功能说明 

该命令用于查询NRF信息。当需要实时了解当前NF锚定的NRF服务器组及其可用情况时，使用该命令。


[](None)注意事项 

无。


[](None)输入参数说明 


[](None)标识|名称|类型|说明
---|---|---|---
NrfProfileID|NRF服务器模板编号|参数可选性: 必选参数类型: 数字参数范围: 1-255|该参数用于指定NRF服务器模板编号，可以通过SHOW SBINRFPROFILE命令，查看系统已配置的NRF服务器模板编号。




[](None)输出参数说明 


[](None)标识|名称|类型|说明
---|---|---|---
NrfInfo|NRF信息|参数可选性: 任选参数类型: 字符串参数范围: 0-10240|该参数表示查询到的NRF相关的信息。 当前锚定主备信息：表示当前NF是向主用NRF服务器组还是备用NRF服务器组发送消息，可通过SHOW SBINRFPROFILE命令和SHOW SBINRFGROUP命令查看系统配置的NRF服务器组情况。当前锚定NRF节点信息：表示当前NF是向哪个NRF服务器组发送消息，可通过SHOW SBINRFGROUP命令查询NRF服务器组。是否主备节点组可用：表示当前主备NRF服务器组是否处于可用状态。节点组是否告警：表示当前锚定NRF节点是否处于可用状态。直连检测是否可用：局向检测是否处于可用状态。启发式检测信息：表示节点检测检测是否开启、检测是否可用、检测的成功次数和失败次数。




[](None)命令举例 


`
查询NRF的信息。查询条件：NRF服务器模板编号为1。
SHOW NRF INFO:NRFPROFILEID=1

(No.8) : SHOW NRF INFO:NRFPROFILEID=1
-----------------CommonS_HTTP_LB_0----------------
NRF信息
服务器模板ID:      1
锚定组(主/备):    主
是否可用:         是
是否告警:         否

[主组]:
    节点组ID：              1
    节点组是否可用：         是
    锚定节点：              1
    节点组是否告警：         否

    [节点]：
        节点ID：              1
        节点是否可用：         是
        节点是否告警：         否
        直连检测是否可用：     是
        启发式检测信息：
            节点是否检测：           否
            检测是否可用：           是
            失败次数：               0
            成功次数：               0


[备组]:
    节点组ID：              2
    节点组是否可用：         否
    锚定节点：              0
    节点组是否告警：         是

执行成功耗时: 0.517 秒

` 


#### NRF Server倒换(SWP NRF SERVER) 
#### NRF Server倒换(SWP NRF SERVER) 


[](None)功能说明 

该命令用于倒换NRF服务器组。当需要切换NF当前锚定的NRF服务器组时使用。命令执行成功后，NF将锚定到相关的另一个NRF服务器组。 


[](None)注意事项 

倒换操作在NRF服务器所归属的主用NRF服务器组和备用服务器组进行。当另一个组可用时，倒换到另一个组。当另一个组不可用时，不倒换，并返回失败。在配置为自动倒回模式时，当NRF服务器从备用服务器自动倒回到主用服务器时，不倒换，返回倒换成功。 


[](None)输入参数说明 


[](None)标识|名称|类型|说明
---|---|---|---
NrfProfileID|NRF服务器模板编号|参数可选性: 必选参数类型: 数字参数范围: 1-255|该参数用于指定NRF服务器模板编号，可以通过SHOW SBINRFPROFILE命令查看系统已配置的NRF服务器模板编号，倒换操作将在该NRF服务器所归属的主用NRF服务器组和备用NRF服务器组之间进行。




[](None)输出参数说明 


[](None)标识|名称|类型|说明
---|---|---|---
OperationResult|操作结果|参数可选性: 任选参数类型: 字符串参数范围: 1-10240|该参数表示该命令的执行结果。倒换成功则显示"Swp nrf server successfully"，倒换失败显示"Failed to swp nrf server"。




[](None)命令举例 


`
倒换NRF服务器，NRF服务器模板编号为1。
SWP NRF SERVER:NRFPROFILEID=1
` 


### 状态检测管理 
### 状态检测管理 


[](None)背景知识 


NF之间的互通状态基于对接链路之间的动态链路状态。状态检测主要针对基本检测对象和检测局向。 




[](None)功能说明 


状态检测管理用于维护人员通过动态命令的方式查询基本检测对象和检测局向的基本信息和状态。 

状态检测管理针对基本检测对象和检测局向分别提供了查询概要信息和详细信息的操作。 




[](None)子主题： 






#### 查询基本检测对象概要信息(SHOW BASEDETECTOBJ INFO) 
#### 查询基本检测对象概要信息(SHOW BASEDETECTOBJ INFO) 


[](None)功能说明 

该命令用于查询所有基本检测对象的概要信息。一个对端地址端口和本端profile的组合作为一个基本检测对象。当需要查看基本检测对象的信息及状态时，可用该命令。


[](None)注意事项 

无。


[](None)输出参数说明 


[](None)标识|名称|类型|说明
---|---|---|---
Index|索引|参数可选性: 任选参数类型: 数字参数范围: 1-65535|该参数表示一个基本检测对象的索引，具有唯一性。
RemoteIP|对端IP|参数可选性: 任选参数类型: 字符串参数范围: 0-64|该参数表示一个基本检测对象的对端IP地址。
RemotePort|对端端口|参数可选性: 任选参数类型: 数字参数范围: 0-65535|该参数表示一个基本检测对象的对端端口号。
LocalProfileID|本端ProfileID|参数可选性: 任选参数类型: 数字参数范围: 1-65535|该参数表示一个基本检测对象的本端profile ID。
Status|状态|参数可选性: 任选参数类型: 枚举，参见枚举定义|该参数表示一个基本检测对象的状态。未检测：基本检测对象未发起检测。可用：基本检测对象的检测结果是可用。不可用：基本检测对象的检测结果是不可用。




[](None)命令举例 


`
查询基本检测对象信息。
SHOW BASEDETECTOBJ INFO

(No.24) : SHOW BASEDETECTOBJ INFO:
-----------------CommonS_HTTP_LB_0----------------
索引 对端IP        对端端口 本端ProfileID 状态 
-----------------------------------------------
1    8.8.0.8          8888     1             未检测 
-----------------------------------------------
记录数：1
执行成功开始时间:2020-12-01 19:19:07 耗时: 0.917秒


` 


#### 查询基本检测对象详细信息(SHOW BASEDETECTOBJ DETAIL INFO) 
#### 查询基本检测对象详细信息(SHOW BASEDETECTOBJ DETAIL INFO) 


[](None)功能说明 

该命令用于查询一个基本检测对象的详细信息。一个对端地址端口和本端profile的组合作为一个基本检测对象。当需要查看一个基本检测对象的完整信息及关联的局向信息时，可用该命令。


[](None)注意事项 

无。


[](None)输入参数说明 


[](None)标识|名称|类型|说明
---|---|---|---
Index|索引|参数可选性: 必选参数类型: 数字参数范围: 1-6000|该参数用于指定要查询的基本检测对象记录的索引，具有唯一性。可以通过SHOW BASEDETECTOBJ INFO命令查询所有有效的索引。




[](None)输出参数说明 


[](None)标识|名称|类型|说明
---|---|---|---
ResultInfo|基本检测对象详细信息|参数可选性: 任选参数类型: 字符串参数范围: 0-30725|该参数表示查询到的基本检测对象的详细信息。




[](None)命令举例 


`
查询基本检测对象的详细信息，查询条件：索引为1。
SHOW BASEDETECTOBJ DETAIL INFO:INDEX=1

(No.4) : SHOW BASEDETECTOBJ DETAIL INFO:INDEX=1
-----------------CommonS_HTTP_LB_0----------------
基本检测对象详细信息                                                                                                                                                                                                                                                                                                                                                                                                       
-----------------------------------------------------------------------------------------------------
索引                      :1 
对端地址                  :8.8.0.8 
对端端口                  :8888 
本端ProfileID             :1 
状态                      :不可用 

-------------------- 
关联的局向信息 
索引      目的NFID                      本地NFID                      服务名称            状态               
1         1111-2222-aaaa-bbbb-2         mock-test-01                  namf-comm           不可用
 
-----------------------------------------------------------------------------------------------------
记录数：1
执行成功开始时间:2020-12-01 19:24:58 耗时: 1.353 秒

` 


#### 查询检测局向概要信息(SHOW DETECT OFFICE INFO) 
#### 查询检测局向概要信息(SHOW DETECT OFFICE INFO) 


[](None)功能说明 

该命令用于查询所有检测局向的信息。局向检测是为NF请求消息的路由功能服务，实时通知NF检测对象状态的变更，并提供接口供NF查询检测对象的状态。一个目的NFID、本地NFID和ServiceName的组合作为一个检测局向。当需要查看检测局向的信息及状态时，可用该命令。


[](None)注意事项 

无。


[](None)输出参数说明 


[](None)标识|名称|类型|说明
---|---|---|---
Index|索引|参数可选性: 任选参数类型: 数字参数范围: 1-4000|该参数表示一个检测局向的索引，具有唯一性。该索引对应的检测局向的详细信息可以通过SHOW DETECT OFFICE DETAIL INFO命令查询。
DstNFID|目的NFID|参数可选性: 任选参数类型: 字符串参数范围: 0-255|该参数表示一个检测局向的目的NFID。
LocNFID|本地NFID|参数可选性: 任选参数类型: 字符串参数范围: 0-255|该参数表示一个检测局向的本地NFID。
ServiceName|服务名称|参数可选性: 任选参数类型: 字符串参数范围: 0-255|该参数表示一个检测局向的服务名称。
Status|状态|参数可选性: 任选参数类型: 枚举，参见枚举定义|该参数表示一个检测局向的状态。未检测：检测局向未发起检测。可用：检测局向的检测结果是可用。不可用：检测局向的检测结果是不可用。
TargetNFType|对端NF类型|参数可选性: 任选参数类型: 字符串参数范围: 0-255|该参数表示一个检测局向的对端NF类型。
InstanceName|实例名称|参数可选性: 任选参数类型: 字符串参数范围: 0-255|该参数表示一个检测局向的对端NF实例名称。




[](None)命令举例 


`
查询所有检测局向的信息。
SHOW DETECT OFFICE INFO

(No.48) : SHOW DETECT OFFICE INFO:
-----------------CommonS_HTTP_LB_0----------------
索引 目的NFID              本地NFID       服务名称    状态      对端NF类型     实例名称
1    1111-2222-aaaa-bbbb   MOCK-test-01   namf-comm   不可用    AMF   abcd-1111
记录数：1

执行成功耗时: 0.137 秒

` 


#### 查询检测局向详细信息(SHOW DETECT OFFICE DETAIL INFO) 
#### 查询检测局向详细信息(SHOW DETECT OFFICE DETAIL INFO) 


[](None)功能说明 

该命令用于查询检测局向的详细信息。一个目的NFID、本地NFID和ServiceName的组合作为一个检测局向。当需要查看一个检测局向的完整信息以及关联的基本检测对象信息时，可用该命令。


[](None)注意事项 

无。


[](None)输入参数说明 


[](None)标识|名称|类型|说明
---|---|---|---
Index|索引|参数可选性: 必选参数类型: 数字参数范围: 1-4000|该参数表示检测对象记录的索引，具有唯一性。 可以通过SHOW DETECT OFFICE INFO命令查询所有有效的索引。




[](None)输出参数说明 


[](None)标识|名称|类型|说明
---|---|---|---
ResultInfo|检测局向详细信息|参数可选性: 任选参数类型: 字符串参数范围: 0-30725|该参数表示查询到的检测局向的详细信息。




[](None)命令举例 


`
查询查询检测局向的详细信息，查询索引为1。
SHOW DETECT OFFICE DETAIL INFO:INDEX=1

(No.1) : SHOW DETECT OFFICE DETAIL INFO:INDEX=1
-----------------CommonS_HTTP_LB_0----------------
Detect Office Detail Info                                                                                                                                                                                                                                                                                                                                                                                   
-----------------------------------------------------------------------------------------------------
索引                      :1 
目的NFID                  :1111-2222-aaaa-bbbb-2 
本地NFID                  :mock-test-01 
服务名称                  :namf-comm 
状态                      :不可用 
目的FQDN           :zte.com.cn
-------------------- 
关联的基本检测对象信息 
索引      对端地址            对端端口       本端ProfileID       状态            
1         8.8.0.8             8888           1                   不可用
 
-----------------------------------------------------------------------------------------------------
Total Records：1
Execute SuccessfullyStart Time:2020-12-01 19:31:49 Elapsed Time: 0.585 s

` 


### SBI资源管理 
### SBI资源管理 


[](None)背景知识 


SBI（Service Based Interface）会对服务发现结果进行Cache缓存，然后基于Cache缓存进行订阅等相关处理，涉及多个订阅Cache数据区。 




[](None)功能说明 


该组动态命令可以对服务发现结果的缓存Cache以及订阅涉及的Cache进行查询、删除等管理操作。 

查询命令用于按照指定格式查询SBI-GW内部的各种资源信息，包括服务发现Cache、订阅Cache等。当需要查询上述各种资源的使用情况时，使用该命令。 

删除命令用于按照指定格式删除SBI-GW内部的各种资源信息，包括服务发现Cache、订阅Cache等。当需要删除上述某些资源时（如：故障查证时，需要将订阅快速老化；或者是数据区出现异常时），使用该命令。 




[](None)子主题： 






#### 查询SBI指定类型资源的信息(SHOW SBIRESOURCEINFO) 
#### 查询SBI指定类型资源的信息(SHOW SBIRESOURCEINFO) 


[](None)功能说明 

该命令用于按照指定格式查询SBI-GW内部的各种资源信息，包括服务发现Cache、订阅Cache等。当需要查询上述各种资源的使用情况时，使用该命令。 


[](None)注意事项 

需要按照指定的格式进行查询，以查询订阅汇总缓存为例，需要按照如下格式：summary,1,abcd-1234,10。含义为显示Summary信息，NFType为1，NfinstanceID为 abcd-1234，从abcd-1234开始显示10个NF的汇总信息。如果未匹配到指定的NfinstanceID，则从订阅汇总缓存起始处开始，显示10个NF的汇总信息。 


[](None)输入参数说明 


[](None)标识|名称|类型|说明
---|---|---|---
ResourceType|资源类型|参数可选性: 必选参数类型: 枚举，参见枚举定义|该参数用于设置要查询的资源类型。订阅汇总缓存：查询SBI-GW已经发起订阅的Cache汇总信息。待订阅缓存：查询等待发起订阅的Cache缓存信息。目前尚不支持。与Special SC差异缓存：查询普通SC上与Special SC不一致的Cache缓存信息。目前尚不支持。
Index|索引|参数可选性: 必选参数类型: 字符串参数范围: 0-10240|该参数用于设置要查询的资源的索引，为拼装字符串。以查询订阅汇总缓存为例，需要按照如下格式填写：summary,1,abcd-1234,10。含义为显示Summary信息，NFType为1，从NfinstanceID abcd-1234开始显示10个NF 的汇总Cache的信息。
LogicNo|SC的逻辑号|参数可选性: 必选参数类型: 数字参数范围: 0-1000|该参数用于设置SC（服务组件，Service Component）的实例编号。 SC逻辑号可通过TMSP服务下的SHOW SCINFO命令查询。若输入SC逻辑号为0，则默认为查询所有SC。




[](None)输出参数说明 


[](None)标识|名称|类型|说明
---|---|---|---
ResultInfo|资源信息|参数可选性: 任选参数类型: 字符串参数范围: 1-30700|该参数用于回显查询返回的具体资源信息。




[](None)命令举例 


`
查询订阅汇总缓存的概要信息。查询条件：summary,1,abcd-1234,10，SC的逻辑号是1。
SHOW SBIRESOURCEINFO:RESOURCETYPE="SUBCOLLECTION",INDEX="summary,1,abcd-1234,10",LOGICNO=1

(No.35) : SHOW SBIRESOURCEINFO:RESOURCETYPE="SUBCOLLECTION",INDEX="summary,1,abcd-1234,10",LOGICNO=1
-----------------CommonS_HTTP_LB_0----------------
资源信息                                                                                                                                                                                                                                                                                                                                                                 
-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
Show Sub Collection Cache:
Current/Total:2/4096
NFType  LchSupportind  LastUpdateTime  InstanceId                                                      
SMF     0              271767          1111-2222-aaaa                                                  
SMF     0              271767          1111-2222-bbbb                                                  
 
-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
记录数：1
执行成功 开始时间:2021-12-23 19:03:13 耗时: 0.697 秒

` 


#### 删除SBI指定类型资源的信息(DELETE SBIRESOURCEINFO) 
#### 删除SBI指定类型资源的信息(DELETE SBIRESOURCEINFO) 


[](None)功能说明 

该命令用于按照指定格式删除SBI-GW内部的各种资源信息，包括服务发现Cache、订阅Cache等。当需要删除上述某些资源时（如：故障查证时，需要将订阅快速老化；或者是数据区出现异常时。），使用该命令。 


[](None)注意事项 

需要按照指定的格式进行删除，以删除订阅汇总缓存为例，需要按照如下格式：1,abcd-1234。含义为删除NFType为1，NfinstanceID为abcd-1234的订阅汇总缓存。 


[](None)输入参数说明 


[](None)标识|名称|类型|说明
---|---|---|---
ResourceType|资源类型|参数可选性: 必选参数类型: 枚举，参见枚举定义|该参数用于设置要删除的资源类型。订阅汇总缓存：删除SBI-GW已经发起订阅的Cache汇总信息。待订阅缓存：删除等待发起订阅的Cache缓存信息。目前尚不支持。与Special SC差异缓存：删除普通SC上与Special SC不一致的Cache缓存信息。目前尚不支持。
Index|索引|参数可选性: 必选参数类型: 字符串参数范围: 0-10240|该参数用于设置要删除的资源的索引，为拼装字符串。以删除订阅汇总缓存为例，则需要按照如下格式进行填写：1,abcd-1234。含义为删除NFType为1，NfinstanceID为 abcd-1234的订阅汇总缓存。
LogicNo|SC的逻辑号|参数可选性: 必选参数类型: 数字参数范围: 0-1000|该参数用于设置SC（服务组件，Service Component）的实例编号。 SC逻辑号可通过TMSP服务下的SHOW SCINFO命令查询。若输入SC逻辑号为0，则默认为删除所有SC。




[](None)输出参数说明 


[](None)标识|名称|类型|说明
---|---|---|---
OperationResult|操作结果|参数可选性: 必选参数类型: 字符串参数范围: 1-10240|该参数用于回显操作的结果信息。




[](None)命令举例 


`
删除订阅汇总缓存的指定资源。删除条件：1,abcd-1234，SC的逻辑号是1。
DELETE SBIRESOURCEINFO:RESOURCETYPE="SUBCOLLECTION",INDEX="1,abcd-1234",LOGICNO=1
` 


操作维护 操作维护 

[](None)背景知识 


平台提供的调试命令集合。 




[](None)功能说明 


该节点下面包括系统调测配置。 




[](None)子主题： 






系统调测 系统调测 

[](None)背景知识 


对系统进行调试和信息收集，以判断运行状况。 




[](None)功能说明 


对系统进行调试和信息收集，包括调测信息收集等功能。 




[](None)子主题： 






调测信息收集 调测信息收集 

[](None)背景知识 


在系统调试过程中，需要采集系统的运行信息，可提供给运维人员进行分析，达到监测系统是否正常的目的。 




[](None)功能说明 


本配置可以显示系统当前支持的所有模块，可针对模块名进行信息采集，也可以采集系统所有模块的信息，同时具备清除模块信息的功能。 




[](None)子主题： 






#### 查询含有Debug信息的模块列表(SHOW DEBUG MODULELIST) 
#### 查询含有Debug信息的模块列表(SHOW DEBUG MODULELIST) 


[](None)功能说明 

该命令用于查询其归属的NFS内含有调测信息的模块列表。当运维人员需要收集或者清除指定模块的调试信息时，可以执行该命令查询含有调测信息的模块名称。 


[](None)注意事项 

无。 


[](None)输出参数说明 


[](None)标识|名称|类型|说明
---|---|---|---
MODULE_NAME|模块名|参数可选性: 必选参数类型: 字符串参数范围: 1-47|该参数用于表示支持统计信息的模块名称。
MODULE_INST|模块实例数|参数可选性: 必选参数类型: 数字参数范围: 0-4294967295|该参数用于表示支持统计信息的模块实例数。




[](None)命令举例 


`
查询某个NFS中含有调试统计信息的模块列表。
 SHOW DEBUG MODULELIST

------CommonS_TMSP_0--------
模块名         模块实例数
ROSNG_ADAPT    1
ROSNG_ARCH     1
记录数：2

执行成功耗时: 0.259 秒

` 


#### 收集模块内部统计信息(COLLECT DEBUG INFO) 
#### 收集模块内部统计信息(COLLECT DEBUG INFO) 


[](None)功能说明 

该命令用于收集其归属NFS内模块的调测信息。当需要查看指定模块的调测信息用于判断系统的运行情况时，需要使用该命令。运维人员通过该命令触发内部信息收集，随后系统将调测信息打包存放到指定的路径上。在收集完成后，运维人员可以从命令执行结果中的SFTP URL获取调测信息。 


[](None)注意事项 

该命令适用于业务性能数据一键采集场景，只能由中兴通讯技术支持人员执行。


[](None)输入参数说明 


[](None)标识|名称|类型|说明
---|---|---|---
MODULE_NAME|模块名称|参数可选性: 任选参数类型: 字符串参数范围: 1-47|该参数用于表示收集调测信息的模块名称。各参数选项的含义是：默认为空：表示收集NFS内所有支持该功能的模块的调测信息。非空：表示收集该模块的调测信息，可由SHOW DEBUG MODULELIST命令获取可收集调测信息的模块名称。
CLEAR|立即清理|参数可选性: 任选参数类型: 枚举，参见枚举定义参数范围: 0-1默认值: NO|该参数用于设置调测信息采集完成后，是否立即清理采集的调测信息。各参数选项的含义是：YES：清理。在自动循环采集场景，为确保每次采集信息更准确，可以选择该选项。NO：不清理。在普通单次采集场景，可以选择该选项。
BATCH_SIZE|批次大小|参数可选性: 任选参数类型: 数字参数范围: 1-100默认值: 10|该参数用于设置同时进行调测信息采集的客户端个数。例如注册了50个一键采集的客户端，设置批次大小为10，则该50个客户端会被分成5批进行采集。本参数默认为10。




[](None)输出参数说明 


[](None)标识|名称|类型|说明
---|---|---|---
PROCESS|完成百分比|参数可选性: 任选参数类型: 数字参数范围: 0-4294967295|该参数用于表示命令执行完成百分比。
PROCESSINFO|进度信息|参数可选性: 任选参数类型: 字符串参数范围: 0-47|该参数用于表示命令执行进度信息。
MODULE_NUMBER|模块实例数量|参数可选性: 任选参数类型: 数字参数范围: 0-4294967295|该参数用于表示采集的模块实例总数量。
SUCCESS_NUMBER|成功数量|参数可选性: 任选参数类型: 数字参数范围: 0-4294967295|该参数用于表示采集成功的模块数量。
FAILED_NUMBER|失败数量|参数可选性: 任选参数类型: 数字参数范围: 0-4294967295|该参数用于表示采集失败的模块数量，该参数不影响命令执行完成比和命令执行进度信息。
URL|收集文件路径|参数可选性: 任选参数类型: 字符串参数范围: 0-1024|该参数用于表示保存采集文件的路径，运维人员可以从该路径获取调测信息文件。




[](None)命令举例 


`
收集名称为ROSNG_ADAPT的模块的调测信息。 COLLECT DEBUG INFO:MODULE_NAME="ROSNG_ADAPT"
` 


#### 清理模块内部统计信息(CLEAR DEBUG INFO) 
#### 清理模块内部统计信息(CLEAR DEBUG INFO) 


[](None)功能说明 

该命令用于清理其归属NFS内模块的调测信息。当需要获取新的调测信息前，先执行该命令。 


[](None)注意事项 

获取新的调测信息前可以先执行该命令，该命令返回的“失败数量”为非0则需要联系中兴通讯技术人员支持；为0则可获取新的调测信息。 


[](None)输入参数说明 


[](None)标识|名称|类型|说明
---|---|---|---
MODULE_NAME|模块名称|参数可选性: 任选参数类型: 字符串参数范围: 1-47|该参数用于表示需要清除调测信息的模块名称。该参数选项的含义是：默认为空：表示清除NFS内所有的调测信息。非空：表示清除指定模块的调测信息，可由 SHOW DEBUG MODULELIST命令获取模块名称。




[](None)输出参数说明 


[](None)标识|名称|类型|说明
---|---|---|---
MODULE_NUMBER|模块实例数量|参数可选性: 必选参数类型: 数字参数范围: 0-4294967295|该参数用于表示清理的模块实例总数量。
SUCCESS_NUMBER|成功数量|参数可选性: 必选参数类型: 数字参数范围: 0-4294967295|该参数用于表示清理成功的模块实例数量。
FAILED_NUMBER|失败数量|参数可选性: 必选参数类型: 数字参数范围: 0-4294967295|该参数用于表示清理失败的模块实例数量。




[](None)命令举例 


`
清理名称为ROSNG_ADAPT的模块的调测信息。

CLEAR DEBUG INFO:MODULE_NAME="ROSNG_ADAPT"
` 


# DNS配置管理 
# DNS配置管理 


[](None)背景知识 


DNS（Domain Name System，域名系统）是互联网的一项服务。它作为将域名和IP地址相互映射的一个分布式数据库，能够使用户更方便地访问互联网。 

域名可将一个IP地址关联到一组有意义的字符上去。用户访问一个网站的时候，既可以输入该网站的IP地址，也可以输入其域名，对访问而言，两者是等价的。 




[](None)功能说明 


DNS配置管理用于管理本网元DNS相关配置。 

可进行DNS全局配置、DNS检测模板配置、DNS服务器配置、DNS服务器组配置和DNS模板配置。 




[](None)子主题： 






## DNS全局配置 
## DNS全局配置 


[](None)背景知识 


DNS（Domain Name System，域名系统）作为5G核心网中的重要组成部分，需要处理各种各样的业务，因此需要考虑多种场景，通过修改全局配置，满足各种业务需求。 




[](None)功能说明 


该配置用于配置DNS客户端的全局参数。当DNS客户端支持与DNS服务器采用TCP或UDP连接方式进行DNS查询，需要对查询操作和查询结果进行规范处理时，执行该组命令。 




[](None)子主题： 






### 设置DNS全局参数(SET COMM DNS GLB) 
### 设置DNS全局参数(SET COMM DNS GLB) 


[](None)功能说明 

该命令用于设置DNS客户端的全局参数。当DNS客户端支持与DNS服务器采用TCP或UDP连接方式进行DNS查询，需要对查询操作和查询结果进行规范处理时，执行该命令。命令执行成功后，DNS客户端将根据配置进行DNS查询。 


[](None)注意事项 

无。


[](None)输入参数说明 


[](None)标识|名称|类型|说明
---|---|---|---
TCPTIMEOUT|TCP查询方式超时时长(秒)|参数可选性: 任选参数类型: 数字参数范围: 1-30|DNS客户端与服务器采用TCP连接时，DNS客户端等待服务器响应超时时长（秒）。
TCPALIVETIME|TCP保活时长(秒)|参数可选性: 任选参数类型: 数字参数范围: 0-7200|DNS客户端与服务器间发送保活消息的间隔时长（秒）。
UDPTIMEOUT|UDP查询超时时长(秒)|参数可选性: 任选参数类型: 数字参数范围: 1-8|该参数用于设置DNS UDP超时时长。当DNS客户端与服务器采用UDP连接时，客户端等待服务器响应的时长，当等待时间超过设定的时长后，认为服务器无响应。
UDPMAXRET|UDP查询重发次数|参数可选性: 任选参数类型: 数字参数范围: 1-3|该参数用于设置DNS UDP重发次数。DNS客户端与服务器采用UDP连接时，客户端等待服务器响应超时后的重发次数。若该值不为零，当客户端等待服务器响应超时后，会重发消息。
GLOBALTIMEOUT|查询的全局超时时长(秒)|参数可选性: 任选参数类型: 数字参数范围: 1-60|该参数用于设置DNS 查询全局超时时长。当DNS客户端开始查询任务时，整个查询任务的总超时时长，一旦超时，认为此次查询失败。
TTL|TTL(分钟)|参数可选性: 任选参数类型: 数字参数范围: 1-34560|该参数用于设置TTL，即DNS记录的生存时间。DNS域名解析记录在时长内有效，超时后AMF需要跟DNS服务器重新请求DNS域名解析记录。
CACHERRNUM|Cache记录最大数|参数可选性: 任选参数类型: 数字参数范围: 0-65535|该参数用于设置DNS本地cache记录的最大个数
SUPPNONASOACACHE|支持非权威服务器SOA记录缓存|参数可选性: 任选参数类型: 枚举，参见枚举定义参数范围: 0-1|该参数用来控制DNS客户端是否缓存非权威服务器SOA（Start of Authority，起始授权）记录。取值含义如下：不支持：不缓存非权威服务器SOA记录。 支持：缓存非权威服务器SOA记录。
NASOACACHERESPERC|非权威服务器SOA记录缓存抑制百分比|参数可选性: 任选参数类型: 数字参数范围: 1-100|该参数用于设置缓存的非权威SOA（Start of Authority，起始授权）记录数占总缓存记录数的百分比。
SUPPADDITIONAL|支持Additional|参数可选性: 任选参数类型: 枚举，参见枚举定义参数范围: 0-1|该参数用来控制是否支持接受DNS查询响应中的additional信息。




[](None)输出参数说明 


[](None)标识|名称|类型|说明
---|---|---|---
TCPTIMEOUT|TCP查询方式超时时长(秒)|参数可选性: 任选参数类型: 数字参数范围: 1-30|DNS客户端与服务器采用TCP连接时，DNS客户端等待服务器响应超时时长（秒）。
TCPALIVETIME|TCP保活时长(秒)|参数可选性: 任选参数类型: 数字参数范围: 0-7200|DNS客户端与服务器间发送保活消息的间隔时长（秒）。
UDPTIMEOUT|UDP查询超时时长(秒)|参数可选性: 任选参数类型: 数字参数范围: 1-8|该参数用于设置DNS UDP超时时长。当DNS客户端与服务器采用UDP连接时，客户端等待服务器响应的时长，当等待时间超过设定的时长后，认为服务器无响应。
UDPMAXRET|UDP查询重发次数|参数可选性: 任选参数类型: 数字参数范围: 1-3|该参数用于设置DNS UDP重发次数。DNS客户端与服务器采用UDP连接时，客户端等待服务器响应超时后的重发次数。若该值不为零，当客户端等待服务器响应超时后，会重发消息。
GLOBALTIMEOUT|查询的全局超时时长(秒)|参数可选性: 任选参数类型: 数字参数范围: 1-60|该参数用于设置DNS 查询全局超时时长。当DNS客户端开始查询任务时，整个查询任务的总超时时长，一旦超时，认为此次查询失败。
TTL|TTL(分钟)|参数可选性: 任选参数类型: 数字参数范围: 1-34560|该参数用于设置TTL，即DNS记录的生存时间。DNS域名解析记录在时长内有效，超时后AMF需要跟DNS服务器重新请求DNS域名解析记录。
CACHERRNUM|Cache记录最大数|参数可选性: 任选参数类型: 数字参数范围: 0-65535|该参数用于设置DNS本地cache记录的最大个数
SUPPNONASOACACHE|支持非权威服务器SOA记录缓存|参数可选性: 任选参数类型: 枚举，参见枚举定义参数范围: 0-1|该参数用来控制DNS客户端是否缓存非权威服务器SOA（Start of Authority，起始授权）记录。取值含义如下：不支持：不缓存非权威服务器SOA记录。 支持：缓存非权威服务器SOA记录。
NASOACACHERESPERC|非权威服务器SOA记录缓存抑制百分比|参数可选性: 任选参数类型: 数字参数范围: 1-100|该参数用于设置缓存的非权威SOA（Start of Authority，起始授权）记录数占总缓存记录数的百分比。
SUPPADDITIONAL|支持Additional|参数可选性: 任选参数类型: 枚举，参见枚举定义参数范围: 0-1|该参数用来控制是否支持接受DNS查询响应中的additional信息。




[](None)命令举例 


`
配置TCP查询方式超时时长为6秒、TCP保活时长为2秒、UDP查询超时时长为2秒、UDP重发次数为3次、全局超时时间为4秒、TTL为15分钟、Cache记录最大数为6000、支持非权威服务器SOA记录缓存为关闭、非权威服务器SOA记录缓存抑制百分比为80%、支持Additional为关闭。
SET COMM DNS GLB:TCPTIMEOUT=6,TCPALIVETIME=2,UDPTIMEOUT=2,UDPMAXRET=3,GLOBALTIMEOUT=4,TTL=15,CACHERRNUM=6000,SUPPNONASOACACHE="DISABLE",NASOACACHERESPERC=80,SUPPADDITIONAL="DISABLE";
` 


### 查询DNS全局参数(SHOW COMM DNS GLB) 
### 查询DNS全局参数(SHOW COMM DNS GLB) 


[](None)功能说明 

该命令用于查询DNS客户端的全局参数，包括TCP/UDP查询方式超时时长、TCP保活时长、UDP重发次数、TTL、Cache记录数设置等。当需要查询DNS客户端的全局参数时，执行该命令。 


[](None)注意事项 

无。


[](None)输出参数说明 


[](None)标识|名称|类型|说明
---|---|---|---
TCPTIMEOUT|TCP查询方式超时时长(秒)|参数可选性: 任选参数类型: 数字参数范围: 1-30|DNS客户端与服务器采用TCP连接时，DNS客户端等待服务器响应超时时长（秒）。
TCPALIVETIME|TCP保活时长(秒)|参数可选性: 任选参数类型: 数字参数范围: 0-7200|DNS客户端与服务器间发送保活消息的间隔时长（秒）。
UDPTIMEOUT|UDP查询超时时长(秒)|参数可选性: 任选参数类型: 数字参数范围: 1-8|该参数用于设置DNS UDP超时时长。当DNS客户端与服务器采用UDP连接时，客户端等待服务器响应的时长，当等待时间超过设定的时长后，认为服务器无响应。
UDPMAXRET|UDP查询重发次数|参数可选性: 任选参数类型: 数字参数范围: 1-3|该参数用于设置DNS UDP重发次数。DNS客户端与服务器采用UDP连接时，客户端等待服务器响应超时后的重发次数。若该值不为零，当客户端等待服务器响应超时后，会重发消息。
GLOBALTIMEOUT|查询的全局超时时长(秒)|参数可选性: 任选参数类型: 数字参数范围: 1-60|该参数用于设置DNS 查询全局超时时长。当DNS客户端开始查询任务时，整个查询任务的总超时时长，一旦超时，认为此次查询失败。
TTL|TTL(分钟)|参数可选性: 任选参数类型: 数字参数范围: 1-34560|该参数用于设置TTL，即DNS记录的生存时间。DNS域名解析记录在时长内有效，超时后AMF需要跟DNS服务器重新请求DNS域名解析记录。
CACHERRNUM|Cache记录最大数|参数可选性: 任选参数类型: 数字参数范围: 0-65535|该参数用于设置DNS本地cache记录的最大个数
SUPPNONASOACACHE|支持非权威服务器SOA记录缓存|参数可选性: 任选参数类型: 枚举，参见枚举定义参数范围: 0-1|该参数用来控制DNS客户端是否缓存非权威服务器SOA（Start of Authority，起始授权）记录。取值含义如下：不支持：不缓存非权威服务器SOA记录。 支持：缓存非权威服务器SOA记录。
NASOACACHERESPERC|非权威服务器SOA记录缓存抑制百分比|参数可选性: 任选参数类型: 数字参数范围: 1-100|该参数用于设置缓存的非权威SOA（Start of Authority，起始授权）记录数占总缓存记录数的百分比。
SUPPADDITIONAL|支持Additional|参数可选性: 任选参数类型: 枚举，参见枚举定义参数范围: 0-1|该参数用来控制是否支持接受DNS查询响应中的additional信息。




[](None)命令举例 


`
查询DNS全局参数。
SHOW COMM DNS GLB

(No.1) : SHOW COMM DNS GLB:
-----------------CommonS_HTTP_LB_0----------------
TCP查询方式超时时长(秒) TCP保活时长(秒)  UDP查询超时时长(秒)  UDP查询重发次数 查询的全局超时时长(秒) TTL(分钟)  Cache记录最大数  支持非权威服务器SOA记录缓存  非权威服务器SOA记录缓存抑制百分比  支持Additional
6                       2                2                    3            4        15         6000             关闭                         80                                 关闭
记录数：1

` 


## DNS检测模板配置 
## DNS检测模板配置 


[](None)背景知识 


DNS（Domain Name System）是一种组织成域层次结构的计算机和网络服务命名系统。DNS命名用于TCP/IP网络，如Internet，用来通过用户友好的名称定位计算机和服务。通过检测模板配置，从而指定DNS客户端对DNS服务器可用性的检测方式，满足业务需求。 




[](None)功能说明 


该配置用于设置DNS客户端与服务器之间的链路状态。当运维人员需要指定DNS客户端对DNS服务器可用性的检测方式时，使用该组命令。后续可通过[ADD COMM DNS SERVER](../mml/1229010.html)命令关联此检测模板。




[](None)子主题： 






### 新增DNS检测模板配置(ADD COMM DNS CHECKPROFILE) 
### 新增DNS检测模板配置(ADD COMM DNS CHECKPROFILE) 


[](None)功能说明 

该命令用于新增DNS检测模板配置。当需要指定DNS客户端对DNS服务器可用性的检测方式时，执行该命令。命令执行成功后，后续可通过[ADD COMM DNS SERVER](../mml/1229010.html)命令关联此检测模板。


[](None)注意事项 

当配置DNS检测方式为标准协议方式时，需要确认所有相连的DNS服务器都支持标准协议。


[](None)输入参数说明 


[](None)标识|名称|类型|说明
---|---|---|---
ID|DNS检测模板编号|参数可选性: 必选参数类型: 数字参数范围: 1-32|本参数用于设置DNS检测模板的编号
CHECKTYPE|检测方式|参数可选性: 任选参数类型: 枚举，参见枚举定义参数范围: 0-2默认值: PROTOCOL|本参数用于设置DNS客户端与服务器之间的链路的检测方式，分为如下三种：业务触发的检测是指在业务查询连续失败多次的情况下，将DNS服务器状态置为不可用。标准协议方式的检测是指按照DNS协议的要求，在查询请求中明确指示是状态请求。自定义查询的检测是指通过在DNS服务器端配置一个固定的业务不会使用的查询记录，DNS客户端会定时查询该记录，以确定DNS服务器状态。
FLTCHKTIME|可用服务器检测周期（秒）|参数可选性: 任选参数类型: 数字参数范围: 15-300默认值: 15|本参数用于设置状态可达的DNS服务器检测周期，即故障检测周期，当检测方式为标准协议或自定义查询时，必须配置。
CHKNUM|检测次数|参数可选性: 任选参数类型: 数字参数范围: 1-3默认值: 3|本参数用于设置状态从可达到不可达的检测次数，当检测方式为标准协议或自定义查询时，必须配置。
TIMEOUT|握手超时时长（秒）|参数可选性: 任选参数类型: 数字参数范围: 1-10默认值: 2|本参数用于设置检测消息的响应超时时长，超时之后重新发送检测消息，当检测方式为标准协议或自定义查询时，必须配置。
RECOVERTIME|故障服务器握手周期（秒）|参数可选性: 任选参数类型: 数字参数范围: 15-300默认值: 180|本参数用于设置状态不可达的DNS服务器的状态检测周期，即故障恢复周期，当检测方式为标准协议或自定义查询时，必须配置。
RESUMETIME|告警恢复时长（分钟）|参数可选性: 任选参数类型: 数字参数范围: 1-30默认值: 10|本参数用于设置检测方式为业务触发时，则故障发生时间和当前时间差大于等于本配置时，自动恢复服务器为可用，即将告警进行恢复，后继业务可以选择该DNS服务器。
QNAME|查询名称|参数可选性: 任选参数类型: 字符串参数范围: 0-99|本参数用于设置检测方式为自定义查询方式时的查询字符串。当检测方式为自定义查询时，必须配置本参数。




[](None)输出参数说明 


[](None)标识|名称|类型|说明
---|---|---|---
ID|DNS检测模板编号|参数可选性: 任选参数类型: 数字参数范围: 1-32|本参数用于设置DNS检测模板的编号
CHECKTYPE|检测方式|参数可选性: 任选参数类型: 枚举，参见枚举定义参数范围: 0-2默认值: PROTOCOL|本参数用于设置DNS客户端与服务器之间的UDP链路的检测方式，分为如下三种：业务触发的检测是指在业务查询连续失败多次的情况下，将DNS服务器状态置为不可用。标准协议方式的检测。是指按照DNS协议的要求，在查询请求中明确指示是状态请求。自定义查询的检测是指通过在DNS服务器端配置一个固定的业务不会使用的查询记录，DNS客户端会定时查询该记录，以确定DNS服务器状态。
FLTCHKTIME|可用服务器检测周期（秒）|参数可选性: 任选参数类型: 数字参数范围: 15-300默认值: 15|本参数用于设置状态可达的DNS服务器检测周期，即故障检测周期，当检测方式为标准协议或自定义查询时，必须配置。
CHKNUM|检测次数|参数可选性: 任选参数类型: 数字参数范围: 1-3默认值: 3|本参数用于设置状态从可达到不可达的检测次数，当检测方式为标准协议或自定义查询时，必须配置。
TIMEOUT|握手超时时长（秒）|参数可选性: 任选参数类型: 数字参数范围: 1-10默认值: 2|本参数用于设置检测消息的响应超时时长，超时之后重新发送检测消息，当检测方式为标准协议或自定义查询时，必须配置。
RECOVERTIME|故障服务器握手周期（秒）|参数可选性: 任选参数类型: 数字参数范围: 15-300默认值: 180|本参数用于设置状态不可达的DNS服务器的状态检测周期，即故障恢复周期，当检测方式为标准协议或自定义查询时，必须配置。
RESUMETIME|告警恢复时长（分钟）|参数可选性: 任选参数类型: 数字参数范围: 1-30默认值: 10|本参数用于设置检测方式为业务触发时，则故障发生时间和当前时间差大于等于本配置时，自动恢复服务器为可用，即将告警进行恢复，后继业务可以选择该DNS服务器。
QNAME|查询名称|参数可选性: 任选参数类型: 字符串参数范围: 0-99|本参数用于设置检测方式为自定义查询方式时的查询字符串。




[](None)命令举例 


`
新增DNS检测模板配置，编号为1，检测方式为标准协议类型，可用服务器检测周期为150秒，检测次数为3次。
ADD COMM DNS CHECKPROFILE:ID=1,CHECKTYPE="PROTOCOL",FLTCHKTIME=150,CHKNUM=3;
` 


### 修改DNS检测模板配置(SET COMM DNS CHECKPROFILE) 
### 修改DNS检测模板配置(SET COMM DNS CHECKPROFILE) 


[](None)功能说明 

该命令用于修改DNS检测模板配置。当需要指定DNS客户端对DNS服务器可用性的检测方式时，使用该命令。命令执行成功后，后续可通过[ADD COMM DNS SERVER](../mml/1229010.html)命令关联此检测模板。


[](None)注意事项 

当配置DNS检测方式为标准协议方式时，需要确认所有相连的DNS服务器都支持标准协议。


[](None)输入参数说明 


[](None)标识|名称|类型|说明
---|---|---|---
ID|DNS检测模板编号|参数可选性: 必选参数类型: 数字参数范围: 1-32|本参数用于设置DNS检测模板的编号
CHECKTYPE|检测方式|参数可选性: 任选参数类型: 枚举，参见枚举定义参数范围: 0-2默认值: PROTOCOL|本参数用于设置DNS客户端与服务器之间的链路的检测方式，分为如下三种：业务触发的检测是指在业务查询连续失败多次的情况下，将DNS服务器状态置为不可用。标准协议方式的检测是指按照DNS协议的要求，在查询请求中明确指示是状态请求。自定义查询的检测是指通过在DNS服务器端配置一个固定的业务不会使用的查询记录，DNS客户端会定时查询该记录，以确定DNS服务器状态。
FLTCHKTIME|可用服务器检测周期（秒）|参数可选性: 任选参数类型: 数字参数范围: 15-300默认值: 15|本参数用于设置状态可达的DNS服务器检测周期，即故障检测周期，当检测方式为标准协议或自定义查询时，必须配置。
CHKNUM|检测次数|参数可选性: 任选参数类型: 数字参数范围: 1-3默认值: 3|本参数用于设置状态从可达到不可达的检测次数，当检测方式为标准协议或自定义查询时，必须配置。
TIMEOUT|握手超时时长（秒）|参数可选性: 任选参数类型: 数字参数范围: 1-10默认值: 2|本参数用于设置检测消息的响应超时时长，超时之后重新发送检测消息，当检测方式为标准协议或自定义查询时，必须配置。
RECOVERTIME|故障服务器握手周期（秒）|参数可选性: 任选参数类型: 数字参数范围: 15-300默认值: 180|本参数用于设置状态不可达的DNS服务器的状态检测周期，即故障恢复周期，当检测方式为标准协议或自定义查询时，必须配置。
RESUMETIME|告警恢复时长（分钟）|参数可选性: 任选参数类型: 数字参数范围: 1-30默认值: 10|本参数用于设置检测方式为业务触发时，则故障发生时间和当前时间差大于等于本配置时，自动恢复服务器为可用，即将告警进行恢复，后继业务可以选择该DNS服务器。
QNAME|查询名称|参数可选性: 任选参数类型: 字符串参数范围: 0-99|本参数用于设置检测方式为自定义查询方式时的查询字符串。当检测方式为自定义查询时，必须配置本参数。




[](None)输出参数说明 


[](None)标识|名称|类型|说明
---|---|---|---
ID|DNS检测模板编号|参数可选性: 任选参数类型: 数字参数范围: 1-32|本参数用于设置DNS检测模板的编号
CHECKTYPE|检测方式|参数可选性: 任选参数类型: 枚举，参见枚举定义参数范围: 0-2默认值: PROTOCOL|本参数用于设置DNS客户端与服务器之间的UDP链路的检测方式，分为如下三种：业务触发的检测是指在业务查询连续失败多次的情况下，将DNS服务器状态置为不可用。标准协议方式的检测。是指按照DNS协议的要求，在查询请求中明确指示是状态请求。自定义查询的检测是指通过在DNS服务器端配置一个固定的业务不会使用的查询记录，DNS客户端会定时查询该记录，以确定DNS服务器状态。
FLTCHKTIME|可用服务器检测周期（秒）|参数可选性: 任选参数类型: 数字参数范围: 15-300默认值: 15|本参数用于设置状态可达的DNS服务器检测周期，即故障检测周期，当检测方式为标准协议或自定义查询时，必须配置。
CHKNUM|检测次数|参数可选性: 任选参数类型: 数字参数范围: 1-3默认值: 3|本参数用于设置状态从可达到不可达的检测次数，当检测方式为标准协议或自定义查询时，必须配置。
TIMEOUT|握手超时时长（秒）|参数可选性: 任选参数类型: 数字参数范围: 1-10默认值: 2|本参数用于设置检测消息的响应超时时长，超时之后重新发送检测消息，当检测方式为标准协议或自定义查询时，必须配置。
RECOVERTIME|故障服务器握手周期（秒）|参数可选性: 任选参数类型: 数字参数范围: 15-300默认值: 180|本参数用于设置状态不可达的DNS服务器的状态检测周期，即故障恢复周期，当检测方式为标准协议或自定义查询时，必须配置。
RESUMETIME|告警恢复时长（分钟）|参数可选性: 任选参数类型: 数字参数范围: 1-30默认值: 10|本参数用于设置检测方式为业务触发时，则故障发生时间和当前时间差大于等于本配置时，自动恢复服务器为可用，即将告警进行恢复，后继业务可以选择该DNS服务器。
QNAME|查询名称|参数可选性: 任选参数类型: 字符串参数范围: 0-99|本参数用于设置检测方式为自定义查询方式时的查询字符串。




[](None)命令举例 


`
修改编号为1的DNS检测模板配置，修改检测方式为标准协议类型，可用服务器检测周期为150秒，检测次数为3次。
SET COMM DNS CHECKPROFILE:ID=1,CHECKTYPE="PROTOCOL",FLTCHKTIME=150,CHKNUM=2;
` 


### 删除DNS检测模板配置(DEL COMM DNS CHECKPROFILE) 
### 删除DNS检测模板配置(DEL COMM DNS CHECKPROFILE) 


[](None)功能说明 

该命令用于删除DNS检测模板配置。当不再需要此检测模板时，执行该命令。 


[](None)注意事项 

如果被删除的DNSDNS检测模板，已经被 [ADD COMM DNS SERVER](../mml/1229010.html) 命令引用，则不能通过本命令删除。


[](None)输入参数说明 


[](None)标识|名称|类型|说明
---|---|---|---
ID|DNS检测模板编号|参数可选性: 必选参数类型: 数字参数范围: 1-32|本参数用于设置DNS检测模板的编号




[](None)输出参数说明 


[](None)标识|名称|类型|说明
---|---|---|---
ID|DNS检测模板编号|参数可选性: 任选参数类型: 数字参数范围: 1-32|本参数用于设置DNS检测模板的编号
CHECKTYPE|检测方式|参数可选性: 任选参数类型: 枚举，参见枚举定义参数范围: 0-2默认值: PROTOCOL|本参数用于设置DNS客户端与服务器之间的UDP链路的检测方式，分为如下三种：业务触发的检测是指在业务查询连续失败多次的情况下，将DNS服务器状态置为不可用。标准协议方式的检测。是指按照DNS协议的要求，在查询请求中明确指示是状态请求。自定义查询的检测是指通过在DNS服务器端配置一个固定的业务不会使用的查询记录，DNS客户端会定时查询该记录，以确定DNS服务器状态。
FLTCHKTIME|可用服务器检测周期（秒）|参数可选性: 任选参数类型: 数字参数范围: 15-300默认值: 15|本参数用于设置状态可达的DNS服务器检测周期，即故障检测周期，当检测方式为标准协议或自定义查询时，必须配置。
CHKNUM|检测次数|参数可选性: 任选参数类型: 数字参数范围: 1-3默认值: 3|本参数用于设置状态从可达到不可达的检测次数，当检测方式为标准协议或自定义查询时，必须配置。
TIMEOUT|握手超时时长（秒）|参数可选性: 任选参数类型: 数字参数范围: 1-10默认值: 2|本参数用于设置检测消息的响应超时时长，超时之后重新发送检测消息，当检测方式为标准协议或自定义查询时，必须配置。
RECOVERTIME|故障服务器握手周期（秒）|参数可选性: 任选参数类型: 数字参数范围: 15-300默认值: 180|本参数用于设置状态不可达的DNS服务器的状态检测周期，即故障恢复周期，当检测方式为标准协议或自定义查询时，必须配置。
RESUMETIME|告警恢复时长（分钟）|参数可选性: 任选参数类型: 数字参数范围: 1-30默认值: 10|本参数用于设置检测方式为业务触发时，则故障发生时间和当前时间差大于等于本配置时，自动恢复服务器为可用，即将告警进行恢复，后继业务可以选择该DNS服务器。
QNAME|查询名称|参数可选性: 任选参数类型: 字符串参数范围: 0-99|本参数用于设置检测方式为自定义查询方式时的查询字符串。




[](None)命令举例 


`
删除编号为1的DNS检测模板配置。
DEL COMM DNS CHECKPROFILE:ID=1;
` 


### 查询DNS检测模板配置(SHOW COMM DNS CHECKPROFILE) 
### 查询DNS检测模板配置(SHOW COMM DNS CHECKPROFILE) 


[](None)功能说明 

该命令用于查询DNS检测模板配置，包括检测方式、检测周期、检测次数、检测查询名称等配置信息。 


[](None)注意事项 

无。


[](None)输入参数说明 


[](None)标识|名称|类型|说明
---|---|---|---
ID|DNS检测模板编号|参数可选性: 任选参数类型: 数字参数范围: 1-32|本参数用于设置DNS检测模板的编号




[](None)输出参数说明 


[](None)标识|名称|类型|说明
---|---|---|---
ID|DNS检测模板编号|参数可选性: 任选参数类型: 数字参数范围: 1-32|本参数用于设置DNS检测模板的编号
CHECKTYPE|检测方式|参数可选性: 任选参数类型: 枚举，参见枚举定义参数范围: 0-2默认值: PROTOCOL|本参数用于设置DNS客户端与服务器之间的UDP链路的检测方式，分为如下三种：业务触发的检测是指在业务查询连续失败多次的情况下，将DNS服务器状态置为不可用。标准协议方式的检测。是指按照DNS协议的要求，在查询请求中明确指示是状态请求。自定义查询的检测是指通过在DNS服务器端配置一个固定的业务不会使用的查询记录，DNS客户端会定时查询该记录，以确定DNS服务器状态。
FLTCHKTIME|可用服务器检测周期（秒）|参数可选性: 任选参数类型: 数字参数范围: 15-300默认值: 15|本参数用于设置状态可达的DNS服务器检测周期，即故障检测周期，当检测方式为标准协议或自定义查询时，必须配置。
CHKNUM|检测次数|参数可选性: 任选参数类型: 数字参数范围: 1-3默认值: 3|本参数用于设置状态从可达到不可达的检测次数，当检测方式为标准协议或自定义查询时，必须配置。
TIMEOUT|握手超时时长（秒）|参数可选性: 任选参数类型: 数字参数范围: 1-10默认值: 2|本参数用于设置检测消息的响应超时时长，超时之后重新发送检测消息，当检测方式为标准协议或自定义查询时，必须配置。
RECOVERTIME|故障服务器握手周期（秒）|参数可选性: 任选参数类型: 数字参数范围: 15-300默认值: 180|本参数用于设置状态不可达的DNS服务器的状态检测周期，即故障恢复周期，当检测方式为标准协议或自定义查询时，必须配置。
RESUMETIME|告警恢复时长（分钟）|参数可选性: 任选参数类型: 数字参数范围: 1-30默认值: 10|本参数用于设置检测方式为业务触发时，则故障发生时间和当前时间差大于等于本配置时，自动恢复服务器为可用，即将告警进行恢复，后继业务可以选择该DNS服务器。
QNAME|查询名称|参数可选性: 任选参数类型: 字符串参数范围: 0-99|本参数用于设置检测方式为自定义查询方式时的查询字符串。




[](None)命令举例 


`
查询DNS检测模板配置，不输入参数查询所有DNS检测模板配置。
SHOW COMM DNS CHECKPROFILE

(No.1) :SHOW COMM DNS CHECKPROFILE:
-----------------CommonS_HTTP_LB_0----------------
DNS检测模板编号 检测方式     可用服务器检测周期（秒） 检测次数  握手超时时长（秒） 故障服务器握手周期（秒） 告警恢复时长（分钟）   查询名称
1               自定义查询   15                       3         8                  5                        10                     test.zte.com.cn
记录数：1

` 


## DNS服务器配置 
## DNS服务器配置 


[](None)背景知识 


DNS服务器（Domain Name System Server）：存储域名对应的资源信息并响应客户端的查询请求。 




[](None)功能说明 


该配置用于配置DNS客户端和服务端地址、传输协议类型、VRFID和服务器名称等信息。当需要启用DNS功能时，通过该组命令，DNS客户端可以向配置的DNS服务器进行查询。  




[](None)子主题： 






### 新增DNS服务器配置(ADD COMM DNS SERVER) 
### 新增DNS服务器配置(ADD COMM DNS SERVER) 


[](None)功能说明 

该命令用于增加DNS服务器配置，包括配置DNS客户端和服务端地址、传输协议类型、VRFID和服务器名称等信息。当需要向DNS服务器进行DNS查询时，执行该命令。命令执行成功后，DNS客户端可以向配置的DNS服务器进行查询。  


[](None)注意事项 

无。


[](None)输入参数说明 


[](None)标识|名称|类型|说明
---|---|---|---
ID|DNS服务器编号|参数可选性: 必选参数类型: 数字参数范围: 1-32|本参数用于设置DNS服务器的内部编号，便于索引和进行分组配置。
NAME|DNS服务器名称|参数可选性: 任选参数类型: 字符串参数范围: 0-50|本参数用于设置DNS服务器名称。
SERVERIPADDR|DNS服务器IP地址|参数可选性: 必选参数类型: 字符串|本参数用于设置DNS服务器地址，可以是IPv4地址也可以是IPv6地址。
SERVERPORT|DNS服务器端口|参数可选性: 必选参数类型: 数字参数范围: 1-65535|本参数用于设置DNS服务器端口。
CLIENTIPADDR|DNS客户端IP地址|参数可选性: 必选参数类型: 字符串|本参数用于设置DNS客户端地址，和本配置中DNS服务器IP地址需要为同一种类型，即DNS客户端IP地址和DNS服务器IP地址必须同时为IPv4或IPv6地址。
CLIENTSTARTPORT|DNS客户端起始端口|参数可选性: 必选参数类型: 数字参数范围: 1-65535|本参数用于设置DNS客户端起始端口。
CLIENTENDPORT|DNS客户端终止端口|参数可选性: 必选参数类型: 数字参数范围: 1-65535|本参数用于设置DNS客户端终止端口，必须比客户端起始端口大400以上。
PROTOCOL|传输协议类型|参数可选性: 任选参数类型: 枚举，参见枚举定义默认值: UDP|本参数用于设置传输协议类型，可配置为UDP或TCP。
VRFID|VRFID|参数可选性: 任选参数类型: 数字参数范围: 0-254默认值: 0|本参数用于设置VRFID，是在VRF配置中已经配置的VRFID。当需要让DNS接口的信令/数据在某个特定的虚拟路由域内传输时设置。
DETECTPROFILE|检测模板编号|参数可选性: 任选参数类型: 数字参数范围: 1-32|本参数用于设置引用的DNS检测模板编号。
TCPLINKCTRL|TCP链接数控制|参数可选性: 任选参数类型: 枚举，参见枚举定义|本参数用于设置是否控制DNS客户端向服务器建立的TCP总链接数。
DSCP|DSCP标签值|参数可选性: 任选参数类型: 数字参数范围: 0-63默认值: 0|本参数用于设置DSCP标签值。
RECURSIONDESIRED|期望递归值|参数可选性: 任选参数类型: 数字参数范围: 0-1默认值: 1|本参数用于设置DNS查询的期望递归标志值。




[](None)输出参数说明 


[](None)标识|名称|类型|说明
---|---|---|---
ID|DNS服务器编号|参数可选性: 任选参数类型: 数字参数范围: 1-32|本参数用于设置DNS服务器的内部编号，便于索引和进行分组配置。
NAME|DNS服务器名称|参数可选性: 任选参数类型: 字符串参数范围: 0-50|本参数用于设置DNS服务器名称。
SERVERIPADDR|DNS服务器IP地址|参数可选性: 任选参数类型: 字符串|本参数用于设置DNS服务器地址，可以是IPv4地址也可以是IPv6地址。
SERVERPORT|DNS服务器端口|参数可选性: 任选参数类型: 数字参数范围: 1-65535|本参数用于设置DNS服务器端口。
CLIENTIPADDR|DNS客户端IP地址|参数可选性: 任选参数类型: 字符串|本参数用于设置DNS客户端地址，和本配置中DNS服务器IP地址需要为同一种类型，即DNS客户端IP地址和DNS服务器IP地址都是IPv4或都是IPv6地址。
CLIENTSTARTPORT|DNS客户端起始端口|参数可选性: 任选参数类型: 数字参数范围: 1-65535|本参数用于设置DNS客户端起始端口。
CLIENTENDPORT|DNS客户端终止端口|参数可选性: 任选参数类型: 数字参数范围: 1-65535|本参数用于设置DNS客户端终止端口，必须比客户端起始端口大400以上。
PROTOCOL|传输协议类型|参数可选性: 任选参数类型: 枚举，参见枚举定义默认值: UDP|本参数用于设置传输协议类型，可配置为UDP或TCP。
VRFID|VRFID|参数可选性: 任选参数类型: 数字参数范围: 0-254默认值: 0|本参数用于设置VRFID，是在VRF配置中已经配置的VRFID。当需要让DNS接口的信令/数据在某个特定的虚拟路由域内传输时设置。
DETECTPROFILE|检测模板编号|参数可选性: 任选参数类型: 数字参数范围: 1-32|本参数用于设置引用的DNS检测模板编号。
TCPLINKCTRL|TCP链接数控制|参数可选性: 任选参数类型: 枚举，参见枚举定义|本参数用于设置是否控制DNS客户端向服务器建立的TCP总链接数。
DSCP|DSCP标签值|参数可选性: 任选参数类型: 数字参数范围: 0-63默认值: 0|本参数用于设置DSCP标签值。
RECURSIONDESIRED|期望递归值|参数可选性: 任选参数类型: 数字参数范围: 0-1默认值: 1|本参数用于设置DNS查询的期望递归标志值。




[](None)命令举例 


`
新增DNS服务器配置，服务器编号为1,服务器名称为lte.zte.com.cn，DNS服务器IP地址为172.16.12.101，服务器端口为53，DNS客户端IP地址为100.51.0.52，客户端起始端口为1000，终止端口为2000，传输协议类型为UDP，VRFID为202，检测模板编号为1,TCP链接数控制为关闭，DSCP标签为1。
ADD COMM DNS SERVER:ID=1,NAME="lte.zte.com.cn",SERVERIPADDR="172.16.12.101",SERVERPORT=53,CLIENTIPADDR="100.51.0.52",CLIENTSTARTPORT=1000,CLIENTENDPORT=2000,PROTOCOL="UDP",VRFID=202,DETECTPROFILE=1,TCPLINKCTRL="DISABLE",DSCP=1;
` 


### 修改DNS服务器配置(SET COMM DNS SERVER) 
### 修改DNS服务器配置(SET COMM DNS SERVER) 


[](None)功能说明 

该命令用于修改DNS服务器配置，包括配置DNS客户端和服务端地址、传输协议类型、VRFID和服务器名称等信息。当需要向DNS服务器进行DNS查询时，执行该命令。命令执行成功后，DNS客户端可以向配置的DNS服务器进行查询。  


[](None)注意事项 

无。


[](None)输入参数说明 


[](None)标识|名称|类型|说明
---|---|---|---
ID|DNS服务器编号|参数可选性: 必选参数类型: 数字参数范围: 1-32|本参数用于设置DNS服务器的内部编号，便于索引和进行分组配置。
NAME|DNS服务器名称|参数可选性: 任选参数类型: 字符串参数范围: 0-50|本参数用于设置DNS服务器名称。
SERVERIPADDR|DNS服务器IP地址|参数可选性: 任选参数类型: 字符串|本参数用于设置DNS服务器地址，可以是IPv4地址也可以是IPv6地址。
SERVERPORT|DNS服务器端口|参数可选性: 任选参数类型: 数字参数范围: 1-65535|本参数用于设置DNS服务器端口。
CLIENTIPADDR|DNS客户端IP地址|参数可选性: 任选参数类型: 字符串|本参数用于设置DNS客户端地址，和本配置中DNS服务器IP地址需要为同一种类型，即DNS客户端IP地址和DNS服务器IP地址必须同时为IPv4或IPv6地址。
CLIENTSTARTPORT|DNS客户端起始端口|参数可选性: 任选参数类型: 数字参数范围: 1-65535|本参数用于设置DNS客户端起始端口。
CLIENTENDPORT|DNS客户端终止端口|参数可选性: 任选参数类型: 数字参数范围: 1-65535|本参数用于设置DNS客户端终止端口，必须比客户端起始端口大400以上。
PROTOCOL|传输协议类型|参数可选性: 任选参数类型: 枚举，参见枚举定义默认值: UDP|本参数用于设置传输协议类型，可配置为UDP或TCP。
VRFID|VRFID|参数可选性: 任选参数类型: 数字参数范围: 0-254默认值: 0|本参数用于设置VRFID，是在VRF配置中已经配置的VRFID。当需要让DNS接口的信令/数据在某个特定的虚拟路由域内传输时设置。
DETECTPROFILE|检测模板编号|参数可选性: 任选参数类型: 数字参数范围: 1-32|本参数用于设置引用的DNS检测模板编号。
TCPLINKCTRL|TCP链接数控制|参数可选性: 任选参数类型: 枚举，参见枚举定义|本参数用于设置是否控制DNS客户端向服务器建立的TCP总链接数。
DSCP|DSCP标签值|参数可选性: 任选参数类型: 数字参数范围: 0-63默认值: 0|本参数用于设置DSCP标签值。
RECURSIONDESIRED|期望递归值|参数可选性: 任选参数类型: 数字参数范围: 0-1默认值: 1|本参数用于设置DNS查询的期望递归标志值。




[](None)输出参数说明 


[](None)标识|名称|类型|说明
---|---|---|---
ID|DNS服务器编号|参数可选性: 任选参数类型: 数字参数范围: 1-32|本参数用于设置DNS服务器的内部编号，便于索引和进行分组配置。
NAME|DNS服务器名称|参数可选性: 任选参数类型: 字符串参数范围: 0-50|本参数用于设置DNS服务器名称。
SERVERIPADDR|DNS服务器IP地址|参数可选性: 任选参数类型: 字符串|本参数用于设置DNS服务器地址，可以是IPv4地址也可以是IPv6地址。
SERVERPORT|DNS服务器端口|参数可选性: 任选参数类型: 数字参数范围: 1-65535|本参数用于设置DNS服务器端口。
CLIENTIPADDR|DNS客户端IP地址|参数可选性: 任选参数类型: 字符串|本参数用于设置DNS客户端地址，和本配置中DNS服务器IP地址需要为同一种类型，即DNS客户端IP地址和DNS服务器IP地址都是IPv4或都是IPv6地址。
CLIENTSTARTPORT|DNS客户端起始端口|参数可选性: 任选参数类型: 数字参数范围: 1-65535|本参数用于设置DNS客户端起始端口。
CLIENTENDPORT|DNS客户端终止端口|参数可选性: 任选参数类型: 数字参数范围: 1-65535|本参数用于设置DNS客户端终止端口，必须比客户端起始端口大400以上。
PROTOCOL|传输协议类型|参数可选性: 任选参数类型: 枚举，参见枚举定义默认值: UDP|本参数用于设置传输协议类型，可配置为UDP或TCP。
VRFID|VRFID|参数可选性: 任选参数类型: 数字参数范围: 0-254默认值: 0|本参数用于设置VRFID，是在VRF配置中已经配置的VRFID。当需要让DNS接口的信令/数据在某个特定的虚拟路由域内传输时设置。
DETECTPROFILE|检测模板编号|参数可选性: 任选参数类型: 数字参数范围: 1-32|本参数用于设置引用的DNS检测模板编号。
TCPLINKCTRL|TCP链接数控制|参数可选性: 任选参数类型: 枚举，参见枚举定义|本参数用于设置是否控制DNS客户端向服务器建立的TCP总链接数。
DSCP|DSCP标签值|参数可选性: 任选参数类型: 数字参数范围: 0-63默认值: 0|本参数用于设置DSCP标签值。
RECURSIONDESIRED|期望递归值|参数可选性: 任选参数类型: 数字参数范围: 0-1默认值: 1|本参数用于设置DNS查询的期望递归标志值。




[](None)命令举例 


`
修改DNS服务器编号为1的DNS服务器IP地址为172.16.12.102。
SET COMM DNS SERVER:ID=1,SERVERIPADDR=172.16.12.102;
` 


### 删除DNS服务器配置(DEL COMM DNS SERVER) 
### 删除DNS服务器配置(DEL COMM DNS SERVER) 


[](None)功能说明 

该命令用于根据DNS服务器编号删除DNS服务器配置。当不再需要使用此DNS服务器时，执行该命令。  


[](None)注意事项 

如果被删除的DNS服务器，已经被 [ADD COMM DNS SRVGRP](../mml/1229014.html) 命令引用，则不能通过本命令删除。


[](None)输入参数说明 


[](None)标识|名称|类型|说明
---|---|---|---
ID|DNS服务器编号|参数可选性: 必选参数类型: 数字参数范围: 1-32|本参数用于设置DNS服务器的内部编号，便于索引和进行分组配置。




[](None)输出参数说明 


[](None)标识|名称|类型|说明
---|---|---|---
ID|DNS服务器编号|参数可选性: 任选参数类型: 数字参数范围: 1-32|本参数用于设置DNS服务器的内部编号，便于索引和进行分组配置。
NAME|DNS服务器名称|参数可选性: 任选参数类型: 字符串参数范围: 0-50|本参数用于设置DNS服务器名称。
SERVERIPADDR|DNS服务器IP地址|参数可选性: 任选参数类型: 字符串|本参数用于设置DNS服务器地址，可以是IPv4地址也可以是IPv6地址。
SERVERPORT|DNS服务器端口|参数可选性: 任选参数类型: 数字参数范围: 1-65535|本参数用于设置DNS服务器端口。
CLIENTIPADDR|DNS客户端IP地址|参数可选性: 任选参数类型: 字符串|本参数用于设置DNS客户端地址，和本配置中DNS服务器IP地址需要为同一种类型，即DNS客户端IP地址和DNS服务器IP地址都是IPv4或都是IPv6地址。
CLIENTSTARTPORT|DNS客户端起始端口|参数可选性: 任选参数类型: 数字参数范围: 1-65535|本参数用于设置DNS客户端起始端口。
CLIENTENDPORT|DNS客户端终止端口|参数可选性: 任选参数类型: 数字参数范围: 1-65535|本参数用于设置DNS客户端终止端口，必须比客户端起始端口大400以上。
PROTOCOL|传输协议类型|参数可选性: 任选参数类型: 枚举，参见枚举定义默认值: UDP|本参数用于设置传输协议类型，可配置为UDP或TCP。
VRFID|VRFID|参数可选性: 任选参数类型: 数字参数范围: 0-254默认值: 0|本参数用于设置VRFID，是在VRF配置中已经配置的VRFID。当需要让DNS接口的信令/数据在某个特定的虚拟路由域内传输时设置。
DETECTPROFILE|检测模板编号|参数可选性: 任选参数类型: 数字参数范围: 1-32|本参数用于设置引用的DNS检测模板编号。
TCPLINKCTRL|TCP链接数控制|参数可选性: 任选参数类型: 枚举，参见枚举定义|本参数用于设置是否控制DNS客户端向服务器建立的TCP总链接数。
DSCP|DSCP标签值|参数可选性: 任选参数类型: 数字参数范围: 0-63默认值: 0|本参数用于设置DSCP标签值。
RECURSIONDESIRED|期望递归值|参数可选性: 任选参数类型: 数字参数范围: 0-1默认值: 1|本参数用于设置DNS查询的期望递归标志值。




[](None)命令举例 


`
删除DNS服务器编号为8的配置。 
DEL COMM DNS SERVER:ID=8;
` 


### 查询DNS服务器配置(SHOW COMM DNS SERVER) 
### 查询DNS服务器配置(SHOW COMM DNS SERVER) 


[](None)功能说明 

该命令用于查询DNS服务器配置，包括DNS客户端和服务端地址、传输协议类型、VRFID和服务器名称等信息。  


[](None)注意事项 

无。


[](None)输入参数说明 


[](None)标识|名称|类型|说明
---|---|---|---
ID|DNS服务器编号|参数可选性: 任选参数类型: 数字参数范围: 1-32|本参数用于设置DNS服务器的内部编号，便于索引和进行分组配置。




[](None)输出参数说明 


[](None)标识|名称|类型|说明
---|---|---|---
ID|DNS服务器编号|参数可选性: 任选参数类型: 数字参数范围: 1-32|本参数用于设置DNS服务器的内部编号，便于索引和进行分组配置。
NAME|DNS服务器名称|参数可选性: 任选参数类型: 字符串参数范围: 0-50|本参数用于设置DNS服务器名称。
SERVERIPADDR|DNS服务器IP地址|参数可选性: 任选参数类型: 字符串|本参数用于设置DNS服务器地址，可以是IPv4地址也可以是IPv6地址。
SERVERPORT|DNS服务器端口|参数可选性: 任选参数类型: 数字参数范围: 1-65535|本参数用于设置DNS服务器端口。
CLIENTIPADDR|DNS客户端IP地址|参数可选性: 任选参数类型: 字符串|本参数用于设置DNS客户端地址，和本配置中DNS服务器IP地址需要为同一种类型，即DNS客户端IP地址和DNS服务器IP地址都是IPv4或都是IPv6地址。
CLIENTSTARTPORT|DNS客户端起始端口|参数可选性: 任选参数类型: 数字参数范围: 1-65535|本参数用于设置DNS客户端起始端口。
CLIENTENDPORT|DNS客户端终止端口|参数可选性: 任选参数类型: 数字参数范围: 1-65535|本参数用于设置DNS客户端终止端口，必须比客户端起始端口大400以上。
PROTOCOL|传输协议类型|参数可选性: 任选参数类型: 枚举，参见枚举定义默认值: UDP|本参数用于设置传输协议类型，可配置为UDP或TCP。
VRFID|VRFID|参数可选性: 任选参数类型: 数字参数范围: 0-254默认值: 0|本参数用于设置VRFID，是在VRF配置中已经配置的VRFID。当需要让DNS接口的信令/数据在某个特定的虚拟路由域内传输时设置。
DETECTPROFILE|检测模板编号|参数可选性: 任选参数类型: 数字参数范围: 1-32|本参数用于设置引用的DNS检测模板编号。
TCPLINKCTRL|TCP链接数控制|参数可选性: 任选参数类型: 枚举，参见枚举定义|本参数用于设置是否控制DNS客户端向服务器建立的TCP总链接数。
DSCP|DSCP标签值|参数可选性: 任选参数类型: 数字参数范围: 0-63默认值: 0|本参数用于设置DSCP标签值。
RECURSIONDESIRED|期望递归值|参数可选性: 任选参数类型: 数字参数范围: 0-1默认值: 1|本参数用于设置DNS查询的期望递归标志值。




[](None)命令举例 


`
查询DNS服务器配置。 
SHOW COMM DNS SERVER

(No.10) : SHOW COMM DNS SERVER:
-----------------CommonS_HTTP_LB_0----------------
DNS服务器编号 DNS服务器名称 DNS服务器IP地址 DNS服务器端口 DNS客户端IP地址 DNS客户端起始端口 DNS客户端终止端口 传输协议类型 VRFID 检测模板编号 TCP链接数控制 DSCP标签值
1               server1         172.255.21.2    53              172.255.21.10   2000                3000                TCP             0       1               关闭            1
记录数：1                  

` 


## DNS服务器组配置 
## DNS服务器组配置 


[](None)背景知识 


DNS服务器（Domain Name System Server）：存储域名对应的资源信息并响应客户端的查询请求。 

DNS服务器组中配置多个DNS服务器，各个DNS服务器之间可选择负荷分担和主备两种模式。 




[](None)功能说明 


该配置用于配置服务器选择模式、DNS服务器编号、DNS服务器权重和DNS服务器组名称。在启用DNS功能时，通过该组命令，DNS客户端可以根据配置的选择模式向对应的DNS服务器发起查询。  




[](None)子主题： 






### 新增DNS服务器组配置(ADD COMM DNS SRVGRP) 
### 新增DNS服务器组配置(ADD COMM DNS SRVGRP) 


[](None)功能说明 

该命令用于增加DNS服务器组配置，包括服务器选择模式、DNS服务器编号、DNS服务器权重和DNS服务器组名称。当需要通过DNS服务器组进行DNS查询时，执行该命令。命令执行成功后，DNS客户端可以根据配置的选择模式向对应的DNS服务器发起查询。  


[](None)注意事项 

在配置本命令之前，需要先通过 [ADD COMM DNS SERVER](../mml/1229010.html) 命令配置DNS服务器。


[](None)输入参数说明 


[](None)标识|名称|类型|说明
---|---|---|---
ID|DNS服务器组编号|参数可选性: 必选参数类型: 数字参数范围: 1-8|本参数用于配置DNS服务器组编号，后续可以在 ADD COMM DNS PROFILE 命令中被引用。
SELECTMODE|选择模式|参数可选性: 必选参数类型: 枚举，参见枚举定义参数范围: 0-1默认值: BACKUP|本参数用于配置DNS服务器组中DNS服务器的选择模式，有负荷分担和主备两种选择模式。
SRVID1|DNS服务器1编号|参数可选性: 必选参数类型: 数字参数范围: 1-32|本参数用于配置DNS服务器1编号，可配置为 ADD COMM DNS SERVER 命令中已配置的值。
WEIGHT1|DNS服务器1权重|参数可选性: 必选参数类型: 数字参数范围: 1-100|本参数用于配置DNS服务器1在服务器组中的权重。当选择模式为负荷分担时有效。
SRVID2|DNS服务器2编号|参数可选性: 任选参数类型: 数字参数范围: 1-32|本参数用于配置DNS服务器2编号，可配置为 ADD COMM DNS SERVER 命令中已配置的值。
WEIGHT2|DNS服务器2权重|参数可选性: 任选参数类型: 数字参数范围: 0-100|本参数用于配置DNS服务器2在服务器组中的权重。当选择模式为负荷分担时有效。
SRVID3|DNS服务器3编号|参数可选性: 任选参数类型: 数字参数范围: 1-32|本参数用于配置DNS服务器3编号，可配置为 ADD COMM DNS SERVER 命令中已配置的值。
WEIGHT3|DNS服务器3权重|参数可选性: 任选参数类型: 数字参数范围: 0-100|本参数用于配置DNS服务器3在服务器组中的权重。当选择模式为负荷分担时有效。
SRVID4|DNS服务器4编号|参数可选性: 任选参数类型: 数字参数范围: 1-32|本参数用于配置DNS服务器4编号，可配置为 ADD COMM DNS SERVER 命令中已配置的值。
WEIGHT4|DNS服务器4权重|参数可选性: 任选参数类型: 数字参数范围: 0-100|本参数用于配置DNS服务器4在服务器组中的权重。当选择模式为负荷分担时有效。
NAME|DNS服务器组名称|参数可选性: 任选参数类型: 字符串参数范围: 0-50|本参数用于配置DNS服务器组名称，用于标识一个DNS服务器组。




[](None)输出参数说明 


[](None)标识|名称|类型|说明
---|---|---|---
ID|DNS服务器组编号|参数可选性: 任选参数类型: 数字参数范围: 1-8|本参数用于配置DNS服务器组编号，后续可以在 ADD COMM DNS PROFILE 命令中被引用。
SELECTMODE|选择模式|参数可选性: 任选参数类型: 枚举，参见枚举定义参数范围: 0-1默认值: BACKUP|本参数用于配置DNS服务器组中DNS服务器的选择模式，有负荷分担和主备两种选择模式。
SRVID1|DNS服务器1编号|参数可选性: 任选参数类型: 数字参数范围: 1-32|本参数用于配置DNS服务器1编号，可配置为 ADD COMM DNS SERVER 命令中已配置的值。
WEIGHT1|DNS服务器1权重|参数可选性: 任选参数类型: 数字参数范围: 1-100|本参数用于配置DNS服务器1在服务器组中的权重。当选择模式为负荷分担时有效。
SRVID2|DNS服务器2编号|参数可选性: 任选参数类型: 数字参数范围: 1-32|本参数用于配置DNS服务器2编号，可配置为 ADD COMM DNS SERVER 命令中已配置的值。
WEIGHT2|DNS服务器2权重|参数可选性: 任选参数类型: 数字参数范围: 0-100|本参数用于配置DNS服务器2在服务器组中的权重。当选择模式为负荷分担时有效。
SRVID3|DNS服务器3编号|参数可选性: 任选参数类型: 数字参数范围: 1-32|本参数用于配置DNS服务器3编号，可配置为 ADD COMM DNS SERVER 命令中已配置的值。
WEIGHT3|DNS服务器3权重|参数可选性: 任选参数类型: 数字参数范围: 0-100|本参数用于配置DNS服务器3在服务器组中的权重。当选择模式为负荷分担时有效。
SRVID4|DNS服务器4编号|参数可选性: 任选参数类型: 数字参数范围: 1-32|本参数用于配置DNS服务器4编号，可配置为 ADD COMM DNS SERVER 命令中已配置的值。
WEIGHT4|DNS服务器4权重|参数可选性: 任选参数类型: 数字参数范围: 0-100|本参数用于配置DNS服务器4在服务器组中的权重。当选择模式为负荷分担时有效。
NAME|DNS服务器组名称|参数可选性: 任选参数类型: 字符串参数范围: 0-50|本参数用于配置DNS服务器组名称，用于标识一个DNS服务器组。




[](None)命令举例 


`
新增DNS服务器组，增加DNS服务器组编号为3，选择模式为主备，DNS服务器列表包含服务器编号1和2，DNS服务器组名为"LTE DNS Group"的配置。
ADD COMM DNS SRVGRP:ID=3,SELECTMODE="BACKUP",SRVID1=1,WEIGHT1=100,SRVID2=2,WEIGHT2=0,NAME="LTE DNS Group";
` 


### 修改DNS服务器组配置(SET COMM DNS SRVGRP) 
### 修改DNS服务器组配置(SET COMM DNS SRVGRP) 


[](None)功能说明 

该命令用于修改服务器选择模式、DNS服务器编号、DNS服务器权重、DNS服务器组名称。当需要通过DNS服务器组进行DNS查询时，执行该命令。命令执行成功后，DNS客户端可以根据配置的选择模式向对应的DNS服务器发起查询。 


[](None)注意事项 

在配置本命令之前，需要先通过 [ADD COMM DNS SERVER](../mml/1229010.html) 命令配置DNS服务器。


[](None)输入参数说明 


[](None)标识|名称|类型|说明
---|---|---|---
ID|DNS服务器组编号|参数可选性: 必选参数类型: 数字参数范围: 1-8|本参数用于配置DNS服务器组编号，后续可以在 ADD COMM DNS PROFILE 命令中被引用。
SELECTMODE|选择模式|参数可选性: 任选参数类型: 枚举，参见枚举定义参数范围: 0-1默认值: BACKUP|本参数用于配置DNS服务器组中DNS服务器的选择模式，有负荷分担和主备两种选择模式。
SRVID1|DNS服务器1编号|参数可选性: 任选参数类型: 数字参数范围: 1-32|本参数用于配置DNS服务器1编号，可配置为 ADD COMM DNS SERVER 命令中已配置的值。
WEIGHT1|DNS服务器1权重|参数可选性: 任选参数类型: 数字参数范围: 1-100|本参数用于配置DNS服务器1在服务器组中的权重。当选择模式为负荷分担时有效。
SRVID2|DNS服务器2编号|参数可选性: 任选参数类型: 数字参数范围: 1-32|本参数用于配置DNS服务器2编号，可配置为 ADD COMM DNS SERVER 命令中已配置的值。
WEIGHT2|DNS服务器2权重|参数可选性: 任选参数类型: 数字参数范围: 0-100|本参数用于配置DNS服务器2在服务器组中的权重。当选择模式为负荷分担时有效。
SRVID3|DNS服务器3编号|参数可选性: 任选参数类型: 数字参数范围: 1-32|本参数用于配置DNS服务器3编号，可配置为 ADD COMM DNS SERVER 命令中已配置的值。
WEIGHT3|DNS服务器3权重|参数可选性: 任选参数类型: 数字参数范围: 0-100|本参数用于配置DNS服务器3在服务器组中的权重。当选择模式为负荷分担时有效。
SRVID4|DNS服务器4编号|参数可选性: 任选参数类型: 数字参数范围: 1-32|本参数用于配置DNS服务器4编号，可配置为 ADD COMM DNS SERVER 命令中已配置的值。
WEIGHT4|DNS服务器4权重|参数可选性: 任选参数类型: 数字参数范围: 0-100|本参数用于配置DNS服务器4在服务器组中的权重。当选择模式为负荷分担时有效。
NAME|DNS服务器组名称|参数可选性: 任选参数类型: 字符串参数范围: 0-50|本参数用于配置DNS服务器组名称，用于标识一个DNS服务器组。




[](None)输出参数说明 


[](None)标识|名称|类型|说明
---|---|---|---
ID|DNS服务器组编号|参数可选性: 任选参数类型: 数字参数范围: 1-8|本参数用于配置DNS服务器组编号，后续可以在 ADD COMM DNS PROFILE 命令中被引用。
SELECTMODE|选择模式|参数可选性: 任选参数类型: 枚举，参见枚举定义参数范围: 0-1默认值: BACKUP|本参数用于配置DNS服务器组中DNS服务器的选择模式，有负荷分担和主备两种选择模式。
SRVID1|DNS服务器1编号|参数可选性: 任选参数类型: 数字参数范围: 1-32|本参数用于配置DNS服务器1编号，可配置为 ADD COMM DNS SERVER 命令中已配置的值。
WEIGHT1|DNS服务器1权重|参数可选性: 任选参数类型: 数字参数范围: 1-100|本参数用于配置DNS服务器1在服务器组中的权重。当选择模式为负荷分担时有效。
SRVID2|DNS服务器2编号|参数可选性: 任选参数类型: 数字参数范围: 1-32|本参数用于配置DNS服务器2编号，可配置为 ADD COMM DNS SERVER 命令中已配置的值。
WEIGHT2|DNS服务器2权重|参数可选性: 任选参数类型: 数字参数范围: 0-100|本参数用于配置DNS服务器2在服务器组中的权重。当选择模式为负荷分担时有效。
SRVID3|DNS服务器3编号|参数可选性: 任选参数类型: 数字参数范围: 1-32|本参数用于配置DNS服务器3编号，可配置为 ADD COMM DNS SERVER 命令中已配置的值。
WEIGHT3|DNS服务器3权重|参数可选性: 任选参数类型: 数字参数范围: 0-100|本参数用于配置DNS服务器3在服务器组中的权重。当选择模式为负荷分担时有效。
SRVID4|DNS服务器4编号|参数可选性: 任选参数类型: 数字参数范围: 1-32|本参数用于配置DNS服务器4编号，可配置为 ADD COMM DNS SERVER 命令中已配置的值。
WEIGHT4|DNS服务器4权重|参数可选性: 任选参数类型: 数字参数范围: 0-100|本参数用于配置DNS服务器4在服务器组中的权重。当选择模式为负荷分担时有效。
NAME|DNS服务器组名称|参数可选性: 任选参数类型: 字符串参数范围: 0-50|本参数用于配置DNS服务器组名称，用于标识一个DNS服务器组。




[](None)命令举例 


`
修改DNS服务器组，修改DNS服务器组编号为1记录的选择模式为负荷分担，DNS服务器组名称为LTE DNS Group1
SET COMM DNS SRVGRP:ID=1,SELECTMODE="PARTAKE",NAME="LTE DNS Group1";
` 


### 删除DNS服务器组配置(DEL COMM DNS SRVGRP) 
### 删除DNS服务器组配置(DEL COMM DNS SRVGRP) 


[](None)功能说明 

该命令用于根据DNS服务器组编号删除DNS服务器组的配置。当不再需要使用此DNS服务器组时，执行该命令。  


[](None)注意事项 

如果被删除的DNS服务器组，已经被 [ADD COMM DNS PROFILE](../mml/1229006.html) 命令引用，则不能通过本命令删除。


[](None)输入参数说明 


[](None)标识|名称|类型|说明
---|---|---|---
ID|DNS服务器组编号|参数可选性: 必选参数类型: 数字参数范围: 1-8|本参数用于配置DNS服务器组编号，后续可以在 ADD COMM DNS PROFILE 命令中被引用。




[](None)输出参数说明 


[](None)标识|名称|类型|说明
---|---|---|---
ID|DNS服务器组编号|参数可选性: 任选参数类型: 数字参数范围: 1-8|本参数用于配置DNS服务器组编号，后续可以在 ADD COMM DNS PROFILE 命令中被引用。
SELECTMODE|选择模式|参数可选性: 任选参数类型: 枚举，参见枚举定义参数范围: 0-1默认值: BACKUP|本参数用于配置DNS服务器组中DNS服务器的选择模式，有负荷分担和主备两种选择模式。
SRVID1|DNS服务器1编号|参数可选性: 任选参数类型: 数字参数范围: 1-32|本参数用于配置DNS服务器1编号，可配置为 ADD COMM DNS SERVER 命令中已配置的值。
WEIGHT1|DNS服务器1权重|参数可选性: 任选参数类型: 数字参数范围: 1-100|本参数用于配置DNS服务器1在服务器组中的权重。当选择模式为负荷分担时有效。
SRVID2|DNS服务器2编号|参数可选性: 任选参数类型: 数字参数范围: 1-32|本参数用于配置DNS服务器2编号，可配置为 ADD COMM DNS SERVER 命令中已配置的值。
WEIGHT2|DNS服务器2权重|参数可选性: 任选参数类型: 数字参数范围: 0-100|本参数用于配置DNS服务器2在服务器组中的权重。当选择模式为负荷分担时有效。
SRVID3|DNS服务器3编号|参数可选性: 任选参数类型: 数字参数范围: 1-32|本参数用于配置DNS服务器3编号，可配置为 ADD COMM DNS SERVER 命令中已配置的值。
WEIGHT3|DNS服务器3权重|参数可选性: 任选参数类型: 数字参数范围: 0-100|本参数用于配置DNS服务器3在服务器组中的权重。当选择模式为负荷分担时有效。
SRVID4|DNS服务器4编号|参数可选性: 任选参数类型: 数字参数范围: 1-32|本参数用于配置DNS服务器4编号，可配置为 ADD COMM DNS SERVER 命令中已配置的值。
WEIGHT4|DNS服务器4权重|参数可选性: 任选参数类型: 数字参数范围: 0-100|本参数用于配置DNS服务器4在服务器组中的权重。当选择模式为负荷分担时有效。
NAME|DNS服务器组名称|参数可选性: 任选参数类型: 字符串参数范围: 0-50|本参数用于配置DNS服务器组名称，用于标识一个DNS服务器组。




[](None)命令举例 


`
删除DNS服务器组，删除DNS服务器组编号为3的记录。 
DEL COMM DNS SRVGRP:ID=3;
` 


### 查询DNS服务器组配置(SHOW COMM DNS SRVGRP) 
### 查询DNS服务器组配置(SHOW COMM DNS SRVGRP) 


[](None)功能说明 

该命令用于查询指定DNS服务器组编号的配置，包括服务器选择模式、DNS服务器编号、DNS服务器权重和DNS服务器组名称等信息，若不输入编号则查询所有DNS服务器组的配置。 


[](None)注意事项 

无。


[](None)输入参数说明 


[](None)标识|名称|类型|说明
---|---|---|---
ID|DNS服务器组编号|参数可选性: 任选参数类型: 数字参数范围: 1-8|本参数用于配置DNS服务器组编号，后续可以在 ADD COMM DNS PROFILE 命令中被引用。




[](None)输出参数说明 


[](None)标识|名称|类型|说明
---|---|---|---
ID|DNS服务器组编号|参数可选性: 任选参数类型: 数字参数范围: 1-8|本参数用于配置DNS服务器组编号，后续可以在 ADD COMM DNS PROFILE 命令中被引用。
SELECTMODE|选择模式|参数可选性: 任选参数类型: 枚举，参见枚举定义参数范围: 0-1默认值: BACKUP|本参数用于配置DNS服务器组中DNS服务器的选择模式，有负荷分担和主备两种选择模式。
SRVID1|DNS服务器1编号|参数可选性: 任选参数类型: 数字参数范围: 1-32|本参数用于配置DNS服务器1编号，可配置为 ADD COMM DNS SERVER 命令中已配置的值。
WEIGHT1|DNS服务器1权重|参数可选性: 任选参数类型: 数字参数范围: 1-100|本参数用于配置DNS服务器1在服务器组中的权重。当选择模式为负荷分担时有效。
SRVID2|DNS服务器2编号|参数可选性: 任选参数类型: 数字参数范围: 1-32|本参数用于配置DNS服务器2编号，可配置为 ADD COMM DNS SERVER 命令中已配置的值。
WEIGHT2|DNS服务器2权重|参数可选性: 任选参数类型: 数字参数范围: 0-100|本参数用于配置DNS服务器2在服务器组中的权重。当选择模式为负荷分担时有效。
SRVID3|DNS服务器3编号|参数可选性: 任选参数类型: 数字参数范围: 1-32|本参数用于配置DNS服务器3编号，可配置为 ADD COMM DNS SERVER 命令中已配置的值。
WEIGHT3|DNS服务器3权重|参数可选性: 任选参数类型: 数字参数范围: 0-100|本参数用于配置DNS服务器3在服务器组中的权重。当选择模式为负荷分担时有效。
SRVID4|DNS服务器4编号|参数可选性: 任选参数类型: 数字参数范围: 1-32|本参数用于配置DNS服务器4编号，可配置为 ADD COMM DNS SERVER 命令中已配置的值。
WEIGHT4|DNS服务器4权重|参数可选性: 任选参数类型: 数字参数范围: 0-100|本参数用于配置DNS服务器4在服务器组中的权重。当选择模式为负荷分担时有效。
NAME|DNS服务器组名称|参数可选性: 任选参数类型: 字符串参数范围: 0-50|本参数用于配置DNS服务器组名称，用于标识一个DNS服务器组。




[](None)命令举例 


`
查询DNS服务器组配置，不输入参数查询所有DNS服务器组配置。 
SHOW COMM DNS SERVER

(No.1） : SHOW COMM DNS SRVGRP:
-----------------CommonS_HTTP_LB_0---------------- 
DNS服务器组编号  选择模式  DNS服务器1编号  DNS服务器1权重  DNS服务器2编号  DNS服务器2权重  DNS服务器3编号  DNS服务器3权重  DNS服务器4编号  DNS服务器4权重  DNS服务器组名称
1                主备      1               50              2               50                                                                              SrvGroup1
记录数：1

` 


## DNS模板配置 
## DNS模板配置 


[](None)背景知识 


DNS客户端（Domain Name System Client）：将特定应用的DNS查询构造成标准的DNS查询消息发送给DNS服务器并处理服务器返回的响应。 




[](None)功能说明 


该配置用于配置DNS模板中的DNS服务器组的选择模式、关联的DNS服务器组编号和服务器组权重。在启用DNS功能时，通过该组命令，DNS客户端可以根据配置的选择模式向对应的DNS服务器组发起查询。 




[](None)子主题： 






### 新增DNS模板配置(ADD COMM DNS PROFILE) 
### 新增DNS模板配置(ADD COMM DNS PROFILE) 


[](None)功能说明 

该命令用于增加DNS模板配置，主要包括DNS模板的选择模式、关联的DNS服务器组编号和服务器组权重。当需要关联DNS模板进行DNS查询时，执行该命令。命令执行成功后，DNS客户端可以根据配置的选择模式向对应的DNS服务器组发起查询。 


[](None)注意事项 

在配置本命令前，需要先通过 [ADD COMM DNS SRVGRP](../mml/1229014.html) 命令配置DNS服务器组。


[](None)输入参数说明 


[](None)标识|名称|类型|说明
---|---|---|---
ID|DNS模板编号|参数可选性: 必选参数类型: 数字参数范围: 1-32|DNS模板编号。
SELECTMODE|选择模式|参数可选性: 必选参数类型: 枚举，参见枚举定义参数范围: 0-1默认值: BACKUP|模板中服务器组的选择模式，有负荷分担和主备两种选择模式。
SRVGRPID1|DNS服务器组1编号|参数可选性: 必选参数类型: 数字参数范围: 1-8|DNS服务器组1编号，DNS服务器组编号通过ADD COMM DNS SRVGRP配置。
WEIGHT1|DNS服务器组1权重|参数可选性: 必选参数类型: 数字参数范围: 1-100|DNS服务器组1在本Profile中的权重，当选择模式为负荷分担时有效。
SRVGRPID2|DNS服务器组2编号|参数可选性: 任选参数类型: 数字参数范围: 1-8|DNS服务器组2编号，DNS服务器组编号通过ADD COMM DNS SRVGRP配置。
WEIGHT2|DNS服务器组2权重|参数可选性: 任选参数类型: 数字参数范围: 0-100|DNS服务器组2在本Profile中的权重，当选择模式为负荷分担时有效。
SRVGRPID3|DNS服务器组3编号|参数可选性: 任选参数类型: 数字参数范围: 1-8|DNS服务器组3编号，DNS服务器组编号通过ADD COMM DNS SRVGRP配置。
WEIGHT3|DNS服务器组3权重|参数可选性: 任选参数类型: 数字参数范围: 0-100|DNS服务器组3在本Profile中的权重，当选择模式为负荷分担时有效。
SRVGRPID4|DNS服务器组4编号|参数可选性: 任选参数类型: 数字参数范围: 1-8|DNS服务器组4编号，DNS服务器组编号通过ADD COMM DNS SRVGRP配置。
WEIGHT4|DNS服务器组4权重|参数可选性: 任选参数类型: 数字参数范围: 0-100|DNS服务器组4在本Profile中的权重，当选择模式为负荷分担时有效。




[](None)输出参数说明 


[](None)标识|名称|类型|说明
---|---|---|---
ID|DNS模板编号|参数可选性: 任选参数类型: 数字参数范围: 1-32|DNS模板编号。
SELECTMODE|选择模式|参数可选性: 任选参数类型: 枚举，参见枚举定义参数范围: 0-1默认值: BACKUP|模板中服务器组的选择模式，有负荷分担和主备两种选择模式。
SRVGRPID1|DNS服务器组1编号|参数可选性: 任选参数类型: 数字参数范围: 1-8|DNS服务器组1编号，DNS服务器组编号通过ADD COMM DNS SRVGRP配置。
WEIGHT1|DNS服务器组1权重|参数可选性: 任选参数类型: 数字参数范围: 1-100|DNS服务器组1在本Profile中的权重，当选择模式为负荷分担时有效。
SRVGRPID2|DNS服务器组2编号|参数可选性: 任选参数类型: 数字参数范围: 1-8|DNS服务器组2编号，DNS服务器组编号通过ADD COMM DNS SRVGRP配置。
WEIGHT2|DNS服务器组2权重|参数可选性: 任选参数类型: 数字参数范围: 0-100|DNS服务器组2在本Profile中的权重，当选择模式为负荷分担时有效。
SRVGRPID3|DNS服务器组3编号|参数可选性: 任选参数类型: 数字参数范围: 1-8|DNS服务器组3编号，DNS服务器组编号通过ADD COMM DNS SRVGRP配置。
WEIGHT3|DNS服务器组3权重|参数可选性: 任选参数类型: 数字参数范围: 0-100|DNS服务器组3在本Profile中的权重，当选择模式为负荷分担时有效。
SRVGRPID4|DNS服务器组4编号|参数可选性: 任选参数类型: 数字参数范围: 1-8|DNS服务器组4编号，DNS服务器组编号通过ADD COMM DNS SRVGRP配置。
WEIGHT4|DNS服务器组4权重|参数可选性: 任选参数类型: 数字参数范围: 0-100|DNS服务器组4在本Profile中的权重，当选择模式为负荷分担时有效。




[](None)命令举例 


`
新增DNS模板配置，编号为1，服务器组列表包含服务器组编号1和服务器组编号2，选择模式为主备。
ADD COMM DNS PROFILE:ID=1,SELECTMODE="BACKUP",SRVGRPID1=1,WEIGHT1=100,SRVGRPID2=2,WEIGHT2=0;
` 


### 修改DNS模板配置(SET COMM DNS PROFILE) 
### 修改DNS模板配置(SET COMM DNS PROFILE) 


[](None)功能说明 

该命令用于修改DNS模板配置，主要包括DNS模板的选择模式、关联的DNS服务器组编号和服务器组权重。当需要关联DNS模板进行DNS查询时，执行该命令。命令执行成功后，DNS客户端可以根据配置的选择模式向对应的DNS服务器组发起查询。 


[](None)注意事项 

在配置本命令前，需要先通过 [ADD COMM DNS SRVGRP](../mml/1229014.html) 命令配置DNS服务器组。


[](None)输入参数说明 


[](None)标识|名称|类型|说明
---|---|---|---
ID|DNS模板编号|参数可选性: 必选参数类型: 数字参数范围: 1-32|DNS模板编号。
SELECTMODE|选择模式|参数可选性: 任选参数类型: 枚举，参见枚举定义参数范围: 0-1默认值: BACKUP|模板中服务器组的选择模式，有负荷分担和主备两种选择模式。
SRVGRPID1|DNS服务器组1编号|参数可选性: 任选参数类型: 数字参数范围: 1-8|DNS服务器组1编号，DNS服务器组编号通过ADD COMM DNS SRVGRP配置。
WEIGHT1|DNS服务器组1权重|参数可选性: 任选参数类型: 数字参数范围: 1-100|DNS服务器组1在本Profile中的权重，当选择模式为负荷分担时有效。
SRVGRPID2|DNS服务器组2编号|参数可选性: 任选参数类型: 数字参数范围: 1-8|DNS服务器组2编号，DNS服务器组编号通过ADD COMM DNS SRVGRP配置。
WEIGHT2|DNS服务器组2权重|参数可选性: 任选参数类型: 数字参数范围: 0-100|DNS服务器组2在本Profile中的权重，当选择模式为负荷分担时有效。
SRVGRPID3|DNS服务器组3编号|参数可选性: 任选参数类型: 数字参数范围: 1-8|DNS服务器组3编号，DNS服务器组编号通过ADD COMM DNS SRVGRP配置。
WEIGHT3|DNS服务器组3权重|参数可选性: 任选参数类型: 数字参数范围: 0-100|DNS服务器组3在本Profile中的权重，当选择模式为负荷分担时有效。
SRVGRPID4|DNS服务器组4编号|参数可选性: 任选参数类型: 数字参数范围: 1-8|DNS服务器组4编号，DNS服务器组编号通过ADD COMM DNS SRVGRP配置。
WEIGHT4|DNS服务器组4权重|参数可选性: 任选参数类型: 数字参数范围: 0-100|DNS服务器组4在本Profile中的权重，当选择模式为负荷分担时有效。




[](None)输出参数说明 


[](None)标识|名称|类型|说明
---|---|---|---
ID|DNS模板编号|参数可选性: 任选参数类型: 数字参数范围: 1-32|DNS模板编号。
SELECTMODE|选择模式|参数可选性: 任选参数类型: 枚举，参见枚举定义参数范围: 0-1默认值: BACKUP|模板中服务器组的选择模式，有负荷分担和主备两种选择模式。
SRVGRPID1|DNS服务器组1编号|参数可选性: 任选参数类型: 数字参数范围: 1-8|DNS服务器组1编号，DNS服务器组编号通过ADD COMM DNS SRVGRP配置。
WEIGHT1|DNS服务器组1权重|参数可选性: 任选参数类型: 数字参数范围: 1-100|DNS服务器组1在本Profile中的权重，当选择模式为负荷分担时有效。
SRVGRPID2|DNS服务器组2编号|参数可选性: 任选参数类型: 数字参数范围: 1-8|DNS服务器组2编号，DNS服务器组编号通过ADD COMM DNS SRVGRP配置。
WEIGHT2|DNS服务器组2权重|参数可选性: 任选参数类型: 数字参数范围: 0-100|DNS服务器组2在本Profile中的权重，当选择模式为负荷分担时有效。
SRVGRPID3|DNS服务器组3编号|参数可选性: 任选参数类型: 数字参数范围: 1-8|DNS服务器组3编号，DNS服务器组编号通过ADD COMM DNS SRVGRP配置。
WEIGHT3|DNS服务器组3权重|参数可选性: 任选参数类型: 数字参数范围: 0-100|DNS服务器组3在本Profile中的权重，当选择模式为负荷分担时有效。
SRVGRPID4|DNS服务器组4编号|参数可选性: 任选参数类型: 数字参数范围: 1-8|DNS服务器组4编号，DNS服务器组编号通过ADD COMM DNS SRVGRP配置。
WEIGHT4|DNS服务器组4权重|参数可选性: 任选参数类型: 数字参数范围: 0-100|DNS服务器组4在本Profile中的权重，当选择模式为负荷分担时有效。




[](None)命令举例 


`
修改编号为1的DNS模板配置，修改选择模式为负荷分担，服务器组编号1和服务器组编号2的权重为100。
SET COMM DNS PROFILE:ID=1,SELECTMODE="PARTAKE",SRVGRPID1=1,WEIGHT1=100,SRVGRPID2=2,WEIGHT1=100;
` 


### 删除DNS模板配置(DEL COMM DNS PROFILE) 
### 删除DNS模板配置(DEL COMM DNS PROFILE) 


[](None)功能说明 

该命令用于删除DNS模板配置。当不再需要此DNS模板配置时，执行该命令。  


[](None)注意事项 

在删除前，需要确认不再需要该类DNS查询方式。


[](None)输入参数说明 


[](None)标识|名称|类型|说明
---|---|---|---
ID|DNS模板编号|参数可选性: 必选参数类型: 数字参数范围: 1-32|DNS模板编号。




[](None)输出参数说明 


[](None)标识|名称|类型|说明
---|---|---|---
ID|DNS模板编号|参数可选性: 任选参数类型: 数字参数范围: 1-32|DNS模板编号。
SELECTMODE|选择模式|参数可选性: 任选参数类型: 枚举，参见枚举定义参数范围: 0-1默认值: BACKUP|模板中服务器组的选择模式，有负荷分担和主备两种选择模式。
SRVGRPID1|DNS服务器组1编号|参数可选性: 任选参数类型: 数字参数范围: 1-8|DNS服务器组1编号，DNS服务器组编号通过ADD COMM DNS SRVGRP配置。
WEIGHT1|DNS服务器组1权重|参数可选性: 任选参数类型: 数字参数范围: 1-100|DNS服务器组1在本Profile中的权重，当选择模式为负荷分担时有效。
SRVGRPID2|DNS服务器组2编号|参数可选性: 任选参数类型: 数字参数范围: 1-8|DNS服务器组2编号，DNS服务器组编号通过ADD COMM DNS SRVGRP配置。
WEIGHT2|DNS服务器组2权重|参数可选性: 任选参数类型: 数字参数范围: 0-100|DNS服务器组2在本Profile中的权重，当选择模式为负荷分担时有效。
SRVGRPID3|DNS服务器组3编号|参数可选性: 任选参数类型: 数字参数范围: 1-8|DNS服务器组3编号，DNS服务器组编号通过ADD COMM DNS SRVGRP配置。
WEIGHT3|DNS服务器组3权重|参数可选性: 任选参数类型: 数字参数范围: 0-100|DNS服务器组3在本Profile中的权重，当选择模式为负荷分担时有效。
SRVGRPID4|DNS服务器组4编号|参数可选性: 任选参数类型: 数字参数范围: 1-8|DNS服务器组4编号，DNS服务器组编号通过ADD COMM DNS SRVGRP配置。
WEIGHT4|DNS服务器组4权重|参数可选性: 任选参数类型: 数字参数范围: 0-100|DNS服务器组4在本Profile中的权重，当选择模式为负荷分担时有效。




[](None)命令举例 


`
删除编号为1的DNS模板配置。 
DEL COMM DNS PROFILE:ID=1;
` 


### 查询DNS模板配置(SHOW COMM DNS PROFILE) 
### 查询DNS模板配置(SHOW COMM DNS PROFILE) 


[](None)功能说明 

该命令用于查询DNS模板配置，包括DNS模板的选择模式、关联的DNS服务器组编号、DNS服务器组权重等信息。  


[](None)注意事项 

无。


[](None)输入参数说明 


[](None)标识|名称|类型|说明
---|---|---|---
ID|DNS模板编号|参数可选性: 任选参数类型: 数字参数范围: 1-32|DNS模板编号。




[](None)输出参数说明 


[](None)标识|名称|类型|说明
---|---|---|---
ID|DNS模板编号|参数可选性: 任选参数类型: 数字参数范围: 1-32|DNS模板编号。
SELECTMODE|选择模式|参数可选性: 任选参数类型: 枚举，参见枚举定义参数范围: 0-1默认值: BACKUP|模板中服务器组的选择模式，有负荷分担和主备两种选择模式。
SRVGRPID1|DNS服务器组1编号|参数可选性: 任选参数类型: 数字参数范围: 1-8|DNS服务器组1编号，DNS服务器组编号通过ADD COMM DNS SRVGRP配置。
WEIGHT1|DNS服务器组1权重|参数可选性: 任选参数类型: 数字参数范围: 1-100|DNS服务器组1在本Profile中的权重，当选择模式为负荷分担时有效。
SRVGRPID2|DNS服务器组2编号|参数可选性: 任选参数类型: 数字参数范围: 1-8|DNS服务器组2编号，DNS服务器组编号通过ADD COMM DNS SRVGRP配置。
WEIGHT2|DNS服务器组2权重|参数可选性: 任选参数类型: 数字参数范围: 0-100|DNS服务器组2在本Profile中的权重，当选择模式为负荷分担时有效。
SRVGRPID3|DNS服务器组3编号|参数可选性: 任选参数类型: 数字参数范围: 1-8|DNS服务器组3编号，DNS服务器组编号通过ADD COMM DNS SRVGRP配置。
WEIGHT3|DNS服务器组3权重|参数可选性: 任选参数类型: 数字参数范围: 0-100|DNS服务器组3在本Profile中的权重，当选择模式为负荷分担时有效。
SRVGRPID4|DNS服务器组4编号|参数可选性: 任选参数类型: 数字参数范围: 1-8|DNS服务器组4编号，DNS服务器组编号通过ADD COMM DNS SRVGRP配置。
WEIGHT4|DNS服务器组4权重|参数可选性: 任选参数类型: 数字参数范围: 0-100|DNS服务器组4在本Profile中的权重，当选择模式为负荷分担时有效。




[](None)命令举例 


`
查询DNS模板配置，不输入参数查询所有DNS模板配置。 
SHOW COMM DNS PROFILE

(No.7) : SHOW COMM DNS PROFILE:
-----------------CommonS_HTTP_LB_0----------------
DNS模板编号 选择模式  DNS服务器组1编号  DNS服务器组1权重  DNS服务器组2编号  DNS服务器组2权重  DNS服务器组3编号  DNS服务器组3权重  DNS服务器组4编号  DNS服务器组4权重
1           主备      1                 50                2                 50                                                             
记录数：1

` 


# 全局配置管理 
# 全局配置管理 


[](None)背景知识 


HTTPLB作为5G核心网中的重要组成部分，需要处理各种各样的业务，因此需要考虑多种场景，通过管理全局配置，满足各种业务需求。 

全局配置管理用于维护人员通过动态命令和配置变更的方式管理全局配置。 




[](None)功能说明 


全局配置管理以动态命令的方式对全局性的系统参数管理。当全局参数配置发生变动，需要查询全局参数配置信息时，执行该配置。 

全局配置管理以配置变更的方式管理全局配置。针对不同业务场景，需要新增，修改，删除和查询全局配置时，执行该配置。 




[](None)子主题： 






## 全局管理 
## 全局管理 


[](None)背景知识 


全局管理用于维护人员通过动态命令的方式管理全局配置。 




[](None)功能说明 


全局管理以动态命令的方式对全局性的系统参数管理。当全局参数配置发生变动，需要查询全局参数配置信息时，执行该配置。 




[](None)子主题： 






### 全局参数管理 
### 全局参数管理 


[](None)背景知识 


系统全局参数提供了一系列的功能开关，用于实现各种业务场景，满足各种业务需求。 




[](None)功能说明 


全局参数管理用于查询系统全局参数的具体信息。当全局参数配置发生变动，需要查询系统参数的取值范围、默认值、当前取值和参数描述时，执行该配置。 




[](None)子主题： 






#### 显示全局参数(SHOW GLOBAL PARAMETER) 
#### 显示全局参数(SHOW GLOBAL PARAMETER) 


[](None)功能说明 

该命令用于查询全局参数信息。当需要查询系统参数的取值范围、默认值、当前取值及参数描述时，可使用该命令。


[](None)注意事项 

无。


[](None)输入参数说明 


[](None)标识|名称|类型|说明
---|---|---|---
ParameterNo|参数编号|参数可选性: 必选参数类型: 数字参数范围: 0-1024默认值: 0|该参数表示全局参数的编号，根据参数编号查询对应的全局参数描述信息,当参数为0时，默认查询所有全局参数描述信息。




[](None)输出参数说明 


[](None)标识|名称|类型|说明
---|---|---|---
OperationResult|操作结果|参数可选性: 必选参数类型: 字符串参数范围: 1-30720|该参数表示该动态命令的执行结果。




[](None)命令举例 


`
查询全局参数编号为1的参数信息。
SHOW GLOBAL PARAMETER:PARAMETERNO=1

(No.2) : SHOW GLOBAL PARAMETER:PARAMETERNO=1
-----------------CommonS_HTTP_LB_0----------------
操作结果
  No. |  Minimum |  Maximum |  Default |  Current | Description
    1 |        1 |        5 |        3 |        3 | This is obsolete.

执行成功耗时: 0.068 秒

` 


### 资源阈值管理 
### 资源阈值管理 


[](None)背景知识 


当SBI-GW（Service Based Interface-GateWay，基于服务化接口的代理网关）内的数据区占用率达到一定程度时，会上报分级告警，告警级别按照阈值分为一级、二级、三级告警。 

资源阈值管理主要用于维护人员通过动态命令的方式查询SBI-GW数据区的上报类型及告警阈值。 




[](None)功能说明 


资源阈值管理用于查询SBI-GW数据区的具体信息。当资源阈值配置发生变动，需要查询资源的上报类型、一级告警阈值、二级告警阈值和三级告警阈值时，执行该配置。 




[](None)子主题： 






#### 显示资源阈值(SHOW RESOURCE THRESHOLD) 
#### 显示资源阈值(SHOW RESOURCE THRESHOLD) 


[](None)功能说明 

该命令用于查询资源阈值参数信息。当需要查询系统资源的上报类型、一级告警阈值、二级告警阈值、三级告警阈值以及资源描述时，可使用该命令。


[](None)注意事项 

无。


[](None)输入参数说明 


[](None)标识|名称|类型|说明
---|---|---|---
ParameterNo|参数编号|参数可选性: 任选参数类型: 数字参数范围: 1-1024|该参数表示资源阈值参数的编号，根据该编号查询对应的资源阈值参数信息。 可通过SET SBIRESOURCETHRESHOLD命令修改该编号对应的资源阈值参数信息。




[](None)输出参数说明 


[](None)标识|名称|类型|说明
---|---|---|---
OperationResult|操作结果|参数可选性: 必选参数类型: 字符串参数范围: 1-20480|该参数表示该动态命令的执行结果，包括系统资源的上报类型、一级告警阈值、二级告警阈值、三级告警阈值以及资源描述等信息。




[](None)命令举例 


`
查询资源阈值编号为1的参数信息。
SHOW RESOURCE THRESHOLD:PARAMETERNO=1

(No.2) : SHOW RESOURCE THRESHOLD:PARAMETERNO=1
-----------------CommonS_HTTP_LB_0----------------
操作结果                                                                                                                                                                                                                                 
-------------------------------------------------------------------------------------------------------------------
 编号 |    类型  | 一级阈值（%） | 二级阈值（%） | 三级阈值（%） | 资源名
    1  |   alarm |       90   |       85    |       80    | Discovery Result NFProfile Cache 
--------------------------------------------------------------------------------------------------------------------
记录数：1
执行成功耗时: 0.068 秒

` 


## 全局配置 
## 全局配置 


[](None)背景知识 


HTTPLB作为5G核心网中的重要组成部分，需要处理各种各样的业务，因此需要考虑多种场景，通过管理全局配置，满足各种业务需求。 

全局配置用于维护人员通过配置变更的方式管理全局配置。 




[](None)功能说明 


全局配置用于管理HTTPLB全局相关的配置，从而满足不同业务场景的需求。本网元支持对全局参数配置进行新增，修改，删除和查询操作。 




[](None)子主题： 






### 全局参数配置 
### 全局参数配置 


[](None)背景知识 


HTTP作为5G核心网中的重要组成部分，需要处理各种各样的业务，因此需要考虑多种场景，满足各种业务需求。 

系统全局参数即提供了一系列的功能开关，来实现各种业务场景，满足各种业务需求。 




[](None)功能说明 


该功能用于配置系统全局参数。当需要对全局参数进行特定修改时，使用该配置根据具体需求对各个全局参数进行设置。设置成功后，新设置的全局参数即时生效。如果不设置某个全局参数，则使用默认值。 




[](None)子主题： 






#### 新增全局参数配置(ADD GLOBALPARAMETER) 
#### 新增全局参数配置(ADD GLOBALPARAMETER) 


[](None)功能说明 

该命令用于增加全局参数配置。当本网元支持不同的业务时，执行该命令。命令执行成功后，本网元按照配置的功能开关，来实现各种业务场景，满足各种业务需求。 

参数1 ：本参数已废弃。 

参数2 ：本参数已废弃。 

参数3 ：服务发现单号段保存Nonrange开关（0-打开；1-关闭。默认：0-打开）。 

参数4 ：本参数已废弃。 

参数5 ：重置服务端链路开关(0-关闭;1-打开,HTTPLB的SC上下线时会删除所有服务端链路)。 

参数6 ：发现pgwFqdn,NRF返回结果为none nfprofle时，空缓存的有效期：取值范围1-180分钟，默认15分钟。 

参数7 ：HTTP/2消息头部压缩开关(0-进行头部压缩;1-不进行头部压缩)。 

参数8 ：HTTP/2头部压缩表容量。 

参数9 ：HTTP配置合法性校验日志开关(0-关闭;1-打开校验日志开关,会在oam-ccmf中输出配置校验日志)。 

参数10：获取NF(专指SMF网元)主备状态开关(0-关闭;1-打开,HTTPLB通过判断SMF的主备状态决定是否建链)。 

参数11：本参数已废弃。 

参数12：单个SC的客户端端口个数。注意：修改本配置可能导致业务中断！ 

参数13：本参数已废弃。 

参数14：本参数已废弃。 

参数15：消息体压缩开关(0-关闭;1-打开,消息体长度超过60K时进行压缩处理)。 

参数16：本参数已废弃。 

参数17：HTTP性能统计开关(0-关闭;1-打开,对收发消息情况进行统计)。 

参数18：HTTP信令跟踪开关(0-关闭;1-打开)。 

参数19：NFS多实例功能开关。（0-关闭，1-打开。默认：关闭）。 

参数20：本参数已废弃。 

参数21：本参数已废弃。 

参数22：本参数已废弃。 

参数23：链路均衡模式。0-关闭；1-链路数。 

参数24：后续路由刷新路由集时间戳功能开关。（10/11-打开，其他值-关闭，默认：10-打开）。 

参数25：本参数已废弃。 

参数26：发现pgwFqdn,NRF返回结果为none nfprofle时，缓存方式（3-功能关闭，其他-功能开启）。 

参数27：建立客户端静态链路的延迟秒数 

参数28：日志记录等级开关(0为关闭日志，1-4分别表示记录ERROR-WARNING-NOTICE-INFO级别日志)，注意大话务时  日志级别禁止设置为4，否则会有呼损。 

参数29：记录异步事件日志开关。 

参数30：记录定时器日志开关。 

参数31：记录详细信息日志开关。 

参数32：记录函数名和行号日志开关。 

参数33：IPS对HTTP建链报文限速开关(0-关闭；1-打开，限速值详见34号和35号参数)。 

参数34：建链请求报文限速值。 

参数35：非建链请求报文限速值。 

参数36：保活检测失败拆链开关(0-关闭；1-打开)。 

参数37：链路均衡检测周期定时器,单位为ms。 

参数38：长消息缓存容量,单个大小为1.3KB。 

参数39：上报客户端静态链路历史状态功能开关(0-关闭；1-打开)。 

参数40：清除内部未拆链路的统计信息开关(0-关闭；1-打开。默认：打开)。 

参数41：服务端等响应超时回408响应或rst_stream开关。0-rst_stream；1-408响应。 

参数42：选择负荷控制CPU模式。1-平均；2-最高值。 

参数43：代理功能开关。0-关闭；1-打开。 

参数44：释放Http2会话停止了的TCP链路开关。0-关闭；1-打开。 

参数45：链路均衡校验链路开关。0-关闭；1-打开。 

参数46：上行入向负荷控制每线程保留服务端链路数。 

参数47：统计函数运行时长开关。0-关闭；1-打开。 

参数48：客户端发送DATA帧不拷贝开关。0-关闭；1-打开。 

参数49：服务端发送DATA帧不拷贝开关。0-关闭；1-打开。 

参数50：释放数据拥塞状态持续10分钟以上的客户端链路开关。0-关闭，1-打开。 

参数51：TCP出向数据段最大长度。0-使用默认MTU计算。 

参数52：重试时间最大值，单位秒，涉及注册相关、订阅以及服务发现重试流程。 

参数53：订阅有效时长，单位分钟。默认600分钟。 

参数54：HTTP1.1客户端短连接拆链模式，针对新建链生效(0-FIN,1-RST；默认：RST)。 

参数55：HTTP1.1读包超时拆链开关(0-关闭；1-打开)。 

参数56：控制是否向LogAgent上报日志开关(0-关闭；1-打开)。 

参数57：控制是否在编解码中开启内存日志(0-关闭；非0-级别)。 

参数58：本参数已废弃。 

参数59：HTTP1.1服务端短链接拆链模式，针对新建链生效(0-不拆，1-FIN， 2-RST；默认:FIN)。 

参数60：注册更新数组变更方式(0-更新数组内变更;1-PUT更新整个NFProfile;2-更新整个数组;默认:1-PUT更新整个NFProfile)。 

参数61：使用订阅成功响应中携带的Location进行后续订阅路由的开关(0-关闭；1-打开)。 

参数62：解码码流格式校验开关(0-不校验;1-校验;默认:0-不校验)。 

参数63：请求中是否要将Service-Map加到supportedFeatures中的开关(0-关闭；1-打开；默认:打开)。 

参数64：服务发现缓存NfProfile最大个数(0：使用默认个数缓存，小规格256，中规格512，大规格2048)。 

参数65：SBIGW配置/cache订阅开关。(0-关闭全部，1-仅开启cache，2-仅开启配置，3-开启全部；默认：3-开启全部) 

参数66：SBIGW订阅更新提前时长，单位分钟。 

参数67：缩链是否发送通知开关。（0-不发送，1-发送。默认：0） 

参数68：链路老化是否发送通知开关。（0-不发送，1-发送。默认：0） 

参数69：客户端缩链功能开关。（0-关闭，1-打开。默认：关闭） 

参数70：主备节点检测功能开关。（0-关闭，1-打开。默认：打开） 

参数71：延迟取消cache订阅的时间，单位分钟。默认2160分钟。 

参数72：服务发现NRF模板选择方式开关(0-基于NFType选择;1-优先按号码选择)。 

参数73：SBIGW触发订阅流程的时间间隔，单位秒。默认5秒。 

参数74：SBIGW触发一次订阅流程最多发送初始订阅消息个数。默认100。 

参数75：订阅汇总Cache的老化时长，单位秒。默认1800秒。 

参数76：接收3gpp-Sbi-Lci头部时更新Load-Metric值的变化门限。默认4(4%)。 

参数77：信令跟踪大包上报开关。（0-关闭，1-打开。默认：0-关闭） 

参数78：服务发现响中单个NFProfile保存supi范围最大数量 

参数79：服务发现响中单个NFProfile保存gpsi范围最大数量  

参数80：服务发现响中单个NFProfile保存ipv4地址范围最大数量 

参数81：服务发现响中单个NFProfile保存ipv6地址范围最大数量 

参数82：BRS启用TCP nagel算法开关（0-关闭，1-启用标准nagle，2-启用非标准nagle。默认：0-关闭）。 

参数83：BRS启用TCP延时确认开关（0-关闭，1-打开。默认：关闭）。 

参数84：BRS启用TCP组包发送开关（0-关闭，1-打开。默认：关闭）。重启生效。 

参数85：BRS启用性能统计开关（0-关闭，1-打开。默认：关闭）。 

参数86：订阅通知告警上报开关。（0-关闭，1-打开。默认：打开） 

参数87：该开关用于控制Special SC上不存在的NF的初始订阅连续失败最大次数，达到最大次数后，会删除订阅数据区。默认10次。 

参数88：链路拥塞告警上报告警开关（0-关闭，1-打开。默认：0-关闭）。 

参数89：注册相关流程使用retry-after开关。（0-关闭，1-打开。默认：关闭） 

参数90：发现响应NonRange类保存最大数量。 

参数91：发现响应Range类保存最大数量。 

参数92：发现响应FullRange类保存最大数量。 

参数93：将预占内存返回给系统时，预占内存比率的阈值。默认: 10（10%）。 

参数94：将预占内存返回给系统时，已使用内存比率的阈值。默认: 80（80%）。 

参数95：内存可用时，已使用内存比率的阈值。默认: 70（70%）。 

参数96：内存不可用时，已使用内存比率的阈值。默认: 80（80%）。 

参数97：释放数据拥塞状态持续10分钟以上的服务端链路开关。0-关闭，1-打开。 

参数98：服务发现连续命中缓存最大次数，达到最大次数后重新发现。默认100000次。 

参数99：服务发现查询NRF服务器最大间隔时长，达到最大间隔时长后重新发现。默认1800秒。 

参数100：时延统计开关。0-关闭，1-打开。默认：关闭。 

参数101：时延统计时间戳模式。0-RDTSC时间戳， 1-SYS时间戳。默认：1-SYS时间戳。 

参数102：变更通知按NF实例刷新Cache开关，0：关闭，1：开启，默认开启。 

参数103：变更通知按NF实例刷新Cache离散时长：取值范围0-300秒，默认120s。 

参数104：变更通知按NF类型刷新Cache开关，0：关闭，1：开启，默认开启。 

参数105：变更通知按NF类型刷新Cache离散起始时长：取值范围10-120分钟，默认60分钟。需要与参数106配合使用。如果参数105的值大于参数106的值，则按NF类型刷新功能将失效。 

参数106：变更通知按NF类型刷新Cache离散完结时长：取值范围60-300分钟，默认120分钟。需要与参数105配合使用。如果参数106的值小于参数105的值，则按NF类型刷新功能将失效。 

参数107：最新Notify通知记录老化时长：取值范围24-240小时，默认48小时。 

参数108：不可用NFProfile延时老化时长：取值范围0-48小时，默认24小时。 

参数109：变更通知suspend处理开关。（0-关闭，1-打开。默认：打开） 

参数110：每实例总流量阈值：取值范围20-500M/秒，默认360M/秒。 

参数111：注册相关流程是否启用重选开关。（0-关闭，1-打开。默认：关闭） 

参数112：服务发现结果容量阈值：取值范围1-100（%），默认90（%） 

参数113：限制内存使用量开关。（0-关闭，1-打开。默认：打开） 

参数114：限制总流量开关。（0-关闭，1-打开。默认：打开） 

参数115：限制单链20M流量开关。（0-关闭，1-打开。默认：关闭） 

参数116：注册相关流程等响应定时器时长，单位秒。 

参数117：动态链路建链失败上报通知开关。（0-关闭，1-打开。默认：打开） 

参数118：信令跟踪控制阈值：取值范围50-100(%);CPU使用率超过阈值后禁用信令跟踪功能（默认60）。 

参数119：每秒放通TCP SYN报文最大个数：取值范围100-16000，默认3000。 

参数120：SBIGW路由集表容量配置：取值范围4000-12000，默认8000。修改后重启整个NFS生效。 

参数121：消息体压缩阈值（单位KB）。消息体长度超过开关值时进行压缩处理，范围10-60KB（默认60）。 

参数122：服务发现流控SUPI/GPSI号段阈值。缓存的号段数小于等于配置阈值时触发服务发现流控功能（默认1000）。配置为0时,此功能不生效，走原服务发现流控功能。 

参数123：NFS所有IP都无效时，是否使用NF的IP的开关。（0-关闭，1-打开。默认：关闭） 

参数124：客户端请求中是否携带User-Agent头域开关。(0：关闭，1：开启，默认关闭) 

参数125：重注册扫描间隔，取值范围1-60秒（默认5秒）。在一个扫描周期中，最多只会对一个NFID发起重注册通知。 

参数126：路由集抢占开关。（0-关闭，1-打开。默认：打开） 

参数127：路由集抢占门限：取值范围60-100（%），默认95（%）。 

参数128：路由集有效时长：配置范围10-10080分钟，默认360分钟。注意：当24号全局参数的值为1或11时，修改128号参数配置不生效，路由集有效时长固定为2880分钟。 

参数129：scheme与transport一致性校验开关。（0-关闭，1-打开。默认：打开） 

参数130：服务发现结果不携带优先级时，路由选择的默认优先级，取值范围0-65535，默认65535。 

参数131：服务发现结果不携带权重时，路由选择的默认权重，取值范围0-65535，默认65535。 

参数132：NRF配置变更（包括NRF节点/NRF模板/NRF模板选择/NRF服务器策略配置）触发向修改前锚定的NRF发送去注册请求的功能开关。（0-关闭，1-打开。默认：关闭）。 

参数133：服务发现写缓存最小时间间隔：取值范围0-2000（毫秒），默认1（毫秒）。 

参数134：服务发现方式配置为动态优先且最终静态发现也失败时，控制是否需要上报动态失败响应内容的开关。（0-关闭，1-开启。默认：关闭）。 

参数135：重注册/注册更新失败是否停止心跳开关（0-关闭；1-打开。默认：0-关闭）。开关关闭时，当在正常保持心跳时，如果后续注册/注册更新registered态失败，继续保持心跳；如果后续注册/注册更新suspended态，不论成功失败，均停止心跳。 

参数136：控制热补丁是否生效开关1，按位使用，0表示关，默认0xffffffff。
参数137：控制热补丁是否生效开关2，按位使用，0表示关，默认0xffffffff。
参数138：HTTP1.1不带Content-Length或chunked响应报文处理开关。（0-关闭，1-打开。默认：1-打开）。若开关打开，则支持不带Content-Length或chunked响应报文处理；若开关关闭，则不支持。 

参数139：HTTP1.1请求报文相对URL开关，根据开关确定是绝对URL还是相对URL。（0-关闭，1-打开。默认：1-打开）。若开关打开，则为相对URL；若开关关闭，则为绝对URL。 

参数140：NRF节点不可用告警控制开关（0-关闭；1-打开。默认：1-打开）。开关打开时，正常上报节点不可用节点告警；开关关闭，恢复所有节点不可用告警。 

参数141：同名多头部合并控制开关（0-不合并；1-合并。默认：0-不合并）。 

参数142：服务发现结果中是否保留参数sNssaiSmfInfoList（0-不保留，1-保留。默认：0-不保留）。 

参数143：线程级函数统计开关（0-关闭；1-打开。默认：0-关闭）。 

参数144：NRF节点局向检测开关。（0-关闭，1-打开。默认：0-关闭）。 

参数145：SCP非直连场景下客户端进行目的NF重选开关。（0-不重选；1-重选。默认：0-不重选）。 

参数146：非直连场景下超时重选。（0-重选SCP/SEPP；1-重选目的NF。默认：0-重选SCP/SEPP）。 

参数147：异网网元引起失败重选开关。（0-不重选；1-重选。默认：0-不重选）。 

参数148：当节点启发式检测结果已确认不可用后，后续启发式检测时长是否启用心跳响应中的heartbeattimer（0-关闭；1-打开。默认：0-关闭）。 

参数149：通过NF实例获取完整号段的离散时间：取值范围5-3600（秒），默认10（秒）。两次获取完整号段有时间间隔，时间间隔=离散时间+NF数量×固定值。 

参数251：客户端路由服务发现流控后1秒重试功能开关（0-关闭，1-打开。默认：1-打开）。 

参数252：订阅相关流程使用retry-after开关（0-关闭；1-打开。默认：1-打开）。 

参数253：SCP非直连自动转直连功能开关（0-关闭，1-打开。默认：0-关闭）。 

参数254：服务发现缓存删除发现参数中请求方标识信息开关（0-关闭；1-打开。默认：0-关闭）。 

参数255：NRF通知是否更新缓存开关（0-关闭；1-打开。默认：0-关闭）。 

参数256：静态链路迁移等待SC虚机重启的时长（秒）：配置范围30-600秒，默认180秒。 

参数257：本参数已废弃。 

参数258：所有NF都不可用时是否立即向NRF发送服务发现请求。（0-关闭；1-打开。默认：1-打开）。 

参数259：服务发现结果写缓存CPU占用百分比限制：配置范围10-100，默认80。 


[](None)注意事项 


 
使用新增全局参数配置命令之前，可执行SHOW GLOBAL PARAMETER命令查询系统支持的全局参数类型。 

 
每个全局参数的取值需在SHOW GLOBAL PARAMETER命令查询结果定义的范围内。 

 
64号全局参数影响订阅容量，新增参数时需要重启SC或者NFS生效。 

 
84号全局参数新增需重启生效。 

 
120号全局参数新增需重启整个NFS生效。 

 
78-81号全局参数新增需需手动删除缓存后重新出去服务发现生效。 

 
当24号参数值为1或11时，路由集有效时长固定为2880分钟，此时即使修改128号全局参数的值，路由集有效时长也不会变更。如果需要修改路由集有效时长，需要将24号参数修改为非1和11的值。 

 


[](None)输入参数说明 


[](None)标识|名称|类型|说明
---|---|---|---
ID|编号|参数可选性: 必选参数类型: 数字参数范围: 1-1024|该参数用于表示待设置的某个全局参数编号。该命令需要配合动态命令SHOW GLOBAL PARAMETER使用，先查询出ID对应的全局参数的描述。
VALUE|参数值|参数可选性: 必选参数类型: 数字|该参数用于设置全局参数值。该命令需要配合动态命令SHOW GLOBAL PARAMETER使用，设置的值范围需要在SHOW GLOBAL PARAMETER命令查询结果定义的范围内。




[](None)输出参数说明 


[](None)标识|名称|类型|说明
---|---|---|---
ID|编号|参数可选性: 任选参数类型: 数字参数范围: 1-1024|该参数用于表示待设置的某个全局参数编号。该命令需要配合动态命令SHOW GLOBAL PARAMETER使用，先查询出ID对应的全局参数的描述。
VALUE|参数值|参数可选性: 任选参数类型: 数字|该参数用于设置全局参数值。该命令需要配合动态命令SHOW GLOBAL PARAMETER使用，设置的值范围需要在SHOW GLOBAL PARAMETER命令查询结果定义的范围内。




[](None)命令举例 


`
新增全局参数配置：ID为1，值为4。
ADD GLOBALPARAMETER:ID=1,VALUE=4;
` 


#### 修改全局参数配置(SET GLOBALPARAMETER) 
#### 修改全局参数配置(SET GLOBALPARAMETER) 


[](None)功能说明 

该命令用于增加全局参数配置。当本网元支持不同的业务时，执行该命令。命令执行成功后，本网元按照配置的功能开关，来实现各种业务场景，满足各种业务需求。 

参数1 ：本参数已废弃。 

参数2 ：本参数已废弃。 

参数3 ：服务发现单号段保存Nonrange开关（0-打开；1-关闭。默认：0-打开）。 

参数4 ：本参数已废弃。 

参数5 ：重置服务端链路开关(0-关闭;1-打开,HTTPLB的SC上下线时会删除所有服务端链路)。 

参数6 ：发现pgwFqdn,NRF返回结果为none nfprofle时，空缓存的有效期：取值范围1-180分钟，默认15分钟。 

参数7 ：HTTP/2消息头部压缩开关(0-进行头部压缩;1-不进行头部压缩)。 

参数8 ：HTTP/2头部压缩表容量。 

参数9 ：HTTP配置合法性校验日志开关(0-关闭;1-打开校验日志开关,会在oam-ccmf中输出配置校验日志)。 

参数10：获取NF(专指SMF网元)主备状态开关(0-关闭;1-打开,HTTPLB通过判断SMF的主备状态决定是否建链)。 

参数11：本参数已废弃。 

参数12：单个SC的客户端端口个数。注意：修改本配置可能导致业务中断！ 

参数13：本参数已废弃。 

参数14：本参数已废弃。 

参数15：消息体压缩开关(0-关闭;1-打开,消息体长度超过60K时进行压缩处理)。 

参数16：本参数已废弃。 

参数17：HTTP性能统计开关(0-关闭;1-打开,对收发消息情况进行统计)。 

参数18：HTTP信令跟踪开关(0-关闭;1-打开)。 

参数19：NFS多实例功能开关。（0-关闭，1-打开。默认：关闭）。 

参数20：本参数已废弃。 

参数21：本参数已废弃。 

参数22：本参数已废弃。 

参数23：链路均衡模式。0-关闭；1-链路数。 

参数24：后续路由刷新路由集时间戳功能开关。（10/11-打开，其他值-关闭，默认：10-打开）。 

参数25：本参数已废弃。 

参数26：发现pgwFqdn,NRF返回结果为none nfprofle时，缓存方式（3-功能关闭，其他-功能开启）。 

参数27：建立客户端静态链路的延迟秒数 

参数28：日志记录等级开关(0为关闭日志，1-4分别表示记录ERROR-WARNING-NOTICE-INFO级别日志)，注意大话务时  日志级别禁止设置为4，否则会有呼损。 

参数29：记录异步事件日志开关。 

参数30：记录定时器日志开关。 

参数31：记录详细信息日志开关。 

参数32：记录函数名和行号日志开关。 

参数33：IPS对HTTP建链报文限速开关(0-关闭；1-打开，限速值详见34号和35号参数)。 

参数34：建链请求报文限速值。 

参数35：非建链请求报文限速值。 

参数36：保活检测失败拆链开关(0-关闭；1-打开)。 

参数37：链路均衡检测周期定时器,单位为ms。 

参数38：长消息缓存容量,单个大小为1.3KB。 

参数39：上报客户端静态链路历史状态功能开关(0-关闭；1-打开)。 

参数40：清除内部未拆链路的统计信息开关(0-关闭；1-打开。默认：打开)。 

参数41：服务端等响应超时回408响应或rst_stream开关。0-rst_stream；1-408响应。 

参数42：选择负荷控制CPU模式。1-平均；2-最高值。 

参数43：代理功能开关。0-关闭；1-打开。 

参数44：释放Http2会话停止了的TCP链路开关。0-关闭；1-打开。 

参数45：链路均衡校验链路开关。0-关闭；1-打开。 

参数46：上行入向负荷控制每线程保留服务端链路数。 

参数47：统计函数运行时长开关。0-关闭；1-打开。 

参数48：客户端发送DATA帧不拷贝开关。0-关闭；1-打开。 

参数49：服务端发送DATA帧不拷贝开关。0-关闭；1-打开。 

参数50：释放数据拥塞状态持续10分钟以上的客户端链路开关。0-关闭，1-打开。 

参数51：TCP出向数据段最大长度。0-使用默认MTU计算。 

参数52：重试时间最大值，单位秒，涉及注册相关、订阅以及服务发现重试流程。 

参数53：订阅有效时长，单位分钟。默认600分钟。 

参数54：HTTP1.1客户端短连接拆链模式，针对新建链生效(0-FIN,1-RST；默认：RST)。 

参数55：HTTP1.1读包超时拆链开关(0-关闭；1-打开)。 

参数56：控制是否向LogAgent上报日志开关(0-关闭；1-打开)。 

参数57：控制是否在编解码中开启内存日志(0-关闭；非0-级别)。 

参数58：本参数已废弃。 

参数59：HTTP1.1服务端短链接拆链模式，针对新建链生效(0-不拆，1-FIN， 2-RST；默认:FIN)。 

参数60：注册更新数组变更方式(0-更新数组内变更;1-PUT更新整个NFProfile;2-更新整个数组;默认:1-PUT更新整个NFProfile)。 

参数61：使用订阅成功响应中携带的Location进行后续订阅路由的开关(0-关闭；1-打开)。 

参数62：解码码流格式校验开关(0-不校验;1-校验;默认:0-不校验)。 

参数63：请求中是否要将Service-Map加到supportedFeatures中的开关(0-关闭；1-打开；默认:打开)。 

参数64：服务发现缓存NfProfile最大个数(0：使用默认个数缓存，小规格256，中规格512，大规格2048)。 

参数65：SBIGW配置/cache订阅开关。(0-关闭全部，1-仅开启cache，2-仅开启配置，3-开启全部；默认：3-开启全部) 

参数66：SBIGW订阅更新提前时长，单位分钟。 

参数67：缩链是否发送通知开关。（0-不发送，1-发送。默认：0） 

参数68：链路老化是否发送通知开关。（0-不发送，1-发送。默认：0） 

参数69：客户端缩链功能开关。（0-关闭，1-打开。默认：关闭） 

参数70：主备节点检测功能开关。（0-关闭，1-打开。默认：打开） 

参数71：延迟取消cache订阅的时间，单位分钟。默认2160分钟。 

参数72：服务发现NRF模板选择方式开关(0-基于NFType选择;1-优先按号码选择)。 

参数73：SBIGW触发订阅流程的时间间隔，单位秒。默认5秒。 

参数74：SBIGW触发一次订阅流程最多发送初始订阅消息个数。默认100。 

参数75：订阅汇总Cache的老化时长，单位秒。默认1800秒。 

参数76：接收3gpp-Sbi-Lci头部时更新Load-Metric值的变化门限。默认4(4%)。 

参数77：信令跟踪大包上报开关。（0-关闭，1-打开。默认：0-关闭） 

参数78：服务发现响中单个NFProfile保存supi范围最大数量 

参数79：服务发现响中单个NFProfile保存gpsi范围最大数量  

参数80：服务发现响中单个NFProfile保存ipv4地址范围最大数量 

参数81：服务发现响中单个NFProfile保存ipv6地址范围最大数量 

参数82：BRS启用TCP nagel算法开关（0-关闭，1-启用标准nagle，2-启用非标准nagle。默认：0-关闭）。 

参数83：BRS启用TCP延时确认开关（0-关闭，1-打开。默认：关闭）。 

参数84：BRS启用TCP组包发送开关（0-关闭，1-打开。默认：关闭）。重启生效。 

参数85：BRS启用性能统计开关（0-关闭，1-打开。默认：关闭）。 

参数86：订阅通知告警上报开关。（0-关闭，1-打开。默认：打开） 

参数87：该开关用于控制Special SC上不存在的NF的初始订阅连续失败最大次数，达到最大次数后，会删除订阅数据区。默认10次。 

参数88：链路拥塞告警上报告警开关（0-关闭，1-打开。默认：0-关闭）。 

参数89：注册相关流程使用retry-after开关。（0-关闭，1-打开。默认：关闭） 

参数90：发现响应NonRange类保存最大数量。 

参数91：发现响应Range类保存最大数量。 

参数92：发现响应FullRange类保存最大数量。 

参数93：将预占内存返回给系统时，预占内存比率的阈值。默认: 10（10%）。 

参数94：将预占内存返回给系统时，已使用内存比率的阈值。默认: 80（80%）。 

参数95：内存可用时，已使用内存比率的阈值。默认: 70（70%）。 

参数96：内存不可用时，已使用内存比率的阈值。默认: 80（80%）。 

参数97：释放数据拥塞状态持续10分钟以上的服务端链路开关。0-关闭，1-打开。 

参数98：服务发现连续命中缓存最大次数，达到最大次数后重新发现。默认100000次。 

参数99：服务发现查询NRF服务器最大间隔时长，达到最大间隔时长后重新发现。默认1800秒。 

参数100：时延统计开关。0-关闭，1-打开。默认：关闭。 

参数101：时延统计时间戳模式。0-RDTSC时间戳， 1-SYS时间戳。默认：1-SYS时间戳。 

参数102：变更通知按NF实例刷新Cache开关，0：关闭，1：开启，默认开启。 

参数103：变更通知按NF实例刷新Cache离散时长：取值范围0-300秒，默认120s。 

参数104：变更通知按NF类型刷新Cache开关，0：关闭，1：开启，默认开启。 

参数105：变更通知按NF类型刷新Cache离散起始时长：取值范围10-120分钟，默认60分钟。需要与参数106配合使用。如果参数105的值大于参数106的值，则按NF类型刷新功能将失效。 

参数106：变更通知按NF类型刷新Cache离散完结时长：取值范围60-300分钟，默认120分钟。需要与参数105配合使用。如果参数106的值小于参数105的值，则按NF类型刷新功能将失效。 

参数107：最新Notify通知记录老化时长：取值范围24-240小时，默认48小时。 

参数108：不可用NFProfile延时老化时长：取值范围0-48小时，默认24小时。 

参数109：变更通知suspend处理开关。（0-关闭，1-打开。默认：打开） 

参数110：每实例总流量阈值：取值范围20-500M/秒，默认360M/秒。 

参数111：注册相关流程是否启用重选开关。（0-关闭，1-打开。默认：关闭） 

参数112：服务发现结果容量阈值：取值范围1-100（%），默认90（%） 

参数113：限制内存使用量开关。（0-关闭，1-打开。默认：打开） 

参数114：限制总流量开关。（0-关闭，1-打开。默认：打开） 

参数115：限制单链20M流量开关。（0-关闭，1-打开。默认：关闭） 

参数116：注册相关流程等响应定时器时长，单位秒。 

参数117：动态链路建链失败上报通知开关。（0-关闭，1-打开。默认：打开） 

参数118：信令跟踪控制阈值：取值范围50-100(%);CPU使用率超过阈值后禁用信令跟踪功能（默认60）。 

参数119：每秒放通TCP SYN报文最大个数：取值范围100-16000，默认3000。 

参数120：SBIGW路由集表容量配置：取值范围4000-12000，默认8000。修改后重启整个NFS生效。 

参数121：消息体压缩阈值（单位KB）。消息体长度超过开关值时进行压缩处理，范围10-60KB（默认60）。 

参数122：服务发现流控SUPI/GPSI号段阈值。缓存的号段数小于等于配置阈值时触发服务发现流控功能（默认1000）。配置为0时,此功能不生效，走原服务发现流控功能。 

参数123：NFS所有IP都无效时，是否使用NF的IP的开关。（0-关闭，1-打开。默认：关闭） 

参数124：客户端请求中是否携带User-Agent头域开关。(0：关闭，1：开启，默认关闭) 

参数125：重注册扫描间隔，取值范围1-60秒（默认5秒）。在一个扫描周期中，最多只会对一个NFID发起重注册通知。 

参数126：路由集抢占开关。（0-关闭，1-打开。默认：打开） 

参数127：路由集抢占门限：取值范围60-100（%），默认95（%）。 

参数128：路由集有效时长：配置范围10-10080分钟，默认360分钟。注意：当24号全局参数的值为1或11时，修改128号参数配置不生效，路由集有效时长固定为2880分钟。 

参数129：scheme与transport一致性校验开关。（0-关闭，1-打开。默认：打开） 

参数130：服务发现结果不携带优先级时，路由选择的默认优先级，取值范围0-65535，默认65535。 

参数131：服务发现结果不携带权重时，路由选择的默认权重，取值范围0-65535，默认65535。 

参数132：NRF配置变更（包括NRF节点/NRF模板/NRF模板选择/NRF服务器策略配置）触发向修改前锚定的NRF发送去注册请求的功能开关。（0-关闭，1-打开。默认：关闭）。 

参数133：服务发现写缓存最小时间间隔：取值范围0-2000（毫秒），默认1（毫秒）。 

参数134：服务发现方式配置为动态优先且最终静态发现也失败时，控制是否需要上报动态失败响应内容的开关。（0-关闭，1-开启。默认：关闭）。 

参数135：重注册/注册更新失败是否停止心跳开关（0-关闭；1-打开。默认：0-关闭）。开关关闭时，当在正常保持心跳时，如果后续注册/注册更新registered态失败，继续保持心跳；如果后续注册/注册更新suspended态，不论成功失败，均停止心跳。 

参数136：控制热补丁是否生效开关1，按位使用，0表示关，默认0xffffffff。
参数137：控制热补丁是否生效开关2，按位使用，0表示关，默认0xffffffff。
参数138：HTTP1.1不带Content-Length或chunked响应报文处理开关。（0-关闭，1-打开。默认：1-打开）。若开关打开，则支持不带Content-Length或chunked响应报文处理；若开关关闭，则不支持。 

参数139：HTTP1.1请求报文相对URL开关，根据开关确定是绝对URL还是相对URL。（0-关闭，1-打开。默认：1-打开）。若开关打开，则为相对URL；若开关关闭，则为绝对URL。 

参数140：NRF节点不可用告警控制开关（0-关闭；1-打开。默认：1-打开）。开关打开时，正常上报节点不可用节点告警；开关关闭，恢复所有节点不可用告警。 

参数141：同名多头部合并控制开关（0-不合并；1-合并。默认：0-不合并）。 

参数142：服务发现结果中是否保留参数sNssaiSmfInfoList（0-不保留，1-保留。默认：0-不保留）。 

参数143：线程级函数统计开关（0-关闭；1-打开。默认：0-关闭）。 

参数144：NRF节点局向检测开关。（0-关闭，1-打开。默认：0-关闭）。 

参数145：SCP非直连场景下客户端进行目的NF重选开关。（0-不重选；1-重选。默认：0-不重选）。 

参数146：非直连场景下超时重选。（0-重选SCP/SEPP；1-重选目的NF。默认：0-重选SCP/SEPP）。 

参数147：异网网元引起失败重选开关。（0-不重选；1-重选。默认：0-不重选）。 

参数148：当节点启发式检测结果已确认不可用后，后续启发式检测时长是否启用心跳响应中的heartbeattimer（0-关闭；1-打开。默认：0-关闭）。 

参数149：通过NF实例获取完整号段的离散时间：取值范围5-3600（秒），默认10（秒）。两次获取完整号段有时间间隔，时间间隔=离散时间+NF数量×固定值。 

参数251：客户端路由服务发现流控后1秒重试功能开关（0-关闭，1-打开。默认：1-打开）。 

参数252：订阅相关流程使用retry-after开关（0-关闭；1-打开。默认：1-打开）。 

参数253：SCP非直连自动转直连功能开关（0-关闭，1-打开。默认：0-关闭）。 

参数254：服务发现缓存删除发现参数中请求方标识信息开关（0-关闭；1-打开。默认：0-关闭）。 

参数255：NRF通知是否更新缓存开关（0-关闭；1-打开。默认：0-关闭）。 

参数256：静态链路迁移等待SC虚机重启的时长（秒）：配置范围30-600秒，默认180秒。 

参数257：本参数已废弃。 

参数258：所有NF都不可用时是否立即向NRF发送服务发现请求。（0-关闭；1-打开。默认：1-打开）。 

参数259：服务发现结果写缓存CPU占用百分比限制：配置范围10-100，默认80。 


[](None)注意事项 


 
每个全局参数的修改取值需在SHOW GLOBAL PARAMETER命令查询结果定义的范围内。 

 
64号全局参数影响订阅容量，修改参数时需要重启SC或者NFS生效。 

 
84号全局参数修改需重启生效。 

 
120号全局参数修改需重启整个NFS生效。 

 
78-81号全局参数修改需手动删除缓存后重新出去服务发现生效。 

 
当24号参数值为1或11时，路由集有效时长固定为2880分钟，此时即使修改128号全局参数的值，路由集有效时长也不会变更。如果需要修改路由集有效时长，需要将24号参数修改为非1和11的值。 

 


[](None)输入参数说明 


[](None)标识|名称|类型|说明
---|---|---|---
ID|编号|参数可选性: 必选参数类型: 数字参数范围: 1-1024|该参数用于表示待设置的某个全局参数编号。该命令需要配合动态命令SHOW GLOBAL PARAMETER使用，先查询出ID对应的全局参数的描述。
VALUE|参数值|参数可选性: 必选参数类型: 数字|该参数用于设置全局参数值。该命令需要配合动态命令SHOW GLOBAL PARAMETER使用，设置的值范围需要在SHOW GLOBAL PARAMETER命令查询结果定义的范围内。




[](None)输出参数说明 


[](None)标识|名称|类型|说明
---|---|---|---
ID|编号|参数可选性: 任选参数类型: 数字参数范围: 1-1024|该参数用于表示待设置的某个全局参数编号。该命令需要配合动态命令SHOW GLOBAL PARAMETER使用，先查询出ID对应的全局参数的描述。
VALUE|参数值|参数可选性: 任选参数类型: 数字|该参数用于设置全局参数值。该命令需要配合动态命令SHOW GLOBAL PARAMETER使用，设置的值范围需要在SHOW GLOBAL PARAMETER命令查询结果定义的范围内。




[](None)命令举例 


`
设置全局参数配置，编号为1对应的值修改为5。
SET GLOBALPARAMETER:ID=1,VALUE=5;
` 


#### 删除全局参数配置(DELETE GLOBALPARAMETER) 
#### 删除全局参数配置(DELETE GLOBALPARAMETER) 


[](None)功能说明 

该命令用于删除某项全局参数的配置值。当用户不需要对该全局参数做特殊配置时，可删除该全局参数的配置值。命令执行成功后，后续会默认使用[SHOW GLOBAL PARAMETER](../mml/1221007.html)命令查询出的该参数的缺省值。


[](None)注意事项 


 
64号全局参数影响订阅容量，删除参数时需要重启SC或者NFS生效。 

 
84号全局参数删除需重启生效。 

 
120号全局参数删除需重启整个NFS生效。 

 
78-81号全局参数删除需手动删除缓存后重新出去服务发现生效。 

 


[](None)输入参数说明 


[](None)标识|名称|类型|说明
---|---|---|---
ID|编号|参数可选性: 必选参数类型: 数字参数范围: 1-1024|该参数用于表示待设置的某个全局参数编号。该命令需要配合动态命令SHOW GLOBAL PARAMETER使用，先查询出ID对应的全局参数的描述。




[](None)输出参数说明 


[](None)标识|名称|类型|说明
---|---|---|---
ID|编号|参数可选性: 任选参数类型: 数字参数范围: 1-1024|该参数用于表示待设置的某个全局参数编号。该命令需要配合动态命令SHOW GLOBAL PARAMETER使用，先查询出ID对应的全局参数的描述。
VALUE|参数值|参数可选性: 任选参数类型: 数字|该参数用于设置全局参数值。该命令需要配合动态命令SHOW GLOBAL PARAMETER使用，设置的值范围需要在SHOW GLOBAL PARAMETER命令查询结果定义的范围内。




[](None)命令举例 


`
删除编号为1的全局参数配置。
DELETE GLOBALPARAMETER:ID=1;
` 


#### 查询全局参数配置(SHOW GLOBALPARAMETER) 
#### 查询全局参数配置(SHOW GLOBALPARAMETER) 


[](None)功能说明 

该命令用于查询全局参数配置，获取全局参数配置的编号及该参数对应的参数值。当需要查询全局参数配置时，使用该命令。


[](None)注意事项 


 
如需要查询全部的全局参数配置信息，则不需要输入任何参数。 

 
如需要查询指定编号的全局参数配置信息，则需要输入参数编号。 

 


[](None)输入参数说明 


[](None)标识|名称|类型|说明
---|---|---|---
ID|编号|参数可选性: 任选参数类型: 数字参数范围: 1-1024|该参数用于表示待设置的某个全局参数编号。该命令需要配合动态命令SHOW GLOBAL PARAMETER使用，先查询出ID对应的全局参数的描述。




[](None)输出参数说明 


[](None)标识|名称|类型|说明
---|---|---|---
ID|编号|参数可选性: 任选参数类型: 数字参数范围: 1-1024|该参数用于表示待设置的某个全局参数编号。该命令需要配合动态命令SHOW GLOBAL PARAMETER使用，先查询出ID对应的全局参数的描述。
VALUE|参数值|参数可选性: 任选参数类型: 数字|该参数用于设置全局参数值。该命令需要配合动态命令SHOW GLOBAL PARAMETER使用，设置的值范围需要在SHOW GLOBAL PARAMETER命令查询结果定义的范围内。




[](None)命令举例 


`
查询所有的全局参数配置。
SHOW GLOBALPARAMETER;

(No.1) : SHOW GLOBALPARAMETER:
-----------------CommonS_HTTP_LB_0----------------
编号  参数值
1     5
记录数：1

执行成功耗时: 0.078 秒

` 


### 资源阈值配置 
### 资源阈值配置 


[](None)背景知识 


当SBI-GW（Service Based Interface-GateWay，基于服务化接口的代理网关）内的数据区占用率达到一定程度时，会上报分级告警，告警级别按照阈值分为一级、二级、三级告警。 

资源阈值配置主要用于维护人员通过配置变更的方式修改SBI-GW数据区的上报类型及告警阈值。 




[](None)功能说明 


该功能用于配置资源阈值。当需要对SBI-GW数据区的上报类型或告警阈值做修改时，使用该配置根据具体需求进行设置。设置成功后，新设置的资源阈值即时生效。如果不设置，则使用默认值。 




[](None)子主题： 






#### 新增资源阈值配置(ADD SBIRESOURCETHRESHOLD) 
#### 新增资源阈值配置(ADD SBIRESOURCETHRESHOLD) 


[](None)功能说明 

该命令用于增加资源阈值配置。当维护人员需要对SBI-GW数据区的告警做特殊配置时，执行该命令。命令执行成功后，指定编号的数据区后续会按照新的配置和数据区占用情况判断是否上报告警。


[](None)注意事项 


 
使用新增资源阈值配置命令之前，可执行SHOW RESOURCE THRESHOLD命令查询需要新增阈值的“资源名”对应的“编号”，在新增资源阈值配置时指定对应编号即可。 

 
告警阈值的范围为0-100，其中0表示该阈值不生效。 

 


[](None)输入参数说明 


[](None)标识|名称|类型|说明
---|---|---|---
ID|编号|参数可选性: 必选参数类型: 数字参数范围: 1-1024|该参数用于设置资源阈值编号。该编号在查询对应系统资源的资源阈值参数（SHOW RESOURCE THRESHOLD）时被引用。
REPORTTYPE|上报类型|参数可选性: 任选参数类型: 枚举，参见枚举定义参数范围: 0-1默认值: ALARM_REPORT|该参数用于设置告警上报类型。每种系统资源均有默认的上报类型。告警：资源上报告警采用分级的方式（一级、二级、三级），达到告警阈值就会上报对应级别的告警。通知：资源上报通知采用分级的方式，一旦达到某个阈值就会上报通知，用于提示当前的系统占用情况。
L1THR|一级阈值（%）|参数可选性: 任选参数类型: 数字参数范围: 0-100默认值: 90|该参数用于设置告警一级阈值，当数据区占用率大于一级阈值时上报一级告警。取值为０时表示该阈值不生效。阈值生效时，一级阈值需大于二级阈值，二级阈值需大于三级阈值，且阈值间隔不小于5。
L2THR|二级阈值（%）|参数可选性: 任选参数类型: 数字参数范围: 0-100默认值: 85|该参数用于设置告警二级阈值，当数据区占用率大于二级阈值且小于等于一级阈值时上报二级告警。取值为０时表示该阈值不生效。阈值生效时，一级阈值需大于二级阈值，二级阈值需大于三级阈值，且阈值间隔不小于5。
L3THR|三级阈值（%）|参数可选性: 任选参数类型: 数字参数范围: 0-100默认值: 80|该参数用于设置告警三级阈值，当数据区占用率大于三级阈值且小于等于二级阈值时上报三级告警。取值为０时表示该阈值不生效。阈值生效时，一级阈值需大于二级阈值，二级阈值需大于三级阈值，且阈值间隔不小于5。




[](None)输出参数说明 


[](None)标识|名称|类型|说明
---|---|---|---
ID|编号|参数可选性: 任选参数类型: 数字参数范围: 1-1024|该参数用于设置资源阈值编号。该编号在查询对应系统资源的资源阈值参数（SHOW RESOURCE THRESHOLD）时被引用。
REPORTTYPE|上报类型|参数可选性: 任选参数类型: 枚举，参见枚举定义参数范围: 0-1默认值: ALARM_REPORT|该参数用于设置告警上报类型。每种系统资源均有默认的上报类型。告警：资源上报告警采用分级的方式（一级、二级、三级），达到告警阈值就会上报对应级别的告警。通知：资源上报通知采用分级的方式，一旦达到某个阈值就会上报通知，用于提示当前的系统占用情况。
L1THR|一级阈值（%）|参数可选性: 任选参数类型: 数字参数范围: 0-100默认值: 90|该参数用于设置告警一级阈值，当数据区占用率大于一级阈值时上报一级告警。取值为０时表示该阈值不生效。阈值生效时，一级阈值需大于二级阈值，二级阈值需大于三级阈值，且阈值间隔不小于5。
L2THR|二级阈值（%）|参数可选性: 任选参数类型: 数字参数范围: 0-100默认值: 85|该参数用于设置告警二级阈值，当数据区占用率大于二级阈值且小于等于一级阈值时上报二级告警。取值为０时表示该阈值不生效。阈值生效时，一级阈值需大于二级阈值，二级阈值需大于三级阈值，且阈值间隔不小于5。
L3THR|三级阈值（%）|参数可选性: 任选参数类型: 数字参数范围: 0-100默认值: 80|该参数用于设置告警三级阈值，当数据区占用率大于三级阈值且小于等于二级阈值时上报三级告警。取值为０时表示该阈值不生效。阈值生效时，一级阈值需大于二级阈值，二级阈值需大于三级阈值，且阈值间隔不小于5。




[](None)命令举例 


`
新增资源阈值配置：编号为1，上报类型为告警，一级阈值为90，二级阈值为85，三级阈值为80。
ADD SBIRESOURCETHRESHOLD:ID=1,REPORTTYPE="ALARM_REPORT",L1THR=90,L2THR=85,L3THR=80;
` 


#### 修改资源阈值配置(SET SBIRESOURCETHRESHOLD) 
#### 修改资源阈值配置(SET SBIRESOURCETHRESHOLD) 


[](None)功能说明 

该命令用于修改资源阈值配置。当需要修改数据区的告警方式或阈值时，执行该命令。命令执行成功后，指定编号的数据区后续会按照新的配置和数据区占用情况判断是否上报告警。


[](None)注意事项 


 
使用修改资源阈值配置命令之前，可执行SHOW RESOURCE THRESHOLD命令查询需要修改阈值的“资源名”对应的“编号”，在修改资源阈值配置时指定对应编号即可。 

 
告警阈值的范围为0-100，其中0表示该阈值不生效。 

 


[](None)输入参数说明 


[](None)标识|名称|类型|说明
---|---|---|---
ID|编号|参数可选性: 必选参数类型: 数字参数范围: 1-1024|该参数用于设置资源阈值编号。该编号在查询对应系统资源的资源阈值参数（SHOW RESOURCE THRESHOLD）时被引用。
REPORTTYPE|上报类型|参数可选性: 任选参数类型: 枚举，参见枚举定义参数范围: 0-1默认值: ALARM_REPORT|该参数用于设置告警上报类型。每种系统资源均有默认的上报类型。告警：资源上报告警采用分级的方式（一级、二级、三级），达到告警阈值就会上报对应级别的告警。通知：资源上报通知采用分级的方式，一旦达到某个阈值就会上报通知，用于提示当前的系统占用情况。
L1THR|一级阈值（%）|参数可选性: 任选参数类型: 数字参数范围: 0-100默认值: 90|该参数用于设置告警一级阈值，当数据区占用率大于一级阈值时上报一级告警。取值为０时表示该阈值不生效。阈值生效时，一级阈值需大于二级阈值，二级阈值需大于三级阈值，且阈值间隔不小于5。
L2THR|二级阈值（%）|参数可选性: 任选参数类型: 数字参数范围: 0-100默认值: 85|该参数用于设置告警二级阈值，当数据区占用率大于二级阈值且小于等于一级阈值时上报二级告警。取值为０时表示该阈值不生效。阈值生效时，一级阈值需大于二级阈值，二级阈值需大于三级阈值，且阈值间隔不小于5。
L3THR|三级阈值（%）|参数可选性: 任选参数类型: 数字参数范围: 0-100默认值: 80|该参数用于设置告警三级阈值，当数据区占用率大于三级阈值且小于等于二级阈值时上报三级告警。取值为０时表示该阈值不生效。阈值生效时，一级阈值需大于二级阈值，二级阈值需大于三级阈值，且阈值间隔不小于5。




[](None)输出参数说明 


[](None)标识|名称|类型|说明
---|---|---|---
ID|编号|参数可选性: 任选参数类型: 数字参数范围: 1-1024|该参数用于设置资源阈值编号。该编号在查询对应系统资源的资源阈值参数（SHOW RESOURCE THRESHOLD）时被引用。
REPORTTYPE|上报类型|参数可选性: 任选参数类型: 枚举，参见枚举定义参数范围: 0-1默认值: ALARM_REPORT|该参数用于设置告警上报类型。每种系统资源均有默认的上报类型。告警：资源上报告警采用分级的方式（一级、二级、三级），达到告警阈值就会上报对应级别的告警。通知：资源上报通知采用分级的方式，一旦达到某个阈值就会上报通知，用于提示当前的系统占用情况。
L1THR|一级阈值（%）|参数可选性: 任选参数类型: 数字参数范围: 0-100默认值: 90|该参数用于设置告警一级阈值，当数据区占用率大于一级阈值时上报一级告警。取值为０时表示该阈值不生效。阈值生效时，一级阈值需大于二级阈值，二级阈值需大于三级阈值，且阈值间隔不小于5。
L2THR|二级阈值（%）|参数可选性: 任选参数类型: 数字参数范围: 0-100默认值: 85|该参数用于设置告警二级阈值，当数据区占用率大于二级阈值且小于等于一级阈值时上报二级告警。取值为０时表示该阈值不生效。阈值生效时，一级阈值需大于二级阈值，二级阈值需大于三级阈值，且阈值间隔不小于5。
L3THR|三级阈值（%）|参数可选性: 任选参数类型: 数字参数范围: 0-100默认值: 80|该参数用于设置告警三级阈值，当数据区占用率大于三级阈值且小于等于二级阈值时上报三级告警。取值为０时表示该阈值不生效。阈值生效时，一级阈值需大于二级阈值，二级阈值需大于三级阈值，且阈值间隔不小于5。




[](None)命令举例 


`
设置资源阈值配置，编号为1对应的上报类型改为告警，一级阈值改为90，二级阈值改为85，三级阈值改为80。
SET SBIRESOURCETHRESHOLD:ID=1,REPORTTYPE="ALARM_REPORT",L1THR=90,L2THR=85,L3THR=80;
` 


#### 删除资源阈值配置(DEL SBIRESOURCETHRESHOLD) 
#### 删除资源阈值配置(DEL SBIRESOURCETHRESHOLD) 


[](None)功能说明 

该命令用于删除资源阈值配置。当维护人员不需要对该数据区的告警方式或阈值做特殊配置时，使用该命令。命令执行成功后，指定编号的数据区后续会按照默认值进行告警上报。


[](None)注意事项 

无。


[](None)输入参数说明 


[](None)标识|名称|类型|说明
---|---|---|---
ID|编号|参数可选性: 必选参数类型: 数字参数范围: 1-1024|该参数用于设置资源阈值编号。该编号在查询对应系统资源的资源阈值参数（SHOW RESOURCE THRESHOLD）时被引用。




[](None)输出参数说明 


[](None)标识|名称|类型|说明
---|---|---|---
ID|编号|参数可选性: 任选参数类型: 数字参数范围: 1-1024|该参数用于设置资源阈值编号。该编号在查询对应系统资源的资源阈值参数（SHOW RESOURCE THRESHOLD）时被引用。
REPORTTYPE|上报类型|参数可选性: 任选参数类型: 枚举，参见枚举定义参数范围: 0-1默认值: ALARM_REPORT|该参数用于设置告警上报类型。每种系统资源均有默认的上报类型。告警：资源上报告警采用分级的方式（一级、二级、三级），达到告警阈值就会上报对应级别的告警。通知：资源上报通知采用分级的方式，一旦达到某个阈值就会上报通知，用于提示当前的系统占用情况。
L1THR|一级阈值（%）|参数可选性: 任选参数类型: 数字参数范围: 0-100默认值: 90|该参数用于设置告警一级阈值，当数据区占用率大于一级阈值时上报一级告警。取值为０时表示该阈值不生效。阈值生效时，一级阈值需大于二级阈值，二级阈值需大于三级阈值，且阈值间隔不小于5。
L2THR|二级阈值（%）|参数可选性: 任选参数类型: 数字参数范围: 0-100默认值: 85|该参数用于设置告警二级阈值，当数据区占用率大于二级阈值且小于等于一级阈值时上报二级告警。取值为０时表示该阈值不生效。阈值生效时，一级阈值需大于二级阈值，二级阈值需大于三级阈值，且阈值间隔不小于5。
L3THR|三级阈值（%）|参数可选性: 任选参数类型: 数字参数范围: 0-100默认值: 80|该参数用于设置告警三级阈值，当数据区占用率大于三级阈值且小于等于二级阈值时上报三级告警。取值为０时表示该阈值不生效。阈值生效时，一级阈值需大于二级阈值，二级阈值需大于三级阈值，且阈值间隔不小于5。




[](None)命令举例 


`
删除编号为1的资源阈值配置。
DEL SBIRESOURCETHRESHOLD:ID=1;
` 


#### 查询资源阈值配置(SHOW SBIRESOURCETHRESHOLD) 
#### 查询资源阈值配置(SHOW SBIRESOURCETHRESHOLD) 


[](None)功能说明 

该命令用于查询资源阈值配置。当需要查询资源阈值配置信息时，使用该命令。该命令执行成功后，显示指定编号数据区的上报类型、一级告警阈值、二级告警阈值和三级告警阈值。 


[](None)注意事项 


 
如需要查询全部的资源阈值配置信息，则不需要输入任何参数。 

 
如需要查询指定编号的资源阈值配置信息，则需要输入参数编号。 

 


[](None)输入参数说明 


[](None)标识|名称|类型|说明
---|---|---|---
ID|编号|参数可选性: 任选参数类型: 数字参数范围: 1-1024|该参数用于设置资源阈值编号。该编号在查询对应系统资源的资源阈值参数（SHOW RESOURCE THRESHOLD）时被引用。




[](None)输出参数说明 


[](None)标识|名称|类型|说明
---|---|---|---
ID|编号|参数可选性: 任选参数类型: 数字参数范围: 1-1024|该参数用于设置资源阈值编号。该编号在查询对应系统资源的资源阈值参数（SHOW RESOURCE THRESHOLD）时被引用。
REPORTTYPE|上报类型|参数可选性: 任选参数类型: 枚举，参见枚举定义参数范围: 0-1默认值: ALARM_REPORT|该参数用于设置告警上报类型。每种系统资源均有默认的上报类型。告警：资源上报告警采用分级的方式（一级、二级、三级），达到告警阈值就会上报对应级别的告警。通知：资源上报通知采用分级的方式，一旦达到某个阈值就会上报通知，用于提示当前的系统占用情况。
L1THR|一级阈值（%）|参数可选性: 任选参数类型: 数字参数范围: 0-100默认值: 90|该参数用于设置告警一级阈值，当数据区占用率大于一级阈值时上报一级告警。取值为０时表示该阈值不生效。阈值生效时，一级阈值需大于二级阈值，二级阈值需大于三级阈值，且阈值间隔不小于5。
L2THR|二级阈值（%）|参数可选性: 任选参数类型: 数字参数范围: 0-100默认值: 85|该参数用于设置告警二级阈值，当数据区占用率大于二级阈值且小于等于一级阈值时上报二级告警。取值为０时表示该阈值不生效。阈值生效时，一级阈值需大于二级阈值，二级阈值需大于三级阈值，且阈值间隔不小于5。
L3THR|三级阈值（%）|参数可选性: 任选参数类型: 数字参数范围: 0-100默认值: 80|该参数用于设置告警三级阈值，当数据区占用率大于三级阈值且小于等于二级阈值时上报三级告警。取值为０时表示该阈值不生效。阈值生效时，一级阈值需大于二级阈值，二级阈值需大于三级阈值，且阈值间隔不小于5。




[](None)命令举例 


`
查询所有的资源阈值配置。
SHOW SBIRESOURCETHRESHOLD;

(No.1) : SHOW SBIRESOURCETHRESHOLD:
-----------------CommonS_HTTP_LB_0----------------
操作维护       编号 上报类型 一级阈值（%） 二级阈值（%） 三级阈值（%） 
--------------------------------------------------------
复制 修改 删除 1    告警         90           85        80
--------------------------------------------------------
记录数：1

执行成功耗时: 0.078 秒

` 


