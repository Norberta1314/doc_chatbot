# Namf_MT 
## MT基础配置 
## MT基础配置 
背景知识 
寻呼策略区分（Paging Policy Differentiation）功能是一项可选功能，AMF可以根据运营商的实际需求，区分同一PDU会话中的不同流量或不同服务类型的终端，设置不同的寻呼策略。  
AMF支持选择合适的范围对终端进行寻呼，从而有效地减少整个网络中无线侧的寻呼消息负荷，提高寻呼效率，节省网络资源。  
关于寻呼策略区分（Paging Policy Differentiation）功能的详细介绍，可以参见3GPP TS 23.501协议的“5.4.3.2 Paging Policy Differentiation”。 
功能说明 
该功能用于设置或修改AMF是否开启寻呼策略区分（Paging Policy Differentiation）功能，以及与寻呼功能相关的参数，包括如下。  
 
设置寻呼消息信令跟踪上报模式。 
 
设置批量寻呼消息发送间隔。  
 
子主题： 
### 修改 MT基础配置(SET MTBASICCFG) 
### 修改 MT基础配置(SET MTBASICCFG) 
功能说明 
该命令用于设置或修改AMF是否开启寻呼策略区分（Paging Policy Differentiation）功能，以及与寻呼功能相关的参数。  
注意事项 
默认情况下，寻呼策略区分（Paging Policy Differentiation）功能为关闭状态。
输入参数说明 
标识|名称|类型|说明
---|---|---|---
supportPagingDiff|支持寻呼区分|参数可选性: 任选参数类型: 枚举，参见枚举定义参数范围: 0-1默认值: NOTSUPTPAGINGDIFF|该参数用于设置AMF是否开启寻呼策略区分（Paging Policy Differentiation）功能。寻呼策略区分（Paging Policy Differentiation）功能是一项可选功能，AMF可以根据运营商的实际需求，区分同一PDU会话中的不同流量或不同服务类型的终端，来设置不同的寻呼策略。
pagingTraceStyle|寻呼信令跟踪类型|参数可选性: 任选参数类型: 枚举，参见枚举定义参数范围: 0-2默认值: TRACE_ONLY_ONE|该参数用于设置AMF发送的寻呼消息，上报到EM（Element Management，网元管理）的信令跟踪模块的模式。仅跟踪一条（TRACE_ONLY_ONE）：表示在一次寻呼过程中，AMF只上报一次寻呼消息。无论AMF上配置的寻呼策略个数或者重发寻呼消息的次数为多少，AMF只会上报一条寻呼消息到信令跟踪模块，例如：AMF配置了3个寻呼策略，每个寻呼策略的重发次数为3次，假设最后一次寻呼成功，则操作员在EM的信令跟踪界面上只会看到一条寻呼消息。全部跟踪（TRACE_ALL）：表示在一次寻呼过程中，AMF会上报所有的寻呼消息。无论AMF上配置的寻呼策略个数或者重发寻呼消息的次数为多少，AMF会上报所有寻呼消息到信令跟踪模块，例如：AMF配置了3个寻呼策略，每个寻呼策略的重发次数为3次，假设最后一次寻呼成功，则操作员在EM的信令跟踪界面上会看到9条寻呼消息。每策略跟踪一条（TRACE_FIRST_PER_POLICY）：表示在一次寻呼过程中，AMF针对每个寻呼策略，上报一次寻呼消息。无论AMF上配置的寻呼策略个数或者重发寻呼消息的次数为多少，AMF对于每个寻呼策略，只会上报其中一个寻呼消息到信令跟踪模块，例如：AMF配置了3个寻呼策略，每个寻呼策略的重发次数为3次，假设最后一次寻呼成功，则操作员在EM的信令跟踪界面上会看到3条寻呼消息，分别为每个寻呼策略中的一条消息。
batchPagingInterval|批量寻呼消息发送间隔（毫秒）|参数可选性: 任选参数类型: 数字参数范围: 50-150默认值: 100|该参数用于设置AMF批量发送寻呼消息的时间间隔。
batchPagingNum|批量寻呼消息发送个数|参数可选性: 任选参数类型: 数字参数范围: 1-1000默认值: 512|该参数用于设置AMF批量发送寻呼消息的个数。
命令举例 
`
设置开启是否寻呼策略区分功能功能，设置寻呼信令跟踪模式，批量寻呼发送间隔时长。
SET MTBASICCFG:SUPPORTPAGINGDIFF="SUPTPAGINGDIFF",PAGINGTRACESTYLE="TRACE_FIRST_PER_POLICY",BATCHPAGINGINTERVAL=100
` 
### 查询 MT基础配置(SHOW MTBASICCFG) 
### 查询 MT基础配置(SHOW MTBASICCFG) 
功能说明 
该命令用于查询AMF是否开启寻呼策略区分（Paging Policy Differentiation）功能，以及与寻呼功能相关的参数。  
注意事项 
无。
输出参数说明 
标识|名称|类型|说明
---|---|---|---
supportPagingDiff|支持寻呼区分|参数可选性: 任选参数类型: 枚举，参见枚举定义参数范围: 0-1默认值: NOTSUPTPAGINGDIFF|该参数用于设置是否开启Paging Policy Differentiation功能，寻呼策略区分是一项可选功能，允许AMF根据运营商配置为同一PDU会话中提供的不同流量或服务类型应用不同的寻呼策略，当开关关闭时使用默认策略。
pagingTraceStyle|寻呼信令跟踪类型|参数可选性: 任选参数类型: 枚举，参见枚举定义参数范围: 0-2默认值: TRACE_ONLY_ONE|该参数用于设置AMF发送的寻呼消息，上报到EM（Element Management，网元管理）的信令跟踪模块的模式。仅跟踪一条（TRACE_ONLY_ONE）：表示在一次寻呼过程中，AMF只上报一次寻呼消息。无论AMF上配置的寻呼策略个数或者重发寻呼消息的次数为多少，AMF只会上报一条寻呼消息到信令跟踪模块，例如：AMF配置了3个寻呼策略，每个寻呼策略的重发次数为3次，假设最后一次寻呼成功，则操作员在EM的信令跟踪界面上只会看到一条寻呼消息。全部跟踪（TRACE_ALL）：表示在一次寻呼过程中，AMF会上报所有的寻呼消息。无论AMF上配置的寻呼策略个数或者重发寻呼消息的次数为多少，AMF会上报所有寻呼消息到信令跟踪模块，例如：AMF配置了3个寻呼策略，每个寻呼策略的重发次数为3次，假设最后一次寻呼成功，则操作员在EM的信令跟踪界面上会看到9条寻呼消息。每策略跟踪一条（TRACE_FIRST_PER_POLICY）：表示在一次寻呼过程中，AMF针对每个寻呼策略，上报一次寻呼消息。无论AMF上配置的寻呼策略个数或者重发寻呼消息的次数为多少，AMF对于每个寻呼策略，只会上报其中一个寻呼消息到信令跟踪模块，例如：AMF配置了3个寻呼策略，每个寻呼策略的重发次数为3次，假设最后一次寻呼成功，则操作员在EM的信令跟踪界面上会看到3条寻呼消息，分别为每个寻呼策略中的一条消息。
batchPagingInterval|批量寻呼消息发送间隔（毫秒）|参数可选性: 任选参数类型: 数字参数范围: 50-150默认值: 100|该参数用于设置AMF批量发送寻呼消息的时间间隔。
batchPagingNum|批量寻呼消息发送个数|参数可选性: 任选参数类型: 数字参数范围: 1-1000默认值: 512|该参数用于设置AMF批量发送寻呼消息的个数。
命令举例 
`
查询寻呼策略区分功能是否开启，寻呼信令跟踪模式，批量寻呼发送间隔时长。 
SHOW MTBASICCFG:
SHOW MTBASICCFG:
----------------------------------Namf_MT_0---------------------------------
支持寻呼区分 寻呼信令跟踪类型 批量寻呼消息发送间隔（毫秒） 批量寻呼消息发送个数 
----------------------------------------------------------------------------
不支持       每策略跟踪一条   100                        512                  
----------------------------------------------------------------------------
记录数：1
执行成功耗时: 0.163 秒
` 
## 寻呼策略配置 
## 寻呼策略配置 
背景知识 
终端接入5GC网络后，如果暂时不使用语音或者数据业务时，为了达到省电的目的，终端可以进入空闲状态。 
在空闲状态下，AMF与gNB之间的连接、以及gNB与终端之间的连接会被释放。处于空闲状态的终端无法接收下行数据，如果AMF需要向空闲状态的终端发送下行数据，AMF需要在特定区域内（比如，跟踪区列表区域）广播寻呼消息，终端侦听到寻呼消息后通过消息流程（比如业务请求）重新建立无线侧连接。终端进入连接状态，AMF即可进行下行数据的发送。 
衡量寻呼的三个关键指标为寻呼负荷、寻呼成功率和寻呼时延。 
在保证一定寻呼成功率基础上，AMF支持根据不同场景设置不同的寻呼策略，可以在寻呼负荷和寻呼时延保持较好的平衡。 
关于寻呼策略的详细介绍，可参见3GPP TS 23.502“4.2.3.3 Network Triggered Service Request”。 
功能说明 
本功能包括寻呼策略模板、寻呼因子、全局寻呼策略、寻呼优先级等配置。 
子主题： 
### 寻呼策略模板配置 
### 寻呼策略模板配置 
背景知识 
在5GC网络中，AMF支持，区分同一PDU会话中的不同流量或不同服务类型的终端，采用不同的寻呼策略，寻呼策略包括寻呼方式（先寻呼最近访问的NG-RAN）、给无线侧提供建议的寻呼次数等。 
关于寻呼策略的详细介绍，可参见3GPP TS 23.502“4.2.3.3 Network Triggered Service Request”。 
功能说明 
本功能用于增加、修改、删除、查询AMF的寻呼策略配置模板。 
子主题： 
#### 新增寻呼策略模板配置(ADD PAGINGPOLICYCFG) 
#### 新增寻呼策略模板配置(ADD PAGINGPOLICYCFG) 
功能说明 
该命令用于增加一条寻呼策略，该策略定义了AMF发起一次寻呼流程中，所涉及的多种寻呼参数，包括寻呼时长，寻呼次数和寻呼方式等。 
注意事项 
 
本命令执行后，配置立即生效。 
 
一个AMF最多只支持配置250个寻呼策略，其中用户自定义配置的寻呼策略取值范围为1~200，系统默认记录的配置范围为201-250。 
 
输入参数说明 
标识|名称|类型|说明
---|---|---|---
pagingPolicyId|寻呼策略模板ID|参数可选性: 必选参数类型: 数字参数范围: 1-250|该参数用于配置一种寻呼策略模板的标识，在本AMF内唯一，可由操作员自行定义。
pagingStyle|寻呼方式|参数可选性: 必选参数类型: 枚举，参见枚举定义参数范围: 1-20|该参数用于配置AMF寻呼终端的方式，目前AMF支持的寻呼方式有如下几种。基于最近活动RAN寻呼：在上一次的NR范围内进行寻呼。基于RAN列表寻呼：在最近活动的NR LIST范围内或最近NR的邻接NR LIST范围内进行寻呼。基于最近活动TA寻呼：在上一次的TA范围内进行寻呼。基于最近活动TA列表寻呼：在之前的TA LIST范围内进行寻呼。使用GUTI在TALIST范围内寻呼：使用GUTI（全球唯一临时UE标识，Globally Unique Temporary UE Identity），在之前的TA LIST范围内进行寻呼。使用GUTI在AMF范围内寻呼：使用GUTI（全球唯一临时UE标识，Globally Unique Temporary UE Identity），在AMF范围内进行寻呼。
ranlisttype|RAN列表类型|参数可选性: 任选参数类型: 枚举，参见枚举定义参数范围: 1-2|该参数用于配置基于RAN列表的寻呼方式时所使用的RAN列表类型，包括最近活动的和邻接的两种，本参数为可选参数，当未选中时表示最近活动的RAN列表类型。
pagingInterval|寻呼时长(100ms)|参数可选性: 必选参数类型: 数字参数范围: 10-1200默认值: 50|该参数用于配置在本寻呼策略中，AMF发送寻呼消息的发送时间间隔。当AMF发送寻呼消息后，在本参数设置的时长到达时，还没有收到对端的响应消息，则会重新发送寻呼消息。
pagingTimes|寻呼次数|参数可选性: 必选参数类型: 数字参数范围: 1-120默认值: 1|当AMF发送寻呼消息后，如果在设置的时长到达时，还没有收到对端的响应消息，则会重新发送寻呼消息。该参数用于配置在本寻呼策略中，AMF发送寻呼消息的最大重发次数。
命令举例 
`
新增一个标识为1的寻呼策略模板，其寻呼模式为上一次的NR，寻呼间隔为5s,重发次数为1次
ADD PAGINGPOLICYCFG:PAGINGPOLICYID=1,PAGINGSTYLE="LASTNR",PAGINGINTERVAL=50,PAGINGTIMES=1
` 
#### 修改寻呼策略模板配置(SET PAGINGPOLICYCFG) 
#### 修改寻呼策略模板配置(SET PAGINGPOLICYCFG) 
功能说明 
该命令用于修改某个寻呼策略。 
注意事项 
无。 
输入参数说明 
标识|名称|类型|说明
---|---|---|---
pagingPolicyId|寻呼策略模板ID|参数可选性: 必选参数类型: 数字参数范围: 1-250|该参数用于配置一种寻呼策略模板的标识，在本AMF内唯一，可由操作员自行定义。
pagingStyle|寻呼方式|参数可选性: 任选参数类型: 枚举，参见枚举定义参数范围: 1-20|该参数用于配置AMF寻呼终端的方式，目前AMF支持的寻呼方式有如下几种。基于最近活动RAN寻呼：在上一次的NR范围内进行寻呼。基于RAN列表寻呼：在最近活动的NR LIST范围内或最近NR的邻接NR LIST范围内进行寻呼。基于最近活动TA寻呼：在上一次的TA范围内进行寻呼。基于最近活动TA列表寻呼：在之前的TA LIST范围内进行寻呼。使用GUTI在TALIST范围内寻呼：使用GUTI（全球唯一临时UE标识，Globally Unique Temporary UE Identity），在之前的TA LIST范围内进行寻呼。使用GUTI在AMF范围内寻呼：使用GUTI（全球唯一临时UE标识，Globally Unique Temporary UE Identity），在AMF范围内进行寻呼。
ranlisttype|RAN列表类型|参数可选性: 任选参数类型: 枚举，参见枚举定义参数范围: 1-2|该参数用于配置基于RAN列表的寻呼方式时所使用的RAN列表类型，包括最近活动的和邻接的两种，本参数为可选参数，当未选中时表示最近活动的RAN列表类型。
pagingInterval|寻呼时长(100ms)|参数可选性: 任选参数类型: 数字参数范围: 10-1200默认值: 50|该参数用于配置在本寻呼策略中，AMF发送寻呼消息的发送时间间隔。当AMF发送寻呼消息后，在本参数设置的时长到达时，还没有收到对端的响应消息，则会重新发送寻呼消息。
pagingTimes|寻呼次数|参数可选性: 任选参数类型: 数字参数范围: 1-120默认值: 1|当AMF发送寻呼消息后，如果在设置的时长到达时，还没有收到对端的响应消息，则会重新发送寻呼消息。该参数用于配置在本寻呼策略中，AMF发送寻呼消息的最大重发次数。
命令举例 
`
修改标识为1的寻呼策略模板，设置寻呼模式为上一次的NR，寻呼间隔为10s,重发次数为1次
SET PAGINGPOLICYCFG:PAGINGPOLICYID=1,PAGINGSTYLE="LASTNR",PAGINGINTERVAL=100,PAGINGTIMES=1
` 
#### 删除寻呼策略模板配置(DELETE PAGINGPOLICYCFG) 
#### 删除寻呼策略模板配置(DELETE PAGINGPOLICYCFG) 
功能说明 
该命令用于删除某个寻呼策略。 
注意事项 
 
本命令执行后，配置立即生效。 
 
该命令为高危命令！取值范围201-250的寻呼策略配置记录为系统预置默认配置，不建议删除，删除后，可能影响到寻呼负荷、寻呼成功率和寻呼时延等指标。 
 
本命令执行之前，需要确认被删除的“寻呼策略模板ID（pagingPolicyId）”不在ADD PAGINGPOLICYGROUPCFG命令的查询结果中，即没有被引用，否则无法删除该寻呼策略模板ID。 
 
输入参数说明 
标识|名称|类型|说明
---|---|---|---
pagingPolicyId|寻呼策略模板ID|参数可选性: 必选参数类型: 数字参数范围: 1-250|该参数用于配置一种寻呼策略模板的标识，在本AMF内唯一，可由操作员自行定义。
命令举例 
`
删除标识为1的寻呼策略模板
DELETE PAGINGPOLICYCFG:PAGINGPOLICYID=1
` 
#### 查询寻呼策略模板配置(SHOW PAGINGPOLICYCFG) 
#### 查询寻呼策略模板配置(SHOW PAGINGPOLICYCFG) 
功能说明 
该命令用于查询配置的寻呼策略。 
注意事项 
无。 
输入参数说明 
标识|名称|类型|说明
---|---|---|---
pagingPolicyId|寻呼策略模板ID|参数可选性: 任选参数类型: 数字参数范围: 1-250|该参数用于配置一种寻呼策略模板的标识，在本AMF内唯一，可由操作员自行定义。
输出参数说明 
标识|名称|类型|说明
---|---|---|---
pagingPolicyId|寻呼策略模板ID|参数可选性: 任选参数类型: 数字参数范围: 1-250|该参数用于配置一种寻呼策略模板的标识，在本AMF内唯一，可由操作员自行定义。
pagingStyle|寻呼方式|参数可选性: 任选参数类型: 枚举，参见枚举定义参数范围: 1-20|该参数用于配置AMF寻呼终端的方式，目前AMF支持的寻呼方式有如下几种。基于最近活动RAN寻呼：在上一次的NR范围内进行寻呼。基于RAN列表寻呼：在最近活动的NR LIST范围内或最近NR的邻接NR LIST范围内进行寻呼。基于最近活动TA寻呼：在上一次的TA范围内进行寻呼。基于最近活动TA列表寻呼：在之前的TA LIST范围内进行寻呼。使用GUTI在TALIST范围内寻呼：使用GUTI（全球唯一临时UE标识，Globally Unique Temporary UE Identity），在之前的TA LIST范围内进行寻呼。使用GUTI在AMF范围内寻呼：使用GUTI（全球唯一临时UE标识，Globally Unique Temporary UE Identity），在AMF范围内进行寻呼。
ranlisttype|RAN列表类型|参数可选性: 任选参数类型: 枚举，参见枚举定义参数范围: 1-2|该参数用于配置基于RAN列表的寻呼方式时所使用的RAN列表类型，包括最近活动的和邻接的两种，本参数为可选参数，当未选中时表示最近活动的RAN列表类型。
pagingInterval|寻呼时长(100ms)|参数可选性: 任选参数类型: 数字参数范围: 10-1200默认值: 50|该参数用于配置在本寻呼策略中，AMF发送寻呼消息的发送时间间隔。当AMF发送寻呼消息后，在本参数设置的时长到达时，还没有收到对端的响应消息，则会重新发送寻呼消息。
pagingTimes|寻呼次数|参数可选性: 任选参数类型: 数字参数范围: 1-120默认值: 1|当AMF发送寻呼消息后，如果在设置的时长到达时，还没有收到对端的响应消息，则会重新发送寻呼消息。该参数用于配置在本寻呼策略中，AMF发送寻呼消息的最大重发次数。
命令举例 
`
查询标识为1的寻呼策略模板。
SHOW PAGINGPOLICYCFG:PAGINGPOLICYID=1
SHOW PAGINGPOLICYCFG:PAGINGPOLICYID=1
------------------------------Namf_MT_0------------------------------
寻呼策略模板ID     寻呼方式               RAN列表类型        寻呼时长(100ms)     寻呼次数
----------------------------------------------------------------------------------------
1                 基于最近活动RAN寻呼                        50                 1
----------------------------------------------------------------------------------------
记录数：1
执行成功耗时: 0.111 秒
` 
### 寻呼策略组配置 
### 寻呼策略组配置 
背景知识 
5GC的AMF针对不同的业务有一个或者多个寻呼策略。为了便于理解和配置，需要把寻呼策略组合为一个组。 
功能说明 
本功能用于配置寻呼策略组与寻呼策略模板之间的关联关系。 
一个AMF最多只支持配置250个寻呼策略组，其中用户自定义的寻呼策略组ID只能使用1-200,系统默认配置的寻呼策略组ID使用201-250。 
子主题： 
#### 新增寻呼策略组配置(ADD PAGINGPOLICYGROUPCFG) 
#### 新增寻呼策略组配置(ADD PAGINGPOLICYGROUPCFG) 
功能说明 
该命令用于新增寻呼策略组与寻呼策略模板之间的关联关系。 
注意事项 
 
本命令执行后，配置立即生效。 
 
一个AMF最多只支持配置250个寻呼策略组，其中用户自定义配置的寻呼策略组ID取值范围为1~200，系统默认记录的配置范围为201-250。 
 
在执行本命令之前，需要确认已经通过ADD PAGINGPOLICYCFG命令，配置了寻呼策略模板。 
 
输入参数说明 
标识|名称|类型|说明
---|---|---|---
pagingPolicyGrpId|寻呼策略组ID|参数可选性: 必选参数类型: 数字参数范围: 1-250|该参数用于表示寻呼策略组的标识，一个寻呼策略组可以关联多个寻呼策略模板。
pagingPolicyId|寻呼策略模板ID|参数可选性: 必选参数类型: 数字参数范围: 1-250|该参数用于表示关联的寻呼策略模板的标识，在本AMF内唯一，通过ADD PAGINGPOLICYCFG命令定义。
pagingPriority|寻呼优先级|参数可选性: 必选参数类型: 枚举，参见枚举定义参数范围: 0-8默认值: NULL|该参数用于配置本寻呼策略组所对应的寻呼优先级。本命令配置的“寻呼优先级”称为寻呼策略组对应的寻呼优先级。SET PAGINGPRIORITY命令配置的寻呼优先级称为ARP映射对应的寻呼优先级。AMF最终使用的寻呼策略中的优先级原则如下：当寻呼策略组对应的寻呼优先级不为NULL时，AMF使用SET PAGINGPRIORITY命令配置的寻呼优先级与寻呼策略组配置中较高的优先级，作为本次寻呼策略的优先级。当寻呼策略组对应的寻呼优先级为NULL时，直接使用SET PAGINGPRIORITY命令配置的寻呼优先级作为本次寻呼策略的优先级。
命令举例 
`
新增一组寻呼策略组与关联的寻呼策略模板，寻呼策略组标识为1，关联寻呼策略模板标识为1，寻呼优先级为PRIOLEVEL1
ADD PAGINGPOLICYGROUPCFG:PAGINGPOLICYGRPID=1,PAGINGPOLICYID=1,PAGINGPRIORITY="PRIOLEVEL1"
` 
#### 修改寻呼策略组配置(SET PAGINGPOLICYGROUPCFG) 
#### 修改寻呼策略组配置(SET PAGINGPOLICYGROUPCFG) 
功能说明 
该命令用于修改寻呼策略组与寻呼策略模板之间的关联关系。 
注意事项 
无。 
输入参数说明 
标识|名称|类型|说明
---|---|---|---
pagingPolicyGrpId|寻呼策略组ID|参数可选性: 必选参数类型: 数字参数范围: 1-250|该参数用于表示寻呼策略组的标识，一个寻呼策略组可以关联多个寻呼策略模板。
pagingPolicyId|寻呼策略模板ID|参数可选性: 必选参数类型: 数字参数范围: 1-250|该参数用于表示关联的寻呼策略模板的标识，在本AMF内唯一，通过ADD PAGINGPOLICYCFG命令定义。
pagingPriority|寻呼优先级|参数可选性: 任选参数类型: 枚举，参见枚举定义参数范围: 0-8默认值: NULL|该参数用于配置本寻呼策略组所对应的寻呼优先级。本命令配置的“寻呼优先级”称为寻呼策略组对应的寻呼优先级。SET PAGINGPRIORITY命令配置的寻呼优先级称为ARP映射对应的寻呼优先级。AMF最终使用的寻呼策略中的优先级原则如下：当寻呼策略组对应的寻呼优先级不为NULL时，AMF使用SET PAGINGPRIORITY命令配置的寻呼优先级与寻呼策略组配置中较高的优先级，作为本次寻呼策略的优先级。当寻呼策略组对应的寻呼优先级为NULL时，直接使用SET PAGINGPRIORITY命令配置的寻呼优先级作为本次寻呼策略的优先级。
命令举例 
`
修改一组寻呼策略组与关联的寻呼策略模板，寻呼策略组标识为1，关联寻呼策略模板标识为1，寻呼优先级为1
SET PAGINGPOLICYGROUPCFG:PAGINGPOLICYGRPID=1,PAGINGPOLICYID=1,PAGINGPRIORITY="PRIOLEVEL1"
` 
#### 删除寻呼策略组配置(DELETE PAGINGPOLICYGROUPCFG) 
#### 删除寻呼策略组配置(DELETE PAGINGPOLICYGROUPCFG) 
功能说明 
该命令用于删除寻呼策略组与寻呼策略模板之间的关联关系。 
注意事项 
 
本命令执行后，配置立即生效。 
 
该命令为高危命令！取值范围201-250的寻呼策略组ID（pagingPolicyGrpId）配置记录为系统预置默认配置，不建议删除，删除后，可能影响到寻呼负荷、寻呼成功率和寻呼时延等指标。 
 
本命令执行之前，需要确认被删除的“寻呼策略组ID（pagingPolicyGrpId）”不在SET GLOBALPOLICY命令的查询结果中，即没有被引用，否则无法删除该寻呼策略组ID。 
 
输入参数说明 
标识|名称|类型|说明
---|---|---|---
pagingPolicyGrpId|寻呼策略组ID|参数可选性: 必选参数类型: 数字参数范围: 1-250|该参数用于表示寻呼策略组的标识，一个寻呼策略组可以关联多个寻呼策略模板。
pagingPolicyId|寻呼策略模板ID|参数可选性: 任选参数类型: 数字参数范围: 1-250|该参数用于表示关联的寻呼策略模板的标识，在本AMF内唯一，通过ADD PAGINGPOLICYCFG命令定义。
命令举例 
`
删除寻呼策略组标识为1下的模板策略，其标识为1
DELETE PAGINGPOLICYGROUPCFG:PAGINGPOLICYGRPID=1,PAGINGPOLICYID=1
` 
#### 查询寻呼策略组配置(SHOW PAGINGPOLICYGROUPCFG) 
#### 查询寻呼策略组配置(SHOW PAGINGPOLICYGROUPCFG) 
功能说明 
该命令用于查询寻呼策略组与寻呼策略模板之间的关联关系。 
注意事项 
无。 
输入参数说明 
标识|名称|类型|说明
---|---|---|---
pagingPolicyGrpId|寻呼策略组ID|参数可选性: 任选参数类型: 数字参数范围: 1-250|该参数用于表示寻呼策略组的标识，一个寻呼策略组可以关联多个寻呼策略模板。
pagingPolicyId|寻呼策略模板ID|参数可选性: 任选参数类型: 数字参数范围: 1-250|该参数用于表示关联的寻呼策略模板的标识，在本AMF内唯一，通过ADD PAGINGPOLICYCFG命令定义。
输出参数说明 
标识|名称|类型|说明
---|---|---|---
pagingPolicyGrpId|寻呼策略组ID|参数可选性: 任选参数类型: 数字参数范围: 1-250|该参数用于表示寻呼策略组的标识，一个寻呼策略组可以关联多个寻呼策略模板。
pagingPolicyId|寻呼策略模板ID|参数可选性: 任选参数类型: 数字参数范围: 1-250|该参数用于表示关联的寻呼策略模板的标识，在本AMF内唯一，通过ADD PAGINGPOLICYCFG命令定义。
pagingPriority|寻呼优先级|参数可选性: 任选参数类型: 枚举，参见枚举定义参数范围: 0-8默认值: NULL|该参数用于配置本寻呼策略组所对应的寻呼优先级。本命令配置的“寻呼优先级”称为寻呼策略组对应的寻呼优先级。SET PAGINGPRIORITY命令配置的寻呼优先级称为ARP映射对应的寻呼优先级。AMF最终使用的寻呼策略中的优先级原则如下：当寻呼策略组对应的寻呼优先级不为NULL时，AMF使用SET PAGINGPRIORITY命令配置的寻呼优先级与寻呼策略组配置中较高的优先级，作为本次寻呼策略的优先级。当寻呼策略组对应的寻呼优先级为NULL时，直接使用SET PAGINGPRIORITY命令配置的寻呼优先级作为本次寻呼策略的优先级。
命令举例 
`
查询寻呼策略组标识为1及关联的模板标识为1的配置信息。
SHOW PAGINGPOLICYGROUPCFG:PAGINGPOLICYGRPID=1,PAGINGPOLICYID=1
(No.1) : SHOW PAGINGPOLICYGROUPCFG:PAGINGPOLICYGRPID=1,PAGINGPOLICYID=1
-----------------Namf_MT_0----------------
寻呼策略组ID  寻呼策略模板ID       寻呼优先级
1             1                   一级优先级
记录数：1
执行成功耗时: 0.111 秒
` 
### 全局寻呼策略配置 
### 全局寻呼策略配置 
背景知识 
终端接入5GC网络后，如果暂时不使用语音或者数据业务时，为了达到省电的目的，终端可以进入空闲状态。 
在空闲状态下，AMF与gNB之间的连接、以及gNB与终端之间的连接会被释放。处于空闲状态的终端无法接收下行数据，如果AMF需要向空闲状态的终端发送下行数据，AMF需要在特定区域内（比如，跟踪区列表区域）广播寻呼消息，终端侦听到寻呼消息后通过消息流程（比如业务请求）重新建立无线侧连接。终端进入连接状态，AMF即可进行下行数据的发送。 
衡量寻呼的三个关键指标为寻呼负荷、寻呼成功率和寻呼时延。 
在保证一定寻呼成功率基础上，AMF支持根据不同场景设置不同的寻呼策略，可以在寻呼负荷和寻呼时延保持较好的平衡。 
关于寻呼策略的详细介绍，可参见3GPP TS 23.502“4.2.3.3 Network Triggered Service Request”。 
功能说明 
本功能用于配置一个全局寻呼策略ID，该全局寻呼策略ID对应一个具体的寻呼策略。 
当AMF无法通过寻呼因子获取对应的寻呼策略时，可以使用本功能配置的全局寻呼策略ID获取对应的寻呼策略。 
AMF先根据[ADD PAGEFACTORCFG]命令配置的数据，即根据寻呼因子ID来获取寻呼策略ID，如果获取不到，则使用本功能配置的寻呼策略ID，获取通过[ADD PAGINGPOLICYCFG]命令配置的寻呼策略。
子主题： 
#### 修改全局寻呼策略配置(SET GLOBALPOLICY) 
#### 修改全局寻呼策略配置(SET GLOBALPOLICY) 
功能说明 
该命令用于修改寻呼的业务类型关联的全局寻呼策略组ID。 
注意事项 
在修改全局寻呼策略组ID的同时也要同步修改寻呼类型，保持意义一致。自定义寻呼类型时需保证执行[ADD PAGINGPOLICYGROUPCFG]命令配置一个寻呼策略组。
输入参数说明 
标识|名称|类型|说明
---|---|---|---
pagingSrvType|寻呼业务类型|参数可选性: 必选参数类型: 枚举，参见枚举定义参数范围: 0-4|该参数用于表示寻呼业务类型，每种业务类型仅可关联一个寻呼策略组。目前支持的业务类型有：数据业务语音业务短信息业务LCS业务信令业务
pagingType|寻呼类型|参数可选性: 必选参数类型: 枚举，参见枚举定义参数范围: 0-3|该参数用于表示寻呼策略类型，包括：精准寻呼智能寻呼低延时寻呼自定义寻呼
globalPolicyGrpId|全局寻呼策略组ID|参数可选性: 必选参数类型: 数字参数范围: 1-250|该参数用于表示一个全局寻呼策略组ID，此参数必须先执行ADD PAGINGPOLICYGROUPCFG命令配置一个寻呼策略组。
命令举例 
`
修改数据业务类型关联全局寻呼策略组，关联寻呼策略组标识为1，类型为自定义
SET GLOBALPOLICY:PAGINGSRVTYPE="DATA",PAGINGTYPE="CUSTOMIZED_PAGING",GLOBALPOLICYGRPID=1
` 
#### 查询全局寻呼策略配置(SHOW GLOBALPOLICY) 
#### 查询全局寻呼策略配置(SHOW GLOBALPOLICY) 
功能说明 
该命令用于查询寻呼的业务类型关联的全局寻呼策略组ID。 
注意事项 
无。 
输入参数说明 
标识|名称|类型|说明
---|---|---|---
pagingSrvType|寻呼业务类型|参数可选性: 任选参数类型: 枚举，参见枚举定义参数范围: 0-4|该参数用于表示寻呼业务类型，每种业务类型仅可关联一个寻呼策略组。目前支持的业务类型有：数据业务语音业务短信息业务LCS业务信令业务
输出参数说明 
标识|名称|类型|说明
---|---|---|---
pagingSrvType|寻呼业务类型|参数可选性: 任选参数类型: 枚举，参见枚举定义参数范围: 0-4|该参数用于表示寻呼业务类型，每种业务类型仅可关联一个寻呼策略组。目前支持的业务类型有：数据业务语音业务短信息业务LCS业务信令业务
pagingType|寻呼类型|参数可选性: 任选参数类型: 枚举，参见枚举定义参数范围: 0-3|该参数用于表示寻呼策略类型，包括：精准寻呼智能寻呼低延时寻呼自定义寻呼
globalPolicyGrpId|全局寻呼策略组ID|参数可选性: 任选参数类型: 数字参数范围: 1-250|该参数用于表示一个全局寻呼策略组ID，此参数必须先执行ADD PAGINGPOLICYGROUPCFG命令配置一个寻呼策略组。
命令举例 
`
查询所有业务类型所关联的全局寻呼策略组。
SHOW GLOBALPOLICY:
SHOW GLOBALPOLICY:
-------------------Namf_MT_0------------------
寻呼业务类型     寻呼类型     全局寻呼策略组ID 
----------------------------------------------
数据业务         自定义寻呼   201              
语音业务         低延时寻呼   203              
短消息业务       智能寻呼     202              
LCS业务          智能寻呼     202              
信令业务         智能寻呼     202
----------------------------------------------
记录数：5
执行成功耗时: 0.126 秒
` 
### 寻呼因子配置 
### 寻呼因子配置 
背景知识 
AMF可以根据寻呼触发源携带的DNN（Data Network Name，数据网名称），PPI（Paging Policy Indication，寻呼策略指示），5QI（5G QoS Identifier，5G QoS标识）获取寻呼策略。 
关于寻呼策略的详细介绍，可参见3GPP TS 23.502“4.2.3.3 Network Triggered Service Request”。 
功能说明 
本功能用于配置，AMF可以根据寻呼触发源携带的DNN（Data Network Name，数据网名称），PPI（Paging Policy Indication，寻呼策略指示），5QI（5G QoS Identifier，5G QoS标识）来获取寻呼策略。 
寻呼因子是指AMF决策寻呼策略的因素，目前AMF支持的寻呼因子包括DNN（Data Network Name，数据网名称），PPI（Paging Policy Indication，寻呼策略指示）和5QI（5G QoS Identifier，5G QoS标识）。 
子主题： 
#### 新增寻呼因子配置(ADD PAGEFACTORCFG) 
#### 新增寻呼因子配置(ADD PAGEFACTORCFG) 
功能说明 
本命令用于配置AMF可以根据寻呼因子来获取寻呼策略组ID。 
寻呼因子是指AMF决策寻呼策略的因素，目前AMF支持的寻呼因子包括DNN（Data Network Name，数据网名称），PPI（Paging Policy Indication，寻呼策略指示）和5QI（5G QoS Identifier，5G QoS标识）。 
注意事项 
在配置此命令之前，需要先执行[ADD PAGINGPOLICYGROUPCFG]命令，配置寻呼策略。
输入参数说明 
标识|名称|类型|说明
---|---|---|---
pagingFactorId|寻呼因子ID|参数可选性: 必选参数类型: 数字参数范围: 1-200|该参数用于配置寻呼因子标识，寻呼因子标识在本AMF内唯一，可由操作员自行定义。寻呼因子是指AMF决策寻呼策略的因素，目前AMF支持的寻呼因子包括DNN（Data Network Name，数据网名称），PPI（Paging Policy Indication，寻呼策略指示）和5QI（5G QoS Identifier，5G QoS标识）。
pagingPolicyId|寻呼策略组ID|参数可选性: 必选参数类型: 数字参数范围: 1-250|该参数用于配置寻呼因子ID关联的寻呼策略组ID。
fiveQIFlg|是否携带5QI|参数可选性: 必选参数类型: 枚举，参见枚举定义参数范围: 0-1默认值: WITHOUTFLAG|该参数用于配置寻呼因子组合中，是否包括5QI（5G QoS Identifier，5G QoS标识）。
fiveQI|5QI|参数可选性: 任选参数类型: 数字参数范围: 0-255|该参数用于配置5QI（5G QoS Identifier，5G QoS标识），当寻呼因子组合中包括5QI时，才需要配置。如果配置的寻呼因子组合不包括5QI，则该参数无需配置。
pPIFlg|是否携带寻呼策略指示|参数可选性: 必选参数类型: 枚举，参见枚举定义参数范围: 0-1默认值: WITHOUTFLAG|本参数用于配置寻呼因子组合中是否包括PPI（Paging Policy Indication，寻呼策略指示）。
pagingPolicyIndi|寻呼策略指示|参数可选性: 任选参数类型: 数字参数范围: 0-7|本参数用于配置PPI（Paging Policy Indication，寻呼策略指示，当寻呼因子组合中包括PPI时，才需要配置。如果配置的寻呼因子组合中不包括PPI，则该参数无需配置。
dnnFlg|是否携带DNN|参数可选性: 必选参数类型: 枚举，参见枚举定义参数范围: 0-1默认值: WITHOUTFLAG|本参数用于配置寻呼因子组合中是否包括DNN（Data Network Name，数据网名称）。
dnn|DNN|参数可选性: 任选参数类型: 字符串参数范围: 0-100|本参数用于配置DNN（Data Network Name，数据网名称），当寻呼因子组合中包括DNN时，才需要配置。如果配置的寻呼因子组合不包括DNN，则该参数无需配置。
命令举例 
`
新增一个寻呼因子配置，其中寻呼因子标识为1，5QI为1，寻呼策略指示为1，关联的寻呼策略组标识为1
ADD PAGEFACTORCFG:PAGINGFACTORID=1,PAGINGPOLICYID=201,FIVEQIFLG="WITHFLAG",FIVEQI=1,PPIFLG="WITHFLAG",PAGINGPOLICYINDI=1,DNNFLG="WITHOUTFLAG",DNN="10"
` 
#### 修改寻呼因子配置(SET PAGEFACTORCFG) 
#### 修改寻呼因子配置(SET PAGEFACTORCFG) 
功能说明 
该命令用于修改寻呼因子配置数据。 
注意事项 
无。
输入参数说明 
标识|名称|类型|说明
---|---|---|---
pagingFactorId|寻呼因子ID|参数可选性: 必选参数类型: 数字参数范围: 1-200|该参数用于配置寻呼因子标识，寻呼因子标识在本AMF内唯一，可由操作员自行定义。寻呼因子是指AMF决策寻呼策略的因素，目前AMF支持的寻呼因子包括DNN（Data Network Name，数据网名称），PPI（Paging Policy Indication，寻呼策略指示）和5QI（5G QoS Identifier，5G QoS标识）。
pagingPolicyId|寻呼策略组ID|参数可选性: 任选参数类型: 数字参数范围: 1-250|该参数用于配置寻呼因子ID关联的寻呼策略组ID。
fiveQIFlg|是否携带5QI|参数可选性: 任选参数类型: 枚举，参见枚举定义参数范围: 0-1默认值: WITHOUTFLAG|该参数用于配置寻呼因子组合中，是否包括5QI（5G QoS Identifier，5G QoS标识）。
fiveQI|5QI|参数可选性: 任选参数类型: 数字参数范围: 0-255|该参数用于配置5QI（5G QoS Identifier，5G QoS标识），当寻呼因子组合中包括5QI时，才需要配置。如果配置的寻呼因子组合不包括5QI，则该参数无需配置。
pPIFlg|是否携带寻呼策略指示|参数可选性: 任选参数类型: 枚举，参见枚举定义参数范围: 0-1默认值: WITHOUTFLAG|本参数用于配置寻呼因子组合中是否包括PPI（Paging Policy Indication，寻呼策略指示）。
pagingPolicyIndi|寻呼策略指示|参数可选性: 任选参数类型: 数字参数范围: 0-7|本参数用于配置PPI（Paging Policy Indication，寻呼策略指示，当寻呼因子组合中包括PPI时，才需要配置。如果配置的寻呼因子组合中不包括PPI，则该参数无需配置。
dnnFlg|是否携带DNN|参数可选性: 任选参数类型: 枚举，参见枚举定义参数范围: 0-1默认值: WITHOUTFLAG|本参数用于配置寻呼因子组合中是否包括DNN（Data Network Name，数据网名称）。
dnn|DNN|参数可选性: 任选参数类型: 字符串参数范围: 0-100|本参数用于配置DNN（Data Network Name，数据网名称），当寻呼因子组合中包括DNN时，才需要配置。如果配置的寻呼因子组合不包括DNN，则该参数无需配置。
命令举例 
`
修改一个寻呼因子标识为1的配置，设置5QI为1，寻呼策略指示为1，关联的寻呼策略组标识为1
SET
PAGEFACTORCFG:PAGINGFACTORID=1,PAGINGPOLICYID=201,FIVEQIFLG="WITHFLAG",FIVEQI=1,PPIFLG="WITHFLAG",PAGINGPOLICYINDI=1,DNNFLG="WITHOUTFLAG",DNN="10"
` 
#### 删除寻呼因子配置(DELETE PAGEFACTORCFG) 
#### 删除寻呼因子配置(DELETE PAGEFACTORCFG) 
功能说明 
该命令用于删除寻呼因子配置数据。 
注意事项 
无。
输入参数说明 
标识|名称|类型|说明
---|---|---|---
pagingFactorId|寻呼因子ID|参数可选性: 必选参数类型: 数字参数范围: 1-200|该参数用于配置寻呼因子标识，寻呼因子标识在本AMF内唯一，可由操作员自行定义。寻呼因子是指AMF决策寻呼策略的因素，目前AMF支持的寻呼因子包括DNN（Data Network Name，数据网名称），PPI（Paging Policy Indication，寻呼策略指示）和5QI（5G QoS Identifier，5G QoS标识）。
命令举例 
`
删除一个寻呼因子标识为1的配置
DELETE PAGEFACTORCFG:PAGINGFACTORID=1
` 
#### 查询寻呼因子配置(SHOW PAGEFACTORCFG) 
#### 查询寻呼因子配置(SHOW PAGEFACTORCFG) 
功能说明 
该命令用于查询寻呼因子配置数据。 
注意事项 
无。
输出参数说明 
标识|名称|类型|说明
---|---|---|---
pagingFactorId|寻呼因子ID|参数可选性: 任选参数类型: 数字参数范围: 1-200|该参数用于配置寻呼因子标识，寻呼因子标识在本AMF内唯一，可由操作员自行定义。寻呼因子是指AMF决策寻呼策略的因素，目前AMF支持的寻呼因子包括DNN（Data Network Name，数据网名称），PPI（Paging Policy Indication，寻呼策略指示）和5QI（5G QoS Identifier，5G QoS标识）。
pagingPolicyId|寻呼策略组ID|参数可选性: 任选参数类型: 数字参数范围: 1-250|该参数用于配置寻呼因子ID关联的寻呼策略组ID。
fiveQIFlg|是否携带5QI|参数可选性: 任选参数类型: 枚举，参见枚举定义参数范围: 0-1默认值: WITHOUTFLAG|该参数用于配置寻呼因子组合中，是否包括5QI（5G QoS Identifier，5G QoS标识）。
fiveQI|5QI|参数可选性: 任选参数类型: 数字参数范围: 0-255|该参数用于配置5QI（5G QoS Identifier，5G QoS标识），当寻呼因子组合中包括5QI时，才需要配置。如果配置的寻呼因子组合不包括5QI，则该参数无需配置。
pPIFlg|是否携带寻呼策略指示|参数可选性: 任选参数类型: 枚举，参见枚举定义参数范围: 0-1默认值: WITHOUTFLAG|本参数用于配置寻呼因子组合中是否包括PPI（Paging Policy Indication，寻呼策略指示）。
pagingPolicyIndi|寻呼策略指示|参数可选性: 任选参数类型: 数字参数范围: 0-7|本参数用于配置PPI（Paging Policy Indication，寻呼策略指示，当寻呼因子组合中包括PPI时，才需要配置。如果配置的寻呼因子组合中不包括PPI，则该参数无需配置。
dnnFlg|是否携带DNN|参数可选性: 任选参数类型: 枚举，参见枚举定义参数范围: 0-1默认值: WITHOUTFLAG|本参数用于配置寻呼因子组合中是否包括DNN（Data Network Name，数据网名称）。
dnn|DNN|参数可选性: 任选参数类型: 字符串参数范围: 0-100|本参数用于配置DNN（Data Network Name，数据网名称），当寻呼因子组合中包括DNN时，才需要配置。如果配置的寻呼因子组合不包括DNN，则该参数无需配置。
命令举例 
`
查询所有寻呼因子配置
SHOW PAGEFACTORCFG:
SHOW PAGEFACTORCFG:
-----------------------------------------------Namf_MT_0-------------------------------------------------
寻呼因子ID   寻呼策略组ID   是否携带5QI   5QI   是否携带寻呼策略指示   寻呼策略指示   是否携带DNN   DNN 
---------------------------------------------------------------------------------------------------------
1            201           是            1     是                    1             否           10  
---------------------------------------------------------------------------------------------------------
记录数：1
执行成功耗时: 0.137 秒
` 
### 网元类型寻呼因子配置 
### 网元类型寻呼因子配置 
背景知识 
5G网络中，多个网元通过AMF触发业务时，如果UE处于空闲态，AMF需要触发寻呼。不同的网元可能要求AMF使用不同的寻呼策略。 
功能说明 
本功能用于根据触发寻呼的网络类型来配置使用不同的寻呼策略。 
子主题： 
#### 新增网元类型寻呼因子配置(ADD PAGENFTYPEFACTORCFG) 
#### 新增网元类型寻呼因子配置(ADD PAGENFTYPEFACTORCFG) 
功能说明 
本命令用于配置AMF可以根据网元类型来获取寻呼策略组ID。 
当用户根据DDN,5QI等寻呼因子组合匹配不到寻呼策略组时，AMF根据网元类型继续匹配寻呼策略组。 
注意事项 
在配置此命令之前，需要先执行[ADD PAGINGPOLICYGROUPCFG]命令，配置寻呼策略。
输入参数说明 
标识|名称|类型|说明
---|---|---|---
pagingNfType|网元类型|参数可选性: 必选参数类型: 枚举，参见枚举定义参数范围: 0-6|该参数用于配置网元类型，每一种类型网元仅会关联一个寻呼策略组，目前支持网元类型有：SMF,GMLC,SMSF,PCF,UDM,AMF,LMF
pagingPolicyId|寻呼策略组ID|参数可选性: 必选参数类型: 数字参数范围: 1-250|该参数用于配置NFType寻呼因子关联的寻呼策略组ID。
命令举例 
`
新增触发寻呼网元类型为SMF，其关联的寻呼策略组标识为1
ADD PAGENFTYPEFACTORCFG:PAGINGNFTYPE="SMF_TRIGGER",PAGINGPOLICYID=1
` 
#### 修改网元类型寻呼因子配置(SET PAGENFTYPEFACTORCFG) 
#### 修改网元类型寻呼因子配置(SET PAGENFTYPEFACTORCFG) 
功能说明 
该命令用于修改网元类型关联的寻呼策略组。 
注意事项 
无。
输入参数说明 
标识|名称|类型|说明
---|---|---|---
pagingNfType|网元类型|参数可选性: 必选参数类型: 枚举，参见枚举定义参数范围: 0-6|该参数用于配置网元类型，每一种类型网元仅会关联一个寻呼策略组，目前支持网元类型有：SMF,GMLC,SMSF,PCF,UDM,AMF,LMF
pagingPolicyId|寻呼策略组ID|参数可选性: 任选参数类型: 数字参数范围: 1-250|该参数用于配置NFType寻呼因子关联的寻呼策略组ID。
命令举例 
`
修改发寻呼网元类型为SMF，其关联的寻呼策略组标识为1
SET PAGENFTYPEFACTORCFG:PAGINGNFTYPE="SMF_TRIGGER",PAGINGPOLICYID=1
` 
#### 删除网元类型寻呼因子配置(DELETE PAGENFTYPEFACTORCFG) 
#### 删除网元类型寻呼因子配置(DELETE PAGENFTYPEFACTORCFG) 
功能说明 
该命令用于删除网元类型关联的寻呼策略组。 
注意事项 
无。
输入参数说明 
标识|名称|类型|说明
---|---|---|---
pagingNfType|网元类型|参数可选性: 必选参数类型: 枚举，参见枚举定义参数范围: 0-6|该参数用于配置网元类型，每一种类型网元仅会关联一个寻呼策略组，目前支持网元类型有：SMF,GMLC,SMSF,PCF,UDM,AMF,LMF
命令举例 
`
删除触发寻呼网元类型为SMF的寻呼策略组配置
DELETE PAGENFTYPEFACTORCFG:PAGINGNFTYPE="SMF_TRIGGER"
` 
#### 查询网元类型寻呼因子配置(SHOW PAGENFTYPEFACTORCFG) 
#### 查询网元类型寻呼因子配置(SHOW PAGENFTYPEFACTORCFG) 
功能说明 
该命令用于查询网元类型关联的寻呼策略组。 
注意事项 
无。
输出参数说明 
标识|名称|类型|说明
---|---|---|---
pagingNfType|网元类型|参数可选性: 任选参数类型: 枚举，参见枚举定义参数范围: 0-6|该参数用于配置网元类型，每一种类型网元仅会关联一个寻呼策略组，目前支持网元类型有：SMF,GMLC,SMSF,PCF,UDM,AMF,LMF
pagingPolicyId|寻呼策略组ID|参数可选性: 任选参数类型: 数字参数范围: 1-250|该参数用于配置NFType寻呼因子关联的寻呼策略组ID。
命令举例 
`
查询所有网元类型关联的寻呼策略组配置
SHOW PAGENFTYPEFACTORCFG
(No.1) : SHOW PAGENFTYPEFACTORCFG
-----------------Namf_MT_0----------------
网元类型   寻呼策略组ID
SMF        1
记录数：1
执行成功耗时: 0.085 秒
` 
### 寻呼优先级配置 
### 寻呼优先级配置 
背景知识 
寻呼优先级是AMF的可选功能，用于AMF向无线侧指示当前寻呼流程的优先级，AMF目前根据ARP（Allocation and Retention Priority，分配保持优先级）来配置对应寻呼的优先级。 
ARP用于指定分配及保留承载时，不同承载的相对重要性。在进行承载的分配与保留过程中，可以根据优先级对不同承载进行差异化的处理。是终端的签约数据，是终端协商QoS属性中的一个参数。 
寻呼优先级一般由ARP决定，多个ARP值可以对应一个寻呼优先级。 
功能说明 
本功能用于AMF在寻呼消息中，向RAN指示当前寻呼的优先级。 
子主题： 
#### 修改寻呼优先级配置(SET PAGINGPRIORITY) 
#### 修改寻呼优先级配置(SET PAGINGPRIORITY) 
功能说明 
该命令用于修改AMF根据ARP值映射出的寻呼优先级。 
注意事项 
无。 
输入参数说明 
标识|名称|类型|说明
---|---|---|---
arp|ARP|参数可选性: 必选参数类型: 数字参数范围: 1-15|ARP的值一般由寻呼触发源携带，一般表示某种特殊的优先级业务，如多媒体优先级业务（MPS），可参见3GPP TS 23.501“ 5.4.3.3 Paging Priority”。
pagingPriority|寻呼优先级|参数可选性: 必选参数类型: 枚举，参见枚举定义参数范围: 0-8|该参数用于配置ARP映射对应的寻呼优先级。ADD PAGINGPOLICYGROUPCFG命令配置的“寻呼优先级”称为寻呼策略对应的寻呼优先级。本参数配置的寻呼优先级称为ARP映射对应的寻呼优先级。AMF最终使用的寻呼优先级原则如下：当ARP映射对应的寻呼优先级配置为NULL（异常配置）时，AMF在寻呼消息中不携带优先级。当寻呼策略对应的寻呼优先级不为NULL时，AMF使用两者之中，优先级高的一种，作为本次寻呼策略的优先级。当寻呼策略对应的寻呼优先级为NULL时，AMF直接使用ARP映射对应的寻呼优先级作为本次寻呼策略的优先级。
命令举例 
`
修改一个ARP到寻呼优先级的配置，其中ARP为1，寻呼优先级为二级优先级
SET PAGINGPRIORITY:ARP=1,PAGINGPRIORITY="PRIOLEVEL2"
` 
#### 查询寻呼优先级配置(SHOW PAGINGPRIORITY) 
#### 查询寻呼优先级配置(SHOW PAGINGPRIORITY) 
功能说明 
该命令用于查询AMF根据ARP值映射出的寻呼优先级。 
注意事项 
无。 
输入参数说明 
标识|名称|类型|说明
---|---|---|---
arp|ARP|参数可选性: 任选参数类型: 数字参数范围: 1-15|ARP的值一般由寻呼触发源携带，一般表示某种特殊的优先级业务，如多媒体优先级业务（MPS），可参见3GPP TS 23.501“ 5.4.3.3 Paging Priority”。
输出参数说明 
标识|名称|类型|说明
---|---|---|---
arp|ARP|参数可选性: 任选参数类型: 数字参数范围: 1-15|ARP的值一般由寻呼触发源携带，一般表示某种特殊的优先级业务，如多媒体优先级业务（MPS），可参见3GPP TS 23.501“ 5.4.3.3 Paging Priority”。
pagingPriority|寻呼优先级|参数可选性: 任选参数类型: 枚举，参见枚举定义参数范围: 0-8|该参数用于配置ARP映射对应的寻呼优先级。ADD PAGINGPOLICYGROUPCFG命令配置的“寻呼优先级”称为寻呼策略对应的寻呼优先级。本参数配置的寻呼优先级称为ARP映射对应的寻呼优先级。AMF最终使用的寻呼优先级原则如下：当ARP映射对应的寻呼优先级配置为NULL（异常配置）时，AMF在寻呼消息中不携带优先级。当寻呼策略对应的寻呼优先级不为NULL时，AMF使用两者之中，优先级高的一种，作为本次寻呼策略的优先级。当寻呼策略对应的寻呼优先级为NULL时，AMF直接使用ARP映射对应的寻呼优先级作为本次寻呼策略的优先级。
命令举例 
`
查询ARP为1对应的寻呼优先级配置。
SHOW PAGINGPRIORITY:ARP=1
(No.1) : SHOW PAGINGPRIORITY:ARP=1
-----------------Namf_MT_0----------------
ARP   寻呼优先级
1     二级优先级
记录数：1
执行成功耗时: 0.076 秒
` 
## 过负荷控制业务配置 
## 过负荷控制业务配置 
背景知识 
在系统过负荷的情况下，AMF需要能够根据优先级对接收的业务消息进行区分处理，同时AMF需要对超出正常处理能力的业务消息进行控制，以便恢复正常负荷状态，从而避免系统故障宕机。 
功能说明 
本功能用于配置消息及业务优先级，各接口入向业务消息最大通过量、业务权重及业务消息最大通过总量。 
子主题： 
### 保证通过量配置 
### 保证通过量配置 
背景知识 
在CPU过负荷控制功能中，保证通过量是指当CPU达到拥塞，AMF启用过负荷控制功能时，AMF最少仍需处理的消息个数。 
即无论CPU拥塞程度如何，AMF启用过负荷控制功能时，仍然需要确保每秒至少通过的消息个数。 
功能说明 
本功能用于设置AMF启用CPU过负荷控制功能时，每秒允许至少通过的消息个数。 
子主题： 
#### 修改保证通过量配置(SET MTOLGUANUMCFG) 
#### 修改保证通过量配置(SET MTOLGUANUMCFG) 
功能说明 
本命令用于设置AMF启用CPU过负荷控制功能时，每秒允许至少通过的消息个数。 
注意事项 
无。
输入参数说明 
标识|名称|类型|说明
---|---|---|---
ueReachGuaNum|UE可达使能每秒每实例保证通过量|参数可选性: 必选参数类型: 数字参数范围: 10-65535默认值: 300|该参数用于设置AMF保证每秒通过的UE可达使能业务消息个数，即无论CPU拥塞程度如何，AMF在启用CPU过负荷控制功能时，仍然需要确保每秒至少通过的UE可达使能消息个数。 此处设置的个数针对单个SC（Service Component，服务组件）。
命令举例 
`
设置消息保证通过量的配置值为10。
SET MTOLGUANUMCFG:UEREACHGUANUM=10
` 
#### 查询保证通过量配置(SHOW MTOLGUANUMCFG) 
#### 查询保证通过量配置(SHOW MTOLGUANUMCFG) 
功能说明 
本命令用于查询AMF启用CPU过负荷控制功能时，每秒允许至少通过的消息个数。 
注意事项 
无。
输出参数说明 
标识|名称|类型|说明
---|---|---|---
ueReachGuaNum|UE可达使能每秒每实例保证通过量|参数可选性: 任选参数类型: 数字参数范围: 10-65535默认值: 300|该参数用于设置AMF保证每秒通过的UE可达使能业务消息个数，即无论CPU拥塞程度如何，AMF在启用CPU过负荷控制功能时，仍然需要确保每秒至少通过的UE可达使能消息个数。 此处设置的个数针对单个SC（Service Component，服务组件）。
命令举例 
`
查询消息保证通过量的配置值。
SHOW MTOLGUANUMCFG:
(No.1) : SHOW MTOLGUANUMCFG:
-----------------Namf_MT_0----------------
UE可达使能每秒每实例保证通过量
30
记录数：1
执行成功耗时: 0.089 秒
` 
### 优先级配置 
### 优先级配置 
背景知识 
在过负荷情况下，AMF需要同时区分消息的优先级和业务的优先级，对优先级低的消息及优先级低的业务进行控制，尽力保障对高优先级的消息及高优先级的业务进行及时处理。 
功能说明 
本功能用于配置消息的优先级和业务的优先级。 
子主题： 
#### 消息优先级配置 
#### 消息优先级配置 
背景知识 
每个NF需要从消息优先级和业务优先级两个角度来区分需要逐级控制的内容。 
 
在系统CPU占用率较低的情况下，AMF对低优先级的消息及业务进行控制。 
 
在系统CPU占用率较高的情况下，AMF在低优先级的消息及业务已完全控制的情况下，开始控制高优先级消息及业务，直至系统负荷恢复正常。 
 
系统CPU占用率的控制原则如下。 
若CPU占用率超过[SET OLCPULEVELCFG]命令（Namf_MP模式下）配置的门限值，则AMF会启用CPU占用率的过负荷控制，根据各个级别的策略，决定是否丢弃收到的报文。
 
一级负荷
当CPU的实际占用率到达对应的数值时，AMF执行CPU占用率的过负荷控制的高负载控制，对高，中，低三个级别的报文均进行控制，丢弃所有的报文。 
 
二级负荷
当CPU的实际占用率到达对应的数值时，AMF执行CPU占用率的过负荷控制的低负载控制，只对中、低两个级别的报文进行控制，不对高优先级的报文进行控制，即丢弃中、低两个级别的报文。 
 
三级负荷
当CPU的实际占用率到达对应的数值时，AMF不执行CPU占用率的过负荷控制，仅发送负荷情况的通知消息，用于提示操作员，当前的CPU负荷情况。 
 
四级负荷
当CPU的实际占用率到达对应的数值时，AMF不执行CPU占用率的过负荷控制，仅发送负荷情况的通知消息，用于提示操作员，当前的CPU负荷情况。 
 
功能说明 
本功能用于设置过负荷控制消息的优先级。 
子主题： 
##### 修改消息优先级配置(SET MTOLMSGPRIORITYCFG) 
##### 修改消息优先级配置(SET MTOLMSGPRIORITYCFG) 
功能说明 
该命令用于设置过负荷控制消息优先级。 
注意事项 
该命令在AMF启用CPU过负荷控制功能时，配置结果才会生效。 
通过[SET OVERLOADCFG]命令（Namf_MP模式下）设置“启用CPU过负荷控制”功能。
输入参数说明 
标识|名称|类型|说明
---|---|---|---
ueReachPriority|UE可达使能优先级|参数可选性: 必选参数类型: 枚举，参见枚举定义参数范围: 0-1默认值: LOWPRIORITY|该参数用于设置UE可达使能消息的优先级，包括两个选项，高优先级和低优先级。设置消息为高优先级时，当AMF启用CPU过负荷控制功能时，如果当前CPU的负荷等级处于一级过负荷（高过载）时，则AMF会对UE可达使能消息进行控制。如果当前CPU的负荷等级处于二级过负荷时（低过载）时，则AMF不会对UE可达使能消息进行控制。设置消息为低优先级时，当AMF启用CPU过负荷控制功能时，如果当前CPU的负荷等级处于一级过负荷（高过载）或者二级过负荷时（低过载）时，则AMF都会对UE可达使能消息进行控制。
命令举例 
`
设置消息优先级为高优先级配置。
SET MTOLMSGPRIORITYCFG:UEREACHPRIORITY="HIGHPRIORITY"
` 
##### 查询消息优先级配置(SHOW MTOLMSGPRIORITYCFG) 
##### 查询消息优先级配置(SHOW MTOLMSGPRIORITYCFG) 
功能说明 
该命令用于查询过负荷控制消息优先级。 
注意事项 
无。
输出参数说明 
标识|名称|类型|说明
---|---|---|---
ueReachPriority|UE可达使能优先级|参数可选性: 任选参数类型: 枚举，参见枚举定义参数范围: 0-1默认值: LOWPRIORITY|该参数用于设置UE可达使能消息的优先级，包括两个选项，高优先级和低优先级。设置消息为高优先级时，当AMF启用CPU过负荷控制功能时，如果当前CPU的负荷等级处于一级过负荷（高过载）时，则AMF会对UE可达使能消息进行控制。如果当前CPU的负荷等级处于二级过负荷时（低过载）时，则AMF不会对UE可达使能消息进行控制。设置消息为低优先级时，当AMF启用CPU过负荷控制功能时，如果当前CPU的负荷等级处于一级过负荷（高过载）或者二级过负荷时（低过载）时，则AMF都会对UE可达使能消息进行控制。
命令举例 
`
查询消息优先级配置。
SHOW MTOLMSGPRIORITYCFG:
(No.1) : SHOW MTOLMSGPRIORITYCFG:
-----------------Namf_MT_0----------------
UE可达使能优先级
高
记录数：1
执行成功耗时: 0.127 秒
` 
### 入向业务量配置 
### 入向业务量配置 
背景知识 
为有效控制系统负荷，AMF需要对各个接口的入向业务消息个数进行控制，对于超出本功能配置数量的消息，AMF不再进行处理。 
功能说明 
本功能用于配置SBI接口入向业务消息的最大通过量。 
子主题： 
#### SBI入向业务量配置 
#### SBI入向业务量配置 
背景知识 
AMF可以根据每实例（SC）每秒最大通过的消息个数，对SBI（Service Based Interface，基于服务的接口）入向的“UE可达性”消息进行控制。 
功能说明 
本功能用于配置SBI（Service Based Interface，基于服务的接口）入向业务消息的最大通过量。 
子主题： 
##### 新增SBI入向业务量配置(ADD MTOLINPUTSBISRVCFG) 
##### 新增SBI入向业务量配置(ADD MTOLINPUTSBISRVCFG) 
功能说明 
该命令用于新增AMF启用业务通过量负荷控制功能时，SBI（Service Based Interface，基于服务的接口）入向业务消息每秒每实例（SC）的最大通过量。  
注意事项 
该命令在AMF启用业务通过量负荷控制功能时，配置结果才会生效。 
启用业务通过量负荷控制功能，即通过[SET OVERLOADCFG]命令（Namf_MP模式下）设置“启用业务通过量负荷控制(srvSwitch)”为“开启(SRVSWITCHON)”。
通过本命令，AMF支持对SBI接口入向的各种业务类型的消息个数进行限制。 
输入参数说明 
标识|名称|类型|说明
---|---|---|---
srvType|业务类型|参数可选性: 必选参数类型: 枚举，参见枚举定义参数范围: 0-10|该参数用于设置AMF服务化接口入向业务类型，包括UE可达性消息类型。
olMaxNum|SBI口入向业务每秒每实例最大通过量|参数可选性: 必选参数类型: 数字参数范围: 10-65535默认值: 65535|该参数用于设置AMF当前业务类型的服务化接口入向业务每秒每实例最大通过量。本参数设置为65535，表示AMF不会对当前业务类型的服务化接口入向业务每秒每实例最大通过量进行限制。此处设置的个数仅针对单个SC（Service Component，服务组件）。
输出参数说明 
标识|名称|类型|说明
---|---|---|---
srvType|业务类型|参数可选性: 任选参数类型: 枚举，参见枚举定义参数范围: 0-10|该参数用于设置AMF服务化接口入向业务类型，包括UE可达性消息类型。
olMaxNum|SBI口入向业务每秒每实例最大通过量|参数可选性: 任选参数类型: 数字参数范围: 10-65535默认值: 65535|该参数用于设置AMF当前类型的服务化接口入向业务每秒每实例最大通过量。本参数设置为65535，表示AMF不会对当前业务类型的服务化接口入向业务每秒每实例最大通过量进行限制。此处设置的个数仅针对单个SC（Service Component，服务组件）。
命令举例 
`
新增UE可达性消息最大通过量为65535。
ADD MTOLINPUTSBISRVCFG:SRVTYPE="UEREACHABILITY",OLMAXNUM=100
` 
##### 修改SBI入向业务量配置(SET MTOLINPUTSBISRVCFG) 
##### 修改SBI入向业务量配置(SET MTOLINPUTSBISRVCFG) 
功能说明 
该命令用于修改AMF启用业务通过量负荷控制功能时，SBI（Service Based Interface，基于服务的接口）入向业务消息每秒每实例（SC）的最大通过量。  
注意事项 
无
输入参数说明 
标识|名称|类型|说明
---|---|---|---
srvType|业务类型|参数可选性: 必选参数类型: 枚举，参见枚举定义参数范围: 0-10|该参数用于设置AMF服务化接口入向业务类型，包括UE可达性消息类型。
olMaxNum|SBI口入向业务每秒每实例最大通过量|参数可选性: 必选参数类型: 数字参数范围: 10-65535默认值: 65535|该参数用于设置AMF当前业务类型的服务化接口入向业务每秒每实例最大通过量。本参数设置为65535，表示AMF不会对当前业务类型的服务化接口入向业务每秒每实例最大通过量进行限制。此处设置的个数仅针对单个SC（Service Component，服务组件）。
输出参数说明 
标识|名称|类型|说明
---|---|---|---
srvType|业务类型|参数可选性: 任选参数类型: 枚举，参见枚举定义参数范围: 0-10|该参数用于设置AMF服务化接口入向业务类型，包括UE可达性消息类型。
olMaxNum|SBI口入向业务每秒每实例最大通过量|参数可选性: 任选参数类型: 数字参数范围: 10-65535默认值: 65535|该参数用于设置AMF当前类型的服务化接口入向业务每秒每实例最大通过量。本参数设置为65535，表示AMF不会对当前业务类型的服务化接口入向业务每秒每实例最大通过量进行限制。此处设置的个数仅针对单个SC（Service Component，服务组件）。
命令举例 
`
修改事件UE可达性消息最大通过量为100。
SET MTOLINPUTSBISRVCFG:SRVTYPE="UEREACHABILITY",OLMAXNUM=100
` 
##### 删除SBI入向业务量配置(DEL MTOLINPUTSBISRVCFG) 
##### 删除SBI入向业务量配置(DEL MTOLINPUTSBISRVCFG) 
功能说明 
该命令用于删除AMF启用业务通过量负荷控制功能时，SBI（Service Based Interface，基于服务的接口）入向业务消息每秒每实例（SC）的最大通过量。  
注意事项 
无
输入参数说明 
标识|名称|类型|说明
---|---|---|---
srvType|业务类型|参数可选性: 必选参数类型: 枚举，参见枚举定义参数范围: 0-10|该参数用于设置AMF服务化接口入向业务类型，包括UE可达性消息类型。
输出参数说明 
标识|名称|类型|说明
---|---|---|---
srvType|业务类型|参数可选性: 任选参数类型: 枚举，参见枚举定义参数范围: 0-10|该参数用于设置AMF服务化接口入向业务类型，包括UE可达性消息类型。
olMaxNum|SBI口入向业务每秒每实例最大通过量|参数可选性: 任选参数类型: 数字参数范围: 10-65535默认值: 65535|该参数用于设置AMF当前类型的服务化接口入向业务每秒每实例最大通过量。本参数设置为65535，表示AMF不会对当前业务类型的服务化接口入向业务每秒每实例最大通过量进行限制。此处设置的个数仅针对单个SC（Service Component，服务组件）。
命令举例 
`
删除UE可达性消息最大通过量和权重配置。
DEL MTOLINPUTSBISRVCFG:SRVTYPE="UEREACHABILITY"
` 
##### 查询SBI入向业务量配置(SHOW MTOLINPUTSBISRVCFG) 
##### 查询SBI入向业务量配置(SHOW MTOLINPUTSBISRVCFG) 
功能说明 
该命令用于查询AMF启用业务通过量负荷控制功能时，SBI（Service Based Interface，基于服务的接口）入向业务消息每秒每实例（SC）的最大通过量。  
注意事项 
无
输入参数说明 
标识|名称|类型|说明
---|---|---|---
srvType|业务类型|参数可选性: 任选参数类型: 枚举，参见枚举定义参数范围: 0-10|该参数用于设置AMF服务化接口入向业务类型，包括UE可达性消息类型。
输出参数说明 
标识|名称|类型|说明
---|---|---|---
srvType|业务类型|参数可选性: 任选参数类型: 枚举，参见枚举定义参数范围: 0-10|该参数用于设置AMF服务化接口入向业务类型，包括UE可达性消息类型。
olMaxNum|SBI口入向业务每秒每实例最大通过量|参数可选性: 任选参数类型: 数字参数范围: 10-65535默认值: 65535|该参数用于设置AMF当前类型的服务化接口入向业务每秒每实例最大通过量。本参数设置为65535，表示AMF不会对当前业务类型的服务化接口入向业务每秒每实例最大通过量进行限制。此处设置的个数仅针对单个SC（Service Component，服务组件）。
命令举例 
`
查询UE可达性消息最大通过量和权重配置。
SHOW MTOLINPUTSBISRVCFG:SRVTYPE="UEREACHABILITY"
SHOW MTOLINPUTSBISRVCFG:SRVTYPE="UEREACHABILITY"
-------------------Namf_MT_0-------------------
业务类型      SBI口入向业务每秒每实例最大通过量
-----------------------------------------------
UE可达性      100                          
-----------------------------------------------
记录数：1
执行成功耗时: 0.095 秒
` 
## 增强功能 
## 增强功能 
背景知识 
3GPP协议中，规定了对不同的网络运营过程中可以根据实际情况配置不同的参数，以及运营商可以针对网络配置一些定制功能。 
功能说明 
增强功能提供了功能开关、消息参数的等配置。 
子主题： 
### MT软件参数配置 
### MT软件参数配置 
背景知识 
在AMF系统业务实现过程中，会存在一些协议描述不明确的场景和因为歧义导致存在多种符合协议的实现方式；也会存在一些内部优化实现的功能以及非3GPP协议要求的功能。这些场景分支及功能开关需要设置软件参数进行有效控制。 
功能说明 
本功能用于配置Namf_MT这个NFS内部自定义的一些参数，包括非3GPP协议要求的或个别功能的开关。 
子主题： 
#### 新增MT软件参数配置(ADD MT SOFTWARE PARAMETER) 
#### 新增MT软件参数配置(ADD MT SOFTWARE PARAMETER) 
功能说明 
该命令用于新增AMF的MT服务内部的一些涉及非协议明确要求的、中兴通讯根据自身产品的特点需要优化的功能或参数。 
注意事项 
无。 
输入参数说明 
标识|名称|类型|说明
---|---|---|---
ID|软参索引|参数可选性: 必选参数类型: 数字|软件参数编号，每个软件参数对应本配置中的一个参数ID，每个参数有不同的含义。参数1：该参数用于控制ssm打包功能，取值为0表示不启用打包功能，为1表示启用打包功能，默认值为1。参数2：该参数用于设置ssm打包延时时长，默认值是100，取值范围是[10，1000]，单位为ms。参数3：该参数用于控制打包ssm消息的长度限制，默认值为8192,取值范围是[4000，16000]。参数4：该参数用于控制是否支持信令跟踪显示重发寻呼消息，取值为0表示不显示，为1表示显示，默认值为1。参数5：该参数用于控制SC上电时是否向Communication服务的Special SC加载NGAP相关表，取值为0表示否，为1表示是，默认值为0。参数6：该参数用于控制SC上是否删除老化的NGAP表记录，取值为0表示否，为1表示是，默认值为1。参数7：该参数用于控制ISSU升级时MT虚机升级步长，默认值为1，取值为[1，25]。参数8：该软参用于控制是否支持性能统计定时上报，默认为支持。参数9：该软参用于控制是否优化AMF寻呼流程TAlist的顺序，默认为支持。参数201-220为保留软参。
VALUE|当前参数值|参数可选性: 必选参数类型: 数字|软件参数当前取值。
DEFAULTVALUE|默认参数值|参数可选性: 必选参数类型: 数字|软件参数默认取值。
MINVALUE|参数最小值|参数可选性: 必选参数类型: 数字|软件参数最小值。
MAXVALUE|参数最大值|参数可选性: 必选参数类型: 数字|软件参数最大值。
NAME|参数名称|参数可选性: 必选参数类型: 字符串参数范围: 0-180|软参的名称，代表每个软参的含义。
REMARK|备注|参数可选性: 任选参数类型: 字符串参数范围: 0-180|软件参数取值的具体含义。
命令举例 
`
新增MT软件参数配置，软参索引为99，当前参数值为1，默认参数值为1，参数最小值为0，参数最大值为1，参数名称为“保留软参99”。
ADD MT SOFTWARE PARAMETER:ID=99,VALUE=1,DEFAULTVALUE=1,MINVALUE=0,MAXVALUE=1,NAME="spareSoftwareParameter99"
` 
#### 删除MT软件参数配置(DEL MT SOFTWARE PARAMETER) 
#### 删除MT软件参数配置(DEL MT SOFTWARE PARAMETER) 
功能说明 
该命令用于删除AMF的MT服务内部的一些涉及非协议明确要求的、中兴通讯根据自身产品的特点需要优化的功能或参数。 
注意事项 
本命令执行后立即生效。 
删除已有软参可能影响业务功能，需要在中兴通讯技术支持工程师的指导下进行操作，请勿擅自删除。 
输入参数说明 
标识|名称|类型|说明
---|---|---|---
ID|软参索引|参数可选性: 必选参数类型: 数字|软件参数编号，每个软件参数对应本配置中的一个参数ID，每个参数有不同的含义。参数1：该参数用于控制ssm打包功能，取值为0表示不启用打包功能，为1表示启用打包功能，默认值为1。参数2：该参数用于设置ssm打包延时时长，默认值是100，取值范围是[10，1000]，单位为ms。参数3：该参数用于控制打包ssm消息的长度限制，默认值为8192,取值范围是[4000，16000]。参数4：该参数用于控制是否支持信令跟踪显示重发寻呼消息，取值为0表示不显示，为1表示显示，默认值为1。参数5：该参数用于控制SC上电时是否向Communication服务的Special SC加载NGAP相关表，取值为0表示否，为1表示是，默认值为0。参数6：该参数用于控制SC上是否删除老化的NGAP表记录，取值为0表示否，为1表示是，默认值为1。参数7：该参数用于控制ISSU升级时MT虚机升级步长，默认值为1，取值为[1，25]。参数8：该软参用于控制是否支持性能统计定时上报，默认为支持。参数9：该软参用于控制是否优化AMF寻呼流程TAlist的顺序，默认为支持。参数201-220为保留软参。
命令举例 
`
删除软参索引为99的MT软件参数配置。
DEL MT SOFTWARE PARAMETER:ID=99
` 
#### 设置MT软件参数配置(SET MT SOFTWARE PARAMETER) 
#### 设置MT软件参数配置(SET MT SOFTWARE PARAMETER) 
功能说明 
该命令用于设置AMF的MT服务内部的一些涉及非协议明确要求的、中兴通讯根据自身产品的特点需要优化的功能或参数。 
注意事项 
无。 
输入参数说明 
标识|名称|类型|说明
---|---|---|---
ID|软参索引|参数可选性: 必选参数类型: 数字|软件参数编号，每个软件参数对应本配置中的一个参数ID，每个参数有不同的含义。参数1：该参数用于控制ssm打包功能，取值为0表示不启用打包功能，为1表示启用打包功能，默认值为1。参数2：该参数用于设置ssm打包延时时长，默认值是100，取值范围是[10，1000]，单位为ms。参数3：该参数用于控制打包ssm消息的长度限制，默认值为8192,取值范围是[4000，16000]。参数4：该参数用于控制是否支持信令跟踪显示重发寻呼消息，取值为0表示不显示，为1表示显示，默认值为1。参数5：该参数用于控制SC上电时是否向Communication服务的Special SC加载NGAP相关表，取值为0表示否，为1表示是，默认值为0。参数6：该参数用于控制SC上是否删除老化的NGAP表记录，取值为0表示否，为1表示是，默认值为1。参数7：该参数用于控制ISSU升级时MT虚机升级步长，默认值为1，取值为[1，25]。参数8：该软参用于控制是否支持性能统计定时上报，默认为支持。参数9：该软参用于控制是否优化AMF寻呼流程TAlist的顺序，默认为支持。参数201-220为保留软参。
VALUE|当前参数值|参数可选性: 任选参数类型: 数字|软件参数当前取值。
NAME|参数名称|参数可选性: 任选参数类型: 字符串参数范围: 0-180|软参的名称，代表每个软参的含义。
命令举例 
`
设置MT软件参数配置，软参索引为1，当前参数值为1。
SET MT SOFTWARE PARAMETER:ID=1,VALUE=1
` 
#### 查询MT软件参数配置(SHOW MT SOFTWARE PARAMETER) 
#### 查询MT软件参数配置(SHOW MT SOFTWARE PARAMETER) 
功能说明 
该命令用于查询MT服务软件参数的取值。 
注意事项 
无。 
输入参数说明 
标识|名称|类型|说明
---|---|---|---
ID|软参索引|参数可选性: 任选参数类型: 数字|软件参数编号，每个软件参数对应本配置中的一个参数ID，每个参数有不同的含义。参数1：该参数用于控制ssm打包功能，取值为0表示不启用打包功能，为1表示启用打包功能，默认值为1。参数2：该参数用于设置ssm打包延时时长，默认值是100，取值范围是[10，1000]，单位为ms。参数3：该参数用于控制打包ssm消息的长度限制，默认值为8192,取值范围是[4000，16000]。参数4：该参数用于控制是否支持信令跟踪显示重发寻呼消息，取值为0表示不显示，为1表示显示，默认值为1。参数5：该参数用于控制SC上电时是否向Communication服务的Special SC加载NGAP相关表，取值为0表示否，为1表示是，默认值为0。参数6：该参数用于控制SC上是否删除老化的NGAP表记录，取值为0表示否，为1表示是，默认值为1。参数7：该参数用于控制ISSU升级时MT虚机升级步长，默认值为1，取值为[1，25]。参数8：该软参用于控制是否支持性能统计定时上报，默认为支持。参数9：该软参用于控制是否优化AMF寻呼流程TAlist的顺序，默认为支持。参数201-220为保留软参。
输出参数说明 
标识|名称|类型|说明
---|---|---|---
ID|软参索引|参数可选性: 任选参数类型: 数字|软件参数编号，每个软件参数对应本配置中的一个参数ID，每个参数有不同的含义。参数1：该参数用于控制ssm打包功能，取值为0表示不启用打包功能，为1表示启用打包功能，默认值为1。参数2：该参数用于设置ssm打包延时时长，默认值是100，取值范围是[10，1000]，单位为ms。参数3：该参数用于控制打包ssm消息的长度限制，默认值为8192,取值范围是[4000，16000]。参数4：该参数用于控制是否支持信令跟踪显示重发寻呼消息，取值为0表示不显示，为1表示显示，默认值为1。参数5：该参数用于控制SC上电时是否向Communication服务的Special SC加载NGAP相关表，取值为0表示否，为1表示是，默认值为0。参数6：该参数用于控制SC上是否删除老化的NGAP表记录，取值为0表示否，为1表示是，默认值为1。参数7：该参数用于控制ISSU升级时MT虚机升级步长，默认值为1，取值为[1，25]。参数8：该软参用于控制是否支持性能统计定时上报，默认为支持。参数9：该软参用于控制是否优化AMF寻呼流程TAlist的顺序，默认为支持。参数201-220为保留软参。
VALUE|当前参数值|参数可选性: 任选参数类型: 数字|软件参数当前取值。
DEFAULTVALUE|默认参数值|参数可选性: 任选参数类型: 数字|软件参数默认取值。
MINVALUE|参数最小值|参数可选性: 任选参数类型: 数字|软件参数最小值。
MAXVALUE|参数最大值|参数可选性: 任选参数类型: 数字|软件参数最大值。
NAME|参数名称|参数可选性: 任选参数类型: 字符串参数范围: 0-180|软参的名称，代表每个软参的含义。
REMARK|备注|参数可选性: 任选参数类型: 字符串参数范围: 0-180|软件参数取值的具体含义。
命令举例 
`
查询软参索引为1的MT软件参数配置数据。
SHOW MT SOFTWARE PARAMETER:ID=1
(No.1) : SHOW MT SOFTWARE PARAMETER:ID=1
-----------------Namf_MT_0----------------
操作维护       软参索引 当前参数值 默认参数值 参数最小值 参数最大值 参数名称        备注                  
----------------------------------------------------------------------------------------------------------
修改           1        1          1          0          1          控制ssm打包功能 0 - 不启用;  1 - 启用 
----------------------------------------------------------------------------------------------------------
记录数：1
执行成功开始时间:2021-05-13 19:51:23 耗时: 0.234 秒
` 
### MT内部定时器配置 
### MT内部定时器配置 
背景知识 
 本功能用于MT服务上设置内部定时器时长。 
功能说明 
本功能用于MT服务上设置内部定时器时长。 
子主题： 
#### 修改AMF内部定时器时长配置(SET MTINNERTIMER) 
#### 修改AMF内部定时器时长配置(SET MTINNERTIMER) 
功能说明 
该命令用于修改AMF内部定时器的时长配置。 
注意事项 
无。 
输入参数说明 
标识|名称|类型|说明
---|---|---|---
ID|ID|参数可选性: 必选参数类型: 数字|每个索引(ID)对应一个内部定时器，有不同的含义。索引1对应的内部定时器参数名称：ue可达性检测流程等communication响应，宏名定义：WAIT_PAGING_TRIGGER_RESULT_TIMER。索引2对应的内部定时器参数名称：ueContext查询等communication响应，宏名定义：WAIT_UECONTEXT_INFO_TIMER。索引3对应的内部定时器参数名称：备份寻呼等待寻呼响应，宏名定义：WAIT_BACKUP_PAGING_RESP_TIMER。索引4对应的内部定时器参数名称：群预迁入处理扫描间隔，宏名定义：WAIT_SCAN_PRE_MIG_IN_GRP_LOOP_TIMER。索引5对应的内部定时器参数名称：群预迁入处理最长时间，宏名定义：WAIT_SCAN_PRE_MIG_IN_GRP_PROTECT_TIMER。ID、参数名称、宏名定义三者是固定关系，在修改定时器参数值时，不要修改参数名称和宏名定义。
VALUE|当前时长(ms)|参数可选性: 任选参数类型: 数字|本参数用于设置定时器当前取值。
输出参数说明 
标识|名称|类型|说明
---|---|---|---
ID|ID|参数可选性: 任选参数类型: 数字|每个索引(ID)对应一个内部定时器，有不同的含义。索引1对应的内部定时器参数名称：ue可达性检测流程等communication响应，宏名定义：WAIT_PAGING_TRIGGER_RESULT_TIMER。索引2对应的内部定时器参数名称：ueContext查询等communication响应，宏名定义：WAIT_UECONTEXT_INFO_TIMER。索引3对应的内部定时器参数名称：备份寻呼等待寻呼响应，宏名定义：WAIT_BACKUP_PAGING_RESP_TIMER。索引4对应的内部定时器参数名称：群预迁入处理扫描间隔，宏名定义：WAIT_SCAN_PRE_MIG_IN_GRP_LOOP_TIMER。索引5对应的内部定时器参数名称：群预迁入处理最长时间，宏名定义：WAIT_SCAN_PRE_MIG_IN_GRP_PROTECT_TIMER。ID、参数名称、宏名定义三者是固定关系，在修改定时器参数值时，不要修改参数名称和宏名定义。
VALUE|当前时长(ms)|参数可选性: 任选参数类型: 数字|本参数用于设置定时器当前取值。
DEFAULTVALUE|默认时长(ms)|参数可选性: 任选参数类型: 数字|本参数用于设置定时器默认取值。
MINVALUE|最小时长(ms)|参数可选性: 任选参数类型: 数字|本参数用于设置定时器最小值。
MAXVALUE|最大时长(ms)|参数可选性: 任选参数类型: 数字|本参数用于设置定时器最大值。
DESC|定时器名称|参数可选性: 任选参数类型: 字符串参数范围: 0-180|本参数用于设置定时器的名称，代表每个定时器的含义。
MACRODEFINE|定时器宏名|参数可选性: 任选参数类型: 字符串参数范围: 0-180|本参数用于设置定时器的宏名，设置宏名是为了便于识别定时器。
命令举例 
`
设置ID为1的内部定时器，取值为5s。
SET MTINNERTIMER:ID=1,VALUE=5000
` 
#### 查询AMF内部定时器时长配置(SHOW MTINNERTIMER) 
#### 查询AMF内部定时器时长配置(SHOW MTINNERTIMER) 
功能说明 
该命令用于查询AMF当前设置的内部定时器时长。 
注意事项 
无。 
输入参数说明 
标识|名称|类型|说明
---|---|---|---
ID|ID|参数可选性: 任选参数类型: 数字|每个索引(ID)对应一个内部定时器，有不同的含义。索引1对应的内部定时器参数名称：ue可达性检测流程等communication响应，宏名定义：WAIT_PAGING_TRIGGER_RESULT_TIMER。索引2对应的内部定时器参数名称：ueContext查询等communication响应，宏名定义：WAIT_UECONTEXT_INFO_TIMER。索引3对应的内部定时器参数名称：备份寻呼等待寻呼响应，宏名定义：WAIT_BACKUP_PAGING_RESP_TIMER。索引4对应的内部定时器参数名称：群预迁入处理扫描间隔，宏名定义：WAIT_SCAN_PRE_MIG_IN_GRP_LOOP_TIMER。索引5对应的内部定时器参数名称：群预迁入处理最长时间，宏名定义：WAIT_SCAN_PRE_MIG_IN_GRP_PROTECT_TIMER。ID、参数名称、宏名定义三者是固定关系，在修改定时器参数值时，不要修改参数名称和宏名定义。
输出参数说明 
标识|名称|类型|说明
---|---|---|---
ID|ID|参数可选性: 任选参数类型: 数字|每个索引(ID)对应一个内部定时器，有不同的含义。索引1对应的内部定时器参数名称：ue可达性检测流程等communication响应，宏名定义：WAIT_PAGING_TRIGGER_RESULT_TIMER。索引2对应的内部定时器参数名称：ueContext查询等communication响应，宏名定义：WAIT_UECONTEXT_INFO_TIMER。索引3对应的内部定时器参数名称：备份寻呼等待寻呼响应，宏名定义：WAIT_BACKUP_PAGING_RESP_TIMER。索引4对应的内部定时器参数名称：群预迁入处理扫描间隔，宏名定义：WAIT_SCAN_PRE_MIG_IN_GRP_LOOP_TIMER。索引5对应的内部定时器参数名称：群预迁入处理最长时间，宏名定义：WAIT_SCAN_PRE_MIG_IN_GRP_PROTECT_TIMER。ID、参数名称、宏名定义三者是固定关系，在修改定时器参数值时，不要修改参数名称和宏名定义。
VALUE|当前时长(ms)|参数可选性: 任选参数类型: 数字|本参数用于设置定时器当前取值。
DEFAULTVALUE|默认时长(ms)|参数可选性: 任选参数类型: 数字|本参数用于设置定时器默认取值。
MINVALUE|最小时长(ms)|参数可选性: 任选参数类型: 数字|本参数用于设置定时器最小值。
MAXVALUE|最大时长(ms)|参数可选性: 任选参数类型: 数字|本参数用于设置定时器最大值。
DESC|定时器名称|参数可选性: 任选参数类型: 字符串参数范围: 0-180|本参数用于设置定时器的名称，代表每个定时器的含义。
MACRODEFINE|定时器宏名|参数可选性: 任选参数类型: 字符串参数范围: 0-180|本参数用于设置定时器的宏名，设置宏名是为了便于识别定时器。
命令举例 
`
查询ID为2对应的内部定时器取值。
SHOW MTINNERTIMER:ID=2
SHOW MTINNERTIMER:ID=2
--------------------------------------------------------Namf_MT_0--------------------------------------------------------------------
ID         当前时长(ms)      默认时长(ms)     最小时长(ms)     最大时长(ms)          定时器名称                        定时器宏名
-------------------------------------------------------------------------------------------------------------------------------------------
2           5000             30000             1000             120000             ueContext查询等communication响应  WAIT_UECONTEXT_INFO_TIMER
-------------------------------------------------------------------------------------------------------------------------------------------            
记录数：1       
执行成功耗时: 0.421 秒
` 
动态管理 : 
动态管理 : 
背景知识 
动态管理即动态数据管理，是设备维护中的一个重要组成模块，完成对网元某些关键资源（如信令链路、路由局向等）的状态查询和管理控制（如激活、去活、闭塞和解闭塞等），为整个系统的调试和系统管理提供了必要的技术手段。 
功能说明 
动态管理即动态数据管理，完成对网元某些关键资源的状态查询和管理控制。 
子主题： 
### 局向管理 
### 局向管理 
背景知识 
为了便于调试维护和故障处理，需要查询gNB局向的实时状态。 
功能说明 
包括gNB局向总数，局向ID和局向信息。 
子主题： 
#### 查询gNB局向总数 
#### 查询gNB局向总数 
背景知识 
NG setup后，NG-RAN节点信息会保存在AMF中。 
功能说明 
本功能用于AMF查询gNB局向总数。 
子主题： 
##### 查询gNB局向总数(SHOW MTGNBBUREAU NUM) 
##### 查询gNB局向总数(SHOW MTGNBBUREAU NUM) 
功能说明 
该命令用于AMF查询gNB局向总数。 
注意事项 
无。
输出参数说明 
标识|名称|类型|说明
---|---|---|---
TOTALNUM|局向总数|参数可选性: 必选参数类型: 数字|该参数表示当前接入AMF的所有gNB个数。
命令举例 
`
查询gNB局向总数。
SHOW MTGNBBUREAU NUM
(No.1) : SHOW MTGNBBUREAU NUM:
-----------------Namf_MT_0----------------
局向总数 
---------
1        
---------
记录数：1
执行成功开始时间:2020-09-03 21:43:57 耗时: 0.114 秒
` 
#### 查询gNB局向ID 
#### 查询gNB局向ID 
背景知识 
NG setup后，NG-RAN节点信息会保存在AMF中。 
功能说明 
本功能用于查询AMF的所有的gNB ID。 
当需要查询gNB信息时，可以执行该功能获取所有的gNB ID。 
子主题： 
##### 查询gNB局向ID(SHOW MTGNBBUREAU ID) 
##### 查询gNB局向ID(SHOW MTGNBBUREAU ID) 
功能说明 
该命令用于AMF查询所有的gNB ID。 
注意事项 
每一次查询最多显示300条记录，当总的gNB个数大于300个时，为了查出所有gNB ID，需要进行多次查询。 
每次查询都会显示gNB的总数、当前查询数、已查询数，具体gNB ID及提示信息。 
当gNB个数很多时，如果只是想获知gNB的总数，并不需要知道每个gNB ID，只需一次查询即可。 
输出参数说明 
标识|名称|类型|说明
---|---|---|---
TOTALNUM|局向总数|参数可选性: 必选参数类型: 数字|该参数表示当前接入AMF的所有gNB个数。
CURRENTNUM|本次查询数|参数可选性: 必选参数类型: 数字|该参数表示本次查询出的gNB个数。
QUERIEDNUM|已查询数|参数可选性: 必选参数类型: 数字|该参数表示累计已经查询出的gNB个数（包括本次查询出的个数）。
RESULT|查询结果|参数可选性: 必选参数类型: 枚举，参见枚举定义参数范围: 0-1|该参数表示查询结果，提示操作者的查询进度。
GNBBUREAUID|GNB局向ID|参数可选性: 任选参数类型: 字符串参数范围: 1-110|该参数表示gNB ID的具体信息，包括gNB ID，MCC，MNC。
命令举例 
`
查询gNB局向Id。
SHOW MTGNBBUREAU ID
(No.1) : SHOW MTGNBBUREAU ID:
-----------------Namf_MT_0----------------
局向总数 本次查询数 已查询数 查询结果 
--------------------------------------
1        1          1        查询结束 
--------------------------------------
记录数：1
GNB局向ID                                                                                             
------------------------------------------------------------------------------------------------------
Id:82472174334636132[f40] mcc:460 mnc:11 gNBId:19202049 nBits:28 00010010 01010000 00000000 0001(BIT) 
------------------------------------------------------------------------------------------------------
记录数：1
执行成功开始时间:2020-09-03 21:45:46 耗时: 0.121 秒
` 
#### 查询指定gNB局向信息 
#### 查询指定gNB局向信息 
背景知识 
NG setup后，NG-RAN节点信息会保存在AMF中。 
功能说明 
本功能用于AMF查询指定gNB局向信息，包括sctp Id和TA。 
子主题： 
##### 查询指定gNB信息(SHOW MT SPECIFIED GNBINFO) 
##### 查询指定gNB信息(SHOW MT SPECIFIED GNBINFO) 
功能说明 
该命令用于查询指定gNB的详细信息。 
注意事项 
无。 
输入参数说明 
标识|名称|类型|说明
---|---|---|---
mcc|移动国家码|参数可选性: 必选参数类型: 字符串参数范围: 3-3|参数作用：本参数用于输入待查询的gNB的MCC（Mobile Country Code，移动国家码），由运营商根据国际电联分配的国家码进行规划配置，用于在移动网络中唯一标识一个国家信息，例如中国为460。修改影响：无。数据来源：全网规划。默认值：无。配置原则：本参数是通过SHOW MTGNBBUREAU ID命令获取的。
mnc|移动网络码|参数可选性: 必选参数类型: 字符串参数范围: 2-3|参数作用：本参数用于输入待查询的gNB的MNC（Mobile Network Code，移动网络号），由运营商根据国际电联分配的网络号进行规划配置，用于在移动网络中基于MCC唯一标识一个运营商网络信息。例如运营商“中国移动“在中国运营的GSM网络的MNC为01。MCC和MNC标识唯一的一个PLMN，标识移动用户的归属PLMN，也就是移动用户归属的运营商的移动网络。修改影响：无。数据来源：全网规划。默认值：无。配置原则：本参数是通过SHOW MTGNBBUREAU ID命令获取的。
bitLen|gNB ID长度|参数可选性: 必选参数类型: 数字参数范围: 22-32|参数作用：本参数用于输入待查询的gNB的gNB ID长度，取值范围为22-32。修改影响：无。数据来源：全网规划。默认值：无。配置原则：本参数是通过SHOW MTGNBBUREAU ID命令获取的。
gNBID|gNB ID|参数可选性: 必选参数类型: 数字|参数作用：本参数用于输入待查询的gNB的gNB ID长度，MCC+MNC+gNB ID用于全局唯一标识一个gNB。修改影响：无。数据来源：全网规划。默认值：无。配置原则：本参数是通过SHOW MTGNBBUREAU ID命令获取的。
输出参数说明 
标识|名称|类型|说明
---|---|---|---
GNBINFO|GNB信息|参数可选性: 必选参数类型: 字符串参数范围: 1-10000|本参数用于显示指定gNB的详细信息。gNB Bureau Id：该gNB局向在AMF中ID标识。gNBID：gNBID信息，即NG Setup Request消息中gNB-ID字段信息。Ran Node Name：NG Setup Request消息中RAN Node Name信息。sctp：该gNB局向在AMF中关联的动态偶联ID信息。CfgSctpId：对应EM上配置的偶联标识。RAN IP：动态偶联对应的RAN的IP地址、端口信息。AMF IP：动态偶联对应的AMF的IP地址、端口信息。tai：该gNB局向支持的TaList，即NGSetupRequest消息中SupoortedTAList信息。Gnb version：该gNB局向支持的N2协议版本，38413-f20表示2018年12月R15版本，38413-f40表示2019年6月R15版本。
命令举例 
`
查询PLMN ID为"46011"，gNB ID为16777217（长度28位）的gNB信息。
SHOW MT SPECIFIED GNBINFO:MCC="460",MNC="11",BITLEN=28,GNBID=16777217
(No.1) : SHOW MT SPECIFIED GNBINFO:MCC="460",MNC="11",BITLEN=28,GNBID=16777217
-----------------Namf_MT_0----------------
GNB信息
------------------------------------------------------------------------------------
gNB Bureau Id: 72057600196341860 (0x10000016f11f064)
gNBID: nbits[28], data[0x10 00 00 10]    00010000 00000000 00000000 0001(BIT)
Ran Node Name: abc
sctp: 1048576
CfgSctpId: 29
RAN IP: 192.168.29.29-5000
AMF IP: 11.11.29.11-5000
tai[0]: mcc:0x460, mnc:0x11, tac: 0x987600
-------------------------------------------------------------------------------------
记录数：1
执行成功开始时间:2020-11-23 21:39:22 耗时: 0.119 秒
` 
#### 查询单个gNB局向信息 
#### 查询单个gNB局向信息 
背景知识 
NG setup后，NG-RAN节点信息会保存在AMF中。 
功能说明 
本功能用于AMF查询单个gNB局向信息，包括sctp Id和TA。 
子主题： 
##### 查询gNB局向信息(SHOW MTGNBBUREAU INFO) 
##### 查询gNB局向信息(SHOW MTGNBBUREAU INFO) 
功能说明 
该命令用于查询AMF的gNB的详细信息。 
注意事项 
无。
输入参数说明 
标识|名称|类型|说明
---|---|---|---
GNBBUREAUID|GNB局向ID|参数可选性: 必选参数类型: 数字参数范围: 0-18446744073709551615|本参数用于设置需要查询详细信息的gNB ID。本参数的取值是通过SHOW MTGNBBUREAU ID命令查询获取的。
输出参数说明 
标识|名称|类型|说明
---|---|---|---
GNBBUREAUINFO|GNB局向信息|参数可选性: 必选参数类型: 字符串参数范围: 1-10000|本参数用于显示AMF查询的gNB的详细信息。gNB Bureau Id:该gNB局向在AMF中ID标识；gNBID：gNBID信息，即NGSetupRequest消息中gNB-ID字段信息；Ran Node Name：NGSetupRequest消息中RANNodeName信息；sctp：该gNB局向在AMF中关联的动态偶联ID信息；CfgSctpId：对应EM上配置的偶联标识；RAN IP：动态偶联对应的RAN的IP地址、端口信息；RAN IP：动态偶联对应的AMF的IP地址、端口信息；tai：该gNB局向支持的TaList，即NGSetupRequest消息中SupoortedTAList信息；Gnb version: 该gNB局向支持的N2协议版本：38413-f20表示2018年12月R15版本，38413-f40表示2019年6月R15版本。
命令举例 
`
查询局向Id为82472174334636132的局向信息。
SHOW MTGNBBUREAU INFO:GNBBUREAUID=82472174334636132
(No.1) : SHOW MTGNBBUREAU INFO:GNBBUREAUID=82472174334636132
-----------------Namf_MT_0----------------
GNB局向信息                                                                                                                                                                                                                                                                     
--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
gNB Bureau Id: 82472174334636132 (0x12500016f11f064)
gNBID: nbits[28], data[0x12 50 00 10]    00010010 01010000 00000000 0001(BIT)
Ran Node Name: 
sctp: 1048576
CfgSctpId: 29
RAN IP: 192.168.29.29:5000
AMF IP: 11.11.29.11:5000
tai[0]: mcc:0x460, mnc:0x11, tac: 0x987600
 
--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
记录数：1
执行成功开始时间:2020-09-03 21:29:02 耗时: 0.114 秒
` 
#### 查询TA下的gNB信息 
#### 查询TA下的gNB信息 
背景知识 
NG setup后，NG-RAN节点信息会保存在AMF中。 
功能说明 
本功能用于AMF查询归属于指定TA下的GNB信息。 
子主题： 
##### 查询TA下的gNB信息(SHOW MTTAIGNB INFO) 
##### 查询TA下的gNB信息(SHOW MTTAIGNB INFO) 
功能说明 
该命令用于根据TA查询本局归属下与该TA相关的gNB信息，包括MCC、MNC、gNB ID、gNB地址、gNB名称。 
注意事项 
当gNB个数不大于120时，直接在EM界面中显示出所有gNB信息。 
当gNB个数大于120时，系统自动将gNB个数保存为文件，在EM上只显示文件的链接，操作员需要单击链接，自动下载文件，在下载后的文件中查看gNB信息。 
输入参数说明 
标识|名称|类型|说明
---|---|---|---
mcc|移动国家码|参数可选性: 必选参数类型: 字符串参数范围: 3-3|本参数用于设置跟踪区的MCC（Mobile Country Code，移动国家码），由运营商根据国际电联分配的国家码进行规划配置，用于在移动网络中唯一标识一个国家信息，例如中国为460。MCC对于所有的记录都是唯一的。
mnc|移动网络码|参数可选性: 必选参数类型: 字符串参数范围: 2-3|本参数用于设置跟踪区的MNC（Mobile Network Code，移动网络号），由运营商根据国际电联分配的网络号进行规划配置，用于在移动网络中基于MCC唯一标识一个运营商网络信息。例如运营商“中国移动“在中国运营的GSM网络的MNC为01。MCC和MNC标识唯一的一个PLMN，标识移动用户的归属PLMN，也就是移动用户归属的运营商的移动网络。
tac|跟踪区域码|参数可选性: 必选参数类型: 字符串参数范围: 6-6|本参数用于设置跟踪区域码，在同一个PLMN（公共陆地移动网络 PLMN=MCC+MNC ）内，标识唯一的一个跟踪区，由运营商在PLMN内统一规划，以16进制数字编码。
sclogicNo|SC逻辑编号|参数可选性: 任选参数类型: 数字参数范围: 1-1000|该参数用于设置SC（Service Component，服务组件）逻辑编号，查询指定SC上的归属于某个TA下的gNB信息。可通过SHOW SCINFO命令来查询当前可用的SC，具体命令格式为：SHOW SCINFO:NFSNAME="Namf_Communication_0",SCTYPE="sc-amf-comm"该参数为可选参数，默认不输入。
输出参数说明 
标识|名称|类型|说明
---|---|---|---
mcc|移动国家码|参数可选性: 必选参数类型: 字符串参数范围: 3-3|本参数用于显示跟踪区的MCC（Mobile Country Code，移动国家码），由运营商根据国际电联分配的国家码进行规划配置，用于在移动网络中唯一标识一个国家信息，例如中国为460。MCC对于所有的记录都是唯一的。
mnc|移动网络码|参数可选性: 必选参数类型: 字符串参数范围: 2-3|本参数用于显示跟踪区的MNC（Mobile Network Code，移动网络号），由运营商根据国际电联分配的网络号进行规划配置，用于在移动网络中基于MCC唯一标识一个运营商网络信息。例如运营商“中国移动“在中国运营的GSM网络的MNC为01。MCC和MNC标识唯一的一个PLMN，标识移动用户的归属PLMN，也就是移动用户归属的运营商的移动网络。
gNBId|gNB ID|参数可选性: 必选参数类型: 数字|本参数用于显示gNB ID。gNB ID用于唯一标识一个PLMN内的gNB。
gNBIdLen|gNB ID长度|参数可选性: 必选参数类型: 数字参数范围: 22-32|本参数用于显示gNB ID长度。gNB ID长度为22-32BIT位。
gNBIpAddr|gNB地址|参数可选性: 任选参数类型: 字符串|本参数用于显示gNB的IP（IPv4或IPv6）地址。
gNBName|gNB名称|参数可选性: 任选参数类型: 字符串参数范围: 0-150|本参数用于显示gNB的名称。
命令举例 
`
查询跟踪区"460-11-00d011"下的gNB信息。
SHOW MTTAIGNB INFO:MCC="460",MNC="11",TAC="00d011"
(No.4) : SHOW MTTAIGNB INFO:MCC="460",MNC="11",TAC="00d011"
-----------------Namf_Communication_0_A----------------
移动国家码  移动网络码  gNB ID    gNB ID长度  gNB地址         gNB名称
----------------------------------------------------------------------
460         11          190993    28          192.168.30.30   RAN01
460         11          123456    30          172.168.30.30   RAN02
----------------------------------------------------------------------
记录数：2
执行成功耗时: 1.276 秒
` 
调测信息采集 : 
调测信息采集 : 
背景知识 
在系统调试过程中，需要采集系统的运行信息，可提供给运维人员进行分析，达到监测系统是否正常的目的。 
功能说明 
使用本功能可以进行系统调测信息采集。 
子主题： 
#### 模块内部统计信息 
#### 模块内部统计信息 
背景知识 
业务前台有大量的内部统计，用于开发维护人员更详细的知悉系统运行状况、性能话务情况等，但是这些内部统计的采集获取很不方便。 
功能说明 
开启内部统计上报后，前台会将内部统计数据周期性的上报给后台网管，后台网管保存在硬盘目录，供开发维护人员查询分析，这样就方便更好的监控了解系统运行状况、性能话务情况等。 
子主题： 
##### 清理模块内部统计信息(CLEAR DEBUG INFO) 
##### 清理模块内部统计信息(CLEAR DEBUG INFO) 
功能说明 
该命令用于清理其归属NFS内模块的调测信息。当需要获取新的调测信息前，先执行该命令。 
注意事项 
获取新的调测信息前可以先执行该命令，该命令返回的“失败数量”为非0则需要联系中兴通讯技术人员支持；为0则可获取新的调测信息。 
输入参数说明 
标识|名称|类型|说明
---|---|---|---
MODULE_NAME|模块名称|参数可选性: 任选参数类型: 字符串参数范围: 1-47|该参数用于表示需要清除调测信息的模块名称。该参数选项的含义是：默认为空：表示清除NFS内所有的调测信息。非空：表示清除指定模块的调测信息，可由 SHOW DEBUG MODULELIST命令获取模块名称。
输出参数说明 
标识|名称|类型|说明
---|---|---|---
MODULE_NUMBER|模块实例数量|参数可选性: 必选参数类型: 数字参数范围: 0-4294967295|该参数用于表示清理的模块实例总数量。
SUCCESS_NUMBER|成功数量|参数可选性: 必选参数类型: 数字参数范围: 0-4294967295|该参数用于表示清理成功的模块实例数量。
FAILED_NUMBER|失败数量|参数可选性: 必选参数类型: 数字参数范围: 0-4294967295|该参数用于表示清理失败的模块实例数量。
命令举例 
`
清理名称为ROSNG_ADAPT的模块的调测信息。
CLEAR DEBUG INFO:MODULE_NAME="ROSNG_ADAPT"
` 
##### 查询含有Debug信息的模块列表(SHOW DEBUG MODULELIST) 
##### 查询含有Debug信息的模块列表(SHOW DEBUG MODULELIST) 
功能说明 
该命令用于查询其归属的NFS内含有调测信息的模块列表。当运维人员需要收集或者清除指定模块的调试信息时，可以执行该命令查询含有调测信息的模块名称。 
注意事项 
无。 
输出参数说明 
标识|名称|类型|说明
---|---|---|---
MODULE_NAME|模块名|参数可选性: 必选参数类型: 字符串参数范围: 1-47|该参数用于表示支持统计信息的模块名称。
MODULE_INST|模块实例数|参数可选性: 必选参数类型: 数字参数范围: 0-4294967295|该参数用于表示支持统计信息的模块实例数。
命令举例 
`
查询某个NFS中含有调试统计信息的模块列表。
 SHOW DEBUG MODULELIST
------CommonS_TMSP_0--------
模块名         模块实例数
ROSNG_ADAPT    1
ROSNG_ARCH     1
记录数：2
执行成功耗时: 0.259 秒
` 
#### 查看数据区占用率 
#### 查看数据区占用率 
背景知识 
实现深度巡检，AMF的每个微服务（组件）需要支持查询数据区占用率的功能。 
功能说明 
本功能用于操作员查询AMF的各个微服务的buffer/调度/Transaction等资源情况。 
子主题： 
##### 查询资源占用(SHOW MT DATAUSAGE) 
##### 查询资源占用(SHOW MT DATAUSAGE) 
功能说明 
该命令用于查询AMF的MT组件上的资源的占用信息。 
注意事项 
无。
输出参数说明 
标识|名称|类型|说明
---|---|---|---
searchResult|查询结果|参数可选性: 必选参数类型: 枚举，参见枚举定义默认值: SUCCESS|本参数表示命令的查询结果。
scName|SC ID|参数可选性: 必选参数类型: 字符串参数范围: 0-100|本参数为系统内部内部显示参数。
scheduler|Scheduler|参数可选性: 必选参数类型: 字符串参数范围: 0-20|本参数为系统内部内部显示参数。
transaction|Transaction|参数可选性: 必选参数类型: 字符串参数范围: 0-20|本参数为系统内部内部显示参数。
命令举例 
`
查询AMF的MT组件上的资源的占用信息。
SHOW MT DATAUSAGE
(No.1) : SHOW MT DATAUSAGE:
-----------------Namf_MT_0----------------
查询结果 
---------
成功     
---------
记录数：1
SC ID       Scheduler Transaction 
----------------------------------
sc-amf-mt-1 0         0           
----------------------------------
记录数：1
执行成功开始时间:2020-12-04 18:03:35 耗时: 0.12 秒
` 
#### 查询本地数据库表 
#### 查询本地数据库表 
背景知识 
AMF基于SC，使用本地数据库存储信息，在系统调测或者运维观测时，操作人员可以使用本功能查询数据库表的情况，以便了解系统数据库运行情况，为系统调测、运维观测提供方便。 
功能说明 
本功能用于查询本地数据库中表记录数的情况。 
子主题： 
##### 查询本地数据库表(SHOW MT LOCAL DATABASE TABLE) 
##### 查询本地数据库表(SHOW MT LOCAL DATABASE TABLE) 
功能说明 
该命令用于查询AMF本地数据库表中的表记录数的情况。 
注意事项 
无。
输出参数说明 
标识|名称|类型|说明
---|---|---|---
RESULT|执行结果|参数可选性: 任选参数类型: 枚举，参见枚举定义参数范围: 0-1默认值: SUCCESS|该参数用于显示本命令的执行结果，显示成功或失败。
命令举例 
`
查询AMF本地数据库表中的表记录数的情况。
SHOW MT LOCAL DATABASE TABLE
(No.1) : SHOW MT LOCAL DATABASE TABLE:
-----------------Namf_MT_0----------------正在执行一个异步命令，请到操作记录中查看执行结果。
` 
#### 查询UDSF数据库表 
#### 查询UDSF数据库表 
背景知识 
AMF将本地数据同步存储到UDSF数据库上，在系统调测或者运维观测时，操作人员可以查询UDSF数据库表的情况，为系统调测、运维观测提供方便。 
功能说明 
本功能用于查询UDSF数据库中表记录数的情况。 
子主题： 
##### 查询UDSF数据库表(SHOW MT UDSF DATABASE TABLE) 
##### 查询UDSF数据库表(SHOW MT UDSF DATABASE TABLE) 
功能说明 
该命令用于查询UDSF数据库表中的表记录数的情况。 
注意事项 
无。
输出参数说明 
标识|名称|类型|说明
---|---|---|---
RESULT|执行结果|参数可选性: 任选参数类型: 枚举，参见枚举定义参数范围: 0-1默认值: SUCCESS|该参数用于显示本命令的执行结果，显示成功或失败。
命令举例 
`
查询UDSF数据库表中的表记录数的情况。
SHOW MT UDSF DATABASE TABLE
(No.1) : SHOW MT UDSF DATABASE TABLE:
-----------------Namf_MT_0----------------正在执行一个异步命令，请到操作记录中查看执行结果。
` 
# Namf_EventExposure 
## 订阅授权配置 
## 订阅授权配置 
背景知识 
在5GC网络中，AMF可以向其他NF提供终端的移动状态能力开放信息，包括UE位置信息、移动状态和连接状态等信息。其他NF需要向AMF订阅终端的移动性相关事件。 
AMF启动终端状态监测功能，监测到终端相应的订阅事件后，将对应的终端移动性事件，报告给订阅这些事件的NF。 
其他NF向AMF订阅终端移动性相关事件时，AMF可对这些NF进行授权检查。具体参见3GPP TS 23.502 "4.2.5 Reachability procedures"章节。 
功能说明 
订阅授权配置包括： 
 
订阅授权控制策略配置。 
 
基于网元实例号的订阅授权配置。 
 
基于用户号段的订阅授权配置。 
 
子主题： 
### 订阅授权控制策略配置 
### 订阅授权控制策略配置 
背景知识 
UDM或其他NF可通过AMF的Namf_EventExposure服务向AMF订阅终端的可达状态，进而AMF可以实现将终端的可达状态通知到各个NF的目的。 
比如当终端支持”SMS over NAS“功能时， 如果终端不可达，则短消息业务会投递失败。短消息中心可直接向AMF，或者短消息中心通过UDM向AMF订阅终端的可达状态通知，当终端的可达状态发生变化时（由不可达变为可达），AMF会通知UDM或SMSF（Short Message Service?Function，短消息服务功能），SMSF此时可以将缓存的短消息投递给终端。 
其他NF通过UDM向AMF订阅终端的可达事件时，UDM可对订阅NF的合法性进行检查和对订阅NF进行授权操作。同时，在UDM未进行授权检查的情况下，AMF可对这些NF进行授权检查。具体参见3GPP TS 23.502 "4.2.5 Reachability procedures"章节。 
功能说明 
本功能用于设置AMF是否支持对其他NF向AMF订阅可达事件进行授权检查，及其授权检查操作的具体策略。 
AMF开启授权检查功能之后，需要根据所选择的策略，进行相应的其他配置。 
子主题： 
#### 修改订阅授权控制策略配置(SET SUBSCRIBERAUTHPOLICY) 
#### 修改订阅授权控制策略配置(SET SUBSCRIBERAUTHPOLICY) 
功能说明 
本命令用于设置AMF是否支持对订阅终端移动性事件的NF进行授权检查，及其授权检查的具体策略。 
其他NF通过UDM向AMF订阅终端的可达事件时，UDM侧需要对订阅请求的NF的合法性进行检查和对订阅请求的NF进行授权操作。在UDM未进行授权检查的情况下，AMF可以对这些NF进行授权检查。 
AMF可以根据NF或者终端的号码来配置授权检查的具体策略。 
注意事项 
开启之后，只有在授权范围之内的NF，才能向AMF订阅授权的终端的移动性可达事件。
输入参数说明 
标识|名称|类型|说明
---|---|---|---
ueReachabilityNotify|可达事件通知|参数可选性: 任选参数类型: 枚举，参见枚举定义参数范围: 0-3默认值: NOTSUPPORT|本参数用于配置其他NF向本AMF订阅终端的移动性可达事件的授权策略。不支持订阅授权控制（not support subscriber auth）：设置为为该选项，表示任何一个NF都可以向本AMF订阅任何终端的移动性可达事件。基于用户标识控制（base ueid subscriber auth）： 只有在配置的号段范围内的终端的移动性可达事件才允许被其他NF订阅。设置为该选项之前，需要先通过ADD AUTHINFOBASEUE命令配置相应的终端号段。基于NF实例号控制（base nfins subscriber auth）：只有在配置范围的NF才允许向本AMF订阅任何终端的移动性可达事件。设置为该选项之前，需要先通过ADD AUTHINFOBASEUE命令配置相应的NF。基于NF实例号和用户标识控制（base ueid and nfins subscriber auth）： 表示需要同时满足第二种情况和第二种情况，即只有在配置范围的NF才允许向本AMF订阅在配置的号段范围内的终端的移动性可达事件。设置为该选项之前，需要先通过ADD AUTHINFOBASEUE命令配置相应的NF，并且通过ADD AUTHINFOBASEUE命令配置相应的终端号段。
命令举例 
`
设置AMF支持对其他NF订阅用户移动性事件的授权功能，其中针对可达性通知事件为策略为基于订阅NF标识和号段。
SET SUBSCRIBERAUTHPOLICY:UEREACHABILITYNOTIFY="BASE_NFINS_AND_UEID"
` 
#### 查询订阅授权控制策略配置(SHOW SUBSCRIBERAUTHPOLICY) 
#### 查询订阅授权控制策略配置(SHOW SUBSCRIBERAUTHPOLICY) 
功能说明 
本命令用于查询AMF是否支持对其他NF订阅请求的授权功能，及其授权策略。 
注意事项 
无。
输出参数说明 
标识|名称|类型|说明
---|---|---|---
ueReachabilityNotify|可达事件通知|参数可选性: 任选参数类型: 枚举，参见枚举定义参数范围: 0-3默认值: NOTSUPPORT|本参数用于配置其他NF向本AMF订阅终端的移动性可达事件的授权策略。不支持订阅授权控制（not support subscriber auth）：设置为为该选项，表示任何一个NF都可以向本AMF订阅任何终端的移动性可达事件。基于用户标识控制（base ueid subscriber auth）： 只有在配置的号段范围内的终端的移动性可达事件才允许被其他NF订阅。设置为该选项之前，需要先通过ADD AUTHINFOBASEUE命令配置相应的终端号段。基于NF实例号控制（base nfins subscriber auth）：只有在配置范围的NF才允许向本AMF订阅任何终端的移动性可达事件。设置为该选项之前，需要先通过ADD AUTHINFOBASEUE命令配置相应的NF。基于NF实例号和用户标识控制（base ueid and nfins subscriber auth）： 表示需要同时满足第二种情况和第二种情况，即只有在配置范围的NF才允许向本AMF订阅在配置的号段范围内的终端的移动性可达事件。设置为该选项之前，需要先通过ADD AUTHINFOBASEUE命令配置相应的NF，并且通过ADD AUTHINFOBASEUE命令配置相应的终端号段。
命令举例 
`
查询AMF移动性事件订阅的授权策略。
SHOW SUBSCRIBERAUTHPOLICY:
(No.2) : SHOW SUBSCRIBERAUTHPOLICY:
-----------------Namf_EventExposure_0----------------
UE可达事件通知
基于NF实例号和用户标识控制
记录数：1
执行成功耗时: 0.084 秒
` 
### 基于网元实例号的订阅授权配置 
### 基于网元实例号的订阅授权配置 
背景知识 
UDM或其他NF可通过AMF的Namf_EventExposure服务向AMF订阅终端的可达状态，进而AMF可以实现将终端的可达状态通知到各个NF的目的。 
比如当终端支持"SMS over NAS"功能时， 如果终端不可达，则短消息业务会投递失败。短消息中心可直接向AMF或通过UDM向AMF订阅终端的可达状态通知，当终端的可达状态发生变化时（由不可达变为可达），AMF会通知UDM或SMSF（Short Message Service?Function，短消息服务功能），SMSF此时可以将缓存的短消息投递给终端。 
其他NF通过UDM向AMF订阅终端的可达事件时，UDM侧需要对订阅请求NF的合法性进行检查和对订阅请求的NF进行授权操作。在UDM未进行授权检查的情况下，AMF可对这些NF进行授权检查。具体参见3GPP TS 23.502 "4.2.5 Reachability procedures"章节。 
功能说明 
本命令用于配置是否允许某些NF向本AMF订阅终端的移动性可达事件。 
子主题： 
#### 新增基于NF实例号的订阅授权配置(ADD AUTHINFOBASENFINS) 
#### 新增基于NF实例号的订阅授权配置(ADD AUTHINFOBASENFINS) 
功能说明 
本命令用于配置是否允许某些NF向本AMF订阅终端的移动性可达事件。 
只有在授权范围之内的NF，才能向本AMF订阅终端的移动性可达事件。 
注意事项 
在本命令之前，需要先通过[SET SUBSCRIBERAUTHPOLICY]命令设置AMF的订阅授权策略为“基于NF实例号控制（base nfins subscriber auth）”或“基于NF实例号和用户标识控制（base ueid and nfins subscriber auth）”。
输入参数说明 
标识|名称|类型|说明
---|---|---|---
NfInstanceId|NF实例标识|参数可选性: 必选参数类型: 字符串参数范围: 1-500|该参数用于配置NF实例标识。参考3GPP TS 29.571协议中描述为UUID（Universal Unique Identifier，全局唯一标识符）格式。
ueReachabilityNotify|UE可达事件通知|参数可选性: 任选参数类型: 枚举，参见枚举定义参数范围: 0-1默认值: ALLOWED|该参数用于设置此NF是否允许向本AMF订阅“UE可达事件通知”。
命令举例 
`
新增配置，"c4b04e7d-44c0-4941-b981-00b7e288c4b4"的NF，不允许订阅用户的可达性通知事件。
ADD AUTHINFOBASENFINS:NFINSTANCEID="c4b04e7d-44c0-4941-b981-00b7e288c4b4",UEREACHABILITYNOTIFY="NOTALLOWED"
` 
#### 修改基于NF实例号的订阅授权配置(SET AUTHINFOBASENFINS) 
#### 修改基于NF实例号的订阅授权配置(SET AUTHINFOBASENFINS) 
功能说明 
本命令用于删除已经配置基于NF的终端的移动性可达订阅事件信息。 
注意事项 
无。
输入参数说明 
标识|名称|类型|说明
---|---|---|---
NfInstanceId|NF实例标识|参数可选性: 必选参数类型: 字符串参数范围: 1-500|该参数用于配置NF实例标识。参考3GPP TS 29.571协议中描述为UUID（Universal Unique Identifier，全局唯一标识符）格式。
ueReachabilityNotify|UE可达事件通知|参数可选性: 任选参数类型: 枚举，参见枚举定义参数范围: 0-1默认值: ALLOWED|该参数用于设置此NF是否允许向本AMF订阅“UE可达事件通知”。
命令举例 
`
修改"c4b04e7d-44c0-4941-b981-00b7e288c4b4"的NF，允许其订阅可达性通知事件。
SET AUTHINFOBASENFINS:NFINSTANCEID="c4b04e7d-44c0-4941-b981-00b7e288c4b4",UEREACHABILITYNOTIFY="ALLOWED"
` 
#### 删除基于NF实例号的订阅授权配置(DEL AUTHINFOBASENFINS) 
#### 删除基于NF实例号的订阅授权配置(DEL AUTHINFOBASENFINS) 
功能说明 
本命令用于删除已经配置基于NF的终端的移动性可达订阅事件信息。 
注意事项 
无。
输入参数说明 
标识|名称|类型|说明
---|---|---|---
NfInstanceId|NF实例标识|参数可选性: 必选参数类型: 字符串参数范围: 1-500|该参数用于配置NF实例标识。参考3GPP TS 29.571协议中描述为UUID（Universal Unique Identifier，全局唯一标识符）格式。
命令举例 
`
删除标识为"c4b04e7d-44c0-4941-b981-00b7e288c4b4"的NF的订阅授权信息。
DEL AUTHINFOBASENFINS:NFINSTANCEID="c4b04e7d-44c0-4941-b981-00b7e288c4b4"
` 
#### 查询基于NF实例号的订阅授权配置(SHOW AUTHINFOBASENFINS) 
#### 查询基于NF实例号的订阅授权配置(SHOW AUTHINFOBASENFINS) 
功能说明 
本命令用于查询已经配置基于NF的终端的移动性可达订阅事件信息。 
注意事项 
无。
输入参数说明 
标识|名称|类型|说明
---|---|---|---
NfInstanceId|NF实例标识|参数可选性: 任选参数类型: 字符串参数范围: 1-500|该参数用于配置NF实例标识。参考3GPP TS 29.571协议中描述为UUID（Universal Unique Identifier，全局唯一标识符）格式。
输出参数说明 
标识|名称|类型|说明
---|---|---|---
NfInstanceId|NF实例标识|参数可选性: 任选参数类型: 字符串参数范围: 1-500|该参数用于配置NF实例标识。参考3GPP TS 29.571协议中描述为UUID（Universal Unique Identifier，全局唯一标识符）格式。
ueReachabilityNotify|UE可达事件通知|参数可选性: 任选参数类型: 枚举，参见枚举定义参数范围: 0-1默认值: ALLOWED|该参数用于设置此NF是否允许向本AMF订阅“UE可达事件通知”。
命令举例 
`
查询已经配置的基于NF的订阅授权信息。 
SHOW AUTHINFOBASENFINS:
SHOW AUTHINFOBASENFINS:
-----------------Namf_EventExposure_0----------------
NF实例标识                                                       UE可达事件通知
c4b04e7d-44c0-4941-b981-00b7e288c4b4        不允许订阅
记录数：1
执行成功耗时: 0.084 秒
` 
### 基于用户号段的订阅授权配置 
### 基于用户号段的订阅授权配置 
背景知识 
UDM或其他NF可通过AMF的Namf_EventExposure服务向AMF订阅终端的可达状态，进而AMF可以实现将终端的可达状态通知到各个NF的目的。 
比如当终端支持"SMS over NAS"功能时， 如果终端不可达，则短消息业务会投递失败。短消息中心可直接向AMF或通过UDM向AMF订阅终端的可达状态通知，当终端的可达状态发生变化时（由不可达变为可达），AMF会通知UDM或SMSF（Short Message Service?Function，短消息服务功能），SMSF此时可以将缓存的短消息投递给终端。 
其他NF通过UDM向AMF订阅终端的可达事件时，UDM侧可对订阅请求NF的合法性进行检查和对订阅请求的NF进行授权操作。同时，在UDM未进行授权检查的情况下，AMF可对这些NF进行授权检查。具体参见3GPP TS 23.502 "4.2.5 Reachability procedures"章节。 
功能说明 
本命令用于增加基于终端号段的订阅授权信息。 
本功能配置了某些终端的号段范围，AMF只允许其他的NF订阅在这些范围内的终端的移动性可达事件。 
子主题： 
#### 新增基于用户号段的订阅授权配置(ADD AUTHINFOBASEUE) 
#### 新增基于用户号段的订阅授权配置(ADD AUTHINFOBASEUE) 
功能说明 
本命令用于增加基于终端号段的订阅授权信息。只有在通过本命令配置的号段范围内的终端的移动性可达事件才允许被其他NF订阅。 
注意事项 
无。
输入参数说明 
标识|名称|类型|说明
---|---|---|---
supiSegment|SUPI号段|参数可选性: 必选参数类型: 字符串参数范围: 1-16|该参数用于配置终端的SUPI号段。
ueReachabilityNotify|可达上报|参数可选性: 任选参数类型: 枚举，参见枚举定义参数范围: 0-1默认值: ALLOWED|该参数用于设置其他NF是否允许向本AMF订阅所在号段范围内的“移动性可达事件”。对于配置中的号段的用户，针对某事件配置为“不允许”时，则不允许其他NF订阅此号段内用户的此事件。
命令举例 
`
新增基于号段的订阅授权检查信息， 对于"4600100001"号段的用户，其他NF订阅其用户可达事件“UEREACHABILITYNOTIFY”是不允许的。
ADD AUTHINFOBASEUE:SUPISEGMENT="4600100001",UEREACHABILITYNOTIFY="NOTALLOWED"
` 
#### 修改基于用户号段的订阅授权配置(SET AUTHINFOBASEUE) 
#### 修改基于用户号段的订阅授权配置(SET AUTHINFOBASEUE) 
功能说明 
本命令用于修改已经配置的基于终端号段的订阅授权信息。 
注意事项 
无。
输入参数说明 
标识|名称|类型|说明
---|---|---|---
supiSegment|SUPI号段|参数可选性: 必选参数类型: 字符串参数范围: 1-16|该参数用于配置终端的SUPI号段。
ueReachabilityNotify|可达上报|参数可选性: 任选参数类型: 枚举，参见枚举定义参数范围: 0-1默认值: ALLOWED|该参数用于设置其他NF是否允许向本AMF订阅所在号段范围内的“移动性可达事件”。对于配置中的号段的用户，针对某事件配置为“不允许”时，则不允许其他NF订阅此号段内用户的此事件。
命令举例 
`
修改已经配置的基于号段的订阅授权检查。对于"4600100001"号段的用户，不允许其他NF订阅其可达性通知事件“UEREACHABILITYNOTIFY”
SET AUTHINFOBASEUE:SUPISEGMENT="4600100001",UEREACHABILITYNOTIFY="NOTALLOWED"
` 
#### 删除基于用户号段的订阅授权配置(DEL AUTHINFOBASEUE) 
#### 删除基于用户号段的订阅授权配置(DEL AUTHINFOBASEUE) 
功能说明 
本命令用于删除已经配置的基于终端号段的订阅授权信息。 
注意事项 
无。
输入参数说明 
标识|名称|类型|说明
---|---|---|---
supiSegment|SUPI号段|参数可选性: 必选参数类型: 字符串参数范围: 1-16|该参数用于配置终端的SUPI号段。
命令举例 
`
删除对于"4600100001"号段的授权检查。
DEL AUTHINFOBASEUE:SUPISEGMENT="4600100001"
` 
#### 查询基于用户号段的订阅授权配置(SHOW AUTHINFOBASEUE) 
#### 查询基于用户号段的订阅授权配置(SHOW AUTHINFOBASEUE) 
功能说明 
本命令用于查询已经配置的基于终端号段的订阅授权信息。 
注意事项 
无。
输入参数说明 
标识|名称|类型|说明
---|---|---|---
supiSegment|SUPI号段|参数可选性: 任选参数类型: 字符串参数范围: 1-16|该参数用于配置终端的SUPI号段。
输出参数说明 
标识|名称|类型|说明
---|---|---|---
supiSegment|SUPI号段|参数可选性: 任选参数类型: 字符串参数范围: 1-16|该参数用于配置终端的SUPI号段。
ueReachabilityNotify|可达上报|参数可选性: 任选参数类型: 枚举，参见枚举定义参数范围: 0-1默认值: ALLOWED|该参数用于设置其他NF是否允许向本AMF订阅所在号段范围内的“移动性可达事件”。对于配置中的号段的用户，针对某事件配置为“不允许”时，则不允许其他NF订阅此号段内用户的此事件。
命令举例 
`
查询已经配置的基于终端号段的订阅授权信息。
SHOW AUTHINFOBASEUE
(No.11) : SHOW AUTHINFOBASEUE:
-----------------Namf_EventExposure_0----------------
SUPI号段         可达上报
4600100001    不允许订阅
记录数：1
执行成功耗时: 0.084 秒
` 
## 订阅及通知配置 
## 订阅及通知配置 
背景知识 
5G支持网络能力开放。对于AMF，通过支持事件暴露服务从而可以将用户注册状态，连接状态，位置信息等提供给订阅者进而用于网络能力开放功能。具体参见29518协议“5.3 Namf_EventExposure Service”章节。 
功能说明 
订阅及通知配置包括事件通知策略等。 
子主题： 
### 订阅策略配置 
### 订阅策略配置 
背景知识 
5G支持网络能力开放。对于AMF，通过支持事件暴露服务从而可以将用户注册状态，连接状态，位置信息等提供给订阅者进而用于网络能力开放功能。 
功能说明 
该命令用于设置订阅策略配置参数,如是否支持DDNFailure订阅 
子主题： 
#### 修改订阅策略配置(SET SUBPOLICYCFG) 
#### 修改订阅策略配置(SET SUBPOLICYCFG) 
功能说明 
该命令用于设置订阅策略配置参数,是否支持DDNFailure订阅。 
注意事项 
无。
输入参数说明 
标识|名称|类型|说明
---|---|---|---
ddnfailureswitch|DDNFailure订阅开关|参数可选性: 任选参数类型: 枚举，参见枚举定义参数范围: 0-1默认值: SWITCHNOTSUPPORT|用于设置AMF是否支持AVAILABILITY_AFTER_DDN_FAILURE事件订阅。
命令举例 
`
配置订阅策略配置参数,设置支持DDNFailure订阅。
SET SUBPOLICYCFG:DDNFAILURESWITCH=SWITCHSUPPORT
` 
#### 查询订阅策略配置(SHOW SUBPOLICYCFG) 
#### 查询订阅策略配置(SHOW SUBPOLICYCFG) 
功能说明 
该命令用于查询订阅策略配置参数。 
注意事项 
无。
输出参数说明 
标识|名称|类型|说明
---|---|---|---
ddnfailureswitch|DDNFailure订阅开关|参数可选性: 任选参数类型: 枚举，参见枚举定义参数范围: 0-1默认值: SWITCHNOTSUPPORT|用于设置AMF是否支持AVAILABILITY_AFTER_DDN_FAILURE事件订阅。
命令举例 
`
查询订阅策略配置。
SHOW SUBPOLICYCFG
(No.1) : SHOWSUBPOLICYCFG:
-----------------Namf_EventExposure_0----------------
DDNFailure订阅开关
支持 
记录数：1
执行成功 开始时间:2020-05-19 18:46:16 耗时: 0.421 秒
` 
### 事件通知策略配置 
### 事件通知策略配置 
背景知识 
AMF支持各种订阅事件，当订阅UEs-In-Area-Report订阅事件，也即订阅特定区域内的UE数量时，AMF支持立即上报和连续上报两种方式，若订阅请求方要求连续上报，则根据此配置启动一个上报周期定时器，定时器超时进行连续上报。 
同时AMF也支持订阅方使用SUPI\PEI\GPSI用户标识订阅特定用户的信息，当订阅方不带SUPI订阅特定用户信息时，AMF需要根据PEI\GPSI获取SUPI，根据此配置中的重试时间设置通过GPSI或PEI获取SUPI的重试时间 
功能说明 
本功能用于配置在向订阅者发送事件通知时，采用周期性连续上报方式的上报周期。同时也用于配置通过GPSI/PEI获取SUPI的重试时间。 
子主题： 
#### 修改事件通知策略配置(SET NOTIFYPOLICYCFG) 
#### 修改事件通知策略配置(SET NOTIFYPOLICYCFG) 
功能说明 
该命令用于设置事件通知策略配置参数，如连续上报的上报周期等。 
注意事项 
无。
输入参数说明 
标识|名称|类型|说明
---|---|---|---
ReportPeriod|上报周期|参数可选性: 任选参数类型: 数字参数范围: 5-65535默认值: 30|用于设置连续上报时的上报周期。单位是秒。
RetryTime|重试时间|参数可选性: 任选参数类型: 数字参数范围: 1-10默认值: 2|用于设置通过GPSI或PEI获取SUPI的重试时间。单位是秒
命令举例 
`
设置连续上报周期为10s，通过GPSI或PEI获取SUPI的重试时间为3s。
SET NOTIFYPOLICYCFG:REPORTPERIOD=10,RETRYTIME=3
` 
#### 查询事件通知策略配置(SHOW NOTIFYPOLICYCFG) 
#### 查询事件通知策略配置(SHOW NOTIFYPOLICYCFG) 
功能说明 
该命令用于查询事件通知策略配置参数。 
注意事项 
无。
输出参数说明 
标识|名称|类型|说明
---|---|---|---
ReportPeriod|上报周期|参数可选性: 任选参数类型: 数字参数范围: 5-65535默认值: 30|用于设置连续上报时的上报周期。单位是秒
RetryTime|重试时间|参数可选性: 任选参数类型: 数字参数范围: 1-10默认值: 2|用于设置通过GPSI或PEI获取SUPI的重试时间。单位是秒
命令举例 
`
查询事件通知策略配置。
SHOW NOTIFYPOLICYCFG
(No.1) : SHOW NOTIFYPOLICYCFG:
-----------------Namf_EventExposure_0----------------
上报周期(s) 重试时间(s)
10          3
记录数：1
执行成功 开始时间:2020-05-19 18:46:16 耗时: 0.421 秒
` 
## 过负荷控制业务配置 
## 过负荷控制业务配置 
背景知识 
在5GC网络发生过负荷的情况下，AMF需要能够区分CPU占用率的负荷等级，并且根据实际的收发消息数及保障消息通过数，对业务消息区分优先级进行处理，AMF需要对超出正常处理能力的业务消息进行丢弃处理，如对低优先级的消息进行丢弃，以便减少CPU消耗而恢复到正常负荷状态，从而避免系统故障宕机等更严重事件的发生。 
功能说明 
本功能用于配置消息及业务优先级，各接口入向业务消息最大通过量、业务权重及业务消息最大通过总量。 
子主题： 
### 保证通过量配置 
### 保证通过量配置 
背景知识 
保证通过量是指当CPU占用率达到拥塞，AMF启用CPU过负荷控制功能时，AMF最少仍需处理的消息个数。 
即无论CPU拥塞程度如何，当AMF启用CPU过负荷控制功能时，仍然需要确保每秒至少通过的消息个数。 
功能说明 
本功能用于设置当AMF启用CPU过负荷控制功能时，每秒允许至少通过的消息个数。 
子主题： 
#### 修改保证通过量配置(SET EEXOLGUANUMCFG) 
#### 修改保证通过量配置(SET EEXOLGUANUMCFG) 
功能说明 
本命令用于设置当AMF启用CPU过负荷控制功能时，每秒允许至少通过的“事件暴露订阅业务消息”个数。 
注意事项 
无。
输入参数说明 
标识|名称|类型|说明
---|---|---|---
subGuaNum|事件暴露订阅每秒每实例保证通过量|参数可选性: 必选参数类型: 数字参数范围: 10-65535默认值: 350|该参数用于设置AMF保证每秒通过的“事件暴露订阅业务消息”个数，即无论CPU拥塞程度如何，当AMF在启用CPU过负荷控制功能时，仍然需要确保每秒至少通过的“事件暴露订阅业务消息”的个数。 此处设置的个数针对单个SC（Service Component，服务组件）。
命令举例 
`
设置各消息保证通过量为10。
SET EEXOLGUANUMCFG:SUBGUANUM=10
` 
#### 查询保证通过量配置(SHOW EEXOLGUANUMCFG) 
#### 查询保证通过量配置(SHOW EEXOLGUANUMCFG) 
功能说明 
本命令用于查询当AMF启用CPU过负荷控制功能时，每秒允许至少通过的“事件暴露订阅业务消息”个数。 
注意事项 
无。
输出参数说明 
标识|名称|类型|说明
---|---|---|---
subGuaNum|事件暴露订阅每秒每实例保证通过量|参数可选性: 任选参数类型: 数字参数范围: 10-65535默认值: 350|该参数用于设置AMF保证每秒通过的“事件暴露订阅业务消息”个数，即无论CPU拥塞程度如何，当AMF在启用CPU过负荷控制功能时，仍然需要确保每秒至少通过的“事件暴露订阅业务消息”的个数。 此处设置的个数针对单个SC（Service Component，服务组件）。
命令举例 
`
查询消息保证通过量的配置值。
SHOW EEXOLGUANUMCFG:
(No.1) : SHOW EEXOLGUANUMCFG:
-----------------Namf_EventExposure_0----------------
事件暴露订阅每秒每实例保证通过量
30
记录数：1
执行成功耗时: 0.191 秒
` 
### 优先级配置 
### 优先级配置 
背景知识 
在开启CPU过负荷功能情况下，AMF需要同时区分消息的优先级和业务的优先级，对优先级低的消息及优先级低的业务进行控制（丢弃处理），尽力保障对高优先级的消息及高优先级的业务进行及时处理。 
功能说明 
本功能用于配置消息的优先级和业务的优先级。 
子主题： 
#### 消息优先级配置 
#### 消息优先级配置 
背景知识 
每个NF需要从消息优先级和业务优先级两个角度来区分需要逐级控制的内容。 
 
在系统CPU占用率较低的情况下，AMF对低优先级的消息及业务进行控制（是否丢弃消息）。 
 
在系统CPU占用率较高的情况下，AMF在低优先级的消息及业务已完全控制的情况下，开始控制高优先级消息及业务，直至系统负荷恢复正常。 
 
系统CPU占用率的控制原则如下。 
若CPU占用率超过[SET OLCPULEVELCFG]命令（Namf_MP模式下）配置的门限值，则AMF会启用CPU占用率的过负荷控制，根据各个级别的策略，决定是否丢弃收到的报文。
 
一级负荷
当CPU的实际占用率到达对应的数值时，AMF执行CPU占用率的过负荷控制的高负载控制，对高，中，低三个级别的报文均进行控制，丢弃所有的报文。 
 
二级负荷
当CPU的实际占用率到达对应的数值时，AMF执行CPU占用率的过负荷控制的低负载控制，只对中、低两个级别的报文进行控制，不对高优先级的报文进行控制，即丢弃中、低两个级别的报文。 
 
三级负荷
当CPU的实际占用率到达对应的数值时，AMF不执行CPU占用率的过负荷控制，仅发送负荷情况的通知消息，用于提示操作员，当前的CPU负荷情况。 
 
四级负荷
当CPU的实际占用率到达对应的数值时，AMF不执行CPU占用率的过负荷控制，仅发送负荷情况的通知消息，用于提示操作员，当前的CPU负荷情况。 
 
功能说明 
本功能用于设置过负荷控制消息的优先级。 
子主题： 
##### 修改消息优先级配置(SET EEXOLMSGPRIORITYCFG) 
##### 修改消息优先级配置(SET EEXOLMSGPRIORITYCFG) 
功能说明 
该命令用于设置过负荷控制消息优先级。 
注意事项 
该命令在AMF启用CPU过负荷控制功能时，配置结果才会生效。 
通过[SET OVERLOADCFG]命令（Namf_MP模式下）设置“启用CPU过负荷控制”功能。
输入参数说明 
标识|名称|类型|说明
---|---|---|---
subPriority|事件暴露订阅优先级|参数可选性: 必选参数类型: 枚举，参见枚举定义参数范围: 0-1默认值: LOWPRIORITY|该参数用于设置”事件暴露订阅“消息的优先级，包括两个选项，高优先级和低优先级。设置消息为高优先级时，当AMF启用CPU过负荷控制功能时，如果当前CPU的负荷等级处于一级过负荷（高过载）时，则AMF会对”事件暴露订阅“消息进行控制。如果当前CPU的负荷等级处于二级过负荷时（低过载）时，则AMF不会对”事件暴露订阅“消息进行控制。设置消息为低优先级时，当AMF启用CPU过负荷控制功能时，如果当前CPU的负荷等级处于一级过负荷（高过载）或者二级过负荷时（低过载）时，则AMF都会对”事件暴露订阅“消息进行控制。
命令举例 
`
设置消息优先级为高优先级配置。
SET EEXOLMSGPRIORITYCFG:SUBPRIORITY="HIGHPRIORITY"
` 
##### 查询消息优先级配置(SHOW EEXOLMSGPRIORITYCFG) 
##### 查询消息优先级配置(SHOW EEXOLMSGPRIORITYCFG) 
功能说明 
该命令用于查询过负荷控制消息优先级。 
注意事项 
无。
输出参数说明 
标识|名称|类型|说明
---|---|---|---
subPriority|事件暴露订阅优先级|参数可选性: 任选参数类型: 枚举，参见枚举定义参数范围: 0-1默认值: LOWPRIORITY|该参数用于设置”事件暴露订阅“消息的优先级，包括两个选项，高优先级和低优先级。设置消息为高优先级时，当AMF启用CPU过负荷控制功能时，如果当前CPU的负荷等级处于一级过负荷（高过载）时，则AMF会对”事件暴露订阅“消息进行控制。如果当前CPU的负荷等级处于二级过负荷时（低过载）时，则AMF不会对”事件暴露订阅“消息进行控制。设置消息为低优先级时，当AMF启用CPU过负荷控制功能时，如果当前CPU的负荷等级处于一级过负荷（高过载）或者二级过负荷时（低过载）时，则AMF都会对”事件暴露订阅“消息进行控制。
命令举例 
`
查询消息优先级配置。
SHOW EEXOLMSGPRIORITYCFG:
(No.1) : SHOW EEXOLMSGPRIORITYCFG:
-----------------Namf_EventExposure_0----------------
事件暴露订阅优先级
高
记录数：1
执行成功耗时: 0.153 秒
` 
### 入向业务量配置 
### 入向业务量配置 
背景知识 
为有效控制系统负荷，AMF需要对各个接口的入向业务消息个数进行控制（是否丢弃消息），对于超出本功能配置数量的消息，AMF不再进行处理。 
功能说明 
本功能用于配置入向业务消息的最大通过量。 
子主题： 
#### SBI入向业务量配置 
#### SBI入向业务量配置 
背景知识 
AMF可以根据每实例（SC）每秒最大通过的消息个数，对SBI（Service Based Interface，基于服务的接口）入向的事件暴露订阅消息进行控制。 
功能说明 
本功能用于配置SBI（Service Based Interface，基于服务的接口）入向业务消息的最大通过量。 
子主题： 
##### 新增SBI入向业务配置(ADD EEOLINPUTSBISRVCFG) 
##### 新增SBI入向业务配置(ADD EEOLINPUTSBISRVCFG) 
功能说明 
该命令用于新增AMF启用业务通过量负荷控制功能时，SBI（Service Based Interface，基于服务的接口）入向业务消息每秒每实例（SC）的最大通过量。  
注意事项 
该命令在AMF启用业务通过量负荷控制功能时，配置结果才会生效。 
启用业务通过量负荷控制功能，即通过[SET OVERLOADCFG]命令（Namf_MP模式下）设置“启用业务通过量负荷控制(srvSwitch)”为“开启(SRVSWITCHON)”。
通过本命令，AMF支持对SBI接口入向的各种业务类型的消息个数进行限制。 
输入参数说明 
标识|名称|类型|说明
---|---|---|---
srvType|业务类型|参数可选性: 必选参数类型: 枚举，参见枚举定义参数范围: 0-10|该参数用于设置AMF的SBI（Service Based Interface，基于服务的接口）的入向业务类型，包括事件暴露订阅消息。
olMaxNum|SBI口入向业务每秒每实例最大通过量|参数可选性: 必选参数类型: 数字参数范围: 10-65535默认值: 65535|该参数用于设置AMF当前类型的SBI（Service Based Interface，基于服务的接口）入向业务每秒每实例最大通过量。本参数设置为65535，表示AMF不会对当前类型的SBI（Service Based Interface，基于服务的接口）入向业务每秒每实例最大通过量进行限制。此处设置的个数针对单个SC（Service Component，服务组件）。
输出参数说明 
标识|名称|类型|说明
---|---|---|---
srvType|业务类型|参数可选性: 任选参数类型: 枚举，参见枚举定义参数范围: 0-10|该参数用于设置AMF的SBI（Service Based Interface，基于服务的接口）的入向业务类型，包括事件暴露订阅消息。
olMaxNum|SBI口入向业务每秒每实例最大通过量|参数可选性: 任选参数类型: 数字参数范围: 10-65535默认值: 65535|该参数用于设置AMF当前类型的SBI（Service Based Interface，基于服务的接口）入向业务每秒每实例最大通过量。本参数设置为65535，表示AMF不会对当前类型的SBI（Service Based Interface，基于服务的接口）入向业务每秒每实例最大通过量进行限制。此处设置的个数针对单个SC（Service Component，服务组件）。
命令举例 
`
新增事件暴露订阅入向消息最大通过量为100。
ADD EEOLINPUTSBISRVCFG:SRVTYPE="EMSUBSCRIBE",OLMAXNUM=100
` 
##### 修改SBI入向业务配置(SET EEOLINPUTSBISRVCFG) 
##### 修改SBI入向业务配置(SET EEOLINPUTSBISRVCFG) 
功能说明 
该命令用于修改AMF启用业务通过量负荷控制功能时，SBI（Service Based Interface，基于服务的接口）入向业务消息每秒每实例（SC）的最大通过量。  
注意事项 
无。
输入参数说明 
标识|名称|类型|说明
---|---|---|---
srvType|业务类型|参数可选性: 必选参数类型: 枚举，参见枚举定义参数范围: 0-10|该参数用于设置AMF的SBI（Service Based Interface，基于服务的接口）的入向业务类型，包括事件暴露订阅消息。
olMaxNum|SBI口入向业务每秒每实例最大通过量|参数可选性: 必选参数类型: 数字参数范围: 10-65535默认值: 65535|该参数用于设置AMF当前类型的SBI（Service Based Interface，基于服务的接口）入向业务每秒每实例最大通过量。本参数设置为65535，表示AMF不会对当前类型的SBI（Service Based Interface，基于服务的接口）入向业务每秒每实例最大通过量进行限制。此处设置的个数针对单个SC（Service Component，服务组件）。
输出参数说明 
标识|名称|类型|说明
---|---|---|---
srvType|业务类型|参数可选性: 任选参数类型: 枚举，参见枚举定义参数范围: 0-10|该参数用于设置AMF的SBI（Service Based Interface，基于服务的接口）的入向业务类型，包括事件暴露订阅消息。
olMaxNum|SBI口入向业务每秒每实例最大通过量|参数可选性: 任选参数类型: 数字参数范围: 10-65535默认值: 65535|该参数用于设置AMF当前类型的SBI（Service Based Interface，基于服务的接口）入向业务每秒每实例最大通过量。本参数设置为65535，表示AMF不会对当前类型的SBI（Service Based Interface，基于服务的接口）入向业务每秒每实例最大通过量进行限制。此处设置的个数针对单个SC（Service Component，服务组件）。
命令举例 
`
修改事件暴露订阅入向消息最大通过量为100。
SET EEOLINPUTSBISRVCFG:SRVTYPE="EMSUBSCRIBE",OLMAXNUM=100
` 
##### 删除SBI入向业务配置(DEL EEOLINPUTSBISRVCFG) 
##### 删除SBI入向业务配置(DEL EEOLINPUTSBISRVCFG) 
功能说明 
该命令用于删除AMF启用业务通过量负荷控制功能时，SBI（Service Based Interface，基于服务的接口）入向业务消息每秒每实例（SC）的最大通过量。  
注意事项 
无。
输入参数说明 
标识|名称|类型|说明
---|---|---|---
srvType|业务类型|参数可选性: 必选参数类型: 枚举，参见枚举定义参数范围: 0-10|该参数用于设置AMF的SBI（Service Based Interface，基于服务的接口）的入向业务类型，包括事件暴露订阅消息。
输出参数说明 
标识|名称|类型|说明
---|---|---|---
srvType|业务类型|参数可选性: 任选参数类型: 枚举，参见枚举定义参数范围: 0-10|该参数用于设置AMF的SBI（Service Based Interface，基于服务的接口）的入向业务类型，包括事件暴露订阅消息。
olMaxNum|SBI口入向业务每秒每实例最大通过量|参数可选性: 任选参数类型: 数字参数范围: 10-65535默认值: 65535|该参数用于设置AMF当前类型的SBI（Service Based Interface，基于服务的接口）入向业务每秒每实例最大通过量。本参数设置为65535，表示AMF不会对当前类型的SBI（Service Based Interface，基于服务的接口）入向业务每秒每实例最大通过量进行限制。此处设置的个数针对单个SC（Service Component，服务组件）。
命令举例 
`
删除事件暴露订阅入向消息最大通过量。
DEL EEOLINPUTSBISRVCFG:SRVTYPE="EMSUBSCRIBE"
` 
##### 查询SBI入向业务配置(SHOW EEOLINPUTSBISRVCFG) 
##### 查询SBI入向业务配置(SHOW EEOLINPUTSBISRVCFG) 
功能说明 
该命令用于查询AMF启用业务通过量负荷控制功能时，SBI（Service Based Interface，基于服务的接口）入向业务消息每秒每实例（SC）的最大通过量。  
注意事项 
无。
输入参数说明 
标识|名称|类型|说明
---|---|---|---
srvType|业务类型|参数可选性: 任选参数类型: 枚举，参见枚举定义参数范围: 0-10|该参数用于设置AMF的SBI（Service Based Interface，基于服务的接口）的入向业务类型，包括事件暴露订阅消息。
输出参数说明 
标识|名称|类型|说明
---|---|---|---
srvType|业务类型|参数可选性: 任选参数类型: 枚举，参见枚举定义参数范围: 0-10|该参数用于设置AMF的SBI（Service Based Interface，基于服务的接口）的入向业务类型，包括事件暴露订阅消息。
olMaxNum|SBI口入向业务每秒每实例最大通过量|参数可选性: 任选参数类型: 数字参数范围: 10-65535默认值: 65535|该参数用于设置AMF当前类型的SBI（Service Based Interface，基于服务的接口）入向业务每秒每实例最大通过量。本参数设置为65535，表示AMF不会对当前类型的SBI（Service Based Interface，基于服务的接口）入向业务每秒每实例最大通过量进行限制。此处设置的个数针对单个SC（Service Component，服务组件）。
命令举例 
`
查询事件暴露订阅入向消息最大通过量。
SHOW EEOLINPUTSBISRVCFG:SRVTYPE="EMSUBSCRIBE"
(No.1) : SHOW EEOLINPUTSBISRVCFG:SRVTYPE="EMSUBSCRIBE"
-----------------Namf_EventExposure_0----------------
业务类型              SBI口入向业务每秒每实例最大通过量 
事件暴露订阅          100
记录数：1
执行成功耗时: 0.082 秒
` 
### 出向业务量配置 
### 出向业务量配置 
背景知识 
为有效控制系统负荷，AMF需要对各个接口的出向业务消息个数进行控制，对于超出本功能配置数量的消息，AMF不再进行处理。 
功能说明 
本功能用于配置出向业务消息的最大通过量。 
子主题： 
#### SBI出向业务量配置 
#### SBI出向业务量配置 
背景知识 
AMF可以根据每实例（SC）每秒最大通过的消息个数，对SBI（Service Based Interface，基于服务的接口）出向的事件暴露订阅消息进行控制。 
功能说明 
本功能用于配置SBI（Service Based Interface，基于服务的接口）出向业务消息的最大通过量。 
子主题： 
##### 新增SBI出向业务配置(ADD EEOLOUTPUTSBISRVCFG) 
##### 新增SBI出向业务配置(ADD EEOLOUTPUTSBISRVCFG) 
功能说明 
该命令用于新增AMF启用业务通过量负荷控制功能时，SBI（Service Based Interface，基于服务的接口）出向业务消息每秒每实例（SC）的最大通过量。  
注意事项 
该命令在AMF启用业务通过量负荷控制功能时，配置结果才会生效。 
启用业务通过量负荷控制功能，即通过[SET OVERLOADCFG]命令（Namf_MP模式下）设置“启用业务通过量负荷控制(srvSwitch)”为“开启(SRVSWITCHON)”。
输入参数说明 
标识|名称|类型|说明
---|---|---|---
srvType|业务类型|参数可选性: 必选参数类型: 枚举，参见枚举定义参数范围: 0-10|该参数用于设置AMF的SBI（Service Based Interface，基于服务的接口）的出向业务类型，包括事件暴露订阅消息。
olMaxNum|SBI口出向业务每秒每实例最大通过量|参数可选性: 必选参数类型: 数字参数范围: 10-65535默认值: 65535|该参数用于设置AMF当前类型的SBI（Service Based Interface，基于服务的接口）出向业务每秒每实例最大通过量，即在AMF启用业务通过量负荷控制功能时，每秒允许发送的指定消息最大个数。本参数设置为65535，表示AMF不会对当前业务类型的SBI（Service Based Interface，基于服务的接口）出向业务每秒每实例最大通过量进行限制。此处设置的个数针对单个SC（Service Component，服务组件）。
输出参数说明 
标识|名称|类型|说明
---|---|---|---
srvType|业务类型|参数可选性: 任选参数类型: 枚举，参见枚举定义参数范围: 0-10|该参数用于设置AMF的SBI（Service Based Interface，基于服务的接口）的出向业务类型，包括事件暴露订阅消息。
olMaxNum|SBI口出向业务每秒每实例最大通过量|参数可选性: 任选参数类型: 数字参数范围: 10-65535默认值: 65535|该参数用于设置AMF当前类型的SBI（Service Based Interface，基于服务的接口）出向业务每秒每实例最大通过量，即在AMF启用业务通过量负荷控制功能时，每秒允许发送的指定消息最大个数。本参数设置为65535，表示AMF不会对当前业务类型的SBI（Service Based Interface，基于服务的接口）出向业务每秒每实例最大通过量进行限制。此处设置的个数针对单个SC（Service Component，服务组件）。
命令举例 
`
新增事件暴露出向消息最大通过量配置为100。
ADD EEOLOUTPUTSBISRVCFG:SRVTYPE="EMNOTIFY",OLMAXNUM=100
` 
##### 修改SBI出向业务配置(SET EEOLOUTPUTSBISRVCFG) 
##### 修改SBI出向业务配置(SET EEOLOUTPUTSBISRVCFG) 
功能说明 
该命令用于修改AMF启用业务通过量负荷控制功能时，SBI（Service Based Interface，基于服务的接口）出向业务消息每秒每实例（SC）的最大通过量。  
注意事项 
无。
输入参数说明 
标识|名称|类型|说明
---|---|---|---
srvType|业务类型|参数可选性: 必选参数类型: 枚举，参见枚举定义参数范围: 0-10|该参数用于设置AMF的SBI（Service Based Interface，基于服务的接口）的出向业务类型，包括事件暴露订阅消息。
olMaxNum|SBI口出向业务每秒每实例最大通过量|参数可选性: 必选参数类型: 数字参数范围: 10-65535默认值: 65535|该参数用于设置AMF当前类型的SBI（Service Based Interface，基于服务的接口）出向业务每秒每实例最大通过量，即在AMF启用业务通过量负荷控制功能时，每秒允许发送的指定消息最大个数。本参数设置为65535，表示AMF不会对当前业务类型的SBI（Service Based Interface，基于服务的接口）出向业务每秒每实例最大通过量进行限制。此处设置的个数针对单个SC（Service Component，服务组件）。
输出参数说明 
标识|名称|类型|说明
---|---|---|---
srvType|业务类型|参数可选性: 任选参数类型: 枚举，参见枚举定义参数范围: 0-10|该参数用于设置AMF的SBI（Service Based Interface，基于服务的接口）的出向业务类型，包括事件暴露订阅消息。
olMaxNum|SBI口出向业务每秒每实例最大通过量|参数可选性: 任选参数类型: 数字参数范围: 10-65535默认值: 65535|该参数用于设置AMF当前类型的SBI（Service Based Interface，基于服务的接口）出向业务每秒每实例最大通过量，即在AMF启用业务通过量负荷控制功能时，每秒允许发送的指定消息最大个数。本参数设置为65535，表示AMF不会对当前业务类型的SBI（Service Based Interface，基于服务的接口）出向业务每秒每实例最大通过量进行限制。此处设置的个数针对单个SC（Service Component，服务组件）。
命令举例 
`
修改事件暴露出向消息最大通过量配置为100。
SET EEOLOUTPUTSBISRVCFG:SRVTYPE="EMNOTIFY",OLMAXNUM=100
` 
##### 删除SBI出向业务配置(DEL EEOLOUTPUTSBISRVCFG) 
##### 删除SBI出向业务配置(DEL EEOLOUTPUTSBISRVCFG) 
功能说明 
该命令用于删除AMF启用业务通过量负荷控制功能时，SBI（Service Based Interface，基于服务的接口）出向业务消息每秒每实例（SC）的最大通过量。  
注意事项 
无。
输入参数说明 
标识|名称|类型|说明
---|---|---|---
srvType|业务类型|参数可选性: 必选参数类型: 枚举，参见枚举定义参数范围: 0-10|该参数用于设置AMF的SBI（Service Based Interface，基于服务的接口）的出向业务类型，包括事件暴露订阅消息。
输出参数说明 
标识|名称|类型|说明
---|---|---|---
srvType|业务类型|参数可选性: 任选参数类型: 枚举，参见枚举定义参数范围: 0-10|该参数用于设置AMF的SBI（Service Based Interface，基于服务的接口）的出向业务类型，包括事件暴露订阅消息。
olMaxNum|SBI口出向业务每秒每实例最大通过量|参数可选性: 任选参数类型: 数字参数范围: 10-65535默认值: 65535|该参数用于设置AMF当前类型的SBI（Service Based Interface，基于服务的接口）出向业务每秒每实例最大通过量，即在AMF启用业务通过量负荷控制功能时，每秒允许发送的指定消息最大个数。本参数设置为65535，表示AMF不会对当前业务类型的SBI（Service Based Interface，基于服务的接口）出向业务每秒每实例最大通过量进行限制。此处设置的个数针对单个SC（Service Component，服务组件）。
命令举例 
`
删除事件暴露出向消息最大通过量配置。
DEL EEOLOUTPUTSBISRVCFG:SRVTYPE="EMNOTIFY"
` 
##### 查询SBI出向业务配置(SHOW EEOLOUTPUTSBISRVCFG) 
##### 查询SBI出向业务配置(SHOW EEOLOUTPUTSBISRVCFG) 
功能说明 
该命令用于查询AMF启用业务通过量负荷控制功能时，SBI（Service Based Interface，基于服务的接口）出向业务消息每秒每实例（SC）的最大通过量。  
注意事项 
无。
输入参数说明 
标识|名称|类型|说明
---|---|---|---
srvType|业务类型|参数可选性: 任选参数类型: 枚举，参见枚举定义参数范围: 0-10|该参数用于设置AMF的SBI（Service Based Interface，基于服务的接口）的出向业务类型，包括事件暴露订阅消息。
输出参数说明 
标识|名称|类型|说明
---|---|---|---
srvType|业务类型|参数可选性: 任选参数类型: 枚举，参见枚举定义参数范围: 0-10|该参数用于设置AMF的SBI（Service Based Interface，基于服务的接口）的出向业务类型，包括事件暴露订阅消息。
olMaxNum|SBI口出向业务每秒每实例最大通过量|参数可选性: 任选参数类型: 数字参数范围: 10-65535默认值: 65535|该参数用于设置AMF当前类型的SBI（Service Based Interface，基于服务的接口）出向业务每秒每实例最大通过量，即在AMF启用业务通过量负荷控制功能时，每秒允许发送的指定消息最大个数。本参数设置为65535，表示AMF不会对当前业务类型的SBI（Service Based Interface，基于服务的接口）出向业务每秒每实例最大通过量进行限制。此处设置的个数针对单个SC（Service Component，服务组件）。
命令举例 
`
查询事件暴露出向消息最大通过量配置。
SHOW EEOLOUTPUTSBISRVCFG:SRVTYPE="EMNOTIFY"
(No.1) : SHOW EEOLOUTPUTSBISRVCFG:SRVTYPE="EMNOTIFY"
-----------------Namf_EventExposure_0----------------
业务类型          SBI口出向业务每秒每实例最大通过量
事件暴露通知      100
记录数：1
执行成功耗时: 0.126 秒
` 
## 增强功能 
## 增强功能 
背景知识 
3GPP协议中，规定了对不同的网络运营过程中可以根据实际情况配置不同的参数，以及运营商可以针对网络配置一些定制功能。 
功能说明 
增强功能提供了软参设置、等待消息定时器时长参数的等配置。 
子主题： 
### EventExpouse软件参数配置 
### EventExpouse软件参数配置 
背景知识 
在AMF系统业务实现过程中，会存在一些协议描述不明确的场景和因为歧义导致存在多种符合协议的实现方式；也会存在一些内部优化实现的功能以及非3GPP协议要求的功能。这些场景分支及功能开关需要设置软件参数进行有效控制。 
功能说明 
本功能用于配置Namf_EventExpouse这个NFS（网络功能服务）内部自定义的一些参数，包括非3GPP协议要求的或个别功能的开关。 
子主题： 
#### 新增Eex软件参数配置(ADD EE SOFTWARE PARAMETER) 
#### 新增Eex软件参数配置(ADD EE SOFTWARE PARAMETER) 
功能说明 
该命令用于新增AMF的eventexpouse服务内部的一些功能参数，主要涉及非协议明确要求的、在IOT（Interoperability Test，互操作测试）过程中需要处理的第三方厂家的功能、中兴通讯根据自身产品的特点需要优化的功能。 
注意事项 
无。 
输入参数说明 
标识|名称|类型|说明
---|---|---|---
ID|软参索引|参数可选性: 必选参数类型: 数字|软件参数编号，每个软件参数对应本配置中的一个参数ID，每个参数有不同的含义。
VALUE|当前参数值|参数可选性: 必选参数类型: 数字|软件参数当前取值。
DEFAULTVALUE|默认参数值|参数可选性: 必选参数类型: 数字|软件参数默认取值。
MINVALUE|参数最小值|参数可选性: 必选参数类型: 数字|软件参数最小值。
MAXVALUE|参数最大值|参数可选性: 必选参数类型: 数字|软件参数最大值。
NAME|参数名称|参数可选性: 必选参数类型: 字符串参数范围: 0-180|软件参数的名称，代表每个软件参数的含义。
REMARK|备注|参数可选性: 任选参数类型: 字符串参数范围: 0-180|软件参数取值的具体含义。
命令举例 
`
新增EventExpouse软件参数配置，软参索引为99，当前参数值为1，默认参数值为1，参数最小值为0，参数最大值为1，参数名称为“保留软参99”。
ADD EE SOFTWARE PARAMETER:ID=99,VALUE=1,DEFAULTVALUE=1,MINVALUE=0,MAXVALUE=1,NAME="spareSoftwareParameter99"
` 
#### 删除Eex软件参数配置(DEL EE SOFTWARE PARAMETER) 
#### 删除Eex软件参数配置(DEL EE SOFTWARE PARAMETER) 
功能说明 
该命令用于删除AMF的eventexpouse服务内部的一些功能参数，主要涉及非协议明确要求的、在IOT（Interoperability Test，互操作测试）过程中需要处理的第三方厂家的功能、中兴通讯根据自身产品的特点需要优化的功能。 
注意事项 
本命令执行后立即生效。 
删除已有软参可能影响业务功能，需要在中兴通讯技术支持工程师的指导下进行操作，请勿擅自删除。 
输入参数说明 
标识|名称|类型|说明
---|---|---|---
ID|软参索引|参数可选性: 必选参数类型: 数字|软件参数编号，每个软件参数对应本配置中的一个参数ID，每个参数有不同的含义。
命令举例 
`
删除软参索引为99的EventExpouse软件参数配置。
DEL EE SOFTWARE PARAMETER:ID=99
` 
#### 设置Eex软件参数配置(SET EE SOFTWARE PARAMETER) 
#### 设置Eex软件参数配置(SET EE SOFTWARE PARAMETER) 
功能说明 
该命令用于设置AMF的eventexpouse服务内部的一些功能参数，主要涉及非协议明确要求的、在IOT（Interoperability Test，互操作测试）过程中需要处理的第三方厂家的功能、中兴通讯根据自身产品的特点需要优化的功能。 
注意事项 
无。 
输入参数说明 
标识|名称|类型|说明
---|---|---|---
ID|软参索引|参数可选性: 必选参数类型: 数字|软件参数编号，每个软件参数对应本配置中的一个参数ID，每个参数有不同的含义。
VALUE|当前参数值|参数可选性: 任选参数类型: 数字|软件参数当前取值。
NAME|参数名称|参数可选性: 任选参数类型: 字符串参数范围: 0-180|软件参数的名称，代表每个软件参数的含义。
命令举例 
`
设置EventExpouse软件参数配置，软参索引为1，当前参数值为1。
SET EE SOFTWARE PARAMETER:ID=1,VALUE=1
` 
#### 查询Eex软件参数配置(SHOW EE SOFTWARE PARAMETER) 
#### 查询Eex软件参数配置(SHOW EE SOFTWARE PARAMETER) 
功能说明 
该命令用于查询EventExposure事件暴露服务软件参数的取值。 
注意事项 
无。 
输入参数说明 
标识|名称|类型|说明
---|---|---|---
ID|软参索引|参数可选性: 任选参数类型: 数字|软件参数编号，每个软件参数对应本配置中的一个参数ID，每个参数有不同的含义。
输出参数说明 
标识|名称|类型|说明
---|---|---|---
ID|软参索引|参数可选性: 任选参数类型: 数字|软件参数编号，每个软件参数对应本配置中的一个参数ID，每个参数有不同的含义。
VALUE|当前参数值|参数可选性: 任选参数类型: 数字|软件参数当前取值。
DEFAULTVALUE|默认参数值|参数可选性: 任选参数类型: 数字|软件参数默认取值。
MINVALUE|参数最小值|参数可选性: 任选参数类型: 数字|软件参数最小值。
MAXVALUE|参数最大值|参数可选性: 任选参数类型: 数字|软件参数最大值。
NAME|参数名称|参数可选性: 任选参数类型: 字符串参数范围: 0-180|软件参数的名称，代表每个软件参数的含义。
REMARK|备注|参数可选性: 任选参数类型: 字符串参数范围: 0-180|软件参数取值的具体含义。
命令举例 
`
查询软参索引为1的EventExpouse软件参数配置数据。
SHOW EE SOFTWARE PARAMETER:ID=1
(No.2) : SHOW EE SOFTWARE PARAMETER:ID=1
-----------------Namf_EventExposure_0----------------
软参索引 当前参数值 默认参数值 参数最小值 参数最大值 参数名称                 备注
1        1         1         0          1         是否支持上下文健康检查    0 - 否; 1 - 是
记录数：1
执行成功耗时: 0.22 秒
` 
### EventExpouse定时器配置 
### EventExpouse定时器配置 
背景知识 
在网管上根据参数名称或宏名定义来修改AMF EventExpouse服务中指定的定时器相关参数，设置EventExpouse服务不同的等待响应时长以适应不同的业务需求。 
功能说明 
本功能可设置AMF EventExpouse服务中指定定时器的当前值、默认值、最大值以及最小值。 
子主题： 
#### 修改EventExposure有名定时器时长配置(SET EEXTIMER) 
#### 修改EventExposure有名定时器时长配置(SET EEXTIMER) 
功能说明 
该命令用于修改EventExposure服务中的有名定时器时长的配置。 
注意事项 
无。
输入参数说明 
标识|名称|类型|说明
---|---|---|---
ID|定时器ID|参数可选性: 必选参数类型: 数字|每个定时器ID对应一个有名定时器，有不同的含义。定时器ID1对应的有名定时器：scale模块拉取CDB响应的时长，该参数用于设置scale模块拉取cdb响应的时长,用户弹缩过程，当源sc宕机的时候会从cdb恢复资源, 开启此定时器来等待从cdb恢复每个group的subId资源的响应消息，如果等待不到会超时，单位为毫秒。定时器ID2对应的有名定时器：业务等待拉取CDB时长，该参数用于设置业务等待拉取cdb时长，当一个用户上来订阅消息的时候，如果本地没有此用户的订阅数据，此定时器开启来等待查询订阅数据的响应消息，单位为毫秒。定时器ID3对应的有名定时器：订阅等待communication立即上报时长，该参数用于设置订阅等待communication立即上报时长，新的订阅ee通知communication创建订阅，同时等待携带用户当前信息的响应，来触发立即上报，单位为毫秒。定时器ID4对应的有名定时器：向communication获取SUPI等待时长，该参数用于设置向communication获取supi等待时长，当新的订阅只携带imei、isdn，需要ee向communication发送反向查询supi的请求消息，开启此定时器来等待请求响应，单位为毫秒。定时器ID5对应的有名定时器：向RM获取用户数等待时长，该参数用于设置向RM获取用户数等待时长，此定时器用于等待ee向rm查询订阅区域下的用户数的请求消息的响应消息，目前是anyue订阅类型，单位为毫秒。定时器ID6对应的有名定时器：向communication更新订阅等待时长,该参数用于设置向communication更新订阅等待时长，此定时器用于等待ee向communication发送的订阅更新通知消息的响应消息，单位为毫秒。定时器ID7对应的有名定时器：删除重复订阅等待响应时长,该参数用于设置删除重复订阅等待响应时长,此定时器用于等待根据（nfid+notifyCorrelationId）查询是否有相同的订阅，如果查询结果响应等待不到会此定时器会超时。定时器ID8对应的有名定时器：创建订阅时上报事件通知时延,该参数用于设置创建订阅时上报事件通知时延，部分上报会立刻上报，但是不是在创建订阅响应中，为了保持时序上通知在创建响应之后，所以此定时器超时之后再发送通知。定时器ID9对应的有名定时器：等待内部触发创建订阅通知时长,该参数用于设置等待内部触发创建订阅通知时长，此定时器是等待切换成功之后communication向ee通知新局中从切换开始缓存的订阅数据取出创建订阅数据的消息。定时器ID10对应的有名定时器：等待创建扫描节点响应时长,该参数用于设置等待创建扫描节点响应时长，当订阅方订阅anyue类型的时候会向公共线程发消息的方式在公共线程创建此订阅的一个扫描节点。定时器ID11对应的有名定时器：等待删除扫描节点响应时长,该参数用于设置等待删除扫描节点响应时长，当订阅方订阅anyue类型的时候会向公共线程发消息的方式在公共线程删除此订阅的一个扫描节点。定时器ID12对应的有名定时器：等待订阅通知响应时长,该参数用于设置等待订阅通知响应的时长。
VALUE|当前参数值(ms)|参数可选性: 任选参数类型: 数字|本参数用于设置定时器当前取值。
输出参数说明 
标识|名称|类型|说明
---|---|---|---
ID|定时器ID|参数可选性: 任选参数类型: 数字|每个定时器ID对应一个有名定时器，有不同的含义。定时器ID1对应的有名定时器：scale模块拉取CDB响应的时长，该参数用于设置scale模块拉取cdb响应的时长,用户弹缩过程，当源sc宕机的时候会从cdb恢复资源, 开启此定时器来等待从cdb恢复每个group的subId资源的响应消息，如果等待不到会超时，单位为毫秒。定时器ID2对应的有名定时器：业务等待拉取CDB时长，该参数用于设置业务等待拉取cdb时长，当一个用户上来订阅消息的时候，如果本地没有此用户的订阅数据，此定时器开启来等待查询订阅数据的响应消息，单位为毫秒。定时器ID3对应的有名定时器：订阅等待communication立即上报时长，该参数用于设置订阅等待communication立即上报时长，新的订阅ee通知communication创建订阅，同时等待携带用户当前信息的响应，来触发立即上报，单位为毫秒。定时器ID4对应的有名定时器：向communication获取SUPI等待时长，该参数用于设置向communication获取supi等待时长，当新的订阅只携带imei、isdn，需要ee向communication发送反向查询supi的请求消息，开启此定时器来等待请求响应，单位为毫秒。定时器ID5对应的有名定时器：向RM获取用户数等待时长，该参数用于设置向RM获取用户数等待时长，此定时器用于等待ee向rm查询订阅区域下的用户数的请求消息的响应消息，目前是anyue订阅类型，单位为毫秒。定时器ID6对应的有名定时器：向communication更新订阅等待时长,该参数用于设置向communication更新订阅等待时长，此定时器用于等待ee向communication发送的订阅更新通知消息的响应消息，单位为毫秒。定时器ID7对应的有名定时器：删除重复订阅等待响应时长,该参数用于设置删除重复订阅等待响应时长,此定时器用于等待根据（nfid+notifyCorrelationId）查询是否有相同的订阅，如果查询结果响应等待不到会此定时器会超时。定时器ID8对应的有名定时器：创建订阅时上报事件通知时延,该参数用于设置创建订阅时上报事件通知时延，部分上报会立刻上报，但是不是在创建订阅响应中，为了保持时序上通知在创建响应之后，所以此定时器超时之后再发送通知。定时器ID9对应的有名定时器：等待内部触发创建订阅通知时长,该参数用于设置等待内部触发创建订阅通知时长，此定时器是等待切换成功之后communication向ee通知新局中从切换开始缓存的订阅数据取出创建订阅数据的消息。定时器ID10对应的有名定时器：等待创建扫描节点响应时长,该参数用于设置等待创建扫描节点响应时长，当订阅方订阅anyue类型的时候会向公共线程发消息的方式在公共线程创建此订阅的一个扫描节点。定时器ID11对应的有名定时器：等待删除扫描节点响应时长,该参数用于设置等待删除扫描节点响应时长，当订阅方订阅anyue类型的时候会向公共线程发消息的方式在公共线程删除此订阅的一个扫描节点。定时器ID12对应的有名定时器：等待订阅通知响应时长,该参数用于设置等待订阅通知响应的时长。
VALUE|当前参数值(ms)|参数可选性: 任选参数类型: 数字|本参数用于设置定时器当前取值。
DEFAULTVALUE|默认参数值(ms)|参数可选性: 任选参数类型: 数字|本参数用于设置定时器默认取值。
MINVALUE|参数最小值(ms)|参数可选性: 任选参数类型: 数字|本参数用于设置定时器最小值。
MAXVALUE|参数最大值(ms)|参数可选性: 任选参数类型: 数字|本参数用于设置定时器最大值。
DESC|参数名称|参数可选性: 任选参数类型: 字符串参数范围: 0-180|本参数用于设置定时器的名称，代表每个定时器的含义。
MACRODEFINE|宏名定义|参数可选性: 任选参数类型: 字符串参数范围: 0-180|本参数用于设置定时器的宏名，设置宏名是为了便于识别定时器。
命令举例 
`
设置定时器ID为1的有名定时器，取值为15s。
SET EEXTIMER:ID=1,VALUE=15000
` 
#### 查询EventExposure有名定时器时长配置(SHOW EEXTIMER) 
#### 查询EventExposure有名定时器时长配置(SHOW EEXTIMER) 
功能说明 
该命令用于查询EventExposure服务中的有名定时器时长。 
注意事项 
无。
输入参数说明 
标识|名称|类型|说明
---|---|---|---
ID|定时器ID|参数可选性: 任选参数类型: 数字|每个定时器ID对应一个有名定时器，有不同的含义。定时器ID1对应的有名定时器：scale模块拉取CDB响应的时长，该参数用于设置scale模块拉取cdb响应的时长,用户弹缩过程，当源sc宕机的时候会从cdb恢复资源, 开启此定时器来等待从cdb恢复每个group的subId资源的响应消息，如果等待不到会超时，单位为毫秒。定时器ID2对应的有名定时器：业务等待拉取CDB时长，该参数用于设置业务等待拉取cdb时长，当一个用户上来订阅消息的时候，如果本地没有此用户的订阅数据，此定时器开启来等待查询订阅数据的响应消息，单位为毫秒。定时器ID3对应的有名定时器：订阅等待communication立即上报时长，该参数用于设置订阅等待communication立即上报时长，新的订阅ee通知communication创建订阅，同时等待携带用户当前信息的响应，来触发立即上报，单位为毫秒。定时器ID4对应的有名定时器：向communication获取SUPI等待时长，该参数用于设置向communication获取supi等待时长，当新的订阅只携带imei、isdn，需要ee向communication发送反向查询supi的请求消息，开启此定时器来等待请求响应，单位为毫秒。定时器ID5对应的有名定时器：向RM获取用户数等待时长，该参数用于设置向RM获取用户数等待时长，此定时器用于等待ee向rm查询订阅区域下的用户数的请求消息的响应消息，目前是anyue订阅类型，单位为毫秒。定时器ID6对应的有名定时器：向communication更新订阅等待时长,该参数用于设置向communication更新订阅等待时长，此定时器用于等待ee向communication发送的订阅更新通知消息的响应消息，单位为毫秒。定时器ID7对应的有名定时器：删除重复订阅等待响应时长,该参数用于设置删除重复订阅等待响应时长,此定时器用于等待根据（nfid+notifyCorrelationId）查询是否有相同的订阅，如果查询结果响应等待不到会此定时器会超时。定时器ID8对应的有名定时器：创建订阅时上报事件通知时延,该参数用于设置创建订阅时上报事件通知时延，部分上报会立刻上报，但是不是在创建订阅响应中，为了保持时序上通知在创建响应之后，所以此定时器超时之后再发送通知。定时器ID9对应的有名定时器：等待内部触发创建订阅通知时长,该参数用于设置等待内部触发创建订阅通知时长，此定时器是等待切换成功之后communication向ee通知新局中从切换开始缓存的订阅数据取出创建订阅数据的消息。定时器ID10对应的有名定时器：等待创建扫描节点响应时长,该参数用于设置等待创建扫描节点响应时长，当订阅方订阅anyue类型的时候会向公共线程发消息的方式在公共线程创建此订阅的一个扫描节点。定时器ID11对应的有名定时器：等待删除扫描节点响应时长,该参数用于设置等待删除扫描节点响应时长，当订阅方订阅anyue类型的时候会向公共线程发消息的方式在公共线程删除此订阅的一个扫描节点。定时器ID12对应的有名定时器：等待订阅通知响应时长,该参数用于设置等待订阅通知响应的时长。
输出参数说明 
标识|名称|类型|说明
---|---|---|---
ID|定时器ID|参数可选性: 任选参数类型: 数字|每个定时器ID对应一个有名定时器，有不同的含义。定时器ID1对应的有名定时器：scale模块拉取CDB响应的时长，该参数用于设置scale模块拉取cdb响应的时长,用户弹缩过程，当源sc宕机的时候会从cdb恢复资源, 开启此定时器来等待从cdb恢复每个group的subId资源的响应消息，如果等待不到会超时，单位为毫秒。定时器ID2对应的有名定时器：业务等待拉取CDB时长，该参数用于设置业务等待拉取cdb时长，当一个用户上来订阅消息的时候，如果本地没有此用户的订阅数据，此定时器开启来等待查询订阅数据的响应消息，单位为毫秒。定时器ID3对应的有名定时器：订阅等待communication立即上报时长，该参数用于设置订阅等待communication立即上报时长，新的订阅ee通知communication创建订阅，同时等待携带用户当前信息的响应，来触发立即上报，单位为毫秒。定时器ID4对应的有名定时器：向communication获取SUPI等待时长，该参数用于设置向communication获取supi等待时长，当新的订阅只携带imei、isdn，需要ee向communication发送反向查询supi的请求消息，开启此定时器来等待请求响应，单位为毫秒。定时器ID5对应的有名定时器：向RM获取用户数等待时长，该参数用于设置向RM获取用户数等待时长，此定时器用于等待ee向rm查询订阅区域下的用户数的请求消息的响应消息，目前是anyue订阅类型，单位为毫秒。定时器ID6对应的有名定时器：向communication更新订阅等待时长,该参数用于设置向communication更新订阅等待时长，此定时器用于等待ee向communication发送的订阅更新通知消息的响应消息，单位为毫秒。定时器ID7对应的有名定时器：删除重复订阅等待响应时长,该参数用于设置删除重复订阅等待响应时长,此定时器用于等待根据（nfid+notifyCorrelationId）查询是否有相同的订阅，如果查询结果响应等待不到会此定时器会超时。定时器ID8对应的有名定时器：创建订阅时上报事件通知时延,该参数用于设置创建订阅时上报事件通知时延，部分上报会立刻上报，但是不是在创建订阅响应中，为了保持时序上通知在创建响应之后，所以此定时器超时之后再发送通知。定时器ID9对应的有名定时器：等待内部触发创建订阅通知时长,该参数用于设置等待内部触发创建订阅通知时长，此定时器是等待切换成功之后communication向ee通知新局中从切换开始缓存的订阅数据取出创建订阅数据的消息。定时器ID10对应的有名定时器：等待创建扫描节点响应时长,该参数用于设置等待创建扫描节点响应时长，当订阅方订阅anyue类型的时候会向公共线程发消息的方式在公共线程创建此订阅的一个扫描节点。定时器ID11对应的有名定时器：等待删除扫描节点响应时长,该参数用于设置等待删除扫描节点响应时长，当订阅方订阅anyue类型的时候会向公共线程发消息的方式在公共线程删除此订阅的一个扫描节点。定时器ID12对应的有名定时器：等待订阅通知响应时长,该参数用于设置等待订阅通知响应的时长。
VALUE|当前参数值(ms)|参数可选性: 任选参数类型: 数字|本参数用于设置定时器当前取值。
DEFAULTVALUE|默认参数值(ms)|参数可选性: 任选参数类型: 数字|本参数用于设置定时器默认取值。
MINVALUE|参数最小值(ms)|参数可选性: 任选参数类型: 数字|本参数用于设置定时器最小值。
MAXVALUE|参数最大值(ms)|参数可选性: 任选参数类型: 数字|本参数用于设置定时器最大值。
DESC|参数名称|参数可选性: 任选参数类型: 字符串参数范围: 0-180|本参数用于设置定时器的名称，代表每个定时器的含义。
MACRODEFINE|宏名定义|参数可选性: 任选参数类型: 字符串参数范围: 0-180|本参数用于设置定时器的宏名，设置宏名是为了便于识别定时器。
命令举例 
`
查询定时器ID为1的有名定时器取值。
SHOW EEXTIMER:ID=1
(No.1) : SHOW EEXTIMER:ID=1
-----------------Namf_EventExposure_0----------------
定时器ID  当前参数值(ms)   默认参数值(ms)    参数最小值(ms)   参数最大值(ms)   参数名称                                                      宏名定义
1         2000            2000              1000            20000           The timer length for waiting scale in pulling cdb resopnse EEX_WAIT_SCALE_IN_PULL_CDB_RSP_TIMER_LEN
记录数：1
执行成功 开始时间:2020-05-19 18:46:16 耗时: 0.421 秒
` 
动态管理 : 
动态管理 : 
背景知识 
动态管理即动态数据管理，是设备维护中的一个重要组成模块，完成对网元某些关键资源（如信令链路、路由局向等）的状态查询和管理控制（如激活、去活、闭塞和解闭塞等），为整个系统的调试和系统管理提供了必要的技术手段。 
功能说明 
动态管理即动态数据管理，完成对网元某些关键资源的状态查询和管理控制。 
子主题： 
调测信息采集 : 
调测信息采集 : 
背景知识 
在系统调试过程中，需要采集系统的运行信息，可提供给运维人员进行分析，达到监测系统是否正常的目的。 
功能说明 
使用本功能可以进行系统调测信息采集。 
子主题： 
#### 模块内部统计信息 
#### 模块内部统计信息 
背景知识 
业务前台有大量的内部统计，用于开发维护人员更详细的知悉系统运行状况、性能话务情况等，但是这些内部统计的采集获取很不方便。 
功能说明 
开启内部统计上报后，前台会将内部统计数据周期性的上报给后台网管，后台网管保存在硬盘目录，供开发维护人员查询分析，这样就方便更好的监控了解系统运行状况、性能话务情况等。 
子主题： 
##### 清理模块内部统计信息(CLEAR DEBUG INFO) 
##### 清理模块内部统计信息(CLEAR DEBUG INFO) 
功能说明 
该命令用于清理其归属NFS内模块的调测信息。当需要获取新的调测信息前，先执行该命令。 
注意事项 
获取新的调测信息前可以先执行该命令，该命令返回的“失败数量”为非0则需要联系中兴通讯技术人员支持；为0则可获取新的调测信息。 
输入参数说明 
标识|名称|类型|说明
---|---|---|---
MODULE_NAME|模块名称|参数可选性: 任选参数类型: 字符串参数范围: 1-47|该参数用于表示需要清除调测信息的模块名称。该参数选项的含义是：默认为空：表示清除NFS内所有的调测信息。非空：表示清除指定模块的调测信息，可由 SHOW DEBUG MODULELIST命令获取模块名称。
输出参数说明 
标识|名称|类型|说明
---|---|---|---
MODULE_NUMBER|模块实例数量|参数可选性: 必选参数类型: 数字参数范围: 0-4294967295|该参数用于表示清理的模块实例总数量。
SUCCESS_NUMBER|成功数量|参数可选性: 必选参数类型: 数字参数范围: 0-4294967295|该参数用于表示清理成功的模块实例数量。
FAILED_NUMBER|失败数量|参数可选性: 必选参数类型: 数字参数范围: 0-4294967295|该参数用于表示清理失败的模块实例数量。
命令举例 
`
清理名称为ROSNG_ADAPT的模块的调测信息。
CLEAR DEBUG INFO:MODULE_NAME="ROSNG_ADAPT"
` 
##### 查询含有Debug信息的模块列表(SHOW DEBUG MODULELIST) 
##### 查询含有Debug信息的模块列表(SHOW DEBUG MODULELIST) 
功能说明 
该命令用于查询其归属的NFS内含有调测信息的模块列表。当运维人员需要收集或者清除指定模块的调试信息时，可以执行该命令查询含有调测信息的模块名称。 
注意事项 
无。 
输出参数说明 
标识|名称|类型|说明
---|---|---|---
MODULE_NAME|模块名|参数可选性: 必选参数类型: 字符串参数范围: 1-47|该参数用于表示支持统计信息的模块名称。
MODULE_INST|模块实例数|参数可选性: 必选参数类型: 数字参数范围: 0-4294967295|该参数用于表示支持统计信息的模块实例数。
命令举例 
`
查询某个NFS中含有调试统计信息的模块列表。
 SHOW DEBUG MODULELIST
------CommonS_TMSP_0--------
模块名         模块实例数
ROSNG_ADAPT    1
ROSNG_ARCH     1
记录数：2
执行成功耗时: 0.259 秒
` 
#### 查看数据区占用率 
#### 查看数据区占用率 
背景知识 
查询AMF EventExposure 服务的资源使用率。 
功能说明 
查询AMF EventExposure 服务的资源使用率。 
子主题： 
##### 数据区占用率查询(SHOW EE DATAUSAGE) 
##### 数据区占用率查询(SHOW EE DATAUSAGE) 
功能说明 
查询AMF EventExposure 服务的资源使用率。 
注意事项 
无。
输出参数说明 
标识|名称|类型|说明
---|---|---|---
searchResult|查询结果|参数可选性: 必选参数类型: 枚举，参见枚举定义默认值: SUCCESS|查询结果
scName|SC ID|参数可选性: 必选参数类型: 字符串参数范围: 0-100|内部显示参数，暂不提供说明。
scheduler|Scheduler|参数可选性: 必选参数类型: 字符串参数范围: 0-20|内部显示参数，暂不提供说明。按照百分比进行显示。
schedulerBuffer|Scheduler Buffer|参数可选性: 必选参数类型: 字符串参数范围: 0-20|内部显示参数，暂不提供说明。按照百分比进行显示。
transactionBuffer|Transaction Buffer|参数可选性: 必选参数类型: 字符串参数范围: 0-20|内部显示参数，暂不提供说明。按照百分比进行显示。
smallcacheEventQueueBuffer|SmallCacheEventQueue Buffer|参数可选性: 必选参数类型: 字符串参数范围: 0-20|内部显示参数，暂不提供说明。按照百分比进行显示。
mediumcacheEventQueueBuffer|MediumCacheEventQueue Buffer|参数可选性: 必选参数类型: 字符串参数范围: 0-20|内部显示参数，暂不提供说明。按照百分比进行显示。
largecacheEventQueueBuffer|LargeCacheEventQueue Buffer|参数可选性: 必选参数类型: 字符串参数范围: 0-20|内部显示参数，暂不提供说明。按照百分比进行显示。
mediumBuffer|Medium Buffer|参数可选性: 必选参数类型: 字符串参数范围: 0-20|内部显示参数，暂不提供说明。按照百分比进行显示。
smallBuffer|Small Buffer|参数可选性: 必选参数类型: 字符串参数范围: 0-20|内部显示参数，暂不提供说明。按照百分比进行显示。
sigTraceBuffer|Signal Trace Buffer|参数可选性: 必选参数类型: 字符串参数范围: 0-20|内部显示参数，暂不提供说明。按照百分比进行显示。。
singleNfRouteSelBuffer|Single NF Route Select Buffer|参数可选性: 必选参数类型: 字符串参数范围: 0-20|内部显示参数，暂不提供说明。按照百分比进行显示。。
命令举例 
`
查询AMF EventExposure 服务的资源使用率。
SHOW EE DATAUSAGE
(No.9) : SHOW EE DATAUSAGE:
-----------------Namf_EventExposure_0----------------
查询结果 
---------
成功     
---------
记录数：1
SC ID       Scheduler Scheduler Buffer Transaction Buffer SmallCacheEventQueue Buffer  MediumCacheEventQueue Buffer LargeCacheEventQueue Buffer  Medium Buffer Small Buffer Signal Trace Buffer Single NF Route Select Buffer
-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
sc-amf-ee-1 0         0                0                           0                      0                            0                            0                    0                    0                             0
-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
记录数：1
执行成功开始时间:2020-12-12 15:16:50 耗时: 0.123 秒
` 
#### 查询本地数据库表 
#### 查询本地数据库表 
背景知识 
AMF的本地SC使用本地数据库存储信息，在系统调测或者运维观测时，调测人员或者运维人员可以使用本功能查询数据库表的情况，以便了解系统数据库运行情况，为系统调测、运维观测提供方便。 
功能说明 
本功能用于查询本地数据库表情况。 
子主题： 
##### 查询本地数据库表(SHOW EE LOCAL DATABASE TABLE) 
##### 查询本地数据库表(SHOW EE LOCAL DATABASE TABLE) 
功能说明 
该命令用于查询AMF本地数据库表中的表记录数的情况。 
注意事项 
无。
输出参数说明 
标识|名称|类型|说明
---|---|---|---
RESULT|执行结果|参数可选性: 任选参数类型: 枚举，参见枚举定义参数范围: 0-1默认值: SUCCESS|该参数用于显示本命令的执行结果，显示成功或失败。
命令举例 
`
查询AMF本地数据库表的记录数。
SHOW EE LOCAL DATABASE TABLE
(No.1) : SHOW EE LOCAL DATABASE TABLE:
-----------------Namf_EventExposure_0----------------正在执行一个异步命令，请到操作记录中查看执行结果。
` 
#### 查询UDSF数据库表 
#### 查询UDSF数据库表 
背景知识 
 AMF将本地数据同步存储到UDSF数据库上，在系统调测或者运维观测时，调测人员或者运维人员可以查询UDSF数据库表情况，为系统调测、运维观测提供方便。 
功能说明 
本功能用于查询UDSF数据库表情况。 
子主题： 
##### 查询UDSF数据库表(SHOW EE UDSF DATABASE TABLE) 
##### 查询UDSF数据库表(SHOW EE UDSF DATABASE TABLE) 
功能说明 
该命令用于查询UDSF数据库表中的表记录数的情况。 
注意事项 
无。
输出参数说明 
标识|名称|类型|说明
---|---|---|---
RESULT|执行结果|参数可选性: 任选参数类型: 枚举，参见枚举定义参数范围: 0-1默认值: SUCCESS|该参数用于显示本命令的执行结果，显示成功或失败。
命令举例 
`
UDSF本地数据库表的记录数。
SHOW EE UDSF DATABASE TABLE
(No.1) : SHOW EE UDSF DATABASE TABLE:
-----------------Namf_EventExposure_0----------------正在执行一个异步命令，请到操作记录中查看执行结果。
` 
### EEX Binding信息管理 
### EEX Binding信息管理 
背景知识 
为提高5GC网络服务的可靠性，AMF需要提供NF容灾功能。 
Binding功能是将NF自身的容灾能力及备份关系告知对端NF的一种方式。 
在NF发生故障时，对端NF可以根据接收的Binding信息执行NF的重选，从而能够继续在5GC网络中提供服务。 
功能说明 
本功能用于查询和删除AMF所接收到的对端NF的Binding信息。 
子主题： 
#### 删除EEX服务BINDING信息(DEL EEXBINDING INFO) 
#### 删除EEX服务BINDING信息(DEL EEXBINDING INFO) 
功能说明 
该命令用于删除AMF接收对端NF的Binding信息时，使用该命令。 
注意事项 
无。
输入参数说明 
标识|名称|类型|说明
---|---|---|---
sclogicno|SC逻辑编号|参数可选性: 任选参数类型: 数字参数范围: 1-1000|该参数用于动态命令分发到指定SC实例
md5|MD5|参数可选性: 任选参数类型: 字符串参数范围: 0-32|该参数用于根据MD5删除指定记录
输出参数说明 
标识|名称|类型|说明
---|---|---|---
RESULT|执行结果|参数可选性: 任选参数类型: 枚举，参见枚举定义参数范围: 0-1默认值: SUCCESS|该参数用于显示本命令的执行结果，显示成功或失败。
命令举例 
`
删除EEXBINDING信息。
DEL EEXBINDING INFO:SCLOGICNO=1
(No.1) : DEL EEXBINDING INFO:SCLOGICNO=1:
-----------------Namf_EventExposure_0----------------
执行结果
-----------------
删除成功
-----------------
` 
#### 查询EEX服务BINDING信息(SHOW EEXBINDING INFO) 
#### 查询EEX服务BINDING信息(SHOW EEXBINDING INFO) 
功能说明 
该命令用于查询AMF接收对端NF的Binding信息时，使用该命令。 
注意事项 
无。
输入参数说明 
标识|名称|类型|说明
---|---|---|---
sclogicno|SC逻辑编号|参数可选性: 必选参数类型: 数字参数范围: 1-1000|该参数用于动态命令分发到指定SC实例
md5|MD5|参数可选性: 任选参数类型: 字符串参数范围: 0-32|该参数用于根据MD5查询指定记录
输出参数说明 
标识|名称|类型|说明
---|---|---|---
RESULT|执行结果|参数可选性: 任选参数类型: 枚举，参见枚举定义参数范围: 0-1默认值: SUCCESS|该参数用于显示本命令的执行结果，显示成功或失败。
md5|md5|参数可选性: 任选参数类型: 字符串参数范围: 0-32|该参数用于显示MD5信息
Instno|Instno|参数可选性: 任选参数类型: 数字参数范围: 1-14|该参数用于显示实例号
Binding|Binding信息|参数可选性: 任选参数类型: 字符串参数范围: 0-500|该参数用于binding具体信息
命令举例 
`
查询EEXBinding信息。
SHOW EEXBINDING INFO:SCLOGICNO=1
(No.1) : SHOW EEXBINDING INFO:SCLOGICNO=1
-----------------Namf_EventExposure_0----------------
正在执行一个异步命令，请到操作记录中查看执行结果。
` 
### 用户订阅管理 
### 用户订阅管理 
背景知识 
本功能用于显示当前AMF订阅的用户信息。 
功能说明 
本功能用于显示当前AMF订阅的用户信息。 
子主题： 
#### 用户订阅数量显示 
#### 用户订阅数量显示 
背景知识 
本功能用于显示当前AMF订阅的用户总数量，目前只显示本地Cache存储的用户数量。 
功能说明 
本功能用于查询根据SUPI查询对应的用户的订阅信息。 
AMF先查询本地Cache，如果没有再向CDB进行查询。 
子主题： 
##### 显示订阅记录总数(SHOW ALL SUBSCRIPTION NUMBER) 
##### 显示订阅记录总数(SHOW ALL SUBSCRIPTION NUMBER) 
功能说明 
本命令用于显示当前AMF的订阅记录数，目前只显示本地Cache存储的记录数量。 
注意事项 
无。
输出参数说明 
标识|名称|类型|说明
---|---|---|---
totalSubscriptionNum|订阅记录总数|参数可选性: 必选参数类型: 数字|该参数用于显示当前AMF的订阅记录总数量。
singleScId|VRU名称|参数可选性: 必选参数类型: 字符串参数范围: 0-100|该参数用于显示某个SC的VRU名称。
singleScSubscriptionNum|订阅数量|参数可选性: 必选参数类型: 数字|该参数用于显示当前SC的订阅数量。
命令举例 
`
显示当前局本地Cache订阅的订阅记录总数量。
SHOW ALL SUBSCRIPTION NUMBER
(No.3) : SHOW ALL SUBSCRIPTION NUMBER:
-----------------Namf_EventExposure_0----------------
订阅记录总数
0
VRU名称                                 订阅数量
vru_Namf_EventExposure_0      0
记录数：1
执行成功耗时: 0.178 秒
` 
##### 显示指定用户订阅信息(SHOW SPECIFIC SUBSCRIPTION INFORMATION) 
##### 显示指定用户订阅信息(SHOW SPECIFIC SUBSCRIPTION INFORMATION) 
功能说明 
本命令用于根据SUPI查询对应用户的订阅信息。AMF先通过本地Cache进行查询，如果查询不到用户订阅信息，再向UDSF进行查询。 
注意事项 
无。
输入参数说明 
标识|名称|类型|说明
---|---|---|---
SUPI|Supi|参数可选性: 必选参数类型: 字符串参数范围: 5-16|该参数用于设置用户的SUPI。
输出参数说明 
标识|名称|类型|说明
---|---|---|---
queryResult|订阅查询结果|参数可选性: 必选参数类型: 枚举，参见枚举定义参数范围: 1-3|本参数用于显示订阅查询的结果，包括“查询成功”、“查询失败”、“SUPI无效”和“用户不存在”。
notifyUri|订阅通知Uri|参数可选性: 必选参数类型: 字符串参数范围: 0-512|本参数用于显示AMF本次订阅通知的接收方URI。
notifyCorrelationId|订阅通知关联Id|参数可选性: 必选参数类型: 字符串参数范围: 0-35|本参数用于显示AMF通知关联ID，对于NF消费者来说，每一次订阅都有唯一的ID标识。
nfId|NF实例Id|参数可选性: 必选参数类型: 字符串参数范围: 0-100|本参数用于显示创建订阅的NF的标识。
subsChangeNotifyUri|订阅改变通知Uri|参数可选性: 任选参数类型: 字符串参数范围: 0-512|当NF消费者代表另一个NF在AMF订阅时，需要配置该参数。例如：为了向NEF进行事件通知，UDM需要在AMF进行订阅，此时，在subsChangeNotifyUri中会保存NEF的URI。
subsChangeNotifyCorelationId|订阅改变通知关联Id|参数可选性: 任选参数类型: 字符串参数范围: 0-35|与订阅通知关联Id类似，本参数是与订阅改变通知Uri配对存在的Id。
nfType|NF类型|参数可选性: 任选参数类型: 字符串参数范围: 0-24|本参数用于显示创建订阅的NF的类型。
routemode|路由模式|参数可选性: 任选参数类型: 枚举，参见枚举定义参数范围: 1-3|本参数用于显示路由模式。
routesetid|路由集ID|参数可选性: 任选参数类型: 数字参数范围: 0-65535|本参数用于显示路由集Id。
sourceNfType|源NF类型|参数可选性: 任选参数类型: 字符串参数范围: 0-24|本参数用于显示创建订阅的源NF的类型。
options|事件上报模式|参数可选性: 任选参数类型: 字符串参数范围: 0-500|如果NF消费者想要知道事件报告如何产生，需要携带options参数。trigger（事件report如何被触发）maxReports（当trigger为CONTINUOUS时，标识改订阅可以生成的最大report数量）expiry（该订阅停在生成report的截止时间）
USERSRC|用户来源|参数可选性: 任选参数类型: 字符串参数范围: 1-200|该参数用于显示用户归属的AMF信息。
events|AMF事件相关参数|参数可选性: 任选参数类型: 字符串参数范围: 0-10000|AmfEvent相关参数，包括如下。AmfEventType（事件上报类型）immediateFlag（是否需要立即上报事件）AmfEventArea（当AmfEventType在PRESENT_IN_AOI_REPORT和 UES_IN_AREA_REPORT时，需要此参数进行区域描述）LocationFilter（当event type是LOCATION_REPORT时，会存在此种类型）ReferenceId（与事件相关的参考ID）
命令举例 
`
显示SUPI为460119990020000的用户订阅信息。
SHOW SPECIFIC SUBSCRIPTION INFORMATION:SUPI="460119990020000"
(No.15) : SHOW SPECIFIC SUBSCRIPTION INFORMATION:SUPI="460119990020000"
-----------------AMFMME23/Namf_EventExposure_0----------------
订阅查询结果 
-------------
查询成功     
-------------
记录数：1
订阅通知Uri                                      订阅通知关联Id NF实例Id                             订阅改变通知Uri 订阅改变通知关联Id NF类型        路由模式          路由集ID 源NF类型   事件上报模式                      用户来源       AMF事件相关参数                                                                                                                                                                                                                                     
--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
http://193.23.2.6:8080/namf-evts/v1/notification 12345678000000 f81d4fae-7dec-1111-a765-00a0c91e1111                                    invalidnftype DIRECT_CONNECTION 0 invalidnftype        trigger:CONTINUOUS maxReports:99  Local AMF user Number of events: [1]                                                                                                                                                                                                                               
                                                                                                                                                                                                                                  Detailed information of all events:                                                                                                                                                                                                                 
                                                                                                                                                                                                                                  event[1]                                                                                                                                                                                                                                            
                                                                                                                                                                                                                                    Type:PRESENCE_IN_AOI_REPORT                                                                                                                                                                                                                       
                                                                                                                                                                                                                                    Immediate Flag:True                                                                                                                                                                                                                               
                                                                                                                                                                                                                                    Location FilterFg:0                                                                                                                                                                                                                               
                                                                                                                                                                                                                                    Reference Id:1                                                                                                                                                                                                                                    
                                                                                                                                                                                                                                    AreaList[0]                                                                                                                                                                                                                                       
                                                                                                                                                                                                                                      PresenceInfo Flag:1                                                                                                                                                                                                                             
                                                                                                                                                                                                                                        PraId:1                                                                                                                                                                                                                                       
                                                                                                                                                                                                                                        Ncgi List:460-11-123456789                                                                                                                                                                                                                    
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      
--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
记录数：1
执行成功开始时间:2022-02-14 19:56:01 耗时: 1.342秒
` 
# Namf_Location 
## LCS功能配置 
## LCS功能配置 
背景知识 
LCS（Location Services，定位业务）是移动通信网络通过无线信号测量来确定终端的地理位置信息及其移动速度的技术。LCS使得网络具备获取用户的地理位置信息的能力。 
LCS定位业务是网络为利于开发基于位置的业务而提供的一组标准化业务能力，也是3GPP协议中规定的标准业务，用于管理用户的定位信息。LCS业务可以通过LCS客户端、LCS服务器和终端的交互获得终端在某个时刻的地理位置信息以及信息的精确度等。 
运营商可基于网络的定位能力获取位置信息，并结合位置信息推出各式各样的位置业务应用服务。位置业务应用，将极大丰富运营商的业务，增强运营商的业务竞争力。 
GMLC（Gateway Mobile Location Centre，移动位置中心网关）用于与LCS客户端及AMF交互，执行LCS客户端的定位请求并向其回送定位结果。具体参见3GPP TS 23.273描述的5G LCS功能，3GPP TS 23.502协议“4.13.5 Location Services procedures”章节。 
AMF在定位业务中涉及到与GMLC（Gateway for Mobile Location Center，移动定位中心网关）和LMF（Location Management Function，定位管理功能）的交互。 
AMF支持通过GMLC（Gateway for Mobile Location Center，移动定位中心网关）接收来自LCS Client的定位请求，获取终端的最新ECGI（E-UTRAN Cell Global Identifier，E-UTRAN小区全球标识）信息，并将ECGI信息通过SLg接口上报给GMLC。由于该LCS定位方法的定位结果为小区ID（非地理的经玮度位置信息），其定位精度取决于小区的覆盖范围，精度较低。 
LMF（Location Management Function，定位管理功能）用于具体收集、计算和决定UE的相关位置信息。具体参见3GPP TS 23.273描述的5G LCS功能，3GPP TS 23.502协议“4.13.5 Location Services procedures”“5.2.15 LMF Services”章节及LMF对应的接口协议3GPP TS 29.572。 
LCS（Location Services，定位业务）包括三种场景。 
 
紧急呼叫时，网络侧主动上报终端的位置信息。 
 
紧急呼叫时，网络侧接收终端的位置信息查询消息。 
 
普通场景（非紧急呼叫）时，网络侧接收终端的位置信息查询消息。 
 
功能说明 
本功能可以配置与LCS功能相关的参数，用于控制当AMF与GMLC和LMF进行交互时，消息中携带的参数，及在紧急呼叫业务中，AMF是否主动向LMF获取终端的位置信息。 
子主题： 
### 修改 LCS定位功能配置(SET LCSFUNCTION) 
### 修改 LCS定位功能配置(SET LCSFUNCTION) 
功能说明 
本命令用于修改与LCS定位功能相关的参数。 
注意事项 
无。 
输入参数说明 
标识|名称|类型|说明
---|---|---|---
elmfswitch|紧急呼叫是否主动向LMF获取位置|参数可选性: 任选参数类型: 枚举，参见枚举定义参数范围: 0-1默认值: NO|本参数用于设置在紧急呼叫NI-LR流程中，AMF是否主动向LMF获取终端的位置信息。本参数的缺省值为NO，即AMF不主动向LMF获取终端的位置信息。当本参数设置为YES时，AMF需要先向LMF获取终端的位置信息后，再向GMLC上报此信息。
lqosswitch|是否携带位置qos|参数可选性: 任选参数类型: 枚举，参见枚举定义参数范围: 0-1默认值: NO|本参数用于设置AMF主动向LMF发送位置请求消息时，是否携带LocationQoS参数。
hAccuracy|水平精度|参数可选性: 任选参数类型: 数字参数范围: 0-65535|本参数用于设置AMF主动向LMF发送位置请求消息时，定位QoS中hAccuracy参数的取值。
responseTime|响应时间|参数可选性: 任选参数类型: 枚举，参见枚举定义参数范围: 0-1默认值: LOW_DELAY|本参数用于设置AMF主动向LMF发送位置请求消息时，定位QoS中ResponseTime参数的取值。
vertRequested|是否获取垂直精度|参数可选性: 任选参数类型: 枚举，参见枚举定义参数范围: 0-1默认值: NO|本参数用于设置AMF主动向LMF发送位置请求消息时，定位QoS中vertRequested参数的取值。
vAccuracy|垂直精度|参数可选性: 任选参数类型: 数字参数范围: 0-65535|本参数用于设置AMF主动向LMF发送位置请求消息时，定位QoS中vAccuracy参数取值。
lcsPriority|定位优先级|参数可选性: 任选参数类型: 枚举，参见枚举定义参数范围: 0-1默认值: NORMAL_PRIORITY|本参数用于设置AMF主动向LMF发送位置请求消息时，LcsPriority参数取值。
velocityRequested|是否获取速度|参数可选性: 任选参数类型: 枚举，参见枚举定义参数范围: 0-1默认值: VELOCITY_IS_NOT_REQUESTED|本参数用于设置AMF主动向LMF发送位置请求消息时，velocityRequested参数取值。
shapeswitch|是否携带GAD参数|参数可选性: 任选参数类型: 枚举，参见枚举定义参数范围: 0-1默认值: NO|本参数用于设置AMF主动向LMF发送位置请求消息时，是否携带supportedGADShapes参数。
supportGADShape|支持的GAD形状|参数可选性: 任选参数类型: 枚举，参见枚举定义参数范围: 0-6默认值: POINT|本参数用于设置AMF主动向LMF发送位置请求消息时，supportedGADShapes参数的取值。
输出参数说明 
标识|名称|类型|说明
---|---|---|---
elmfswitch|紧急呼叫是否主动向LMF获取位置|参数可选性: 任选参数类型: 枚举，参见枚举定义参数范围: 0-1默认值: NO|本参数用于设置在紧急呼叫NI-LR流程中，AMF是否主动向LMF获取终端的位置信息。本参数的缺省值为NO，即AMF不主动向LMF获取终端的位置信息。当本参数设置为YES时，AMF需要先向LMF获取终端的位置信息后，再向GMLC上报此信息。
lqosswitch|是否携带位置qos|参数可选性: 任选参数类型: 枚举，参见枚举定义参数范围: 0-1默认值: NO|本参数用于设置AMF主动向LMF发送位置请求消息时，是否携带LocationQoS参数。
hAccuracy|水平精度|参数可选性: 任选参数类型: 数字参数范围: 0-65535|本参数用于设置AMF主动向LMF发送位置请求消息时，定位QoS中hAccuracy参数的取值。
responseTime|响应时间|参数可选性: 任选参数类型: 枚举，参见枚举定义参数范围: 0-1默认值: LOW_DELAY|本参数用于设置AMF主动向LMF发送位置请求消息时，定位QoS中ResponseTime参数的取值。
vertRequested|是否获取垂直精度|参数可选性: 任选参数类型: 枚举，参见枚举定义参数范围: 0-1默认值: NO|本参数用于设置AMF主动向LMF发送位置请求消息时，定位QoS中vertRequested参数的取值。
vAccuracy|垂直精度|参数可选性: 任选参数类型: 数字参数范围: 0-65535|本参数用于设置AMF主动向LMF发送位置请求消息时，定位QoS中vAccuracy参数取值。
lcsPriority|定位优先级|参数可选性: 任选参数类型: 枚举，参见枚举定义参数范围: 0-1默认值: NORMAL_PRIORITY|本参数用于设置AMF主动向LMF发送位置请求消息时，LcsPriority参数取值。
velocityRequested|是否获取速度|参数可选性: 任选参数类型: 枚举，参见枚举定义参数范围: 0-1默认值: VELOCITY_IS_NOT_REQUESTED|本参数用于设置AMF主动向LMF发送位置请求消息时，velocityRequested参数取值。
shapeswitch|是否携带GAD参数|参数可选性: 任选参数类型: 枚举，参见枚举定义参数范围: 0-1默认值: NO|本参数用于设置AMF主动向LMF发送位置请求消息时，是否携带supportedGADShapes参数。
supportGADShape|支持的GAD形状|参数可选性: 任选参数类型: 枚举，参见枚举定义参数范围: 0-6默认值: POINT|本参数用于设置AMF主动向LMF发送位置请求消息时，supportedGADShapes参数的取值。
命令举例 
`
设置紧急呼叫主动向LMF获取位置。并设置向LMF发送位置请求时携带LocationQos参数。
SET LCSFUNCTION:ELMFSWITCH="YES",LQOSSWITCH="YES"
` 
### 查询 LCS定位功能配置(SHOW LCSFUNCTION) 
### 查询 LCS定位功能配置(SHOW LCSFUNCTION) 
功能说明 
本命令用于查询与LCS定位功能相关的参数。 
注意事项 
如果操作员没在配置某项参数，会显示系统默认配置数据。 
输出参数说明 
标识|名称|类型|说明
---|---|---|---
elmfswitch|紧急呼叫是否主动向LMF获取位置|参数可选性: 任选参数类型: 枚举，参见枚举定义参数范围: 0-1默认值: NO|本参数用于设置在紧急呼叫NI-LR流程中，AMF是否主动向LMF获取终端的位置信息。本参数的缺省值为NO，即AMF不主动向LMF获取终端的位置信息。当本参数设置为YES时，AMF需要先向LMF获取终端的位置信息后，再向GMLC上报此信息。
lqosswitch|是否携带位置qos|参数可选性: 任选参数类型: 枚举，参见枚举定义参数范围: 0-1默认值: NO|本参数用于设置AMF主动向LMF发送位置请求消息时，是否携带LocationQoS参数。
hAccuracy|水平精度|参数可选性: 任选参数类型: 数字参数范围: 0-65535|本参数用于设置AMF主动向LMF发送位置请求消息时，定位QoS中hAccuracy参数的取值。
responseTime|响应时间|参数可选性: 任选参数类型: 枚举，参见枚举定义参数范围: 0-1默认值: LOW_DELAY|本参数用于设置AMF主动向LMF发送位置请求消息时，定位QoS中ResponseTime参数的取值。
vertRequested|是否获取垂直精度|参数可选性: 任选参数类型: 枚举，参见枚举定义参数范围: 0-1默认值: NO|本参数用于设置AMF主动向LMF发送位置请求消息时，定位QoS中vertRequested参数的取值。
vAccuracy|垂直精度|参数可选性: 任选参数类型: 数字参数范围: 0-65535|本参数用于设置AMF主动向LMF发送位置请求消息时，定位QoS中vAccuracy参数取值。
lcsPriority|定位优先级|参数可选性: 任选参数类型: 枚举，参见枚举定义参数范围: 0-1默认值: NORMAL_PRIORITY|本参数用于设置AMF主动向LMF发送位置请求消息时，LcsPriority参数取值。
velocityRequested|是否获取速度|参数可选性: 任选参数类型: 枚举，参见枚举定义参数范围: 0-1默认值: VELOCITY_IS_NOT_REQUESTED|本参数用于设置AMF主动向LMF发送位置请求消息时，velocityRequested参数取值。
shapeswitch|是否携带GAD参数|参数可选性: 任选参数类型: 枚举，参见枚举定义参数范围: 0-1默认值: NO|本参数用于设置AMF主动向LMF发送位置请求消息时，是否携带supportedGADShapes参数。
supportGADShape|支持的GAD形状|参数可选性: 任选参数类型: 枚举，参见枚举定义参数范围: 0-6默认值: POINT|本参数用于设置AMF主动向LMF发送位置请求消息时，supportedGADShapes参数的取值。
命令举例 
`
查询与LCS定位功能相关的参数。
SHOW LCSFUNCTION:
(No.1) : SHOW LCSFUNCTION:
-----------------Namf_Location_0----------------
紧急呼叫是否主动向LMF获取位置  是否携带位置qos  水平精度  响应时间  是否获取垂直精度  垂直精度  定位优先级  是否获取速度  是否携带GAD参数  支持的GAD形状
--------------------------------------------------------------------------------------------------------------------------------------------------
否                            否              65535    低延时    否               65535     正常优先级  否            否              点
--------------------------------------------------------------------------------------------------------------------------------------------------
记录数：1
执行成功耗时: 0.084 秒
` 
## GMLC分析配置 
## GMLC分析配置 
背景知识 
在LCS（Location Services，定位业务）中，AMF与UE、LMF和GMLC共同完成对UE的定位流程的处理。在UE发起的定位流程中，若UE携带号码指示，则AMF需要将UE的定位信息转发给GMLC。 
功能说明 
本功能用于配置GMLC分析配置，即将UE携带的号码转换为GMLC信息。 
子主题： 
### 新增GMLC分析配置(ADD GMLCANALYCFG) 
### 新增GMLC分析配置(ADD GMLCANALYCFG) 
功能说明 
该命令用于新增GMLC分析配置。在启用定位MO-LR功能时，若UE携带号码指示转发定位信息给GMLC，则需要配置号码到GMLC的转换关系。 
注意事项 
无。 
输入参数说明 
标识|名称|类型|说明
---|---|---|---
dgt|被分析号码|参数可选性: 必选参数类型: 字符串参数范围: 1-20|参数作用：本参数用于设置AMF需要分析转换的UE的号码。在MO-LR流程中，如果UE携带mlc-Number参数，AMF上需要配置此UE的号码与GMLC的对应关系，AMF根据此参数来匹配配置的对应关系，获得GMLC信息。修改影响：修改本参数，会使分析转换获得的GMLC信息发生变化。数据来源：UE中携带的mlc-Number参数。配置原则：根据运营商需求规划。
gmlcnfid|GMLC实例标识|参数可选性: 必选参数类型: 字符串参数范围: 0-36|参数作用：本参数用于设置被分析号码对应的GMLC标识，此标识为GMLC的NfInstanceId。修改影响：修改本参数，被分析号码对应的GMLC的NfInstanceId标识将发生改变，被分析号码和其对应的GMLC标识的映射关系将发生变化。数据来源：本端配置。配置原则：根据运营商需求规划。
命令举例 
`
新增GMLC的分析配置，其中dgt为13990300000，gmlcNfId为33333333-7dec-11d0-a765-111111111111。
ADD GMLCANALYCFG:DGT="13990300000",GMLCNFID="33333333-7dec-11d0-a765-111111111111"
` 
### 修改GMLC分析配置(SET GMLCANALYCFG) 
### 修改GMLC分析配置(SET GMLCANALYCFG) 
功能说明 
该命令用于修改GMLC分析配置参数。 
注意事项 
无。 
输入参数说明 
标识|名称|类型|说明
---|---|---|---
dgt|被分析号码|参数可选性: 必选参数类型: 字符串参数范围: 1-20|参数作用：本参数用于设置AMF需要分析转换的UE的号码。在MO-LR流程中，如果UE携带mlc-Number参数，AMF上需要配置此UE的号码与GMLC的对应关系，AMF根据此参数来匹配配置的对应关系，获得GMLC信息。修改影响：修改本参数，会使分析转换获得的GMLC信息发生变化。数据来源：UE中携带的mlc-Number参数。配置原则：根据运营商需求规划。
gmlcnfid|GMLC实例标识|参数可选性: 必选参数类型: 字符串参数范围: 0-36|参数作用：本参数用于设置被分析号码对应的GMLC标识，此标识为GMLC的NfInstanceId。修改影响：修改本参数，被分析号码对应的GMLC的NfInstanceId标识将发生改变，被分析号码和其对应的GMLC标识的映射关系将发生变化。数据来源：本端配置。配置原则：根据运营商需求规划。
命令举例 
`
SET GMLCANALYCFG:DGT="13990300000",GMLCNFID="33333333-7dec-11d0-a765-111111111112"
` 
### 删除GMLC分析配置(DEL GMLCANALYCFG) 
### 删除GMLC分析配置(DEL GMLCANALYCFG) 
功能说明 
该命令用于删除GMLC分析配置参数。 
注意事项 
无。 
输入参数说明 
标识|名称|类型|说明
---|---|---|---
dgt|被分析号码|参数可选性: 必选参数类型: 字符串参数范围: 1-20|参数作用：本参数用于设置AMF需要分析转换的UE的号码。在MO-LR流程中，如果UE携带mlc-Number参数，AMF上需要配置此UE的号码与GMLC的对应关系，AMF根据此参数来匹配配置的对应关系，获得GMLC信息。修改影响：修改本参数，会使分析转换获得的GMLC信息发生变化。数据来源：UE中携带的mlc-Number参数。配置原则：根据运营商需求规划。
命令举例 
`
删除GMLC的分析配置，其中dgt为13990300000。
DEL GMLCANALYCFG:DGT="13990300000"
` 
### 查询GMLC分析配置(SHOW GMLCANALYCFG) 
### 查询GMLC分析配置(SHOW GMLCANALYCFG) 
功能说明 
该命令用于查询GMLC分析配置。 
注意事项 
无。 
输入参数说明 
标识|名称|类型|说明
---|---|---|---
dgt|被分析号码|参数可选性: 任选参数类型: 字符串参数范围: 1-20|参数作用：本参数用于设置AMF需要分析转换的UE的号码。在MO-LR流程中，如果UE携带mlc-Number参数，AMF上需要配置此UE的号码与GMLC的对应关系，AMF根据此参数来匹配配置的对应关系，获得GMLC信息。修改影响：修改本参数，会使分析转换获得的GMLC信息发生变化。数据来源：UE中携带的mlc-Number参数。配置原则：根据运营商需求规划。
输出参数说明 
标识|名称|类型|说明
---|---|---|---
dgt|被分析号码|参数可选性: 任选参数类型: 字符串参数范围: 1-20|参数作用：本参数用于设置AMF需要分析转换的UE的号码。在MO-LR流程中，如果UE携带mlc-Number参数，AMF上需要配置此UE的号码与GMLC的对应关系，AMF根据此参数来匹配配置的对应关系，获得GMLC信息。修改影响：修改本参数，会使分析转换获得的GMLC信息发生变化。数据来源：UE中携带的mlc-Number参数。配置原则：根据运营商需求规划。
gmlcnfid|GMLC实例标识|参数可选性: 任选参数类型: 字符串参数范围: 0-36|参数作用：本参数用于设置被分析号码对应的GMLC标识，此标识为GMLC的NfInstanceId。修改影响：修改本参数，被分析号码对应的GMLC的NfInstanceId标识将发生改变，被分析号码和其对应的GMLC标识的映射关系将发生变化。数据来源：本端配置。配置原则：根据运营商需求规划。
命令举例 
`
查询所有的GMLC分析配置。
SHOW GMLCANALYCFG:
(No.1) : SHOW GMLCANALYCFG:
---------------------Namf_Location_0-------------------
被分析号码    GMLC实例标识
-------------------------------------------------------
13990300000   33333333-7dec-11d0-a765-111111111111            
13990300001   33333333-7dec-11d0-a765-111111111112
13990300002   33333333-7dec-11d0-a765-111111111113                                      
-------------------------------------------------------
记录数：3
执行成功开始时间:2021-08-02 20:10:35 耗时:0.128 秒
` 
## NF发现和选择 
## NF发现和选择 
背景知识 
AMF执行业务流程时要和周边NF进行交互，交互前要发现和选择对应的NF。 
功能说明 
AMF执行业务流程时要和周边NF进行交互，交互前要发现和选择对应的NF。 
子主题： 
### NF发现策略配置 
### NF发现策略配置 
背景知识 
AMF Location服务和远端的NRF进行消息交互，发现和选择各NF时，消息量大，AMF需要将NRF查询结果缓存到本地，以有效的减少网络中的信令量。 
功能说明 
本功能用于配置AMF Location服务是否缓存NRF发现的结果。 
子主题： 
#### 查询结果缓存配置 
#### 查询结果缓存配置 
背景知识 
在5GC网络中，AMF Location服务通过NRF（网络功能仓储）发现某个NF服务后，可以选择将该发现结果缓存到本地。在该NF的发现结果有效周期内，需要再次发现该NF时，将不再到远端NRF上进行发现，而是直接从本地缓存中得到发现结果。 
功能说明 
本功能用于配置AMF Location服务是否缓存NRF发现的结果。 
子主题： 
##### 修改发现结果是否缓存配置(SET LOCNFDISCOVERYRESULTCACHED) 
##### 修改发现结果是否缓存配置(SET LOCNFDISCOVERYRESULTCACHED) 
功能说明 
该命令用于开启或关闭NRF发现结果缓存功能。 
开启此功能可有效的减少AMF和NRF之间的信令交互数量，降低网络信令负荷。 
注意事项 
AMF Location服务开启NRF发现结果缓存功能之后，并非每次都实时向NRF查询，因此如果NRF侧信息有变化，需要主动向AMF更新缓存，避免AMF使用旧的缓存。
输入参数说明 
标识|名称|类型|说明
---|---|---|---
nfDiscResultCached|发现结果是否缓存|参数可选性: 必选参数类型: 枚举，参见枚举定义参数范围: 0-1默认值: DISCOVERYRESULTCACHED|该参数用于配置AMF Location服务是否缓存NRF发现的结果。
命令举例 
`
设置AMF Location服务支持缓存NRF发现结果。
SET LOCNFDISCOVERYRESULTCACHED:NFDISCRESULTCACHED="DISCOVERYRESULTCACHED"
` 
##### 查询发现结果是否缓存配置(SHOW LOCNFDISCOVERYRESULTCACHED) 
##### 查询发现结果是否缓存配置(SHOW LOCNFDISCOVERYRESULTCACHED) 
功能说明 
该命令用于查询AMF是否开启了NRF发现结果缓存功能。 
注意事项 
无。
输出参数说明 
标识|名称|类型|说明
---|---|---|---
nfDiscResultCached|发现结果是否缓存|参数可选性: 任选参数类型: 枚举，参见枚举定义参数范围: 0-1默认值: DISCOVERYRESULTCACHED|该参数用于配置AMF Location服务是否缓存NRF发现的结果。
命令举例 
`
查询AMF Location服务是否支持缓存NRF发现结果。
SHOW LOCNFDISCOVERYRESULTCACHED
(No.1) : SHOW LOCNFDISCOVERYRESULTCACHED:
-----------------Namf_Communication_0----------------
发现结果是否缓存
不缓存
记录数：1
执行成功耗时: 0.932 秒
` 
## 增强功能 
## 增强功能 
背景知识 
3GPP协议中，规定了对不同的网络运营过程中可以根据实际情况配置不同的参数，以及运营商可以针对网络配置一些定制功能。 
功能说明 
增强功能提供定时器参数的配置和软件参数配置。 
子主题： 
### Location定时器配置 
### Location定时器配置 
背景知识 
 本功能用于Location服务上设置NRF Client等待发现响应，定位过程中等待LMF determine响应等一系列有名定时器时长。 
功能说明 
本功能用于Location服务上设置NRF Client等待发现响应，定位过程中等待LMF determine响应等一系列有名定时器时长。 
子主题： 
#### 修改AMF有名定时器时长配置(SET LOCDEFPRETIMER) 
#### 修改AMF有名定时器时长配置(SET LOCDEFPRETIMER) 
功能说明 
该命令用于修改AMF有名定时器的时长配置。 
注意事项 
无。 
输入参数说明 
标识|名称|类型|说明
---|---|---|---
ID|ID|参数可选性: 必选参数类型: 数字|每个索引(ID)对应一个有名定时器，有不同的含义。索引1对应的有名定时器参数名称：AMF NRF Client在NRF发现流程中等待HTTP响应时长，宏名定义：AMF_NRF_CLIENT_WAIT_HTTP_RESP_TIMER。索引2对应的有名定时器参数名称：等待 LMF 的 determine location响应时长，宏名定义：AMF_WAIT_LMF_DETERMINE_RESP_TIMER。索引3对应的有名定时器参数名称：等待NRF发现响应时长，宏名定义：AMF_WAIT_NRF_DISCOVER_TIMER。索引4对应的有名定时器参数名称：AMF等待CDB查询响应时长，宏名定义：AMF_WAIT_CDB_LOOKUP_RSP_TIMER。索引5对应的有名定时器参数名称：等待 GMLC 的 eventNotify应答时长，宏名定义：AMF_WAIT_EVENT_NOTIFY_ACK_TIMER。索引6对应的有名定时器参数名称：等待 GMLC 的 locationUpdate应答时长，宏名定义：AMF_WAIT_GMLC_LOCATION_UPDATE_RESP_TIMER。ID、参数名称、宏名定义三者是固定关系，在修改定时器参数值时，不要修改参数名称和宏名定义。
VALUE|当前时长(ms)|参数可选性: 任选参数类型: 数字|本参数用于设置定时器当前取值。
输出参数说明 
标识|名称|类型|说明
---|---|---|---
ID|ID|参数可选性: 任选参数类型: 数字|每个索引(ID)对应一个有名定时器，有不同的含义。索引1对应的有名定时器参数名称：AMF NRF Client在NRF发现流程中等待HTTP响应时长，宏名定义：AMF_NRF_CLIENT_WAIT_HTTP_RESP_TIMER。索引2对应的有名定时器参数名称：等待 LMF 的 determine location响应时长，宏名定义：AMF_WAIT_LMF_DETERMINE_RESP_TIMER。索引3对应的有名定时器参数名称：等待NRF发现响应时长，宏名定义：AMF_WAIT_NRF_DISCOVER_TIMER。索引4对应的有名定时器参数名称：AMF等待CDB查询响应时长，宏名定义：AMF_WAIT_CDB_LOOKUP_RSP_TIMER。索引5对应的有名定时器参数名称：等待 GMLC 的 eventNotify应答时长，宏名定义：AMF_WAIT_EVENT_NOTIFY_ACK_TIMER。索引6对应的有名定时器参数名称：等待 GMLC 的 locationUpdate应答时长，宏名定义：AMF_WAIT_GMLC_LOCATION_UPDATE_RESP_TIMER。ID、参数名称、宏名定义三者是固定关系，在修改定时器参数值时，不要修改参数名称和宏名定义。
VALUE|当前时长(ms)|参数可选性: 任选参数类型: 数字|本参数用于设置定时器当前取值。
DEFAULTVALUE|默认时长(ms)|参数可选性: 任选参数类型: 数字|本参数用于设置定时器默认取值。
MINVALUE|最小时长(ms)|参数可选性: 任选参数类型: 数字|本参数用于设置定时器最小值。
MAXVALUE|最大时长(ms)|参数可选性: 任选参数类型: 数字|本参数用于设置定时器最大值。
DESC|定时器名称|参数可选性: 任选参数类型: 字符串参数范围: 0-180|本参数用于设置定时器的名称，代表每个定时器的含义。
MACRODEFINE|定时器宏名|参数可选性: 任选参数类型: 字符串参数范围: 0-180|本参数用于设置定时器的宏名，设置宏名是为了便于识别定时器。
命令举例 
`
设置ID为1的有名定时器，取值为5s。
SET LOCDEFPRETIMER:ID=1,VALUE=5000
` 
#### 查询AMF有名定时器时长配置(SHOW LOCDEFPRETIMER) 
#### 查询AMF有名定时器时长配置(SHOW LOCDEFPRETIMER) 
功能说明 
该命令用于查询AMF当前设置的有名定时器时长。 
注意事项 
无。 
输入参数说明 
标识|名称|类型|说明
---|---|---|---
ID|ID|参数可选性: 任选参数类型: 数字|每个索引(ID)对应一个有名定时器，有不同的含义。索引1对应的有名定时器参数名称：AMF NRF Client在NRF发现流程中等待HTTP响应时长，宏名定义：AMF_NRF_CLIENT_WAIT_HTTP_RESP_TIMER。索引2对应的有名定时器参数名称：等待 LMF 的 determine location响应时长，宏名定义：AMF_WAIT_LMF_DETERMINE_RESP_TIMER。索引3对应的有名定时器参数名称：等待NRF发现响应时长，宏名定义：AMF_WAIT_NRF_DISCOVER_TIMER。索引4对应的有名定时器参数名称：AMF等待CDB查询响应时长，宏名定义：AMF_WAIT_CDB_LOOKUP_RSP_TIMER。索引5对应的有名定时器参数名称：等待 GMLC 的 eventNotify应答时长，宏名定义：AMF_WAIT_EVENT_NOTIFY_ACK_TIMER。索引6对应的有名定时器参数名称：等待 GMLC 的 locationUpdate应答时长，宏名定义：AMF_WAIT_GMLC_LOCATION_UPDATE_RESP_TIMER。ID、参数名称、宏名定义三者是固定关系，在修改定时器参数值时，不要修改参数名称和宏名定义。
输出参数说明 
标识|名称|类型|说明
---|---|---|---
ID|ID|参数可选性: 任选参数类型: 数字|每个索引(ID)对应一个有名定时器，有不同的含义。索引1对应的有名定时器参数名称：AMF NRF Client在NRF发现流程中等待HTTP响应时长，宏名定义：AMF_NRF_CLIENT_WAIT_HTTP_RESP_TIMER。索引2对应的有名定时器参数名称：等待 LMF 的 determine location响应时长，宏名定义：AMF_WAIT_LMF_DETERMINE_RESP_TIMER。索引3对应的有名定时器参数名称：等待NRF发现响应时长，宏名定义：AMF_WAIT_NRF_DISCOVER_TIMER。索引4对应的有名定时器参数名称：AMF等待CDB查询响应时长，宏名定义：AMF_WAIT_CDB_LOOKUP_RSP_TIMER。索引5对应的有名定时器参数名称：等待 GMLC 的 eventNotify应答时长，宏名定义：AMF_WAIT_EVENT_NOTIFY_ACK_TIMER。索引6对应的有名定时器参数名称：等待 GMLC 的 locationUpdate应答时长，宏名定义：AMF_WAIT_GMLC_LOCATION_UPDATE_RESP_TIMER。ID、参数名称、宏名定义三者是固定关系，在修改定时器参数值时，不要修改参数名称和宏名定义。
VALUE|当前时长(ms)|参数可选性: 任选参数类型: 数字|本参数用于设置定时器当前取值。
DEFAULTVALUE|默认时长(ms)|参数可选性: 任选参数类型: 数字|本参数用于设置定时器默认取值。
MINVALUE|最小时长(ms)|参数可选性: 任选参数类型: 数字|本参数用于设置定时器最小值。
MAXVALUE|最大时长(ms)|参数可选性: 任选参数类型: 数字|本参数用于设置定时器最大值。
DESC|定时器名称|参数可选性: 任选参数类型: 字符串参数范围: 0-180|本参数用于设置定时器的名称，代表每个定时器的含义。
MACRODEFINE|定时器宏名|参数可选性: 任选参数类型: 字符串参数范围: 0-180|本参数用于设置定时器的宏名，设置宏名是为了便于识别定时器。
命令举例 
`
查询ID1对应的有名定时器取值。
SHOW LOCDEFPRETIMER:ID=1
SHOW LOCDEFPRETIMER:ID=1
--------------------------------------------------------Namf_Location_0--------------------------------------------------------------------
ID         当前时长(ms)      默认时长(ms)     最小时长(ms)     最大时长(ms)        定时器名称          定时器宏名
-------------------------------------------------------------------------------------------------------------------------------------------
1           5000             2000             1000             15000             等待 HTTP 响应时长  AMF_NRF_CLIENT_WAIT_HTTP_RESP_TIMER
-------------------------------------------------------------------------------------------------------------------------------------------            
记录数：1       
执行成功耗时: 0.421 秒
` 
### Location软件参数配置 
### Location软件参数配置 
背景知识 
本功能用于配置Location服务内部优化的功能。在不同的场景，根据需要是否启用这些功能。 
功能说明 
本功能用于配置内部优化功能的开关。 
子主题： 
#### 新增Location软件参数配置(ADD LOC SOFTWARE PARAMETER) 
#### 新增Location软件参数配置(ADD LOC SOFTWARE PARAMETER) 
功能说明 
该命令用于新增AMF的Location服务内部的一些功能参数，主要涉及非协议明确要求的、在IOT（Interoperability Test，互操作测试）过程中需要处理的第三方厂家的功能、中兴通讯根据自身产品的特点需要优化的功能。 
注意事项 
无。 
输入参数说明 
标识|名称|类型|说明
---|---|---|---
ID|软参索引|参数可选性: 必选参数类型: 数字|该参数用于设置软件参数编号，每个软参索引对应一个参数，有不同的含义。参数1：该参数用于控制ISSU升级时Location虚机的升级步长，默认值是1，范围是[1，25]。参数2：该软参用于控制选择GMLC/LMF时，是否支持NF级别的重选。默认是。参数3：该软参用于设置Location服务定位上下文老化时长，单位：小时。默认24小时。参数4：该软参用于控制定位流程中生成LCS关联ID是否只允许存在小写字母。默认是。参数5：该软件参数用于控制HTTP头中的ContentType multipart/related是否修正为小写字母。默认是。参数6：该软参用于控制发送NRF发现请求时选择SBIGW SC的方式。默认按SBIGW群发送。参数7：6号软参为1时，该软参用于控制最大可以使用的SBIGW SC数。默认取Location SC的最大个数。参数201：该软参用于控制NFProfile中IP地址对应的端口使用默认端口还是服务对应端口 。取值为：0 - 使用服务对应端口；1 - 使用默认端口； 默认使用服务对应端口。参数202-220为保留软参。
VALUE|当前参数值|参数可选性: 必选参数类型: 数字|该参数用于设置软件参数当前取值。
DEFAULTVALUE|默认参数值|参数可选性: 必选参数类型: 数字|该参数用于设置软件参数默认取值。
MINVALUE|参数最小值|参数可选性: 必选参数类型: 数字|该参数用于设置软件参数最小值。
MAXVALUE|参数最大值|参数可选性: 必选参数类型: 数字|该参数用于设置软件参数最大值。
NAME|参数名称|参数可选性: 必选参数类型: 字符串参数范围: 0-180|该参数用于设置软参的名称，代表每个软参的含义。
REMARK|备注|参数可选性: 任选参数类型: 字符串参数范围: 0-180|该参数用于设置参数取值的具体含义介绍。
命令举例 
`
新增Location软件参数配置，软参索引为99，当前参数值为1，默认参数值为1，参数最小值为0，参数最大值为1，参数名称为“保留软参99”。
ADD LOC SOFTWARE PARAMETER:ID=99,VALUE=1,DEFAULTVALUE=1,MINVALUE=0,MAXVALUE=1,NAME="spareSoftwareParameter99"
` 
#### 删除Location软件参数配置(DEL LOC SOFTWARE PARAMETER) 
#### 删除Location软件参数配置(DEL LOC SOFTWARE PARAMETER) 
功能说明 
该命令用于删除AMF的Location服务内部的一些功能参数，主要涉及非协议明确要求的、在IOT（Interoperability Test，互操作测试）过程中需要处理的第三方厂家的功能、中兴通讯根据自身产品的特点需要优化的功能。 
注意事项 
 
本命令执行后，配置立即生效。 
 
该命令为高危命令！删除已有软参可能影响业务功能，具体影响需要根据所删除软参涉及的功能来进行判断，需要在中兴通讯技术支持的指导下进行操作，请勿擅自删除。 
 
输入参数说明 
标识|名称|类型|说明
---|---|---|---
ID|软参索引|参数可选性: 必选参数类型: 数字|该参数用于设置软件参数编号，每个软参索引对应一个参数，有不同的含义。参数1：该参数用于控制ISSU升级时Location虚机的升级步长，默认值是1，范围是[1，25]。参数2：该软参用于控制选择GMLC/LMF时，是否支持NF级别的重选。默认是。参数3：该软参用于设置Location服务定位上下文老化时长，单位：小时。默认24小时。参数4：该软参用于控制定位流程中生成LCS关联ID是否只允许存在小写字母。默认是。参数5：该软件参数用于控制HTTP头中的ContentType multipart/related是否修正为小写字母。默认是。参数6：该软参用于控制发送NRF发现请求时选择SBIGW SC的方式。默认按SBIGW群发送。参数7：6号软参为1时，该软参用于控制最大可以使用的SBIGW SC数。默认取Location SC的最大个数。参数201：该软参用于控制NFProfile中IP地址对应的端口使用默认端口还是服务对应端口 。取值为：0 - 使用服务对应端口；1 - 使用默认端口； 默认使用服务对应端口。参数202-220为保留软参。
命令举例 
`
删除软参索引为99的Location软件参数配置。
DEL LOC SOFTWARE PARAMETER:ID=99
` 
#### 设置Location软件参数配置(SET LOC SOFTWARE PARAMETER) 
#### 设置Location软件参数配置(SET LOC SOFTWARE PARAMETER) 
功能说明 
该命令用于设置AMF的Location服务内部的一些功能参数，主要涉及非协议明确要求的、在IOT（Interoperability Test，互操作测试）过程中需要处理的第三方厂家的功能、中兴通讯根据自身产品的特点需要优化的功能。 
注意事项 
无。 
输入参数说明 
标识|名称|类型|说明
---|---|---|---
ID|软参索引|参数可选性: 必选参数类型: 数字|该参数用于设置软件参数编号，每个软参索引对应一个参数，有不同的含义。参数1：该参数用于控制ISSU升级时Location虚机的升级步长，默认值是1，范围是[1，25]。参数2：该软参用于控制选择GMLC/LMF时，是否支持NF级别的重选。默认是。参数3：该软参用于设置Location服务定位上下文老化时长，单位：小时。默认24小时。参数4：该软参用于控制定位流程中生成LCS关联ID是否只允许存在小写字母。默认是。参数5：该软件参数用于控制HTTP头中的ContentType multipart/related是否修正为小写字母。默认是。参数6：该软参用于控制发送NRF发现请求时选择SBIGW SC的方式。默认按SBIGW群发送。参数7：6号软参为1时，该软参用于控制最大可以使用的SBIGW SC数。默认取Location SC的最大个数。参数201：该软参用于控制NFProfile中IP地址对应的端口使用默认端口还是服务对应端口 。取值为：0 - 使用服务对应端口；1 - 使用默认端口； 默认使用服务对应端口。参数202-220为保留软参。
VALUE|当前参数值|参数可选性: 任选参数类型: 数字|该参数用于设置软件参数当前取值。
NAME|参数名称|参数可选性: 任选参数类型: 字符串参数范围: 0-180|该参数用于设置软参的名称，代表每个软参的含义。
命令举例 
`
设置Location软件参数配置，软参索引为1，当前参数值为1。即ISSU升级时Location虚机升级步长为1。
SET LOC SOFTWARE PARAMETER:ID=1,VALUE=1
` 
#### 查询Location软件参数配置(SHOW LOC SOFTWARE PARAMETER) 
#### 查询Location软件参数配置(SHOW LOC SOFTWARE PARAMETER) 
功能说明 
该命令用于查看当前参数的设定情况。 
注意事项 
无。 
输入参数说明 
标识|名称|类型|说明
---|---|---|---
ID|软参索引|参数可选性: 任选参数类型: 数字|该参数用于设置软件参数编号，每个软参索引对应一个参数，有不同的含义。参数1：该参数用于控制ISSU升级时Location虚机的升级步长，默认值是1，范围是[1，25]。参数2：该软参用于控制选择GMLC/LMF时，是否支持NF级别的重选。默认是。参数3：该软参用于设置Location服务定位上下文老化时长，单位：小时。默认24小时。参数4：该软参用于控制定位流程中生成LCS关联ID是否只允许存在小写字母。默认是。参数5：该软件参数用于控制HTTP头中的ContentType multipart/related是否修正为小写字母。默认是。参数6：该软参用于控制发送NRF发现请求时选择SBIGW SC的方式。默认按SBIGW群发送。参数7：6号软参为1时，该软参用于控制最大可以使用的SBIGW SC数。默认取Location SC的最大个数。参数201：该软参用于控制NFProfile中IP地址对应的端口使用默认端口还是服务对应端口 。取值为：0 - 使用服务对应端口；1 - 使用默认端口； 默认使用服务对应端口。参数202-220为保留软参。
输出参数说明 
标识|名称|类型|说明
---|---|---|---
ID|软参索引|参数可选性: 任选参数类型: 数字|该参数用于设置软件参数编号，每个软参索引对应一个参数，有不同的含义。参数1：该参数用于控制ISSU升级时Location虚机的升级步长，默认值是1，范围是[1，25]。参数2：该软参用于控制选择GMLC/LMF时，是否支持NF级别的重选。默认是。参数3：该软参用于设置Location服务定位上下文老化时长，单位：小时。默认24小时。参数4：该软参用于控制定位流程中生成LCS关联ID是否只允许存在小写字母。默认是。参数5：该软件参数用于控制HTTP头中的ContentType multipart/related是否修正为小写字母。默认是。参数6：该软参用于控制发送NRF发现请求时选择SBIGW SC的方式。默认按SBIGW群发送。参数7：6号软参为1时，该软参用于控制最大可以使用的SBIGW SC数。默认取Location SC的最大个数。参数201：该软参用于控制NFProfile中IP地址对应的端口使用默认端口还是服务对应端口 。取值为：0 - 使用服务对应端口；1 - 使用默认端口； 默认使用服务对应端口。参数202-220为保留软参。
VALUE|当前参数值|参数可选性: 任选参数类型: 数字|该参数用于显示软件参数当前取值。
DEFAULTVALUE|默认参数值|参数可选性: 任选参数类型: 数字|该参数用于显示软件参数默认取值。
MINVALUE|参数最小值|参数可选性: 任选参数类型: 数字|该参数用于显示软件参数最小值。
MAXVALUE|参数最大值|参数可选性: 任选参数类型: 数字|该参数用于显示软件参数最大值。
NAME|参数名称|参数可选性: 任选参数类型: 字符串参数范围: 0-180|该参数用于显示软参的名称，代表每个软参的含义。
REMARK|备注|参数可选性: 任选参数类型: 字符串参数范围: 0-180|该参数用于显示参数取值的具体含义介绍。
命令举例 
`
查询软参索引为1的Location软件参数配置数据。
SHOW LOC SOFTWARE PARAMETER:
(No.1) : SHOW LOC SOFTWARE PARAMETER:ID=1
-----------------Namf_Location_0----------------
操作维护       软参索引 当前参数值 默认参数值 参数最小值 参数最大值 参数名称                       备注 
--------------------------------------------------------------------------------------------------------
修改           1        1          1          1          25         ISSU升级时Location虚机升级步长 个数 
--------------------------------------------------------------------------------------------------------
记录数：1
执行成功开始时间:2021-05-13 19:55:11 耗时: 0.142 秒
` 
### Location内部定时器配置 
### Location内部定时器配置 
背景知识 
 本功能用于Location服务上设置内部定时器时长。 
功能说明 
本功能用于Location服务上设置内部定时器时长。 
子主题： 
#### 修改AMF内部定时器时长配置(SET LOCINNERTIMER) 
#### 修改AMF内部定时器时长配置(SET LOCINNERTIMER) 
功能说明 
该命令用于修改AMF内部定时器的时长配置。 
注意事项 
无。 
输入参数说明 
标识|名称|类型|说明
---|---|---|---
ID|ID|参数可选性: 必选参数类型: 数字|每个索引(ID)对应一个内部定时器，有不同的含义。索引1对应的内部定时器参数名称：MT-LR流程等communication响应，宏名定义：AMF_WAIT_LOCATION_RESP_TIMER。索引2对应的内部定时器参数名称：provideLoc流程等communication响应，宏名定义：AMF_WAIT_PROVIDE_LOC_INFO_RESP_TIMER。ID、参数名称、宏名定义三者是固定关系，在修改定时器参数值时，不要修改参数名称和宏名定义。
VALUE|当前时长(ms)|参数可选性: 任选参数类型: 数字|本参数用于设置定时器当前取值。
输出参数说明 
标识|名称|类型|说明
---|---|---|---
ID|ID|参数可选性: 任选参数类型: 数字|每个索引(ID)对应一个内部定时器，有不同的含义。索引1对应的内部定时器参数名称：MT-LR流程等communication响应，宏名定义：AMF_WAIT_LOCATION_RESP_TIMER。索引2对应的内部定时器参数名称：provideLoc流程等communication响应，宏名定义：AMF_WAIT_PROVIDE_LOC_INFO_RESP_TIMER。ID、参数名称、宏名定义三者是固定关系，在修改定时器参数值时，不要修改参数名称和宏名定义。
VALUE|当前时长(ms)|参数可选性: 任选参数类型: 数字|本参数用于设置定时器当前取值。
DEFAULTVALUE|默认时长(ms)|参数可选性: 任选参数类型: 数字|本参数用于设置定时器默认取值。
MINVALUE|最小时长(ms)|参数可选性: 任选参数类型: 数字|本参数用于设置定时器最小值。
MAXVALUE|最大时长(ms)|参数可选性: 任选参数类型: 数字|本参数用于设置定时器最大值。
DESC|定时器名称|参数可选性: 任选参数类型: 字符串参数范围: 0-180|本参数用于设置定时器的名称，代表每个定时器的含义。
MACRODEFINE|定时器宏名|参数可选性: 任选参数类型: 字符串参数范围: 0-180|本参数用于设置定时器的宏名，设置宏名是为了便于识别定时器。
命令举例 
`
设置ID为1的内部定时器，取值为5s。
SET LOCINNERTIMER:ID=1,VALUE=5000
` 
#### 查询AMF内部定时器时长配置(SHOW LOCINNERTIMER) 
#### 查询AMF内部定时器时长配置(SHOW LOCINNERTIMER) 
功能说明 
该命令用于查询AMF当前设置的内部定时器时长。 
注意事项 
无。 
输入参数说明 
标识|名称|类型|说明
---|---|---|---
ID|ID|参数可选性: 任选参数类型: 数字|每个索引(ID)对应一个内部定时器，有不同的含义。索引1对应的内部定时器参数名称：MT-LR流程等communication响应，宏名定义：AMF_WAIT_LOCATION_RESP_TIMER。索引2对应的内部定时器参数名称：provideLoc流程等communication响应，宏名定义：AMF_WAIT_PROVIDE_LOC_INFO_RESP_TIMER。ID、参数名称、宏名定义三者是固定关系，在修改定时器参数值时，不要修改参数名称和宏名定义。
输出参数说明 
标识|名称|类型|说明
---|---|---|---
ID|ID|参数可选性: 任选参数类型: 数字|每个索引(ID)对应一个内部定时器，有不同的含义。索引1对应的内部定时器参数名称：MT-LR流程等communication响应，宏名定义：AMF_WAIT_LOCATION_RESP_TIMER。索引2对应的内部定时器参数名称：provideLoc流程等communication响应，宏名定义：AMF_WAIT_PROVIDE_LOC_INFO_RESP_TIMER。ID、参数名称、宏名定义三者是固定关系，在修改定时器参数值时，不要修改参数名称和宏名定义。
VALUE|当前时长(ms)|参数可选性: 任选参数类型: 数字|本参数用于设置定时器当前取值。
DEFAULTVALUE|默认时长(ms)|参数可选性: 任选参数类型: 数字|本参数用于设置定时器默认取值。
MINVALUE|最小时长(ms)|参数可选性: 任选参数类型: 数字|本参数用于设置定时器最小值。
MAXVALUE|最大时长(ms)|参数可选性: 任选参数类型: 数字|本参数用于设置定时器最大值。
DESC|定时器名称|参数可选性: 任选参数类型: 字符串参数范围: 0-180|本参数用于设置定时器的名称，代表每个定时器的含义。
MACRODEFINE|定时器宏名|参数可选性: 任选参数类型: 字符串参数范围: 0-180|本参数用于设置定时器的宏名，设置宏名是为了便于识别定时器。
命令举例 
`
查询ID为1对应的内部定时器取值。
SHOW LOCINNERTIMER:ID=1
SHOW LOCINNERTIMER:ID=1
--------------------------------------------------------Namf_Location_0--------------------------------------------------------------------
ID         当前时长(ms)      默认时长(ms)     最小时长(ms)     最大时长(ms)          定时器名称                   定时器宏名
-------------------------------------------------------------------------------------------------------------------------------------------
1           5000             30000             1000             120000             MT-LR流程等communication响应  EV_WAIT_LOCATION_RESP_TIMER
-------------------------------------------------------------------------------------------------------------------------------------------            
记录数：1       
执行成功耗时: 0.421 秒
` 
动态管理 : 
动态管理 : 
背景知识 
动态管理即动态数据管理，是设备维护中的一个重要组成模块，完成对网元某些关键资源（如信令链路、路由局向等）的状态查询和管理控制（如激活、去活、闭塞和解闭塞等），为整个系统的调试和系统管理提供了必要的技术手段。 
功能说明 
动态管理即动态数据管理，完成对网元某些关键资源的状态查询和管理控制。 
子主题： 
调测信息采集 : 
调测信息采集 : 
背景知识 
在系统调试过程中，需要采集系统的运行信息，可提供给运维人员进行分析，达到监测系统是否正常的目的。 
功能说明 
使用本功能可以进行系统调测信息采集。 
子主题： 
#### 模块内部统计信息 
#### 模块内部统计信息 
背景知识 
业务前台有大量的内部统计，用于开发维护人员更详细的知悉系统运行状况、性能话务情况等，但是这些内部统计的采集获取很不方便。 
功能说明 
开启内部统计上报后，前台会将内部统计数据周期性的上报给后台网管，后台网管保存在硬盘目录，供开发维护人员查询分析，这样就方便更好的监控了解系统运行状况、性能话务情况等。 
子主题： 
##### 清理模块内部统计信息(CLEAR DEBUG INFO) 
##### 清理模块内部统计信息(CLEAR DEBUG INFO) 
功能说明 
该命令用于清理其归属NFS内模块的调测信息。当需要获取新的调测信息前，先执行该命令。 
注意事项 
获取新的调测信息前可以先执行该命令，该命令返回的“失败数量”为非0则需要联系中兴通讯技术人员支持；为0则可获取新的调测信息。 
输入参数说明 
标识|名称|类型|说明
---|---|---|---
MODULE_NAME|模块名称|参数可选性: 任选参数类型: 字符串参数范围: 1-47|该参数用于表示需要清除调测信息的模块名称。该参数选项的含义是：默认为空：表示清除NFS内所有的调测信息。非空：表示清除指定模块的调测信息，可由 SHOW DEBUG MODULELIST命令获取模块名称。
输出参数说明 
标识|名称|类型|说明
---|---|---|---
MODULE_NUMBER|模块实例数量|参数可选性: 必选参数类型: 数字参数范围: 0-4294967295|该参数用于表示清理的模块实例总数量。
SUCCESS_NUMBER|成功数量|参数可选性: 必选参数类型: 数字参数范围: 0-4294967295|该参数用于表示清理成功的模块实例数量。
FAILED_NUMBER|失败数量|参数可选性: 必选参数类型: 数字参数范围: 0-4294967295|该参数用于表示清理失败的模块实例数量。
命令举例 
`
清理名称为ROSNG_ADAPT的模块的调测信息。
CLEAR DEBUG INFO:MODULE_NAME="ROSNG_ADAPT"
` 
##### 查询含有Debug信息的模块列表(SHOW DEBUG MODULELIST) 
##### 查询含有Debug信息的模块列表(SHOW DEBUG MODULELIST) 
功能说明 
该命令用于查询其归属的NFS内含有调测信息的模块列表。当运维人员需要收集或者清除指定模块的调试信息时，可以执行该命令查询含有调测信息的模块名称。 
注意事项 
无。 
输出参数说明 
标识|名称|类型|说明
---|---|---|---
MODULE_NAME|模块名|参数可选性: 必选参数类型: 字符串参数范围: 1-47|该参数用于表示支持统计信息的模块名称。
MODULE_INST|模块实例数|参数可选性: 必选参数类型: 数字参数范围: 0-4294967295|该参数用于表示支持统计信息的模块实例数。
命令举例 
`
查询某个NFS中含有调试统计信息的模块列表。
 SHOW DEBUG MODULELIST
------CommonS_TMSP_0--------
模块名         模块实例数
ROSNG_ADAPT    1
ROSNG_ARCH     1
记录数：2
执行成功耗时: 0.259 秒
` 
#### 查看数据区占用率 
#### 查看数据区占用率 
背景知识 
实现深度巡检，AMF的每个微服务（组件）需要支持查询数据区占用率的功能。 
功能说明 
本功能用于操作员查询AMF的各个微服务的buffer/调度/Transaction等资源情况。 
子主题： 
##### 查询资源占用(SHOW LOC DATAUSAGE) 
##### 查询资源占用(SHOW LOC DATAUSAGE) 
功能说明 
该命令用于查询AMF的Location组件上的资源的占用信息。 
注意事项 
无。
输出参数说明 
标识|名称|类型|说明
---|---|---|---
searchResult|查询结果|参数可选性: 必选参数类型: 枚举，参见枚举定义默认值: SUCCESS|本参数表示命令的查询结果。
scName|SC ID|参数可选性: 必选参数类型: 字符串参数范围: 0-100|本参数为系统内部显示参数。
scheduler|Scheduler|参数可选性: 必选参数类型: 字符串参数范围: 0-20|本参数为系统内部显示参数。
transaction|Transaction|参数可选性: 必选参数类型: 字符串参数范围: 0-20|本参数为系统内部显示参数。
smallcacheEventQueueBuffer|SmallCacheEventQueue Buffer|参数可选性: 必选参数类型: 字符串参数范围: 0-20|本参数为系统内部显示参数。
mediumcacheEventQueueBuffer|MediumCacheEventQueue Buffer|参数可选性: 必选参数类型: 字符串参数范围: 0-20|本参数为系统内部显示参数。
largecacheEventQueueBuffer|LargeCacheEventQueue Buffer|参数可选性: 必选参数类型: 字符串参数范围: 0-20|本参数为系统内部显示参数。
smallBuffer|Small Buffer|参数可选性: 必选参数类型: 字符串参数范围: 0-20|本参数为系统内部显示参数。
mediumBuffer|Medium Buffer|参数可选性: 必选参数类型: 字符串参数范围: 0-20|本参数为系统内部显示参数。
singleNfRouteSelBuffer|Single NF Route Select Buffer|参数可选性: 必选参数类型: 字符串参数范围: 0-20|本参数为系统内部显示参数。
sigTraceBuffer|SigTrace Buffer|参数可选性: 必选参数类型: 字符串参数范围: 0-20|本参数为系统内部显示参数。
命令举例 
`
查询AMF的Location组件上的资源占用信息。
SHOW LOC DATAUSAGE
(No.2) : SHOW LOC DATAUSAGE:
-----------------Namf_Location_0----------------
查询结果 
---------
成功     
---------
记录数：1
SC ID             Scheduler    Transaction   SmallCacheEventQueue Buffer  MediumCacheEventQueue Buffer LargeCacheEventQueue Buffer Small Buffer   Medium Buffer    Single NF Route Select Buffer    SigTrace Buffer
-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
sc-amf-loc-1        0              0               0                         0                                 0                      0               0                     0                             0
-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
记录数：1
执行成功开始时间:2020-12-04 17:18:49 耗时: 0.124 秒
` 
#### 查询本地数据库表 
#### 查询本地数据库表 
背景知识 
AMF基于SC，使用本地数据库存储信息，在系统调测或者运维观测时，操作人员可以使用本功能查询数据库表的情况，以便了解系统数据库运行情况，为系统调测、运维观测提供方便。 
功能说明 
本功能用于查询本地数据库中表记录数的情况。 
子主题： 
##### 查询本地数据库表(SHOW LOC LOCAL DATABASE TABLE) 
##### 查询本地数据库表(SHOW LOC LOCAL DATABASE TABLE) 
功能说明 
该命令用于查询AMF本地数据库表中的表记录数的情况。 
注意事项 
无。
输出参数说明 
标识|名称|类型|说明
---|---|---|---
RESULT|执行结果|参数可选性: 任选参数类型: 枚举，参见枚举定义参数范围: 0-1默认值: SUCCESS|该参数用于显示本命令的执行结果，显示成功或失败。
命令举例 
`
查询AMF本地数据库表记录数的情况。
SHOW LOC LOCAL DATABASE TABLE
(No.1) : SHOW LOC LOCAL DATABASE TABLE:
-----------------Namf_Location_0----------------正在执行一个异步命令，请到操作记录中查看执行结果。
` 
#### 查询UDSF数据库表 
#### 查询UDSF数据库表 
背景知识 
AMF将本地数据同步存储到UDSF数据库上，在系统调测或者运维观测时，操作人员可以查询UDSF数据库表的情况，为系统调测、运维观测提供方便。 
功能说明 
本功能用于查询UDSF数据库中表记录数的情况。 
子主题： 
##### 查询UDSF数据库表(SHOW LOC UDSF DATABASE TABLE) 
##### 查询UDSF数据库表(SHOW LOC UDSF DATABASE TABLE) 
功能说明 
该命令用于查询UDSF数据库表中的表记录数的情况。 
注意事项 
无。
输出参数说明 
标识|名称|类型|说明
---|---|---|---
RESULT|执行结果|参数可选性: 任选参数类型: 枚举，参见枚举定义参数范围: 0-1默认值: SUCCESS|该参数用于显示本命令的执行结果，显示成功或失败。
命令举例 
`
查询UDSF数据库表中的表记录数的情况。
SHOW LOC UDSF DATABASE TABLE
(No.1) : SHOW LOC UDSF DATABASE TABLE:
-----------------Namf_Location_0----------------正在执行一个异步命令，请到操作记录中查看执行结果。
` 
# Namf_ResourceManage 
## 定时器扫描控制配置 
## 定时器扫描控制配置 
背景知识 
在大量用户同时上线时，会在同一时刻触发过多的定时器，为了避免对端服务收到冲击，因此需要控制定时器消息的发送速率，避免消息数剧烈波动。 
功能说明 
本配置用于设置定时器发送速率控制相关参数，包括定时器消息发送速率、定时器消息重发间隔、定时器消息重发次数等。  
子主题： 
### 设置定时器扫描控制配置(SET TIMERSCANCTRL) 
### 设置定时器扫描控制配置(SET TIMERSCANCTRL) 
功能说明 
该命令用于设置或修改定时器扫描控制的相关参数。定时器扫描控制指控制定时器消息的发送速率，避免消息数剧烈波动。 
注意事项 
无。
输入参数说明 
标识|名称|类型|说明
---|---|---|---
msgRate|定时器消息发送速率|参数可选性: 任选参数类型: 数字参数范围: 0-10000|该参数用于设置定时器消息发送速率，默认值为2000（每秒），0表示不限制。
resendInterval|定时器消息重发间隔（秒）|参数可选性: 任选参数类型: 数字参数范围: 0-60|该参数用于设置定时器消息重发间隔，单位秒，默认值为10，0表示不重发。
resendCount|定时器消息重发次数|参数可选性: 任选参数类型: 数字参数范围: 0-10|该参数用于设置定时器消息重发次数，默认值为3，0表示一直重发。
命令举例 
`
设置定时器扫描控制配置：定时器消息发送速率为100，定时器消息重发间隔为3秒，定时器消息重发次数为3。
SET TIMERSCANCTRL:MSGRATE=100,RESENDINTERVAL=3,RESENDCOUNT=3
` 
### 查询定时器扫描控制配置(SHOW TIMERSCANCTRL) 
### 查询定时器扫描控制配置(SHOW TIMERSCANCTRL) 
功能说明 
该命令用于查看定时器扫描控制的相关参数值。  
注意事项 
无。
输出参数说明 
标识|名称|类型|说明
---|---|---|---
msgRate|定时器消息发送速率|参数可选性: 任选参数类型: 数字参数范围: 0-10000|该参数用于设置定时器消息发送速率，默认值为2000（每秒），0表示不限制。
resendInterval|定时器消息重发间隔（秒）|参数可选性: 任选参数类型: 数字参数范围: 0-60|该参数用于设置定时器消息重发间隔，单位秒，默认值为10，0表示不重发。
resendCount|定时器消息重发次数|参数可选性: 任选参数类型: 数字参数范围: 0-10|该参数用于设置定时器消息重发次数，默认值为3，0表示一直重发。
命令举例 
`
查询定时器扫描控制配置。 
SHOW TIMERSCANCTRL:
(No.1) : SHOW TIMERSCANCTRL:
-----------------Namf_Communication_0----------------
定时器消息发送速率 定时器消息重发间隔（秒） 定时器消息重发次数
100               3                       3           
记录数：1
执行成功耗时: 0.242 秒
` 
## 消息发送速率控制配置 
## 消息发送速率控制配置 
背景知识 
RM和Communication之间存在大量的消息交互，而且消息长度都比较小，进而引起性能问题，所以需要对消息进行缓存和打包之后再发送。本配置用于设置缓存和打包的相关参数 
功能说明 
本配置用于设置消息发送速率控制相关参数，包括消息发送速率、消息重发次数、消息缓存最大数目。  
子主题： 
### 设置消息发送速率控制配置(SET RM MESSAGERATECTRL) 
### 设置消息发送速率控制配置(SET RM MESSAGERATECTRL) 
功能说明 
该命令用于设置或修改消息发送速率控制相关参数。 
目的是提高服务之间通讯的性能和稳定性、避免波动。 
注意事项 
无。 
输入参数说明 
标识|名称|类型|说明
---|---|---|---
msgRate|消息发送速率(包/秒)|参数可选性: 任选参数类型: 数字参数范围: 0-10000|该参数用于设置消息发送速率，默认值为2000（单位：包/秒），0表示不限制。
resendCount|消息重发次数|参数可选性: 任选参数类型: 数字参数范围: 0-10|该参数用于设置消息重发次数，默认值为3，0表示一直重发。
cacheMaxCount|消息缓存最大数目|参数可选性: 任选参数类型: 数字参数范围: 0-100000|该参数用于设置消息缓存最大数目，默认值为10000。
命令举例 
`
设置消息发送速率控制：消息发送速率为500包/秒，消息重发次数为3。
SET RM MESSAGERATECTRL:MSGRATE=500,RESENDCOUNT=3
` 
### 查询消息发送速率控制配置(SHOW RM MESSAGERATECTRL) 
### 查询消息发送速率控制配置(SHOW RM MESSAGERATECTRL) 
功能说明 
该命令用于查看消息发送速率控制相关参数值。  
注意事项 
无。 
输出参数说明 
标识|名称|类型|说明
---|---|---|---
msgRate|消息发送速率(包/秒)|参数可选性: 任选参数类型: 数字参数范围: 0-10000|该参数用于显示消息发送速率，默认值为2000（单位：包/秒），0表示不限制。
resendCount|消息重发次数|参数可选性: 任选参数类型: 数字参数范围: 0-10|该参数用于显示消息重发次数，默认值为3，0表示一直重发。
cacheMaxCount|消息缓存最大数目|参数可选性: 任选参数类型: 数字参数范围: 0-100000|该参数用于显示消息缓存最大数目，默认值为10000。
命令举例 
`
查询消息发送速率控制配置。 
SHOW RM MESSAGERATECTRL:
SHOW RM MESSAGERATECTRL:
-----------------Namf_ResourceManage_0----------------
消息发送速率　　　　消息重发次数　　　　消息缓存最大数目
------------------------------------------------------
2000               3                 10000
------------------------------------------------------
记录数：1
执行成功耗时：0.164 秒
` 
## 扫描速率配置 
## 扫描速率配置 
背景知识 
在NGAP局向状态变化时，需要批量卸载用户，因此需要对RM的用户信息进行周期性扫描。 
功能说明 
本配置用于设置全局扫描一轮的时间。 
子主题： 
### 设置扫描速率配置(SET SCANRATE) 
### 设置扫描速率配置(SET SCANRATE) 
功能说明 
该命令用于设置或修改gNodeB重启回收每秒扫描上下文记录数。 
在NG Application Protocol局向状态变化时，如局向不可用等，需要批量卸载该局向下的用户，因此需要对RM（Resouce Manage资源管理服务）的用户信息进行周期性扫描，将相关局向下的所有用户通知communiation服务进入空闲态。 
注意事项 
无。
输入参数说明 
标识|名称|类型|说明
---|---|---|---
scantuplenum|gNodeB重启回收每秒扫描上下文记录数|参数可选性: 任选参数类型: 数字参数范围: 0-65535默认值: 1000|该参数用于设置gNodeB重启回收每秒扫描上下文记录数，默认值为1000。取值范围为[0,65535]。
命令举例 
`
设置gNodeB重启回收每秒扫描上下文记录数为1500个/s。
SET SCANRATE:SCANTUPLENUM=1500
` 
### 查询扫描速率配置(SHOW SCANRATE) 
### 查询扫描速率配置(SHOW SCANRATE) 
功能说明 
该命令用于查询gNodeB重启回收每秒扫描上下文记录数 。 
注意事项 
无。
输出参数说明 
标识|名称|类型|说明
---|---|---|---
scantuplenum|gNodeB重启回收每秒扫描上下文记录数|参数可选性: 任选参数类型: 数字参数范围: 0-65535默认值: 1000|该参数用于设置gNodeB重启回收每秒扫描上下文记录数，默认值为1000。取值范围为[0,65535]。
命令举例 
`
查询gNodeB重启回收每秒扫描上下文记录数。
SHOW SCANRATE:
(No.1) : SHOW SCANRATE:
-----------------Namf_ResourceManage_0----------------
gNodeB重启回收每秒扫描上下文记录数
1500
记录数：1
执行成功耗时: 0.27 秒
` 
## 老化配置 
## 老化配置 
背景知识 
RM和Communication用户信息之间可能存在不一致的情况，因此需要对RM的用户信息进行定周期检测，对无效用户进行老化并回收相关资源。 
功能说明 
本配置用于设置老化功能是否开启以及用户上下文老化时长。 
子主题： 
### 设置老化配置(SET AGEINGCONFIG) 
### 设置老化配置(SET AGEINGCONFIG) 
功能说明 
该命令用于设置或修改老化配置相关参数。 
RM（Resouce Manage资源管理服务）和Communication用户信息之间可能存在不一致的情况，因此需要对RM的用户信息进行定周期检测，对无效用户进行老化并回收相关资源。 
注意事项 
无。
输入参数说明 
标识|名称|类型|说明
---|---|---|---
ageingSwitch|老化开关|参数可选性: 任选参数类型: 枚举，参见枚举定义参数范围: 0-1|该参数用于开启老化功能，有“开启”和“关闭”两种状态，默认为开启状态。开启老化开关后，如果用户上下文的表记录在配置的老化时长内都未发生更新，则认为该用户记录无效，触发删除该用户上下文。
ttl|老化时长(秒)|参数可选性: 任选参数类型: 数字|该参数用于设置老化时长，单位为秒，默认值为172800，即48h。配置范围从0-4294967295。
命令举例 
`
设置老化配置：开启老化开关，设置老化时长为172800秒。
SET AGEINGCONFIG:AGEINGSWITCH=SUPAGEING,TTL=172800
` 
### 查询老化配置(SHOW AGEINGCONFIG) 
### 查询老化配置(SHOW AGEINGCONFIG) 
功能说明 
该命令用于查看老化配置相关参数值。  
注意事项 
无。
输出参数说明 
标识|名称|类型|说明
---|---|---|---
ageingSwitch|老化开关|参数可选性: 任选参数类型: 枚举，参见枚举定义参数范围: 0-1|该参数用于开启老化功能，有“开启”和“关闭”两种状态，默认为开启状态。
ttl|老化时长(秒)|参数可选性: 任选参数类型: 数字|该参数用于设置老化时长，单位为秒，默认值为172800，即48h。
命令举例 
`
查询老化配置相关参数值。 
SHOW AGEINGCONFIG:
(No.2) : SHOW AGEINGCONFIG:
-----------------Namf_ResourceManage_0----------------
老化开关            老化时长（秒）
support ageing       172800
记录数：1
执行成功耗时: 0.325 秒
` 
## 弹性配置 
## 弹性配置 
背景知识 
AMF为了提供电信级的高可靠性服务，使用统一存储节点UDSF（Unstructured Data Storage Function，非结构化数据存储功能）存储用户数据，将用户与计算节点解耦，达到无状态化的效果。 
计算节点可以随意弹缩，宕机等，对用户业务都不会产生影响。 
功能说明 
本功能用于配置与弹性相关的参数。 
子主题： 
### 修改弹性配置(SET RM SCALE CONFIG) 
### 修改弹性配置(SET RM SCALE CONFIG) 
功能说明 
该命令用于设置弹性参数配置。 
弹性参数配置是AMF系统运行时的一些弹性相关、UDSF相关的内部参数设置。 
注意事项 
普通情况下，建议使用系统默认值，操作维护人员不得更改。针对某些特殊运营商、特殊场景、特殊情况下需要设置的，需要联系中兴通讯的技术支持人员才能修改。 
输入参数说明 
标识|名称|类型|说明
---|---|---|---
subGrpMigrateMode|子群迁移模式|参数可选性: 任选参数类型: 枚举，参见枚举定义参数范围: 0-1默认值: NORMALMIGRATEMODE|该参数用于设置子群迁移模式，不同模式下弹缩虚机时，子群迁移速率不同。普通模式：普通模式下，子群迁移的速率根据子群迁入速率与子群迁出速率的配置进行迁入与迁出过程。 快速模式：快速模式下，子群将按系统最快速度进行群迁移过程，但可能会影响系统稳定性。
subGrpMigOutRate|子群迁出速率（秒/个）|参数可选性: 任选参数类型: 数字参数范围: 1-15默认值: 3|RM（Resource Management）上共有1024个大群，每个大群下又有16个子群，用户均衡分散在各子群上。当系统发生弹缩时，按照用户归属的子群进行用户的迁移。该参数用于设置子群迁出速率。系统因为弹缩、上电下电、负载重平衡等，会导致群负荷发生迁移。RM为了将负荷迁移过程处理得平稳均衡，需要对子群迁移速率进行速率控制。系统已经给出了默认的群迁出速率，通常情况下不能更改。如果因为特殊运营商的特殊使用场景，导致该迁移速率需要调整，则需要联系中兴通信技术支持工程师，再进行修改。
subGrpMigInRate|子群迁入速率（秒/个）|参数可选性: 任选参数类型: 数字参数范围: 1-15默认值: 3|RM上共有1024个大群，每个大群下又有16个子群，用户均衡分散在个子群上。当系统发生弹缩时，按照用户归属的子群进行用户的迁移。该参数用于设置子群迁入速率。系统因为弹缩、上电下电、负载重平衡等，会导致群负荷发生迁移。RM为了将负荷迁移过程处理得平稳均衡，需要对子群迁移速率进行速率控制。系统已经给出了默认的群迁入速率，通常情况下不能更改。如果因为特殊运营商的特殊使用场景下，导致该迁移速率也需要调整，则需要联系中兴通信技术支持工程师，再进行修改。
命令举例 
`
设置弹性相关配置。
SET RM SCALE CONFIG:SUBGRPMIGRATEMODE="NORMALMIGRATEMODE",SUBGRPMIGOUTRATE=3,SUBGRPMIGINRATE=3
` 
### 查询弹性配置(SHOW RM SCALE CONFIG) 
### 查询弹性配置(SHOW RM SCALE CONFIG) 
功能说明 
该命令用于查询弹性参数配置。 
弹性参数配置是AMF系统运行时的一些弹性相关、UDSF相关的内部参数设置。 
注意事项 
无。
输出参数说明 
标识|名称|类型|说明
---|---|---|---
subGrpMigrateMode|子群迁移模式|参数可选性: 任选参数类型: 枚举，参见枚举定义参数范围: 0-1默认值: NORMALMIGRATEMODE|该参数用于显示子群迁移模式，不同模式下弹缩虚机时，子群迁移速率不同。普通模式：普通模式下，子群迁移的速率根据子群迁入速率与子群迁出速率的配置进行迁入与迁出过程。 快速模式，快速模式下，子群将按系统最快速度进行群迁移过程。
subGrpMigOutRate|子群迁出速率（秒/个）|参数可选性: 任选参数类型: 数字参数范围: 1-15默认值: 3|RM上共有1024个大群，每个大群下又有16个子群，用户均衡分散在各子群上。当系统发生弹缩时，按照用户归属的子群进行用户的迁移。该参数用于显示子群迁出速率。系统因为弹缩、上电下电、负载重平衡等，会导致群负荷发生迁移。RM为了将负荷迁移过程处理得平稳均衡，需要对子群迁移速率进行速率控制。系统已经给出了默认的群迁出速率，通常情况下不能更改。如果因为特殊运营商的特殊使用场景，导致该迁移速率需要调整，则需要联系中兴通信技术支持工程师，再进行修改。
subGrpMigInRate|子群迁入速率（秒/个）|参数可选性: 任选参数类型: 数字参数范围: 1-15默认值: 3|RM上共有1024个大群，每个大群下又有16个子群，用户均衡分散在各子群上。当系统发生弹缩时，按照用户归属的子群进行用户的迁移。该参数用于设置子群迁入速率。系统因为弹缩、上电下电、负载重平衡等，会导致群负荷发生迁移。RM为了将负荷迁移过程处理得平稳均衡，需要对子群迁移速率进行速率控制。系统已经给出了默认的群迁入速率，通常情况下不能更改。如果因为特殊运营商的特殊使用场景，导致该迁移速率需要调整，则需要联系中兴通信技术支持工程师，再进行修改。
命令举例 
`
查询弹性相关配置。
SHOW RM SCALE CONFIG:
(No.1) : SHOW RM SCALE CONFIG:
-----------------Namf_ResourceManage_0----------------
子群迁移模式  子群迁出速率（秒/个）  子群迁入速率（秒/个）
普通迁移模式       1                     1
记录数：1
执行成功耗时: 0.214 秒
` 
## 增强功能 
## 增强功能 
背景知识 
3GPP协议中，规定了对不同的网络运营过程中可以根据实际情况配置不同的参数，以及运营商可以针对网络配置一些定制功能。 
功能说明 
增强功能提供内部软件参数等配置。 
子主题： 
### ResourceManage软件参数配置 
### ResourceManage软件参数配置 
背景知识 
本功能用于配置RM服务内部优化的功能。在不同的场景，根据需要是否启用这些功能。 
功能说明 
本功能用于配置内部优化功能的开关。 
子主题： 
#### 新增ResourceManage软件参数配置(ADD RM SOFTWARE PARAMETER) 
#### 新增ResourceManage软件参数配置(ADD RM SOFTWARE PARAMETER) 
功能说明 
该命令用于新增AMF的ResourceManage服务内部的一些功能参数，主要涉及非协议明确要求的、中兴通讯根据自身产品的特点需要优化的功能。 
注意事项 
无。 
输入参数说明 
标识|名称|类型|说明
---|---|---|---
ID|软参索引|参数可选性: 必选参数类型: 数字|该参数用于设置软件参数编号，每个软参索引对应一个参数，有不同的含义。例如，软件参数1用于控制业务是否开启用户上下文健康检测功能。设置为1，表示开启用户上下文健康检测。
VALUE|当前参数值|参数可选性: 必选参数类型: 数字|该参数用于设置软件参数当前取值。
DEFAULTVALUE|默认参数值|参数可选性: 必选参数类型: 数字|该参数用于设置软件参数默认取值。
MINVALUE|参数最小值|参数可选性: 必选参数类型: 数字|该参数用于设置软件参数最小值。
MAXVALUE|参数最大值|参数可选性: 必选参数类型: 数字|该参数用于设置软件参数最大值。
NAME|参数名称|参数可选性: 必选参数类型: 字符串参数范围: 0-180|该参数用于设置软参的名称，代表每个软参的含义。
REMARK|备注|参数可选性: 任选参数类型: 字符串参数范围: 0-180|该参数用于设置参数取值的具体含义介绍。
命令举例 
`
新增ResourceManage软件参数配置，软参索引为99，当前参数值为1，默认参数值为1，参数最小值为0，参数最大值为1，参数名称为“保留软参99”。
ADD RM SOFTWARE PARAMETER:ID=99,VALUE=1,DEFAULTVALUE=1,MINVALUE=0,MAXVALUE=1,NAME="spareSoftwareParameter99"
` 
#### 删除ResourceManage软件参数配置(DEL RM SOFTWARE PARAMETER) 
#### 删除ResourceManage软件参数配置(DEL RM SOFTWARE PARAMETER) 
功能说明 
该命令用于删除AMF的ResourceManage服务内部的一些功能参数，主要涉及非协议明确要求的、中兴通讯根据自身产品的特点需要优化的功能。 
注意事项 
本命令执行后立即生效。 
删除已有软参可能影响业务功能，需要在中兴通讯技术支持工程师的指导下进行操作，请勿擅自删除。 
输入参数说明 
标识|名称|类型|说明
---|---|---|---
ID|软参索引|参数可选性: 必选参数类型: 数字|该参数用于设置软件参数编号，每个软参索引对应一个参数，有不同的含义。例如，软件参数1用于控制业务是否开启用户上下文健康检测功能。设置为1，表示开启用户上下文健康检测。
命令举例 
`
删除软参索引为99的ResourceManage软件参数配置。
DEL RM SOFTWARE PARAMETERR:ID=99
` 
#### 设置ResourceManage软件参数配置(SET RM SOFTWARE PARAMETER) 
#### 设置ResourceManage软件参数配置(SET RM SOFTWARE PARAMETER) 
功能说明 
该命令用于设置AMF的ResourceManage服务内部的一些功能参数，主要涉及非协议明确要求的、中兴通讯根据自身产品的特点需要优化的功能。 
注意事项 
无。 
输入参数说明 
标识|名称|类型|说明
---|---|---|---
ID|软参索引|参数可选性: 必选参数类型: 数字|该参数用于设置软件参数编号，每个软参索引对应一个参数，有不同的含义。例如，软件参数1用于控制业务是否开启用户上下文健康检测功能。设置为1，表示开启用户上下文健康检测。
VALUE|当前参数值|参数可选性: 任选参数类型: 数字|该参数用于设置软件参数当前取值。
NAME|参数名称|参数可选性: 任选参数类型: 字符串参数范围: 0-180|该参数用于设置软参的名称，代表每个软参的含义。
命令举例 
`
设置ResourceManage软件参数配置，软参索引为1，当前参数值为1。即开启用户上下文健康检测。
SET RM SOFTWARE PARAMETER:ID=1,VALUE=1
` 
#### 查询ResourceManage软件参数配置(SHOW RM SOFTWARE PARAMETER) 
#### 查询ResourceManage软件参数配置(SHOW RM SOFTWARE PARAMETER) 
功能说明 
该命令用于查看当前参数的设定情况。 
注意事项 
无。 
输入参数说明 
标识|名称|类型|说明
---|---|---|---
ID|软参索引|参数可选性: 任选参数类型: 数字|该参数用于设置软件参数编号，每个软参索引对应一个参数，有不同的含义。例如，软件参数1用于控制业务是否开启用户上下文健康检测功能。设置为1，表示开启用户上下文健康检测。
输出参数说明 
标识|名称|类型|说明
---|---|---|---
ID|软参索引|参数可选性: 任选参数类型: 数字|该参数用于显示软件参数编号，每个软件参数对应一个参数，有不同的含义。
VALUE|当前参数值|参数可选性: 任选参数类型: 数字|该参数用于显示软件参数当前取值。
DEFAULTVALUE|默认参数值|参数可选性: 任选参数类型: 数字|该参数用于显示软件参数默认取值。
MINVALUE|参数最小值|参数可选性: 任选参数类型: 数字|该参数用于显示软件参数最小值。
MAXVALUE|参数最大值|参数可选性: 任选参数类型: 数字|该参数用于显示软件参数最大值。
NAME|参数名称|参数可选性: 任选参数类型: 字符串参数范围: 0-180|该参数用于显示软参的名称，代表每个软参的含义。
REMARK|备注|参数可选性: 任选参数类型: 字符串参数范围: 0-180|该参数用于显示参数取值的具体含义介绍。
命令举例 
`
查询软参索引为1的ResourceManage软件参数配置数据。
SHOW RM SOFTWARE PARAMETER:
SHOW RM SOFTWARE PARAMETER:
---------------------------------------Namf_ResourceManage_0--------------------------------------
软参索引  当前参数值  默认参数值  参数最小值  参数最大值  参数名称                 备注
--------------------------------------------------------------------------------------------------
1         1          1          0           1          是否支持上下文健康检查    0 - 否;  1 - 是
--------------------------------------------------------------------------------------------------
记录数：1
执行成功耗时: 0.379 秒
` 
## RM统计对象配置 
## RM统计对象配置 
### AMF支持网络切片配置 
### AMF支持网络切片配置 
#### 新增AMF NSI配置(ADD RM NSIID) 
#### 新增AMF NSI配置(ADD RM NSIID) 
功能说明 
该命令用于配置AMF（Access and Mobility Management Function，接入和移动性管理功能）所归属的网络切片实例。 
当AMF部署成功或AMF被其他网络切片共享时，需要使用此命令。  
注意事项 
一个AMF只支持配置最多50个网络切片实例。 
输入参数说明 
标识|名称|类型|说明
---|---|---|---
nsiid|网络切片实例|参数可选性: 必选参数类型: 字符串参数范围: 0-128|Network Slice Instance，该参数用于设置网络切片实例，由运营商统一编号。网络切片实例，是一个端到端的逻辑网络，通常包含接入网、承载网、核心网，也可以包含第三方应用。
nssiid|子切片|参数可选性: 必选参数类型: 字符串参数范围: 0-128|该参数用于设置子切片ID。Sub-network Instance，子切片，由一组NF和资源组成，可以按域把一个切片划分为多个子切片，如把切片划分为无线子切片、承载子切片、核心网子切片。
命令举例 
`
新增AMF所归属的网络切片实例，其实例号为1，子切片为2。
ADD RM NSIID:NSIID="1",NSSIID="2"
` 
#### 删除AMF NSI配置(DEL RM NSIID) 
#### 删除AMF NSI配置(DEL RM NSIID) 
功能说明 
该命令用于删除AMF所属的切片实例。 
当网络规划发生变更，AMF不再归属某网络切片实例时，可以使用此命令删除AMF所属的网络切片实例。 
注意事项 
操作员不能直接修改AMF归属的某网络切片实例，只能先通过本命令删除AMF所属的切片实例，再通过[ADD RM NSIID]命令增加。
输入参数说明 
标识|名称|类型|说明
---|---|---|---
nsiid|网络切片实例|参数可选性: 必选参数类型: 字符串参数范围: 0-128|Network Slice Instance，该参数用于设置网络切片实例，由运营商统一编号。网络切片实例，是一个端到端的逻辑网络，通常包含接入网、承载网、核心网，也可以包含第三方应用。
nssiid|子切片|参数可选性: 必选参数类型: 字符串参数范围: 0-128|该参数用于设置子切片ID。Sub-network Instance，子切片，由一组NF和资源组成，可以按域把一个切片划分为多个子切片，如把切片划分为无线子切片、承载子切片、核心网子切片。
命令举例 
`
删除AMF所归属的网络切片实例，实例号为1，子切片为2。
DEL RM NSIID:NSIID="1",NSSIID="2"
` 
#### 查询AMF NSI配置(SHOW RM NSIID) 
#### 查询AMF NSI配置(SHOW RM NSIID) 
功能说明 
该命令用于查询AMF所归属的网络切片实例。 
注意事项 
无。
输入参数说明 
标识|名称|类型|说明
---|---|---|---
nsiid|网络切片实例|参数可选性: 任选参数类型: 字符串参数范围: 0-128|Network Slice Instance，该参数用于设置网络切片实例，由运营商统一编号。网络切片实例，是一个端到端的逻辑网络，通常包含接入网、承载网、核心网，也可以包含第三方应用。
输出参数说明 
标识|名称|类型|说明
---|---|---|---
nsiid|网络切片实例|参数可选性: 任选参数类型: 字符串参数范围: 0-128|Network Slice Instance，该参数用于显示网络切片实例，由运营商统一编号。网络切片实例，是一个端到端的逻辑网络，通常包含接入网、承载网、核心网，也可以包含第三方应用。
nssiid|子切片|参数可选性: 任选参数类型: 字符串参数范围: 0-128|该参数用于显示子切片ID。Sub-network Instance，子切片，由一组NF和资源组成，可以按域把一个切片划分为多个子切片，如把切片划分为无线子切片、承载子切片、核心网子切片。
命令举例 
`
查询AMF所归属的网络切片实例。
SHOW RM NSIID:
SHOW RM NSIID:
-----Namf_ResourceManage_0-----
网络切片实例      子切片
-------------------------------
1                 2     
-------------------------------
记录数：1
执行成功耗时: 0.247 秒
` 
动态管理 : 
动态管理 : 
背景知识 
动态管理即动态数据管理，是设备维护中的一个重要组成模块，完成对网元某些关键资源（如信令链路、路由局向等）的状态查询和管理控制（如激活、去活、闭塞和解闭塞等），为整个系统的调试和系统管理提供了必要的技术手段。 
功能说明 
动态管理即动态数据管理，完成对网元某些关键资源的状态查询和管理控制。 
子主题： 
### 用户管理 
### 用户管理 
背景知识 
运维人员通过查看当前AMF接入的用户数，以及各个虚机实例上接入的用户数，可以了解当前各个虚机的负荷情况，判断虚机的用户分布是否均匀。 
功能说明 
本功能用于查看当前AMF接入的用户总数，以及各个虚机实例上接入的用户数。 
子主题： 
#### 用户数统计 
#### 用户数统计 
背景知识 
运维人员通过查看当前AMF接入的用户数，以及各个虚机实例上接入的用户数，可以了解当前各个虚机的负荷情况，判断虚机的用户分布是否均匀。 
功能说明 
本功能用于查看当前AMF接入的用户总数，以及各个虚机实例上接入的用户数。 
子主题： 
##### 查询用户数(SHOW USER STATISTICS) 
##### 查询用户数(SHOW USER STATISTICS) 
功能说明 
该命令用于查询AMF上5G用户数信息，包括5G在线用户数、5G连接态用户数、5G空闲态用户数和5G去注册态用户数。 
其中，5G在线用户数包括5G连接态用户数和5G空闲态用户数。 
注意事项 
无
输出参数说明 
标识|名称|类型|说明
---|---|---|---
VMNAME|虚机名|参数可选性: 必选参数类型: 字符串参数范围: 1-80|虚机名。
VRUNAME|容器名|参数可选性: 必选参数类型: 字符串参数范围: 1-80|容器名。
ONLINENUM|在线用户数|参数可选性: 必选参数类型: 数字默认值: 0|5G在线用户数包括5G连接态用户数和5G空闲态用户数。
CMCONNNUM|连接态用户数|参数可选性: 必选参数类型: 数字默认值: 0|处于连接态的5G用户个数。
CMIDLENUM|空闲态用户数|参数可选性: 必选参数类型: 数字默认值: 0|处于空闲态的5G用户个数。
RMDEREGNUM|去注册态用户数|参数可选性: 必选参数类型: 数字默认值: 0|处于去注册态的5G用户个数。
TOTALONLINENUM|在线用户总数|参数可选性: 必选参数类型: 数字默认值: 0|5G在线用户总数包括所有SC5G连接态用户总数和5G空闲态用户总数。
TOTALCMCONNNUM|连接态用户总数|参数可选性: 必选参数类型: 数字默认值: 0|所有SC处于连接态的5G用户总个数。
TOTALCMIDLENUM|空闲态用户总数|参数可选性: 必选参数类型: 数字默认值: 0|所有SC处于空闲态的5G用户总个数。
TOTALRMDEREGNUM|去注册态用户总数|参数可选性: 必选参数类型: 数字默认值: 0|所有SC处于去注册态的5G用户总个数。
命令举例 
`
查询AMF上5G用户数信息。
SHOW USER STATISTICS
(No.4) : SHOW USER STATISTICS:
-----------------Namf_ResourceManage_0----------------
虚机名                            容器名        在线用户数 连接态用户数 空闲态用户数 去注册态用户数
--------------------------------------------------------------------------------------------------------------
ZTE_AMF_22_-VM-GSUCommonC2M40003   vru-amf-rm-0    1000         800             200             100
--------------------------------------------------------------------------------------------------------------
记录数：1
在线用户总数 连接态用户总数 空闲态用户总数 去注册态用户总数
-----------------------------------------------------------------
1000            800             200             100
-----------------------------------------------------------------
记录数：1
执行成功耗时: 0.156 秒
` 
#### SNSSAI用户数统计 
#### SNSSAI用户数统计 
背景知识 
根据SNSSAI查询用户统计信息。 
功能说明 
SNSSAI用户数统计提供根据SNSSAI查询用户统计相关的信息。 
子主题： 
##### 查询SNSSAI用户数(SHOW SNSSAI USER STATISTICS) 
##### 查询SNSSAI用户数(SHOW SNSSAI USER STATISTICS) 
功能说明 
该命令用于查询AMF上的SNSSAI用户数信息，包括在线用户数、连接态用户数、空闲态用户数和去注册态用户数。 
其中，在线用户数包括连接态用户数和空闲态用户数。 
注意事项 
无。
输入参数说明 
标识|名称|类型|说明
---|---|---|---
sst|SST|参数可选性: 必选参数类型: 枚举，参见枚举定义|该参数用于配置SST（Slice/Service Type，切片/服务类型）的编号，其中编号0-127为标准SST，编号128-255为运营商自定义的SST。目前协议明确的标准SST有三种。1：eMBB：提供高带宽、大数据量的服务。2：uRLLC：提供超高可靠低时延服务。3：mIoT：提供海量的连接数，但是数据量比较小，且对时延要求不高。具体解释参见协议23501的"5.15.2.2 Standardised SST values"。
sd|SD|参数可选性: 任选参数类型: 字符串参数范围: 4-6默认值: NULL|该参数用于配置SD（Slice Differentiator，切片区分信息）。SD用于区分同一种SST之内不同的S-NSSAI。SD在SNSSAI中是可选参数，此处配置形式为半字节形式；当选择携带时，SD的有效值是24位，也就是6个半字节，每个半字节的范围为0-9或A-F，其中FFFFFF协议规定为无效值，不允许配置；当选择不携带时，配置成NULL。
输出参数说明 
标识|名称|类型|说明
---|---|---|---
VMNAME|虚机名|参数可选性: 必选参数类型: 字符串参数范围: 1-80|虚机名。
VRUNAME|容器名|参数可选性: 必选参数类型: 字符串参数范围: 1-80|容器名。
ONLINENUM|在线用户数|参数可选性: 必选参数类型: 数字默认值: 0|在线用户数包括连接态用户数和空闲态用户数。
CMCONNNUM|连接态用户数|参数可选性: 必选参数类型: 数字默认值: 0|处于连接态的用户个数。
CMIDLENUM|空闲态用户数|参数可选性: 必选参数类型: 数字默认值: 0|处于空闲态的用户个数。
RMDEREGNUM|去注册态用户数|参数可选性: 必选参数类型: 数字默认值: 0|处于去注册态的用户个数。
TOTALONLINENUM|在线用户总数|参数可选性: 必选参数类型: 数字默认值: 0|在线用户总数包括所有SC连接态用户总数和空闲态用户总数。
TOTALCMCONNNUM|连接态用户总数|参数可选性: 必选参数类型: 数字默认值: 0|所有SC处于连接态的用户总个数。
TOTALCMIDLENUM|空闲态用户总数|参数可选性: 必选参数类型: 数字默认值: 0|所有SC处于空闲态的用户总个数。
TOTALRMDEREGNUM|去注册态用户总数|参数可选性: 必选参数类型: 数字默认值: 0|所有SC处于去注册态的用户总个数。
命令举例 
`
查询AMF上SNSSAI用户数信息。
SHOW SNSSAI USER STATISTICS:SST="eMBB"
(No.4) : SHOW SNSSAI USER STATISTICS:SST="eMBB"
-----------------Namf_ResourceManage_0----------------
虚机名                            容器名        在线用户数 连接态用户数 空闲态用户数 去注册态用户数
--------------------------------------------------------------------------------------------------------------
ZTE_AMF_22_-VM-GSUCommonC2M40003   vru-amf-rm-0    1000         800             200             100
--------------------------------------------------------------------------------------------------------------
记录数：1
在线用户总数 连接态用户总数 空闲态用户总数 去注册态用户总数
-----------------------------------------------------------------
1000            800             200             100
-----------------------------------------------------------------
记录数：1
执行成功耗时: 0.156 秒
` 
#### TA用户数统计 
#### TA用户数统计 
背景知识 
根据TA查询用户统计信息。 
功能说明 
TA用户数统计提供根据TA查询用户统计相关的信息。 
子主题： 
##### 查询TA用户数(SHOW TA USER STATISTICS) 
##### 查询TA用户数(SHOW TA USER STATISTICS) 
功能说明 
该命令用于查询AMF上的TA用户数信息，包括在线用户数、连接态用户数、空闲态用户数和去注册态用户数。 
其中，在线用户数包括连接态用户数和空闲态用户数。 
注意事项 
无。
输入参数说明 
标识|名称|类型|说明
---|---|---|---
mcc|移动国家码|参数可选性: 必选参数类型: 字符串参数范围: 3-3|本参数用于设置跟踪区的MCC（Mobile Country Code，移动国家码），由运营商根据国际电联分配的国家码进行规划配置，用于在移动网络中唯一标识一个国家信息，例如中国为460。MCC对于所有的记录都是唯一的。
mnc|移动网络码|参数可选性: 必选参数类型: 字符串参数范围: 2-3|本参数用于设置跟踪区的MNC（Mobile Network Code，移动网络号），由运营商根据国际电联分配的网络号进行规划配置，用于在移动网络中基于MCC唯一标识一个运营商网络信息。例如运营商“中国移动“在中国运营的GSM网络的MNC为01。MCC和MNC标识唯一的一个PLMN，标识移动用户的归属PLMN，也就是移动用户归属的运营商的移动网络。
tac|跟踪区域码|参数可选性: 必选参数类型: 字符串参数范围: 6-6|本参数用于设置跟踪区域码，在同一个PLMN（公共陆地移动网络 PLMN=MCC+MNC ）内，标识唯一的一个跟踪区，由运营商在PLMN内统一规划，以16进制数字编码。
输出参数说明 
标识|名称|类型|说明
---|---|---|---
VMNAME|虚机名|参数可选性: 必选参数类型: 字符串参数范围: 1-80|虚机名。
VRUNAME|容器名|参数可选性: 必选参数类型: 字符串参数范围: 1-80|容器名。
ONLINENUM|在线用户数|参数可选性: 必选参数类型: 数字默认值: 0|在线用户数包括连接态用户数和空闲态用户数。
CMCONNNUM|连接态用户数|参数可选性: 必选参数类型: 数字默认值: 0|处于连接态的用户个数。
CMIDLENUM|空闲态用户数|参数可选性: 必选参数类型: 数字默认值: 0|处于空闲态的用户个数。
RMDEREGNUM|去注册态用户数|参数可选性: 必选参数类型: 数字默认值: 0|处于去注册态的用户个数。
TOTALONLINENUM|在线用户总数|参数可选性: 必选参数类型: 数字默认值: 0|在线用户总数包括所有SC连接态用户总数和空闲态用户总数。
TOTALCMCONNNUM|连接态用户总数|参数可选性: 必选参数类型: 数字默认值: 0|所有SC处于连接态的用户总个数。
TOTALCMIDLENUM|空闲态用户总数|参数可选性: 必选参数类型: 数字默认值: 0|所有SC处于空闲态的用户总个数。
TOTALRMDEREGNUM|去注册态用户总数|参数可选性: 必选参数类型: 数字默认值: 0|所有SC处于去注册态的用户总个数。
命令举例 
`
查询AMF上TA用户数信息。
SHOW TA USER STATISTICS:MCC="460",MNC="11",TAC="00d011"
(No.4) : SHOW TA USER STATISTICS:MCC="460",MNC="11",TAC="00d011"
-----------------Namf_ResourceManage_0----------------
虚机名                            容器名        在线用户数 连接态用户数 空闲态用户数 去注册态用户数
--------------------------------------------------------------------------------------------------------------
ZTE_AMF_22_-VM-GSUCommonC2M40003   vru-amf-rm-0    1000         800             200             100
--------------------------------------------------------------------------------------------------------------
记录数：1
在线用户总数 连接态用户总数 空闲态用户总数 去注册态用户总数
-----------------------------------------------------------------
1000            800             200             100
-----------------------------------------------------------------
记录数：1
执行成功耗时: 0.156 秒
` 
#### 所有TA用户数统计 
#### 所有TA用户数统计 
背景知识 
查询所有TA的用户统计信息。 
功能说明 
所有TA用户数统计提供根据查询所有TA的用户统计相关信息。 
子主题： 
##### 查询所有TA用户数(SHOW ALL TA USER STATISTICS) 
##### 查询所有TA用户数(SHOW ALL TA USER STATISTICS) 
功能说明 
该命令用于查询AMF上的所有TA用户数信息，包括在线用户数、连接态用户数、空闲态用户数和去注册态用户数。 
其中，在线用户数包括连接态用户数和空闲态用户数。 
注意事项 
无。
输出参数说明 
标识|名称|类型|说明
---|---|---|---
TANAME|TA名称|参数可选性: 必选参数类型: 字符串参数范围: 1-16|TA名称。
ONLINENUM|在线用户数|参数可选性: 必选参数类型: 数字默认值: 0|在线用户数包括连接态用户数和空闲态用户数。
CMCONNNUM|连接态用户数|参数可选性: 必选参数类型: 数字默认值: 0|处于连接态的用户个数。
CMIDLENUM|空闲态用户数|参数可选性: 必选参数类型: 数字默认值: 0|处于空闲态的用户个数。
RMDEREGNUM|去注册态用户数|参数可选性: 必选参数类型: 数字默认值: 0|处于去注册态的用户个数。
TOTALONLINENUM|在线用户总数|参数可选性: 必选参数类型: 数字默认值: 0|在线用户总数包括所有SC连接态用户总数和空闲态用户总数。
TOTALCMCONNNUM|连接态用户总数|参数可选性: 必选参数类型: 数字默认值: 0|所有SC处于连接态的用户总个数。
TOTALCMIDLENUM|空闲态用户总数|参数可选性: 必选参数类型: 数字默认值: 0|所有SC处于空闲态的用户总个数。
TOTALRMDEREGNUM|去注册态用户总数|参数可选性: 必选参数类型: 数字默认值: 0|所有SC处于去注册态的用户总个数。
命令举例 
`
查询AMF上TA用户数信息。
SHOW ALL TA USER STATISTICS
(No.4) : SHOW ALL TA USER STATISTICS:
-----------------Namf_ResourceManage_0----------------
TA名称         在线用户数 连接态用户数 空闲态用户数 去注册态用户数
--------------------------------------------------------------------------------------------------------------
460-11-00d011  1000         800             200             100
--------------------------------------------------------------------------------------------------------------
记录数：1
在线用户总数 连接态用户总数 空闲态用户总数 去注册态用户总数
-----------------------------------------------------------------
1000            800             200             100
-----------------------------------------------------------------
记录数：1
执行成功耗时: 0.156 秒
` 
#### 分级备份用户数统计 
#### 分级备份用户数统计 
背景知识 
查询分级备份用户统计信息。 
功能说明 
查询所有分级备份用户统计相关信息。 
子主题： 
##### 查询分级容灾用户数(SHOW AMFFULLDRUSERNUM) 
##### 查询分级容灾用户数(SHOW AMFFULLDRUSERNUM) 
功能说明 
该命令用于查询AMF上分级容灾用户数。 
注意事项 
无
输出参数说明 
标识|名称|类型|说明
---|---|---|---
VMNAME|虚机名|参数可选性: 必选参数类型: 字符串参数范围: 1-80|虚机名。
VRUNAME|容器名|参数可选性: 必选参数类型: 字符串参数范围: 1-80|容器名。
DNNBACKUPMODEUSER|DNN匹配分级用户数|参数可选性: 必选参数类型: 数字|本SC上根据AMF配置的DNN分级备份策略匹配的分级容灾用户数。
SLICEBACKUPMODEUSER|切片匹配分级用户数|参数可选性: 必选参数类型: 数字|本SC上根据AMF配置的切片分级备份策略匹配的分级容灾用户数。
SUPISEGBACKUPMODEUSER|SUPI号段匹配分级用户数|参数可选性: 必选参数类型: 数字|本SC上根据AMF配置的SUPI号段分级备份策略匹配的分级容灾用户数。
GPSISEGBACKUPMODEUSER|GPSI号段匹配分级用户数|参数可选性: 必选参数类型: 数字|本SC上根据AMF配置的GPSI号段分级备份策略匹配的分级容灾用户数。
BACKUPMODEUSERNUM|分级用户数|参数可选性: 必选参数类型: 数字|本SC上根据分级备份策略匹配的分级容灾用户数，包括DNN匹配类型、切片匹配类型、SUPI号段匹配类型、GPSI匹配类型的用户数总和。
TOTALDNNBACKUPMODEUSER|DNN匹配分级用户总数|参数可选性: 必选参数类型: 数字|所有SC上根据AMF配置的DNN分级备份策略匹配的分级容灾用户数。
TOTALSLICEBACKUPMODEUSER|切片匹配分级用户总数|参数可选性: 必选参数类型: 数字|所有SC上根据AMF配置的切片分级备份策略匹配的分级容灾用户数。
TOTALSUPISEGBACKUPMODEUSER|SUPI号段匹配分级用户总数|参数可选性: 必选参数类型: 数字|所有SC上根据AMF配置的SUPI号段分级备份策略匹配的分级容灾用户数。
TOTALGPSISEGBACKUPMODEUSER|GPSI号段匹配分级用户总数|参数可选性: 必选参数类型: 数字|所有SC上根据AMF配置的GPSI号段分级备份策略匹配的分级容灾用户数。
TOTALBACKUPMODEUSERNUM|分级用户总数|参数可选性: 必选参数类型: 数字|所有SC上根据分级备份策略匹配的分级容灾用户数，包括DNN匹配类型、切片匹配类型、SUPI号段匹配类型、GPSI匹配类型的用户数总和。
命令举例 
`
查询AMF上分级容灾用户数信息。
SHOW AMFFULLDRUSERNUM
(No.1) : SHOW AMFFULLDRUSERNUM:
-----------------Namf_ResourceManage_0----------------
DNN匹配分级用户总数 切片匹配分级用户总数 SUPI号段匹配分级用户总数 GPSI号段匹配分级用户总数 分级用户总数 
-------------------------------------------------------------------------------------------------------  
0                   0                    0                        0                        0            
-------------------------------------------------------------------------------------------------------
记录数：1
虚机名                           容器名       DNN匹配分级用户数 切片匹配分级用户数 SUPI号段匹配分级用户数 GPSI号段匹配分级用户数 分级用户数 
-------------------------------------------------------------------------------------------------------------------------------------------
ZTE_AMF_98_-VM-GSUCommonC2M40002 vru-amf-rm-0 0                 0                  0                      0                      0          
-------------------------------------------------------------------------------------------------------------------------------------------
记录数：1
` 
调测信息采集 : 
调测信息采集 : 
背景知识 
在系统调试过程中，需要采集系统的运行信息，可提供给运维人员进行分析，达到监测系统是否正常的目的。 
功能说明 
本配置可以显示系统当前支持的所有模块，可针对模块名进行信息采集，也可以采集系统所有模块的信息，同时具备清除模块信息的功能。 
子主题： 
#### 模块内部统计信息 
#### 模块内部统计信息 
背景知识 
业务前台有大量的内部统计，用于开发维护人员更详细的知悉系统运行状况、性能话务情况等，但是这些内部统计的采集获取很不方便。 
功能说明 
开启内部统计上报后，前台会将内部统计数据周期性的上报给后台网管，后台网管保存在硬盘目录，供开发维护人员查询分析，这样就方便更好的监控了解系统运行状况、性能话务情况等。 
子主题： 
##### 清理模块内部统计信息(CLEAR DEBUG INFO) 
##### 清理模块内部统计信息(CLEAR DEBUG INFO) 
功能说明 
该命令用于清理其归属NFS内模块的调测信息。当需要获取新的调测信息前，先执行该命令。 
注意事项 
获取新的调测信息前可以先执行该命令，该命令返回的“失败数量”为非0则需要联系中兴通讯技术人员支持；为0则可获取新的调测信息。 
输入参数说明 
标识|名称|类型|说明
---|---|---|---
MODULE_NAME|模块名称|参数可选性: 任选参数类型: 字符串参数范围: 1-47|该参数用于表示需要清除调测信息的模块名称。该参数选项的含义是：默认为空：表示清除NFS内所有的调测信息。非空：表示清除指定模块的调测信息，可由 SHOW DEBUG MODULELIST命令获取模块名称。
输出参数说明 
标识|名称|类型|说明
---|---|---|---
MODULE_NUMBER|模块实例数量|参数可选性: 必选参数类型: 数字参数范围: 0-4294967295|该参数用于表示清理的模块实例总数量。
SUCCESS_NUMBER|成功数量|参数可选性: 必选参数类型: 数字参数范围: 0-4294967295|该参数用于表示清理成功的模块实例数量。
FAILED_NUMBER|失败数量|参数可选性: 必选参数类型: 数字参数范围: 0-4294967295|该参数用于表示清理失败的模块实例数量。
命令举例 
`
清理名称为ROSNG_ADAPT的模块的调测信息。
CLEAR DEBUG INFO:MODULE_NAME="ROSNG_ADAPT"
` 
##### 查询含有Debug信息的模块列表(SHOW DEBUG MODULELIST) 
##### 查询含有Debug信息的模块列表(SHOW DEBUG MODULELIST) 
功能说明 
该命令用于查询其归属的NFS内含有调测信息的模块列表。当运维人员需要收集或者清除指定模块的调试信息时，可以执行该命令查询含有调测信息的模块名称。 
注意事项 
无。 
输出参数说明 
标识|名称|类型|说明
---|---|---|---
MODULE_NAME|模块名|参数可选性: 必选参数类型: 字符串参数范围: 1-47|该参数用于表示支持统计信息的模块名称。
MODULE_INST|模块实例数|参数可选性: 必选参数类型: 数字参数范围: 0-4294967295|该参数用于表示支持统计信息的模块实例数。
命令举例 
`
查询某个NFS中含有调试统计信息的模块列表。
 SHOW DEBUG MODULELIST
------CommonS_TMSP_0--------
模块名         模块实例数
ROSNG_ADAPT    1
ROSNG_ARCH     1
记录数：2
执行成功耗时: 0.259 秒
` 
#### 查看数据区占用率 
#### 查看数据区占用率 
背景知识 
实现深度巡检，AMF的每个微服务（组件）需要支持查询数据区占用率的功能。 
功能说明 
本功能用于操作员查询AMF的各个微服务的buffer/调度/Transaction等资源情况。 
子主题： 
##### 查询资源占用(SHOW RM DATAUSAGE) 
##### 查询资源占用(SHOW RM DATAUSAGE) 
功能说明 
该命令用于查询AMF的RM（ResourceManage）组件上的资源占用信息。 
注意事项 
无。
输出参数说明 
标识|名称|类型|说明
---|---|---|---
searchResult|查询结果|参数可选性: 必选参数类型: 枚举，参见枚举定义默认值: SUCCESS|本参数表示命令的查询结果。
scName|SC ID|参数可选性: 必选参数类型: 字符串参数范围: 0-100|本参数为系统内部内部显示参数。
scheduler|Scheduler|参数可选性: 必选参数类型: 字符串参数范围: 0-20|本参数为系统内部内部显示参数。按照百分比进行显示。
transaction|Transaction|参数可选性: 必选参数类型: 字符串参数范围: 0-20|本参数为系统内部内部显示参数。按照百分比进行显示。
smallcacheEventQueueBuffer|SmallCacheEventQueue Buffer|参数可选性: 必选参数类型: 字符串参数范围: 0-20|本参数为系统内部内部显示参数。按照百分比进行显示。
mediumcacheEventQueueBuffer|MediumCacheEventQueue Buffer|参数可选性: 必选参数类型: 字符串参数范围: 0-20|本参数为系统内部内部显示参数。按照百分比进行显示。
largecacheEventQueueBuffer|LargeCacheEventQueue Buffer|参数可选性: 必选参数类型: 字符串参数范围: 0-20|本参数为系统内部内部显示参数。按照百分比进行显示。
timerResource|TimerResource|参数可选性: 必选参数类型: 字符串参数范围: 0-20|本参数为系统内部内部显示参数。按照百分比进行显示。
packetResource|PacketResource|参数可选性: 必选参数类型: 字符串参数范围: 0-20|本参数为系统内部内部显示参数。按照百分比进行显示。
命令举例 
`
查询AMF的RM（ResourceManage）组件上资源占用信息。
SHOW RM DATAUSAGE
(No.3) : SHOW RM DATAUSAGE:
-----------------Namf_ResourceManage_0----------------
查询结果 
---------
成功     
---------
记录数：1
SC ID       Scheduler Transaction SmallCacheEventQueue Buffer  MediumCacheEventQueue Buffer LargeCacheEventQueue Buffer TimerResource PacketResource 
----------------------------------------------------------------------------------------------------------------------------------------------------
sc-amf-rm-1 0         0                  0                                0                            0                      0                0                             
----------------------------------------------------------------------------------------------------------------------------------------------------
记录数：1
执行成功开始时间:2020-12-04 18:04:01 耗时: 0.128 秒
` 
#### 查询本地数据库表 
#### 查询本地数据库表 
背景知识 
 AMF基于SC为单元，使用本地数据库存储信息，在系统调测或者运维观测时，操作人员查询数据库表情况，以便了解系统数据库运行情况，为系统调测、运维观测提供方便。 
功能说明 
本功能用于查询本地数据库中表记录数的情况。 
子主题： 
##### 查询本地数据库表(SHOW RM LOCAL DATABASE TABLE) 
##### 查询本地数据库表(SHOW RM LOCAL DATABASE TABLE) 
功能说明 
该命令用于查询AMF ResourceManage服务本地数据库中表记录数的情况。。 
注意事项 
无。
输出参数说明 
标识|名称|类型|说明
---|---|---|---
RESULT|执行结果|参数可选性: 任选参数类型: 枚举，参见枚举定义参数范围: 0-1默认值: SUCCESS|该参数用于显示本命令的执行结果，显示成功或失败。
命令举例 
`
查询AMF ResourceManage服务本地数据库中表记录数的情况。
SHOW RM LOCAL DATABASE TABLE
(No.1) : SHOW RM LOCAL DATABASE TABLE:
-----------------Namf_ResourceManage_0----------------
正在执行一个异步命令，请到操作记录中查看执行结果。
` 
#### 查询UDSF数据库表 
#### 查询UDSF数据库表 
背景知识 
 AMF将本地数据同步存储到UDSF数据库上，在系统调测或者运维观测时，操作人员可以查询UDSF数据库表情况，为系统调测、运维观测提供方便。 
功能说明 
本功能用于查询UDSF数据库中表记录数的情况。 
子主题： 
##### 查询UDSF数据库表记录数(SHOW RM UDSF DATABASE TABLE) 
##### 查询UDSF数据库表记录数(SHOW RM UDSF DATABASE TABLE) 
功能说明 
该命令用于查询ResoureManage服务同步备份到UDSF数据库的表记录数的情况。 
注意事项 
无。
输出参数说明 
标识|名称|类型|说明
---|---|---|---
RESULT|执行结果|参数可选性: 任选参数类型: 枚举，参见枚举定义参数范围: 0-1默认值: SUCCESS|该参数用于显示本命令的执行结果，显示成功或失败。
命令举例 
`
查询ResourceManage服务同步到UDSF数据库的表记录数的情况。
SHOW RM UDSF DATABASE TABLE
(No.1) : SHOW RM UDSF DATABASE TABLE:
-----------------Namf_ResoureManage_0----------------正在执行一个异步命令，请到操作记录中查看执行结果。
` 
# Ncudr_Access 
专业维护 : 
专业维护 : 
背景知识 
UDR或UDSF作为分布式数据存储器，为了方便对节点状态和分布式数据进行管理，需要一些专业维护功能。 
功能说明 
本功能涉及UDR或UDSF中专业维护。 
子主题： 
### CGW管理 
### CGW管理 
背景知识 
UDR存储结构化数据，UDSF存储非结构化数据，UDR和UDSF既可以以NFS形式部署在业务NF中，也可以以NF形式独立部署并被多个业务NF共享。 
UDSF支持容灾部署，数据可以在2个UDSF之间复制。 
UDR支持第三方应用访问结构化数据，如第三方应用通过LDAP接口访问USPP数据。 
UDR和UDSF独立部署、UDSF容灾部署以及第三方应用访问UDR，都需要节点和其他NF的节点或第三方应用通讯。 
业务NF和独立部署的UDSF之间、容灾部署的UDSF之间、第三方应用和UDR之间的通讯，都需要通过CGW： 
 
业务NF和独立部署的UDSF之间，需要通过部署在UDSF的CGW通讯 
 
容灾部署的UDSF之间，需要通过部署在两个UDSF的CGW通讯 
 
第三方应用和UDR之间，需要通过部署在UDR的CGW通讯 
 
功能说明 
本功能提供CGW节点状态和链路状态的查询。 
子主题： 
#### 查询节点状态(SHOW CGW STATUS) 
#### 查询节点状态(SHOW CGW STATUS) 
功能说明 
该命令用于查询CGW节点状态。
注意事项 
无。
输出参数说明 
标识|名称|类型|说明
---|---|---|---
CommID|CommID|参数可选性: 任选参数类型: 数字参数范围: 0-4294967295|CGW节点的CommID，用于通讯。
NFID|NF ID|参数可选性: 任选参数类型: 数字参数范围: 0-255|NF标识
Status|状态|参数可选性: 任选参数类型: 枚举，参见枚举定义参数范围: 0-255|CGW工作状态：0  无效状态 1  上电初始化状态2  工作状态3  宕机状态4  闭塞状态
VRUNAME|VRU名称|参数可选性: 任选参数类型: 字符串参数范围: 0-256|VRU名称
VMName|虚机名称|参数可选性: 任选参数类型: 字符串参数范围: 0-256|CGW所在虚机名称
MsgBuffUsed|消息缓冲区使用率(%)|参数可选性: 任选参数类型: 字符串参数范围: 0-100|消息发送缓冲区使用率
OUTP|输出|参数可选性: 任选参数类型: 字符串|该参数用于指示命令执行失败时输出的结果。
命令举例 
`
查询CGW节点状态命令示例如下。
(No.40) : SHOW CGW STATUS
-----------------Ncudr_Access_0----------------
------------------------------------------------------------------------------------------------------------
CommID       NF ID    状态     VRU名称                    虚机名称                         消息缓冲区使用率
1006635009   67       工作态   vru-cudr-access-cgw-0      NFV-R-67-VM-GSUCommonC2M40001    50%
1006635010   67       工作态   vru-cudr-access-cgw-1      NFV-R-67-VM-GSUCommonC2M40002    80%
------------------------------------------------------------------------------------------------------------
记录数：2
` 
#### 查询链路状态(SHOW CGW LINK) 
#### 查询链路状态(SHOW CGW LINK) 
功能说明 
该命令用于查询CGW链路状态。
注意事项 
无。
输入参数说明 
标识|名称|类型|说明
---|---|---|---
VRUNAME|VRU名称|参数可选性: 任选参数类型: 字符串参数范围: 1-64|VRU名称。可选参数。如果输入，则查询指定VRU的链路信息。如果不输，查询全部VRU的链路信息。
输出参数说明 
标识|名称|类型|说明
---|---|---|---
VRUNAME|VRU名称|参数可选性: 任选参数类型: 字符串参数范围: 0-256|VRU名称。
CommID|CommID|参数可选性: 任选参数类型: 数字参数范围: 0-4294967295|CGW节点的CommID，用于通讯。
linkNo|链路序号|参数可选性: 任选参数类型: 数字参数范围: 0-65535|链路序号。
linkstatus|链路状态|参数可选性: 任选参数类型: 枚举，参见枚举定义参数范围: 0-255|链路状态：LinkOK： 正常。LinkBreak：中断。
IPType|IP类型|参数可选性: 任选参数类型: 枚举，参见枚举定义参数范围: 0-255|IP类型：IPV4IPV6
LocalIP|本地IP|参数可选性: 任选参数类型: 字符串参数范围: 0-256|本地IP地址。
LocalPort|本地端口|参数可选性: 任选参数类型: 数字参数范围: 0-65535|本地端口号。
RemoteIP|对端IP地址|参数可选性: 任选参数类型: 字符串参数范围: 0-256|对端IP地址。
RemotePort|对端端口|参数可选性: 任选参数类型: 数字参数范围: 0-65535|对端端口号。
RemoteNFID|对端NF ID|参数可选性: 任选参数类型: 数字参数范围: 0-255|对端NFID。
RemoteCommID|对端CommID|参数可选性: 任选参数类型: 数字参数范围: 0-4294967295|对端CommID。
RemoteAPPType|对端应用类型|参数可选性: 任选参数类型: 字符串参数范围: 0-256|对端应用类型：CGWNeAPPExternalAPP
OUTP|输出|参数可选性: 任选参数类型: 字符串|该参数用于指示命令执行失败时输出的结果。
命令举例 
`
"
查询CGW链路状态命令示例如下。
(No.2) : SHOW CGW LINK:
-----------------Ncudr_Access_0----------------
VRU名称                CommID      链路序号   链路状态  IP类型  本地IP    本地端口   对端IP地址  对端端口  对端NF ID    对端CommID  对端应用类型
---------------------------------------------------------------------------------------------------------------------------------------
vru-cudr-access-cgw-0  1006635009  0          正常      IPV4    10.6.6.6  56000      10.8.8.8    36000     67           1006635009  CGW
vru-cudr-access-cgw-0  1006635009  1          正常      IPV4    10.6.6.6  56000      10.8.8.8    36001     67           1006635010  CGW
vru-cudr-access-cgw-0  1006635009  2          正常      IPV4    10.6.6.6  35000      10.8.8.8    58000     67           1006635009  CGW
vru-cudr-access-cgw-0  1006635009  3          正常      IPV4    10.6.6.6  35000      10.8.8.8    58001     67           1006635010  CGW
vru-cudr-access-cgw-1  1006635010  0          正常      IPV4    10.6.6.6  56001      10.8.8.8    36000     67           1006635009  CGW
vru-cudr-access-cgw-1  1006635010  1          正常      IPV4    10.6.6.6  56001      10.8.8.8    36001     67           1006635010  CGW
vru-cudr-access-cgw-1  1006635010  2          正常      IPV4    10.6.6.6  35001      10.8.8.8    58000     67           1006635009  CGW
vru-cudr-access-cgw-1  1006635010  3          正常      IPV4    10.6.6.6  35001      10.8.8.8    58001     67           1006635010  CGW
---------------------------------------------------------------------------------------------------------------------------------------
Total Records:8
"
` 
# Ncudr_SystemManagement_0 
## 数据服务通信配置 
## 数据服务通信配置 
背景知识 
数据服务通讯配置适用于UDR和UDSF。UDR存储结构化数据，UDSF存储非结构化数据，UDR和UDSF既可以以NFS形式部署在业务NF中，也可以以NF形式独立部署并被多个业务NF共享。 
UDR和UDSF支持容灾部署，数据可以在2个或更多UDR或UDSF之间复制。 
UDR支持第三方应用访问结构化数据，如第三方应用通过LDAP接口访问USPP数据。 
UDR和UDSF独立部署、容灾部署以及第三方应用访问UDR，都需要节点和其他NF的节点或第三方应用通讯。 
功能说明 
本功能用于管理NF间的通讯配置： 
 
业务NF和独立部署的UDR、UDSF之间 
 
容灾部署的UDR之间 
 
容灾部署的UDSF之间 
 
第三方应用和UDR之间 
 
子主题： 
### 网关通信配置 
### 网关通信配置 
背景知识 
业务NF和独立部署的UDSF之间、容灾部署的UDSF之间、第三方应用和UDR之间的通讯，都需要通过CGW： 
 
业务NF和独立部署的UDSF之间，需要通过部署在UDSF的CGW通讯 
 
容灾部署的UDSF之间，需要通过部署在两个UDSF的CGW通讯 
 
第三方应用和UDR之间，需要通过部署在UDR的CGW通讯 
 
功能说明 
本功能用于管理NF间的CGW通讯配置： 
 
业务NF和独立部署的UDSF之间 
 
容灾部署的UDR之间 
 
容灾部署的UDSF之间 
 
第三方应用和UDR之间 
 
子主题： 
#### CGW互联配置 
#### CGW互联配置 
背景知识 
容灾UDSF节点之间，通过各自所在的NF的CGW通讯，消息通过两个CGW从一个UDSF的节点发送到另外一个UDSF的节点。 
业务NF节点和UDSF节点之间，通过UDSF的CGW通讯，消息通过UDSF的CGW，在业务NF节点和UDSF节点之间交换。 
功能说明 
本功能用于配置CGW节点支持业务NF和UDSF之间以及容灾UDSF之间通讯的网络参数。 
子主题： 
##### 增加CGW互联配置(ADD CGWNODE) 
##### 增加CGW互联配置(ADD CGWNODE) 
功能说明 
该命令用于增加一个CGW互通配置。UDSF独立部署或容灾部署时，使用该命令。命令执行成功后，主备UDSF之间、UDSF和网元之间可以通过CGW相互通讯，实现数据访问和数据复制。
注意事项 
每个NF最多可增加4个配置，分别配置CGW和网元的数据访问网络双平面以及CGW之间的数据复制网络双平面。 
UDSF容灾部署时，需要分别配置本地CGW和远程CGW，并且主备UDSF配置应保持一致。 
输入参数说明 
标识|名称|类型|说明
---|---|---|---
NFID|NF ID|参数可选性: 必选参数类型: 数字参数范围: 1-255|CGW所在NF的唯一标识。NFID可通过SHOW NFCFG命令查询。
NETTYPE|网络用途|参数可选性: 必选参数类型: 枚举，参见枚举定义参数范围: 0-3|网络用途，指示用于和网元的数据访问通讯或用于和其他CGW的数据复制通讯，以及所在网络平面。包括：data_access_1：通过数据访问网络平面1，和使用UDSF的网元通讯。data_access_2：通过数据访问网络平面2，和使用UDSF的网元通讯。data_sync_1：通过数据复制网络平面1，和其他UDSF的CGW通讯。data_sync_2：通过数据复制网络平面2，和其他UDSF的CGW通讯。如果只有一个网络平面，则必须配置为网络平面1。
IP|IP地址|参数可选性: 任选参数类型: 字符串|本端的IP地址，支持IPV4和IPV6。使用不同的端口范围时，一个IP地址既可以用于和网元通讯，也可用于和其他CGW通讯。
SERVERPORTSTART|监听端口最小值|参数可选性: 必选参数类型: 数字参数范围: 30000-40000|接收对端网元或CGW的TCP链接的本端起始端口。端口最小值不能大于端口最大值。
SERVERPORTEND|监听端口最大值|参数可选性: 必选参数类型: 数字参数范围: 30000-40000|接收对端网元或CGW的TCP链接的本端终止端口。端口最小值不能大于端口最大值。
CONNECTPORTSTART|连接端口最小值|参数可选性: 必选参数类型: 数字参数范围: 50000-65535|主动连接对端CGW的本端起始端口。网络用途为数据访问时，不需要配置，可以全部设置为50000。端口最小值不能大于端口最大值。
CONNECTPORTEND|连接端口最大值|参数可选性: 必选参数类型: 数字参数范围: 50000-65535|主动连接对端CGW的本端终止端口。网络用途为数据访问时，不需要配置，可以全部设置为50000。端口最小值不能大于端口最大值。
NFLIST|NF列表|参数可选性: 必选参数类型: 字符串参数范围: 0-79|CGW可以为部署在同一TMSP的多个NF服务，该参数列出了使用该CGW的所有NF的标识，多个NF标识使用“&”连接。通常设置为和NFID参数一致。
VPNID|VPNID|参数可选性: 必选参数类型: 数字参数范围: 0-4095默认值: 0|VPN ID。在CommonS_TMSP节点下的Rosng配置中，使用“SHOW IP VRF DETAIL”命令，获取可用VPN ID（VRF ID）。如果没有Rosng配置，则VPN ID为0。该参数默认值为0
DSCP|DSCP标签|参数可选性: 必选参数类型: 数字参数范围: 0-63默认值: 0|差分服务代码点（Differentiated Services Code Point）标签。对于IPv4，在CommonS_IPS服务下使用“SHOW QOSMAPIPV4”命令获取可用的DSCP，或设置为0。对于IPv6，在CommonS_IPS服务下使用“SHOW QOSMAPIPV6”命令获取可用的TC，或设置为0。该参数默认值为0
命令举例 
`
增加一个CGW互通配置，NF标识为1，网络用途为“数据同步网络1”，本端IP地址为10.43.11.100，监听端口范围为30000~31000，连接端口范围为50000~51000，NF列表为1，VPN ID为0，DSCP为0。
ADD CGWNODE:NFID=1,NETTYPE="data_sync_1",IP="10.43.11.100",SERVERPORTSTART=30000,SERVERPORTEND=31000,CONNECTPORTSTART=50000,CONNECTPORTEND=51000,NFLIST="1",VPNID=0,DSCP=0
` 
##### 删除CGW互联配置(DEL CGWNODE) 
##### 删除CGW互联配置(DEL CGWNODE) 
功能说明 
该命令用于删除一个CGW互通配置。
注意事项 
UDSF容灾部署时，需要在主备UDSF分别删除CGW互通配置。
输入参数说明 
标识|名称|类型|说明
---|---|---|---
NFID|NF ID|参数可选性: 必选参数类型: 数字参数范围: 1-255|CGW所在NF的唯一标识。NFID可通过SHOW NFCFG命令查询。
NETTYPE|网络用途|参数可选性: 必选参数类型: 枚举，参见枚举定义参数范围: 0-3|网络用途，指示用于和网元的数据访问通讯或用于和其他CGW的数据复制通讯，以及所在网络平面。包括：data_access_1：通过数据访问网络平面1，和使用UDSF的网元通讯。data_access_2：通过数据访问网络平面2，和使用UDSF的网元通讯。data_sync_1：通过数据复制网络平面1，和其他UDSF的CGW通讯。data_sync_2：通过数据复制网络平面2，和其他UDSF的CGW通讯。如果只有一个网络平面，则必须配置为网络平面1。
命令举例 
`
删除NF标识为1，网络用途为“数据同步网络1”的一个CGW互通配置。
DEL CGWNODE:NFID=1,NETTYPE="data_sync_1"
` 
##### 修改CGW互联配置(SET CGWNODE) 
##### 修改CGW互联配置(SET CGWNODE) 
功能说明 
该命令用于修改一个CGW互通配置。当CGW互通信息变更时，使用该命令。命令执行成功后，主备UDSF之间、UDSF和网元之间可以通过修改后的CGW相互通讯，实现数据访问和数据复制。
注意事项 
UDSF容灾部署时，修改数据复制网络，需要在主备UDSF分别修改。 
修改数据访问网络，需要在UDSF和网元分别修改。 
输入参数说明 
标识|名称|类型|说明
---|---|---|---
NFID|NF ID|参数可选性: 必选参数类型: 数字参数范围: 1-255|CGW所在NF的唯一标识。NFID可通过SHOW NFCFG命令查询。
NETTYPE|网络用途|参数可选性: 必选参数类型: 枚举，参见枚举定义参数范围: 0-3|网络用途，指示用于和网元的数据访问通讯或用于和其他CGW的数据复制通讯，以及所在网络平面。包括：data_access_1：通过数据访问网络平面1，和使用UDSF的网元通讯。data_access_2：通过数据访问网络平面2，和使用UDSF的网元通讯。data_sync_1：通过数据复制网络平面1，和其他UDSF的CGW通讯。data_sync_2：通过数据复制网络平面2，和其他UDSF的CGW通讯。如果只有一个网络平面，则必须配置为网络平面1。
IP|IP地址|参数可选性: 任选参数类型: 字符串|本端的IP地址，支持IPV4和IPV6。使用不同的端口范围时，一个IP地址既可以用于和网元通讯，也可用于和其他CGW通讯。
SERVERPORTSTART|监听端口最小值|参数可选性: 任选参数类型: 数字参数范围: 30000-40000|接收对端网元或CGW的TCP链接的本端起始端口。端口最小值不能大于端口最大值。
SERVERPORTEND|监听端口最大值|参数可选性: 任选参数类型: 数字参数范围: 30000-40000|接收对端网元或CGW的TCP链接的本端终止端口。端口最小值不能大于端口最大值。
CONNECTPORTSTART|连接端口最小值|参数可选性: 任选参数类型: 数字参数范围: 50000-65535|主动连接对端CGW的本端起始端口。网络用途为数据访问时，不需要配置，可以全部设置为50000。端口最小值不能大于端口最大值。
CONNECTPORTEND|连接端口最大值|参数可选性: 任选参数类型: 数字参数范围: 50000-65535|主动连接对端CGW的本端终止端口。网络用途为数据访问时，不需要配置，可以全部设置为50000。端口最小值不能大于端口最大值。
NFLIST|NF列表|参数可选性: 任选参数类型: 字符串参数范围: 0-79|CGW可以为部署在同一TMSP的多个NF服务，该参数列出了使用该CGW的所有NF的标识，多个NF标识使用“&”连接。通常设置为和NFID参数一致。
VPNID|VPNID|参数可选性: 任选参数类型: 数字参数范围: 0-4095默认值: 0|VPN ID。在CommonS_TMSP节点下的Rosng配置中，使用“SHOW IP VRF DETAIL”命令，获取可用VPN ID（VRF ID）。如果没有Rosng配置，则VPN ID为0。该参数默认值为0
DSCP|DSCP标签|参数可选性: 任选参数类型: 数字参数范围: 0-63默认值: 0|差分服务代码点（Differentiated Services Code Point）标签。对于IPv4，在CommonS_IPS服务下使用“SHOW QOSMAPIPV4”命令获取可用的DSCP，或设置为0。对于IPv6，在CommonS_IPS服务下使用“SHOW QOSMAPIPV6”命令获取可用的TC，或设置为0。该参数默认值为0
命令举例 
`
修改NF标识为1的一个CGW互通配置，将网络用途修改为“数据同步网络2”。
SET CGWNODE:NFID=1,NETTYPE="data_sync_2"
` 
##### 查询CGW互联配置(SHOW CGWNODE) 
##### 查询CGW互联配置(SHOW CGWNODE) 
功能说明 
该命令用于查看指定或全部CGW互通配置。
注意事项 
无。
输入参数说明 
标识|名称|类型|说明
---|---|---|---
NFID|NF ID|参数可选性: 任选参数类型: 数字参数范围: 1-255|CGW所在NF的唯一标识。NFID可通过SHOW NFCFG命令查询。
NETTYPE|网络用途|参数可选性: 任选参数类型: 枚举，参见枚举定义参数范围: 0-3|网络用途，指示用于和网元的数据访问通讯或用于和其他CGW的数据复制通讯，以及所在网络平面。包括：data_access_1：通过数据访问网络平面1，和使用UDSF的网元通讯。data_access_2：通过数据访问网络平面2，和使用UDSF的网元通讯。data_sync_1：通过数据复制网络平面1，和其他UDSF的CGW通讯。data_sync_2：通过数据复制网络平面2，和其他UDSF的CGW通讯。如果只有一个网络平面，则必须配置为网络平面1。
输出参数说明 
标识|名称|类型|说明
---|---|---|---
NFID|NF ID|参数可选性: 任选参数类型: 数字参数范围: 1-255|CGW所在NF的唯一标识。NFID可通过SHOW NFCFG命令查询。
NETTYPE|网络用途|参数可选性: 任选参数类型: 枚举，参见枚举定义参数范围: 0-3|网络用途，指示用于和网元的数据访问通讯或用于和其他CGW的数据复制通讯，以及所在网络平面。包括：data_access_1：通过数据访问网络平面1，和使用UDSF的网元通讯。data_access_2：通过数据访问网络平面2，和使用UDSF的网元通讯。data_sync_1：通过数据复制网络平面1，和其他UDSF的CGW通讯。data_sync_2：通过数据复制网络平面2，和其他UDSF的CGW通讯。如果只有一个网络平面，则必须配置为网络平面1。
IP|IP地址|参数可选性: 任选参数类型: 字符串|本端的IP地址，支持IPV4和IPV6。使用不同的端口范围时，一个IP地址既可以用于和网元通讯，也可用于和其他CGW通讯。
SERVERPORTSTART|监听端口最小值|参数可选性: 任选参数类型: 数字参数范围: 30000-40000|接收对端网元或CGW的TCP链接的本端起始端口。
SERVERPORTEND|监听端口最大值|参数可选性: 任选参数类型: 数字参数范围: 30000-40000|接收对端网元或CGW的TCP链接的本端终止端口。
CONNECTPORTSTART|连接端口最小值|参数可选性: 任选参数类型: 数字参数范围: 50000-65535|主动连接对端CGW的本端起始端口。网络用途为数据访问时，不需要配置，可以全部设置为50000。
CONNECTPORTEND|连接端口最大值|参数可选性: 任选参数类型: 数字参数范围: 50000-65535|主动连接对端CGW的本端终止端口。网络用途为数据访问时，不需要配置，可以全部设置为50000。
NFLIST|NF列表|参数可选性: 任选参数类型: 字符串参数范围: 0-79|CGW可以为部署在同一TMSP的多个NF服务，该参数列出了使用该CGW的所有NF的标识，多个NF标识使用“&”连接。通常设置为和NFID参数一致。
VPNID|VPNID|参数可选性: 任选参数类型: 数字参数范围: 0-4095默认值: 0|VPN ID。在CommonS_TMSP节点下的Rosng配置中，使用“SHOW IP VRF DETAIL”命令，获取可用VPN ID（VRF ID）。如果没有Rosng配置，则VPN ID为0。该参数默认值为0
DSCP|DSCP标签|参数可选性: 任选参数类型: 数字参数范围: 0-63默认值: 0|差分服务代码点（Differentiated Services Code Point）标签。对于IPv4，在CommonS_IPS服务下使用“SHOW QOSMAPIPV4”命令获取可用的DSCP，或设置为0。对于IPv6，在CommonS_IPS服务下使用“SHOW QOSMAPIPV6”命令获取可用的TC，或设置为0。该参数默认值为0
命令举例 
`
查询NF标识为1的所有CGW互通配置。
(No.1) : SHOW CGWNODE:NFID=1
-----------------Ncudr_SystemManagement_0_nf2----------------
NF ID   网络用途          IP地址       监听端口最小值  监听端口最大值  连接端口最小值  连接端口最大值    NF列表  VPNID  DSCP标签
------------------------------------------------------------------------------------------------------------------------------------
1       数据同步网络1    10.43.11.100 30000           31000           50000           51000             1       0      0
------------------------------------------------------------------------------------------------------------------------------------
` 
### NF标识配置 
### NF标识配置 
背景知识 
业务NF、UDR和UDSF，都需要配置一个全局唯一的NF标识。 
第三方应用不需要配置NF标识。 
功能说明 
本功能用于配置业务NF、UDR和UDSF的NF标识。 
子主题： 
#### 增加NF标识配置(ADD NFCFG) 
#### 增加NF标识配置(ADD NFCFG) 
功能说明 
该命令用于增加一个NF配置。
注意事项 
无。
输入参数说明 
标识|名称|类型|说明
---|---|---|---
NFID|NF标识|参数可选性: 必选参数类型: 数字参数范围: 1-255|NF的唯一标识。
NFName|NF名称|参数可选性: 必选参数类型: 字符串参数范围: 1-40|NF的名称。
NFType|NF类型|参数可选性: 必选参数类型: 枚举，参见枚举定义参数范围: 0-2|NF的类型。包括：self_nf：本地NFsame_tmsp_nf：和本地NF部署在同一TMSP的其他NFdiff_tmsp_nf：和本地NF部署在不同TMSP的其他NF
COMMType|承载类型|参数可选性: 任选参数类型: 枚举，参见枚举定义默认值: NULL|数据通信承载类型，仅在NFTYPE取值1或2时有意义。包括：TCPSCTPNULL该参数默认值为“NULL”
NFState|链路状态|参数可选性: 任选参数类型: 枚举，参见枚举定义参数范围: 0-1默认值: NORMAL|如果将本NF的链路状态修改为BLOCKING，则本NF与所有局断链。如果将非本NF的链路状态修改为BLOCKING，则本NF只与指定的NF断链。该参数默认值为“正常”
命令举例 
`
增加一个NF，NF标识为1，NF名称为UDSF_2，NF类型为部署在其他TMSP，承载类型为NULL的NF。
ADD NFCFG:NFID=1,NFNAME="UDSF_2",NFTYPE="diff_tmsp_nf",COMMTYPE="NULL",NFSTATE="NORMAL"
` 
#### 删除NF标识配置(DEL NFCFG) 
#### 删除NF标识配置(DEL NFCFG) 
功能说明 
该命令用于删除一个NF配置。
注意事项 
删除NF配置后，该NF无法访问其他NF以及无法被其他NF访问。
输入参数说明 
标识|名称|类型|说明
---|---|---|---
NFID|NF标识|参数可选性: 必选参数类型: 数字参数范围: 1-255|NF的唯一标识。
命令举例 
`
删除标识为1的NF。
DEL NFCFG:NFID=1
` 
#### 修改NF标识配置(SET NFCFG) 
#### 修改NF标识配置(SET NFCFG) 
功能说明 
该命令用于修改一个NF配置。
注意事项 
无。
输入参数说明 
标识|名称|类型|说明
---|---|---|---
NFID|NF标识|参数可选性: 必选参数类型: 数字参数范围: 1-255|NF的唯一标识。
NFName|NF名称|参数可选性: 任选参数类型: 字符串参数范围: 1-40|NF的名称。
NFType|NF类型|参数可选性: 任选参数类型: 枚举，参见枚举定义参数范围: 0-2|NF的类型。包括：self_nf：本地NFsame_tmsp_nf：和本地NF部署在同一TMSP的其他NFdiff_tmsp_nf：和本地NF部署在不同TMSP的其他NF
COMMType|承载类型|参数可选性: 任选参数类型: 枚举，参见枚举定义默认值: NULL|数据通信承载类型，仅在NFTYPE取值1或2时有意义。包括：TCPSCTPNULL该参数默认值为“NULL”
NFState|链路状态|参数可选性: 任选参数类型: 枚举，参见枚举定义参数范围: 0-1默认值: NORMAL|如果将本NF的链路状态修改为BLOCKING，则本NF与所有局断链。如果将非本NF的链路状态修改为BLOCKING，则本NF只与指定的NF断链。该参数默认值为“正常”
命令举例 
`
将标识为1的NF的名称修改为UDSF_3。
SET NFCFG:NFID=1,NFNAME="UDSF_3"
` 
#### 查询NF标识配置(SHOW NFCFG) 
#### 查询NF标识配置(SHOW NFCFG) 
功能说明 
该命令用于查看指定或全部NF配置。
注意事项 
无。
输入参数说明 
标识|名称|类型|说明
---|---|---|---
NFID|NF标识|参数可选性: 任选参数类型: 数字参数范围: 1-255|NF的唯一标识。
输出参数说明 
标识|名称|类型|说明
---|---|---|---
NFID|NF标识|参数可选性: 任选参数类型: 数字参数范围: 1-255|NF的唯一标识。
NFName|NF名称|参数可选性: 任选参数类型: 字符串参数范围: 1-40|NF的名称。
NFType|NF类型|参数可选性: 任选参数类型: 枚举，参见枚举定义参数范围: 0-2|NF的类型。包括：self_nf：本地NFsame_tmsp_nf：和本地NF部署在同一TMSP的其他NFdiff_tmsp_nf：和本地NF部署在不同TMSP的其他NF
COMMType|承载类型|参数可选性: 任选参数类型: 枚举，参见枚举定义默认值: NULL|数据通信承载类型，仅在NFTYPE取值1或2时有意义。包括：TCPSCTPNULL该参数默认值为“NULL”
NFState|链路状态|参数可选性: 任选参数类型: 枚举，参见枚举定义参数范围: 0-1默认值: NORMAL|如果将本NF的链路状态修改为BLOCKING，则本NF与所有局断链。如果将非本NF的链路状态修改为BLOCKING，则本NF只与指定的NF断链。该参数默认值为“正常”
命令举例 
`
显示所有NF。
(No.1) : SHOW NFCFG
------------------------------------------------------
NF ID   NF名称    NF类型          承载类型    链路状态
------------------------------------------------------
1       UDSF_1    本地NF          NULL        NORMAL
2       UDSF_2    同一TMSP内的NF  NULL        NORMAL
------------------------------------------------------
记录数：2
` 
### CGW过负荷告警阈值配置 
### CGW过负荷告警阈值配置 
背景知识 
CGW采用缓存机制来提高消息发送效率，当消息缓冲区使用率上升时，表示CGW的负荷增加。CGW提供了分级告警机制来警示用户CGW负荷过高。 
功能说明 
本功能用于配置CGW的过负荷告警阈值。ＣＧＷ负荷告警分为２级，默认值为90、80。 
子主题： 
#### 增加CGW过负荷配置(ADD CGWBUFFLV) 
#### 增加CGW过负荷配置(ADD CGWBUFFLV) 
功能说明 
该命令用于为CGW增加消息发送缓冲区阈值配置。当系统运行过程中消息发送缓冲区满时，需要提醒用户扩容，减少业务因消息发送缓冲区满失败。 
注意事项 
过负荷阈值配置是以NF为单位的。一般情况不需要配置。采用系统默认值即可。 
配置完成后，需要同步配置数据，可以实时生效。如果需要调整某个CGW的过负荷阈值等级时，BUFF阈值需要逐步增加，后一级阈值需要比前一级阈值数值大于等于5%。 
输入参数说明 
标识|名称|类型|说明
---|---|---|---
BUFF_LV1|过负荷1级告警阈值(%)|参数可选性: 必选参数类型: 数字参数范围: 1-100默认值: 90|消息发送缓冲区满告警阈值，默认值取值：90
BUFF_LV2|过负荷2级告警阈值(%)|参数可选性: 必选参数类型: 数字参数范围: 1-100默认值: 80|消息发送缓冲区满预警阈值，默认值取值：80
命令举例 
`
为CGW增加过负荷配置，示意如下：
ADD CGWBUFFLV:BUFF_LV1=90,BUFF_LV2=80
` 
#### 删除CGW过负荷配置(DEL CGWBUFFLV) 
#### 删除CGW过负荷配置(DEL CGWBUFFLV) 
功能说明 
该命令用于删除一条过负荷阈值配置。当某个CGW的消息发送缓冲区所有等级的阈值配置全部删除时将会采用默认值。
注意事项 
CGW的过负荷阈值配置被删除后，将会采用系统默认配置。
命令举例 
`
删除CGW的过负荷配置，示意如下：
DEL CGWBUFFLV
` 
#### 修改CGW过负荷配置(SET CGWBUFFLV) 
#### 修改CGW过负荷配置(SET CGWBUFFLV) 
功能说明 
该命令用于修改过负荷阈值配置。当用户需要调整过负荷阈值配置时，可以调用此命令对过负荷阈值配置进行修改。
注意事项 
修改时，注意所有阈值需要逐步增加，后一级BUFF阈值需要比前一级BUFF阈值数值大于等于5%。
输入参数说明 
标识|名称|类型|说明
---|---|---|---
BUFF_LV1|过负荷1级告警阈值(%)|参数可选性: 任选参数类型: 数字参数范围: 1-100默认值: 90|消息发送缓冲区满告警阈值，默认值取值：90
BUFF_LV2|过负荷2级告警阈值(%)|参数可选性: 任选参数类型: 数字参数范围: 1-100默认值: 80|消息发送缓冲区满预警阈值，默认值取值：80
命令举例 
`
修改CGW的过负荷配置，示意如下：
SET CGWBUFFLV:BUFF_LV1=90,BUFF_LV2=80
` 
#### 查询CGW过负荷配置(SHOW CGWBUFFLV) 
#### 查询CGW过负荷配置(SHOW CGWBUFFLV) 
功能说明 
该命令用于查询CGW的过负荷阈值配置。
注意事项 
无。
输出参数说明 
标识|名称|类型|说明
---|---|---|---
BUFF_LV1|过负荷1级告警阈值(%)|参数可选性: 任选参数类型: 数字参数范围: 1-100默认值: 90|消息发送缓冲区满告警阈值，默认值取值：90
BUFF_LV2|过负荷2级告警阈值(%)|参数可选性: 任选参数类型: 数字参数范围: 1-100默认值: 80|消息发送缓冲区满预警阈值，默认值取值：80
命令举例 
`
查询CGW的过负荷告警配置，示意如下：
(No.4) : SHOW CGWBUFFLV
-----------------Ncudr_SystemManagement_0----------------
 过负荷1级告警阈值(%)     过负荷2级告警阈值(%)
---------------------------------------------------------
 90                       80
---------------------------------------------------------
记录数：1
执行成功耗时: 0.158 秒
` 
## UDSF服务配置 
## UDSF服务配置 
背景知识 
UDSF服务提供非结构化数据的访问与存储服务。租户（Tenant）就是使用系统的用户，不同的租户可以实现数据的隔离，从而保证数据的安全。 
功能说明 
UDSF服务正常运行需要进行如下配置： 
租户基本配置 
 
租户参数配置 
 
过负荷配置 
子主题： 
### 租户配置 
### 租户配置 
背景知识 
租户（Tenant）是指使用系统或计算资源的用户。UDSF支持多租户，不同租户的数据访问和数据存储都是隔离的，从而保证数据的安全。 
功能说明 
租户配置包含租户的访问策略、所属NF、SC类型等租户相关的基本配置信息。 
子主题： 
#### 增加租户配置(ADD CDBTENANT) 
#### 增加租户配置(ADD CDBTENANT) 
功能说明 
在UDSF部署时，通过该命令增加租户信息。执行成功后，可以通过[SHOW CDBTENANT]命令查看。
注意事项 
租户在部署时注入，一般后续不需要再增加。
输入参数说明 
标识|名称|类型|说明
---|---|---|---
TENANTID|租户ID|参数可选性: 必选参数类型: 数字参数范围: 1-255|该参数用于唯一标识一个租户，不可重复。
TENANTNAME|租户名称|参数可选性: 必选参数类型: 字符串参数范围: 1-128|该参数用于指示租户名称，不可重复。
ACTIVENODES|每个域的默认激活节点数|参数可选性: 必选参数类型: 数字参数范围: 1-126|该参数用于指示每个域需要激活的节点个数。CDN节点分为左域和右域，左右域节点互为备份。（ACTIVENODES参数仅和首次上电有关，该参数生效需要执行reset cdb操作）
NFID1|主用NF(局)标识|参数可选性: 必选参数类型: 数字参数范围: 1-255|该参数用于指示租户对应的主用NF标识。与部署时规划的值一致。
NFID2|备用NF(局)标识|参数可选性: 任选参数类型: 数字参数范围: 0-255默认值: 0|该参数用于指示租户对应的备用NF标识。无备用NF时，默认为0。
LEFTSCTYPE|左域SC TYPE|参数可选性: 必选参数类型: 数字参数范围: 0-62|该参数用于指示租户对应的左域SC类型。CDN节点初次启动时，若携带的SC类型与该值匹配，则将节点分配为左域，CDN节点的SC类型由部署时规划。如果配置为0，表示本NF只部署右域。
RIGHTSCTYPE|右域SC TYPE|参数可选性: 必选参数类型: 数字参数范围: 1-62|该参数用于指示租户对应的右域SC类型。CDN节点初次启动时，若携带的SC类型与该值匹配，则将节点分配为右域。
ACCESSPOLICY|访问策略|参数可选性: 任选参数类型: 枚举，参见枚举定义参数范围: 0-4默认值: default_access|该参数用于指示租户访问UDSF的访问策略。取值如下：缺省访问方式： messageLevel为1级请求时，优先访问主用局UDSF；messageLevel为2级请求时，优先访问本地UDSF本地访问优先： 优先访问本地节点主用访问优先：优先访问主用节点仅本地访问：仅访问本地节点备用访问优先： 优先访问备用节点默认：缺省访问方式
SHARDALGO|分片算法|参数可选性: 任选参数类型: 枚举，参见枚举定义参数范围: 0-127默认值: ALGO_GENERAL|该参数用于优化数据分布，禁止修改，仅供AMF网元定制算法使用。该参数默认值为ALGO_GENERAL（通用算法）
ONEWAYREPLICATION|单向复制开关|参数可选性: 任选参数类型: 枚举，参见枚举定义参数范围: 0-1默认值: ONE_WAY_REPLICATION_OFF|该参数用于指示租户数据复制的策略,且仅在访问策略为仅访问本地时才会生效。开关打开后，CDN的数据仅支持从主用租户向备用租户同步。取值如下：0:关闭1:打开该参数默认值为ONE_WAY_REPLICATION_OFF（关闭）
命令举例 
`
增加ID为1，名称为tenant1的租户，其中，每个域默认激活节点数为3，主用NFID为1，左域SC类型为1，右域SC类型为2，访问策略为默认，分片算法为默认，单向开关为关
ADD CDBTENANT:TENANTID=1,TENANTNAME="tenant1",ACTIVENODES=3,NFID1=1,NFID2=0,LEFTSCTYPE=1,RIGHTSCTYPE=2,ACCESSPOLICY="default_access",SHARDALGO="ALGO_GENERAL",ONEWAYREPLICATION="ONE_WAY_REPLICATION_OFF"
` 
#### 删除租户配置(DEL CDBTENANT) 
#### 删除租户配置(DEL CDBTENANT) 
功能说明 
该命令用于删除租户配置，一般不允许删除。
注意事项 
删除租户后会导致节点启动失败，业务无法访问。
输入参数说明 
标识|名称|类型|说明
---|---|---|---
TENANTID|租户ID|参数可选性: 必选参数类型: 数字参数范围: 1-255|该参数用于唯一标识一个租户，不可重复。
命令举例 
`
删除ID为1的租户。
DEL CDBTENANT:TENANTID=1
` 
#### 修改租户配置(SET CDBTENANT) 
#### 修改租户配置(SET CDBTENANT) 
功能说明 
该命令用于修改租户配置。执行成功后，可以通过[SHOW CDBTENANT]命令查看。
注意事项 
修改的租户名称不能与其他租户名称重复。
输入参数说明 
标识|名称|类型|说明
---|---|---|---
TENANTID|租户ID|参数可选性: 必选参数类型: 数字参数范围: 1-255|该参数用于唯一标识一个租户，不可重复。
TENANTNAME|租户名称|参数可选性: 任选参数类型: 字符串参数范围: 1-128|该参数用于指示租户名称，不可重复。
ACTIVENODES|每个域的默认激活节点数|参数可选性: 任选参数类型: 数字参数范围: 1-126|该参数用于指示每个域需要激活的节点个数。CDN节点分为左域和右域，左右域节点互为备份。（ACTIVENODES参数仅和首次上电有关，该参数生效需要执行reset cdb操作）
NFID1|主用NF(局)标识|参数可选性: 任选参数类型: 数字参数范围: 1-255|该参数用于指示租户对应的主用NF标识。与部署时规划的值一致。
NFID2|备用NF(局)标识|参数可选性: 任选参数类型: 数字参数范围: 0-255默认值: 0|该参数用于指示租户对应的备用NF标识。无备用NF时，默认为0。
LEFTSCTYPE|左域SC TYPE|参数可选性: 任选参数类型: 数字参数范围: 0-62|该参数用于指示租户对应的左域SC类型。CDN节点初次启动时，若携带的SC类型与该值匹配，则将节点分配为左域，CDN节点的SC类型由部署时规划。如果配置为0，表示本NF只部署右域。
RIGHTSCTYPE|右域SC TYPE|参数可选性: 任选参数类型: 数字参数范围: 1-62|该参数用于指示租户对应的右域SC类型。CDN节点初次启动时，若携带的SC类型与该值匹配，则将节点分配为右域。
ACCESSPOLICY|访问策略|参数可选性: 任选参数类型: 枚举，参见枚举定义参数范围: 0-4默认值: default_access|该参数用于指示租户访问UDSF的访问策略。取值如下：缺省访问方式： messageLevel为1级请求时，优先访问主用局UDSF；messageLevel为2级请求时，优先访问本地UDSF本地访问优先： 优先访问本地节点主用访问优先：优先访问主用节点仅本地访问：仅访问本地节点备用访问优先： 优先访问备用节点默认：缺省访问方式
SHARDALGO|分片算法|参数可选性: 任选参数类型: 枚举，参见枚举定义参数范围: 0-127默认值: ALGO_GENERAL|该参数用于优化数据分布，禁止修改，仅供AMF网元定制算法使用。该参数默认值为ALGO_GENERAL（通用算法）
ONEWAYREPLICATION|单向复制开关|参数可选性: 任选参数类型: 枚举，参见枚举定义参数范围: 0-1默认值: ONE_WAY_REPLICATION_OFF|该参数用于指示租户数据复制的策略,且仅在访问策略为仅访问本地时才会生效。开关打开后，CDN的数据仅支持从主用租户向备用租户同步。取值如下：0:关闭1:打开该参数默认值为ONE_WAY_REPLICATION_OFF（关闭）
命令举例 
`
修改租户1的名称为TENANT_1，访问策略为主用局优先。
SET CDBTENANT:TENANTID=1,TENANTNAME="TENANT_1",ACCESSPOLICY="master_access_pri"
` 
#### 查询租户配置(SHOW CDBTENANT) 
#### 查询租户配置(SHOW CDBTENANT) 
功能说明 
该命令用于查看租户配置，当用户需要查看租户信息时可以使用该命令。
注意事项 
无。
输入参数说明 
标识|名称|类型|说明
---|---|---|---
TENANTID|租户ID|参数可选性: 任选参数类型: 数字参数范围: 1-255|该参数用于唯一标识一个租户，不可重复。
输出参数说明 
标识|名称|类型|说明
---|---|---|---
TENANTID|租户ID|参数可选性: 任选参数类型: 数字参数范围: 1-255|该参数用于唯一标识一个租户，不可重复。
TENANTNAME|租户名称|参数可选性: 任选参数类型: 字符串参数范围: 1-128|该参数用于指示租户名称，不可重复。
ACTIVENODES|每个域的默认激活节点数|参数可选性: 任选参数类型: 数字参数范围: 1-126|该参数用于指示每个域需要激活的节点个数。CDN节点分为左域和右域，左右域节点互为备份。（ACTIVENODES参数仅和首次上电有关，该参数生效需要执行reset cdb操作）
NFID1|主用NF(局)标识|参数可选性: 任选参数类型: 数字参数范围: 1-255|该参数用于指示租户对应的主用NF标识。与部署时规划的值一致。
NFID2|备用NF(局)标识|参数可选性: 任选参数类型: 数字参数范围: 0-255默认值: 0|该参数用于指示租户对应的备用NF标识。无备用NF时，默认为0。
LEFTSCTYPE|左域SC TYPE|参数可选性: 任选参数类型: 数字参数范围: 0-62|该参数用于指示租户对应的左域SC类型。CDN节点初次启动时，若携带的SC类型与该值匹配，则将节点分配为左域，CDN节点的SC类型由部署时规划。如果配置为0，表示本NF只部署右域。
RIGHTSCTYPE|右域SC TYPE|参数可选性: 任选参数类型: 数字参数范围: 1-62|该参数用于指示租户对应的右域SC类型。CDN节点初次启动时，若携带的SC类型与该值匹配，则将节点分配为右域。
ACCESSPOLICY|访问策略|参数可选性: 任选参数类型: 枚举，参见枚举定义参数范围: 0-4默认值: default_access|该参数用于指示租户访问UDSF的访问策略。取值如下：缺省访问方式： messageLevel为1级请求时，优先访问主用局UDSF；messageLevel为2级请求时，优先访问本地UDSF本地访问优先： 优先访问本地节点主用访问优先：优先访问主用节点仅本地访问：仅访问本地节点备用访问优先： 优先访问备用节点默认：缺省访问方式
SHARDALGO|分片算法|参数可选性: 任选参数类型: 枚举，参见枚举定义参数范围: 0-127默认值: ALGO_GENERAL|该参数用于优化数据分布，禁止修改，仅供AMF网元定制算法使用。该参数默认值为ALGO_GENERAL（通用算法）
ONEWAYREPLICATION|单向复制开关|参数可选性: 任选参数类型: 枚举，参见枚举定义参数范围: 0-1默认值: ONE_WAY_REPLICATION_OFF|该参数用于指示租户数据复制的策略,且仅在访问策略为仅访问本地时才会生效。开关打开后，CDN的数据仅支持从主用租户向备用租户同步。取值如下：0:关闭1:打开该参数默认值为ONE_WAY_REPLICATION_OFF（关闭）
命令举例 
`
查看ID为1的租户配置。
(No.1) : SHOW CDBTENANT:TENANTID=1
-----------------Ncudr_SystemManagement_0----------------
操作维护       租户ID 租户名称 每个域的默认激活节点数 主用NF(局)标识 备用NF(局)标识 左域SC TYPE 右域SC TYPE 访问策略 分片算法 单向复制开关 
----------------------------------------------------------------------------------------------------------------------------------
复制 修改 删除 1      tenant_1 1                      1              2              1           2           缺省     通用算法 关闭
----------------------------------------------------------------------------------------------------------------------------------
记录数：1
执行成功开始时间:2022-01-06 14:20:46 耗时: 1.7 秒
` 
### 参数配置 
### 参数配置 
背景知识 
租户（Tenant）是指使用系统或计算资源的用户，一个租户下包含多个节点。 
功能说明 
租户的参数配置是配置租户内各个节点正常运行所需要的相关参数。UDSF的节点上电时需要读取这些参数，进行部署并创建内存数据库，启动UDSF服务。 
子主题： 
#### 增加参数配置(ADD CDBPARAM) 
#### 增加参数配置(ADD CDBPARAM) 
功能说明 
该命令用于增加租户参数配置，当UDSF节点上电时需要从租户配置中读取内存库大小（MDBSIZE）、日志缓冲区大小（LOGBUFSIZE）、消息缓冲区（MQBUFSIZE）、TPS上限(TPS)、数据区个数(BUFFNUM)、行合并(ROWMERGE)参数。在UDSF上电前需要通过该命令增加租户参数，命令执行成功后，通过[SHOW CDBPARAM]命令可以查看。
注意事项 
租户参数必须在部署时注入，部署完成后一般不需要手工增加。 
 
若UDSF的节点上电时读取不到该租户参数，会导致上电失败。 
输入参数说明 
标识|名称|类型|说明
---|---|---|---
TENANTID|租户ID|参数可选性: 必选参数类型: 数字参数范围: 1-255|该参数用于唯一标识一个租户，通过SHOW CDBTENANT命令可以查看已创建的租户ID。
MDBSIZE|内存库大小(MB)|参数可选性: 必选参数类型: 数字参数范围: 500-32768|单个CDN节点内存库大小，单位为MB，指示用于存放数据的内存库大小。该参数需要重启CDN生效。
LOGBUFSIZE|日志库大小(MB)|参数可选性: 必选参数类型: 数字参数范围: 100-8192|单个CDN节点日志缓冲区大小，单位为MB，指示用于存放日志的缓冲区大小。该参数需要重启CDN生效。
TPS|TPS|参数可选性: 任选参数类型: 数字参数范围: 10000-120000默认值: 100000|单个CDN节点TPS上限，指示单节点TPS上限。该参数默认值为100,000
BUFFNUM|数据区个数|参数可选性: 任选参数类型: 数字参数范围: 10000-18000默认值: 15000|单个CDN节点事务数据区个数上限，指示单节点事务数据区个数上限。该参数需要重启CDN生效。该参数默认值为15,000
ROWMERGE|行合并功能|参数可选性: 任选参数类型: 枚举，参见枚举定义参数范围: 0-1默认值: Disable|开启或关闭行合并功能。该参数需要重启CDN生效。该参数的默认值为Disable（功能关闭）
SUBENABLE|启用订阅通知功能|参数可选性: 任选参数类型: 枚举，参见枚举定义参数范围: 0-1默认值: NO|是否启用订阅通知功能。可取值：NO: 不启用订阅通知功能。YES：启用订阅通知功能。该参数的默认值为NO（功能不启用）
命令举例 
`
增加租户1的参数。
ADD CDBPARAM:TENANTID=1,MDBSIZE=6656,LOGBUFSIZE=1024,MQBUFSIZE=20,TPS=100000,BUFFNUM=15000,ROWMERGE="Disable"
` 
#### 删除参数配置(DEL CDBPARAM) 
#### 删除参数配置(DEL CDBPARAM) 
功能说明 
该命令用于删除租户参数配置。
注意事项 
删除配置可能会导致UDSF下的节点上电失败，需谨慎操作。 
输入参数说明 
标识|名称|类型|说明
---|---|---|---
TENANTID|租户ID|参数可选性: 必选参数类型: 数字参数范围: 1-255|该参数用于唯一标识一个租户，通过SHOW CDBTENANT命令可以查看已创建的租户ID。
命令举例 
`
删除租户1的配置项。
DEL CDBPARAM:TENANTID=1
` 
#### 修改参数配置(SET CDBPARAM) 
#### 修改参数配置(SET CDBPARAM) 
功能说明 
该命令用于修改租户参数配置，当内存库大小（MDBSIZE）、日志缓冲区大小（LOGBUFSIZE）、消息缓冲区大小（MQBUFSIZE）、TPS上限(TPSNUM)、数据区个数(BUFFNUM)、行合并开关(ROWMERGE)等参数不符合业务网元的使用需求时可以根据实际情况修改。执行成功后，可以通过[SHOW CDBPARAM] 命令查看。
注意事项 
将参数值改小后，可能导致数据丢失，节点异常，需谨慎操作。 
 
修改内存库大小（MDBSIZE）、日志缓冲区大小（LOGBUFSIZE）、消息缓存大小（MQBUFSIZE）、数据区个数（BUFFNUM）、启用订阅通知功能（SUBENABLE）后，需要重启UDSF下所有CDN节点才能生效。不重启不生效，对业务无影响。仅修改TPS和ROWMERGE不需要重启。 
输入参数说明 
标识|名称|类型|说明
---|---|---|---
TENANTID|租户ID|参数可选性: 必选参数类型: 数字参数范围: 1-255|该参数用于唯一标识一个租户，通过SHOW CDBTENANT命令可以查看已创建的租户ID。
MDBSIZE|内存库大小(MB)|参数可选性: 任选参数类型: 数字参数范围: 500-32768|单个CDN节点内存库大小，单位为MB，指示用于存放数据的内存库大小。该参数需要重启CDN生效。
LOGBUFSIZE|日志库大小(MB)|参数可选性: 任选参数类型: 数字参数范围: 100-8192|单个CDN节点日志缓冲区大小，单位为MB，指示用于存放日志的缓冲区大小。该参数需要重启CDN生效。
TPS|TPS|参数可选性: 任选参数类型: 数字参数范围: 10000-120000默认值: 100000|单个CDN节点TPS上限，指示单节点TPS上限。该参数默认值为100,000
BUFFNUM|数据区个数|参数可选性: 任选参数类型: 数字参数范围: 10000-18000默认值: 15000|单个CDN节点事务数据区个数上限，指示单节点事务数据区个数上限。该参数需要重启CDN生效。该参数默认值为15,000
ROWMERGE|行合并功能|参数可选性: 任选参数类型: 枚举，参见枚举定义参数范围: 0-1默认值: Disable|开启或关闭行合并功能。该参数需要重启CDN生效。该参数的默认值为Disable（功能关闭）
SUBENABLE|启用订阅通知功能|参数可选性: 任选参数类型: 枚举，参见枚举定义参数范围: 0-1默认值: NO|是否启用订阅通知功能。可取值：NO: 不启用订阅通知功能。YES：启用订阅通知功能。该参数的默认值为NO（功能不启用）
命令举例 
`
修改租户1的MDBSIZE配置项值为1024。
SET CDBPARAM:TENANTID=1,MDBSIZE=1024
` 
#### 查询参数配置(SHOW CDBPARAM) 
#### 查询参数配置(SHOW CDBPARAM) 
功能说明 
该命令用于查询租户参数配置，包括内存库大小（MDBSIZE）、日志缓冲区大小（LOGBUFSIZE）、消息缓冲区大小（MQBUFSIZE）、TPS上限(TPSNUM)、数据区个数(BUFFNUM)、行合并开关(ROWMERGE)。
注意事项 
无。
输入参数说明 
标识|名称|类型|说明
---|---|---|---
TENANTID|租户ID|参数可选性: 任选参数类型: 数字参数范围: 1-255|该参数用于唯一标识一个租户，通过SHOW CDBTENANT命令可以查看已创建的租户ID。
输出参数说明 
标识|名称|类型|说明
---|---|---|---
TENANTID|租户ID|参数可选性: 任选参数类型: 数字参数范围: 1-255|该参数用于唯一标识一个租户，通过SHOW CDBTENANT命令可以查看已创建的租户ID。
MDBSIZE|内存库大小(MB)|参数可选性: 任选参数类型: 数字参数范围: 500-32768|单个CDN节点内存库大小，单位为MB，指示用于存放数据的内存库大小。该参数需要重启CDN生效。
LOGBUFSIZE|日志库大小(MB)|参数可选性: 任选参数类型: 数字参数范围: 100-8192|单个CDN节点日志缓冲区大小，单位为MB，指示用于存放日志的缓冲区大小。该参数需要重启CDN生效。
TPS|TPS|参数可选性: 任选参数类型: 数字参数范围: 10000-120000默认值: 100000|单个CDN节点TPS上限，指示单节点TPS上限。该参数默认值为100,000
BUFFNUM|数据区个数|参数可选性: 任选参数类型: 数字参数范围: 10000-18000默认值: 15000|单个CDN节点事务数据区个数上限，指示单节点事务数据区个数上限。该参数需要重启CDN生效。该参数默认值为15,000
ROWMERGE|行合并功能|参数可选性: 任选参数类型: 枚举，参见枚举定义参数范围: 0-1默认值: Disable|开启或关闭行合并功能。该参数需要重启CDN生效。该参数的默认值为Disable（功能关闭）
SUBENABLE|启用订阅通知功能|参数可选性: 任选参数类型: 枚举，参见枚举定义参数范围: 0-1默认值: NO|是否启用订阅通知功能。可取值：NO: 不启用订阅通知功能。YES：启用订阅通知功能。该参数的默认值为NO（功能不启用）
命令举例 
`
查询租户1的参数配置。
(No.1) : SHOW CDBPARAM:TENANTID=1
-----------------NFS Common Configuration---------------------------------
租户ID 内存库大小 日志库大小  TPS    数据区个数 行合并功能 启用订阅通知功能
--------------------------------------------------------------------------
1      6656       1024        100000 15000      关闭       NO
--------------------------------------------------------------------------
记录数：1
执行成功耗时: 0.1 秒
` 
### 过负荷配置 
### 过负荷配置 
背景知识 
UDSF服务提供了过负荷控制功能，在系统超负荷运转时，可以保证系统的安全。UDSF目前提供了CPU过负荷的控制，在系统的CPU负载超过阈值时按比例以及消息的重要性丢弃部分消息，从而保证系统过负荷时能够正常运行。 
功能说明 
UDSF过负荷阈值可以根据用户的需求进行配置，也可以采用系统默认值。 
子主题： 
#### 增加过负荷配置(ADD CDBLOADLV) 
#### 增加过负荷配置(ADD CDBLOADLV) 
功能说明 
该命令用于为租户增加过负荷配置。当系统运行过程中出现过负荷时，为了防止减缓系统阻塞、业务大量失败的可能，需要按比例丢弃部分业务操作。过负荷配置就是以租户为单位配置过负荷时各个过负荷等级下的CPU阈值。目前系统默认的过负荷等级如下： 
level: 0, cpu: 75。系统正常运行。不丢消息、不发告警。 
level: 1, cpu: 80。系统轻度过负荷，发出轻度过负荷告警，丢弃部分低优先级消息。 
level: 2, cpu: 85。系统中度过负荷，丢弃低优先级消息，发出中度过负荷告警。 
level: 3, cpu: 90。系统重度过负荷，系统发出重度过负荷告警，开始丢弃部分高优先级消息。 
level: 4, cpu: 95。系统严重过负荷，系统发出严重过负荷告警，会丢弃所有消息。 
注意事项 
过负荷配置是以租户为单位的。一般情况不需要配置。采用系统默认值即可。只有在用户认为过负荷的CPU阈值需要调整时，才需要进行配置。 
配置完成后，需要同步配置数据，可以实时生效。如果需要调整某个租户的过负荷等级时，0~4级CPU阈值需要逐步增加，后一级CPU阈值需要比前一级CPU阈值数值大于等于5%。 
输入参数说明 
标识|名称|类型|说明
---|---|---|---
TENANTID|租户ID|参数可选性: 必选参数类型: 数字参数范围: 1-255|该参数用于唯一标识一个租户，通过SHOW CDBTENANT命令可以查看已创建的租户ID。
LEVEL|过负荷等级|参数可选性: 必选参数类型: 数字参数范围: 0-4|过负荷等级，取值如下：level: 0, cpu: 75。系统正常运行。不丢消息、不发告警。level: 1, cpu: 80。系统轻度过负荷，发出轻度过负荷告警，丢弃部分低优先级消息。level: 2, cpu: 85。系统中度过负荷，丢弃低优先级消息，发出中度过负荷告警。level: 3, cpu: 90。系统重度过负荷，系统发出重度过负荷告警，开始丢弃部分高优先级消息。level: 4, cpu: 95。系统严重过负荷，系统发出严重过负荷告警，会丢弃所有消息。
CPU|CPU负荷阈值(%)|参数可选性: 必选参数类型: 数字参数范围: 1-100|CPU负荷阈值，取值参见LEVEL说明。
命令举例 
`
为租户1增加一条过负荷等级为0的过负荷配置，示意如下：
ADD CDBLOADLV:TENANTID=1,LEVEL=0,CPU=75
` 
#### 删除过负荷配置(DEL CDBLOADLV) 
#### 删除过负荷配置(DEL CDBLOADLV) 
功能说明 
该命令用于删除一条过负荷配置。当某个租户的所有等级过负荷配置全部删除时将会采用默认值。
注意事项 
租户的过负荷配置被删除后，将会采用系统默认配置。
输入参数说明 
标识|名称|类型|说明
---|---|---|---
TENANTID|租户ID|参数可选性: 必选参数类型: 数字参数范围: 1-255|该参数用于唯一标识一个租户，通过SHOW CDBTENANT命令可以查看已创建的租户ID。
LEVEL|过负荷等级|参数可选性: 必选参数类型: 数字参数范围: 0-4|过负荷等级，取值如下：level: 0, cpu: 75。系统正常运行。不丢消息、不发告警。level: 1, cpu: 80。系统轻度过负荷，发出轻度过负荷告警，丢弃部分低优先级消息。level: 2, cpu: 85。系统中度过负荷，丢弃低优先级消息，发出中度过负荷告警。level: 3, cpu: 90。系统重度过负荷，系统发出重度过负荷告警，开始丢弃部分高优先级消息。level: 4, cpu: 95。系统严重过负荷，系统发出严重过负荷告警，会丢弃所有消息。
命令举例 
`
删除租户1的过负荷配置，示意如下：
DEL CDBLOADLV:TENANTID=1,LEVEL=1
` 
#### 修改过负荷配置(SET CDBLOADLV) 
#### 修改过负荷配置(SET CDBLOADLV) 
功能说明 
该命令用于修改租户的过负荷配置。当用户需要调整租户的过负荷配置时，可以调用此命令对租户的过负荷配置进行修改。
注意事项 
修改时，注意0~4级CPU阈值需要逐步增加，后一级CPU阈值需要比前一级CPU阈值数值大于等于5%。
输入参数说明 
标识|名称|类型|说明
---|---|---|---
TENANTID|租户ID|参数可选性: 必选参数类型: 数字参数范围: 1-255|该参数用于唯一标识一个租户，通过SHOW CDBTENANT命令可以查看已创建的租户ID。
LEVEL|过负荷等级|参数可选性: 必选参数类型: 数字参数范围: 0-4|过负荷等级，取值如下：level: 0, cpu: 75。系统正常运行。不丢消息、不发告警。level: 1, cpu: 80。系统轻度过负荷，发出轻度过负荷告警，丢弃部分低优先级消息。level: 2, cpu: 85。系统中度过负荷，丢弃低优先级消息，发出中度过负荷告警。level: 3, cpu: 90。系统重度过负荷，系统发出重度过负荷告警，开始丢弃部分高优先级消息。level: 4, cpu: 95。系统严重过负荷，系统发出严重过负荷告警，会丢弃所有消息。
CPU|CPU负荷阈值(%)|参数可选性: 必选参数类型: 数字参数范围: 1-100|CPU负荷阈值，取值参见LEVEL说明。
命令举例 
`
修改租户1的一条过负荷等级为0的CPU阈值为78，示意如下：
SET CDBLOADLV:TENANTID=1,LEVEL=0,CPU=78
` 
#### 查询过负荷配置(SHOW CDBLOADLV) 
#### 查询过负荷配置(SHOW CDBLOADLV) 
功能说明 
该命令用于查询租户的过负荷配置。
注意事项 
无。
输入参数说明 
标识|名称|类型|说明
---|---|---|---
TENANTID|租户ID|参数可选性: 任选参数类型: 数字参数范围: 1-255|该参数用于唯一标识一个租户，通过SHOW CDBTENANT命令可以查看已创建的租户ID。
输出参数说明 
标识|名称|类型|说明
---|---|---|---
TENANTID|租户ID|参数可选性: 任选参数类型: 数字参数范围: 1-255|该参数用于唯一标识一个租户，通过SHOW CDBTENANT命令可以查看已创建的租户ID。
LEVEL|过负荷等级|参数可选性: 任选参数类型: 数字参数范围: 0-4|过负荷等级，取值如下：level: 0, cpu: 75。系统正常运行。不丢消息、不发告警。level: 1, cpu: 80。系统轻度过负荷，发出轻度过负荷告警，丢弃部分低优先级消息。level: 2, cpu: 85。系统中度过负荷，丢弃低优先级消息，发出中度过负荷告警。level: 3, cpu: 90。系统重度过负荷，系统发出重度过负荷告警，开始丢弃部分高优先级消息。level: 4, cpu: 95。系统严重过负荷，系统发出严重过负荷告警，会丢弃所有消息。
CPU|CPU负荷阈值(%)|参数可选性: 任选参数类型: 数字参数范围: 1-100|CPU负荷阈值，取值参见LEVEL说明。
命令举例 
`
查询租户1的过负荷配置，示意如下：
(No.4) : SHOW CDBLOADLV:TENANTID=1
-----------------Ncudr_SystemManagement_0----------------
租户ID        过负荷等级      CPU负荷阈值
---------------------------------------------------------
1             0               75
1             1               80
1             2               85
1             3               90
1             4               95
---------------------------------------------------------
记录数：5
执行成功耗时: 0.158 秒
` 
### 内存库告警阈值配置 
### 内存库告警阈值配置 
背景知识 
UDSF内存数据库需要预先分配内存池，当内存池用光时，后续的业务操作如增加和修改操作等需要申请内存的操作都会失败。因此UDSF提供了内存库库满分级告警机制，警告用户需要提前规划并实施扩容操作，避免库满时造成不必要的业务失败。 
功能说明 
UDSF内存数据库提供了三级库满告警，阈值可以通过本节点提供的配置命令进行配置。其中１级最高，３级最低，且每２级阈值之间差值要求不小于５。当一级告警上报后，如果用户仍然没有实施扩容操作，内存库使用率继续上升，会上报内存库满告警。 
子主题： 
#### 增加内存库告警阈值配置(ADD CDBMEMALARMLV) 
#### 增加内存库告警阈值配置(ADD CDBMEMALARMLV) 
功能说明 
该命令用于为租户增加内存库告警阈值配置。当系统运行过程中内存库库满时，需要提醒用户扩容，减少业务因库满失败。目前系统默认的内存库库满告警阈值等级如下： 
DB_RATIO_LV3: 70。内存库库满预警阈值，需要计划扩容。 
DB_RATIO_LV2: 80。内存库库满紧急预警，需要立即扩容。 
DB_RATIO_LV1: 90。内存库库将满告警，业务持续增加,库满时增加操作和修改操作会失败。 
注意事项 
内存库库满告警阈值配置是以租户为单位的。一般情况不需要配置。采用系统默认值即可。只有在用户认为过内存库库满告警阈值需要调整时，才需要进行配置。 
配置完成后，需要同步配置数据，可以实时生效。如果需要调整某个租户的内存库库满告警阈值等级时，1~3级CDBMEMALARMLV阈值需要逐步递减，后一级阈值需要比前一级阈值数值小于等于5。 
输入参数说明 
标识|名称|类型|说明
---|---|---|---
TENANTID|租户ID|参数可选性: 必选参数类型: 数字参数范围: 1-255|该参数用于唯一标识一个租户，通过SHOW CDBTENANT命令可以查看已创建的租户ID。
DB_RATIO_LV1|内存库一级告警阈值(%)|参数可选性: 必选参数类型: 数字参数范围: 1-95默认值: 90|内存库库满一级告警阈值该参数默认值为90
DB_RATIO_LV2|内存库二级告警阈值(%)|参数可选性: 必选参数类型: 数字参数范围: 1-95默认值: 80|内存库库满二级告警阈值该参数默认值为80
DB_RATIO_LV3|内存库三级告警阈值(%)|参数可选性: 必选参数类型: 数字参数范围: 1-95默认值: 70|内存库库满三级告警阈值该参数默认值为70
命令举例 
`
增加租户1的CDBMEMALARMLV配置，示意如下：
ADD CDBMEMALARMLV:TENANTID=1,DB_RATIO_LV1=90,DB_RATIO_LV2=80,DB_RATIO_LV3=70
` 
#### 删除内存库告警阈值配置(DEL CDBMEMALARMLV) 
#### 删除内存库告警阈值配置(DEL CDBMEMALARMLV) 
功能说明 
该命令用于删除内存库库满告警阈值配置。当某个租户的库满告警阈值配置删除时将会采用默认值。
注意事项 
租户的内存库库满告警阈值配置被删除后，将会采用系统默认配置。
输入参数说明 
标识|名称|类型|说明
---|---|---|---
TENANTID|租户ID|参数可选性: 必选参数类型: 数字参数范围: 1-255|该参数用于唯一标识一个租户，通过SHOW CDBTENANT命令可以查看已创建的租户ID。
命令举例 
`
删除租户1的CDBMEMALARMLV配置，示意如下：
DEL CDBMEMALARMLV:TENANTID=1
` 
#### 修改内存库告警阈值配置(SET CDBMEMALARMLV) 
#### 修改内存库告警阈值配置(SET CDBMEMALARMLV) 
功能说明 
该命令用于修改租户的库满告警阈值配置。当用户需要调整租户的库满告警阈值配置时，可以调用此命令对租户的库满告警阈值配置进行修改。
注意事项 
修改时，1~3级CDBMEMALARMLV阈值需要逐步递减，后一级阈值需要比前一级阈值数值小于等于5。
输入参数说明 
标识|名称|类型|说明
---|---|---|---
TENANTID|租户ID|参数可选性: 必选参数类型: 数字参数范围: 1-255|该参数用于唯一标识一个租户，通过SHOW CDBTENANT命令可以查看已创建的租户ID。
DB_RATIO_LV1|内存库一级告警阈值(%)|参数可选性: 任选参数类型: 数字参数范围: 1-95默认值: 90|内存库库满一级告警阈值该参数默认值为90
DB_RATIO_LV2|内存库二级告警阈值(%)|参数可选性: 任选参数类型: 数字参数范围: 1-95默认值: 80|内存库库满二级告警阈值该参数默认值为80
DB_RATIO_LV3|内存库三级告警阈值(%)|参数可选性: 任选参数类型: 数字参数范围: 1-95默认值: 70|内存库库满三级告警阈值该参数默认值为70
命令举例 
`
修改租户1的CDBMEMALARMLV阈值为90，示意如下：
SET CDBMEMALARMLV:TENANTID=1,DB_RATIO_LV1=90
` 
#### 查询内存库告警阈值配置(SHOW CDBMEMALARMLV) 
#### 查询内存库告警阈值配置(SHOW CDBMEMALARMLV) 
功能说明 
该命令用于查询租户的库满告警阈值配置。
注意事项 
无。
输入参数说明 
标识|名称|类型|说明
---|---|---|---
TENANTID|租户ID|参数可选性: 任选参数类型: 数字参数范围: 1-255|该参数用于唯一标识一个租户，通过SHOW CDBTENANT命令可以查看已创建的租户ID。
输出参数说明 
标识|名称|类型|说明
---|---|---|---
TENANTID|租户ID|参数可选性: 任选参数类型: 数字参数范围: 1-255|该参数用于唯一标识一个租户，通过SHOW CDBTENANT命令可以查看已创建的租户ID。
DB_RATIO_LV1|内存库一级告警阈值(%)|参数可选性: 任选参数类型: 数字参数范围: 1-95默认值: 90|内存库库满一级告警阈值该参数默认值为90
DB_RATIO_LV2|内存库二级告警阈值(%)|参数可选性: 任选参数类型: 数字参数范围: 1-95默认值: 80|内存库库满二级告警阈值该参数默认值为80
DB_RATIO_LV3|内存库三级告警阈值(%)|参数可选性: 任选参数类型: 数字参数范围: 1-95默认值: 70|内存库库满三级告警阈值该参数默认值为70
命令举例 
`
查询租户1的CDBMEMALARMLV配置，示意如下：
(No.4) : SHOW CDBMEMALARMLV:TENANTID=1
-----------------Ncudr_SystemManagement_0----------------
租户ID  内存库一级告警阈值(%)   内存库二级告警阈值(%)  内存库三级告警阈值(%)
---------------------------------------------------------------------------
1       90                      80                     70
---------------------------------------------------------------------------
记录数：1
执行成功耗时: 0.158 秒
` 
### 数据区告警阈值配置 
### 数据区告警阈值配置 
背景知识 
UDSF使用数据缓冲区来存放未完成的事务数据，事务结束后再释放事务缓冲区。当单位时间内事务缓冲区占用率过高时可能会导致事务缓冲区不够用，造成事务失败。事务缓冲区大小可以通过[ADD CDBPARAM]命令配置。当事务缓冲区使用率过高时, UDSF提供了分级告警，警告用户事务过频。目前会使用事务缓冲区的只有增加操作。
功能说明 
UDSF提供了四级告警，用于提示用户数据事务缓冲区的使用情况。本节点提供了阈值配置命令，其中１级最高，４级最低，且每２级之间差值要求不小于５。如果不配置，默认值为90、80、70、60。 
子主题： 
#### 增加数据区告警阈值配置(ADD CDBBUFFLV) 
#### 增加数据区告警阈值配置(ADD CDBBUFFLV) 
功能说明 
该命令用于为租户增加数据区告警阈值配置。当系统运行过程中数据区满时，需要提醒用户扩容，减少业务因数据区满失败。 
注意事项 
数据区告警阈值配置是以租户为单位的。一般情况不需要配置。采用系统默认值即可。 
配置完成后，需要同步配置数据，可以实时生效。如果需要调整某个租户的数据区告警阈值等级时，1~4级阈值需要逐步递减，后一级阈值需要比前一级阈值数值差值大于等于5。 
输入参数说明 
标识|名称|类型|说明
---|---|---|---
TENANTID|租户ID|参数可选性: 必选参数类型: 数字参数范围: 1-255|该参数用于唯一标识一个租户，通过SHOW CDBTENANT命令可以查看已创建的租户ID。
BUFF_LV1|数据区1级告警阈值(%)|参数可选性: 必选参数类型: 数字参数范围: 1-100默认值: 90|数据区满严重告警阈值，默认取值：90。
BUFF_LV2|数据区2级告警阈值(%)|参数可选性: 必选参数类型: 数字参数范围: 1-100默认值: 80|数据区满重要告警阈值，默认取值：80。
BUFF_LV3|数据区3级告警阈值(%)|参数可选性: 必选参数类型: 数字参数范围: 1-100默认值: 70|数据区满次要告警阈值，默认取值：70。
BUFF_LV4|数据区4级告警阈值(%)|参数可选性: 必选参数类型: 数字参数范围: 1-100默认值: 60|数据区满预警阈值，默认取值：60。
命令举例 
`
为租户1增加数据区告警阈值配置，示意如下：
ADD CDBBUFFLV:TENANTID=1,BUFF_LV1=90,BUFF_LV2=80,BUFF_LV3=70,BUFF_LV4=60
` 
#### 删除数据区告警阈值配置(DEL CDBBUFFLV) 
#### 删除数据区告警阈值配置(DEL CDBBUFFLV) 
功能说明 
该命令用于删除一条数据区告警阈值配置。当某个租户的数据区所有等级的阈值配置全部删除时将会采用默认值。
注意事项 
租户的数据区阈值配置被删除后，将会采用系统默认配置。
输入参数说明 
标识|名称|类型|说明
---|---|---|---
TENANTID|租户ID|参数可选性: 必选参数类型: 数字参数范围: 1-255|该参数用于唯一标识一个租户，通过SHOW CDBTENANT命令可以查看已创建的租户ID。
命令举例 
`
删除租户1的告警阈值配置，示意如下：
DEL CDBBUFFLV:TENANTID=1
` 
#### 修改数据区告警阈值配置(SET CDBBUFFLV) 
#### 修改数据区告警阈值配置(SET CDBBUFFLV) 
功能说明 
该命令用于修改数据区告警阈值配置。当用户需要调整数据区告警阈值配置时，可以调用此命令对数据区告警阈值配置进行修改。
注意事项 
修改时，注意1~4级阈值需要逐步递减，后一级阈值需要比前一级阈值数值差值大于等于5。
输入参数说明 
标识|名称|类型|说明
---|---|---|---
TENANTID|租户ID|参数可选性: 必选参数类型: 数字参数范围: 1-255|该参数用于唯一标识一个租户，通过SHOW CDBTENANT命令可以查看已创建的租户ID。
BUFF_LV1|数据区1级告警阈值(%)|参数可选性: 任选参数类型: 数字参数范围: 1-100默认值: 90|数据区满严重告警阈值，默认取值：90。
BUFF_LV2|数据区2级告警阈值(%)|参数可选性: 任选参数类型: 数字参数范围: 1-100默认值: 80|数据区满重要告警阈值，默认取值：80。
BUFF_LV3|数据区3级告警阈值(%)|参数可选性: 任选参数类型: 数字参数范围: 1-100默认值: 70|数据区满次要告警阈值，默认取值：70。
BUFF_LV4|数据区4级告警阈值(%)|参数可选性: 任选参数类型: 数字参数范围: 1-100默认值: 60|数据区满预警阈值，默认取值：60。
命令举例 
`
修改租户1的告警阈值为90，示意如下：
SET CDBBUFFLV:TENANTID=1,BUFF_LV1=90
` 
#### 查询数据区告警阈值配置(SHOW CDBBUFFLV) 
#### 查询数据区告警阈值配置(SHOW CDBBUFFLV) 
功能说明 
该命令用于查询租户的数据区告警阈值配置。
注意事项 
无。
输入参数说明 
标识|名称|类型|说明
---|---|---|---
TENANTID|租户ID|参数可选性: 任选参数类型: 数字参数范围: 1-255|该参数用于唯一标识一个租户，通过SHOW CDBTENANT命令可以查看已创建的租户ID。
输出参数说明 
标识|名称|类型|说明
---|---|---|---
TENANTID|租户ID|参数可选性: 任选参数类型: 数字参数范围: 1-255|该参数用于唯一标识一个租户，通过SHOW CDBTENANT命令可以查看已创建的租户ID。
BUFF_LV1|数据区1级告警阈值(%)|参数可选性: 任选参数类型: 数字参数范围: 1-100默认值: 90|数据区满严重告警阈值，默认取值：90。
BUFF_LV2|数据区2级告警阈值(%)|参数可选性: 任选参数类型: 数字参数范围: 1-100默认值: 80|数据区满重要告警阈值，默认取值：80。
BUFF_LV3|数据区3级告警阈值(%)|参数可选性: 任选参数类型: 数字参数范围: 1-100默认值: 70|数据区满次要告警阈值，默认取值：70。
BUFF_LV4|数据区4级告警阈值(%)|参数可选性: 任选参数类型: 数字参数范围: 1-100默认值: 60|数据区满预警阈值，默认取值：60。
命令举例 
`
查询租户1的告警阈值配置，示意如下：
(No.4) : SHOW CDBBUFFLV:TENANTID=1
-----------------Ncudr_SystemManagement_0----------------
租户ID  数据区1级告警阈值(%)  数据区2级告警阈值(%)  数据区3级告警阈值(%)  数据区4级告警阈值(%)
-----------------------------------------------------------------------------------------
1       90                    80                    70                    60 
-----------------------------------------------------------------------------------------
记录数：1
执行成功耗时: 0.158 秒
` 
专业维护 : 
专业维护 : 
背景知识 
为了方便对节点状态和分布式数据进行管理，需要一些专业维护功能。 
功能说明 
使用本命令可以进行专业维护方面的操作，包括拓扑管理、数据维护、探针命令等功能。 
子主题： 
### UDSF管理 
### UDSF管理 
背景知识 
UDSF从系统管理和数据维护两个方面，给维护人员提供了系统维护功能。 
其中，UDSF拓扑管理可以查看系统中所有节点的拓扑信息以及数据分布信息。UDSF数据维护提供了一组数据维护的命令，方便用户查看和维护UDSF系统中的用户数据信息。UDSF探针也属于一种数据维护的方法，但因为探针可以直接查看内存库中的数据，因此单独归类。 
功能说明 
该功能用于UDSF系统管理和数据维护，方便用户查看系统状态，并对系统中的用户数据进行维护。 
子主题： 
#### UDSF拓扑管理 
#### UDSF拓扑管理 
背景知识 
UDSF拓扑包含UDSF节点分布、UDSF数据分布以及UDSF数据是否有效的历史变迁。 
功能说明 
该功能用于查看UDSF系统中各个节点的拓扑状态以及数据分布，提供了如下几个命令： 
查看UDSF节点状态：用于查看系统中CDN节点的当前状态。 
 
查看UDSF数据分布：用于查看UDSF数据分片在系统中分布情况以及各个副本的当前状态。 
 
查看UDSF数据状态：用于查看当前和历史数据状态，可以查看最近5次用户数据状态变迁历史信息。 
子主题： 
##### 查询节点状态(SHOW CDBNODE) 
##### 查询节点状态(SHOW CDBNODE) 
功能说明 
该命令用于查询节点的当前运行状态信息。当操作维护人员需要了解当前节点的运行状态时，可以执行本命令。
注意事项 
多租户场景下，必须携带租户ID进行查询。
输入参数说明 
标识|名称|类型|说明
---|---|---|---
TENANTID|租户ID|参数可选性: 任选参数类型: 数字参数范围: 1-255|该参数用于唯一标识一个租户。通过SHOW CDBTENANT命令可以查看已创建的租户ID。
NFID|NF标识|参数可选性: 任意单选参数类型: 数字参数范围: 1-255|该参数用于唯一指示UDSF部署的NF，通过SHOW CDBTENANT命令可以查看所有租户分布的NF信息。
MODULE|模块号|参数可选性: 任意单选参数类型: 数字参数范围: 1-65535|该参数用于指示节点对应的模块号。模块号供内部使用，节点号供外部使用。查询时可以不输入，表示查询租户下的所有节点信息。
输出参数说明 
标识|名称|类型|说明
---|---|---|---
INDEXID|索引号|参数可选性: 任选参数类型: 数字参数范围: 1-65535|用于唯一标识一条节点记录信息。
NFID|NF标识|参数可选性: 任选参数类型: 数字参数范围: 1-255|该参数用于唯一指示UDSF部署的NF，通过SHOW CDBTENANT命令可以查看所有租户分布的NF信息。
NODEID|节点ID|参数可选性: 任选参数类型: 数字参数范围: 0-4294967295|该参数用于指示节点号。
MODULE|模块号|参数可选性: 任选参数类型: 数字参数范围: 1-65535|该参数用于指示节点对应的模块号。模块号供内部使用，节点号供外部使用。查询时可以不输入，表示查询租户下的所有节点信息。
TENANTID|租户ID|参数可选性: 任选参数类型: 数字参数范围: 1-255|该参数用于唯一标识一个租户。通过SHOW CDBTENANT命令可以查看已创建的租户ID。
DOMAIN|域|参数可选性: 任选参数类型: 字符串参数范围: 0-256|该参数用于指示CDN节点归属左域还是右域。
STATE|状态|参数可选性: 任选参数类型: 字符串参数范围: 0-256|该参数用于指示节点当前状态，支持以下状态：NORMAL：正常状态INIT：初始态，CDN节点还未获取到配置。WAIT：等待态，CDN节点还未获取到分片分布。OFFLINE：离线态，CDN节点被离线，业务不再发往该节点。ABNORMAL：异常状态，节点断链或上电失败，处于该状态的节点无法处理业务。
CPU|CPU(%)|参数可选性: 任选参数类型: 字符串参数范围: 0-256|该参数用于指示该节点当前CPU占用率。
MEM|MEM(%)|参数可选性: 任选参数类型: 字符串参数范围: 0-256|该参数用于指示该节点当前内存库占用比例。
VM_POD_NAME|虚机/POD名|参数可选性: 任选参数类型: 字符串参数范围: 0-256|该参数用于指示该节点所在虚机或者POD名。
BUFFUSED|数据区使用率(%)|参数可选性: 任选参数类型: 字符串参数范围: 0-256|该参数用于指示该节点的数据区使用率。
TPS|TPS|参数可选性: 任选参数类型: 字符串参数范围: 0-256|该参数用于指示该节点每秒收到的业务消息数。
OUTP|输出|参数可选性: 任选参数类型: 字符串|该参数用于指示命令执行失败时输出的结果。
命令举例 
`
查询租户1下模块号为3的节点的当前运行状态。
(No.1) : SHOW CDBNODE:TENANTID=1,MODULE=3
-----------------Ncudr_SystemManagement_0----------------
索引号  节点号  模块号  租户ID   域        状态     CPU(%)   MEM(%)    虚机/POD名         数据区使用率     TPS
1       65539   3       1        LEFT      NORMAL   7        19        ZTE_CUDR_1_CDU_0   80%              30000
记录数：1
执行成功耗时: 0.412 秒
` 
##### 查询数据分布(SHOW CDB DISTRIBUTION) 
##### 查询数据分布(SHOW CDB DISTRIBUTION) 
功能说明 
该命令用于查询CDN节点上的数据分布信息。当操作维护人员需要了解节点上的数据分片的分布信息或分片状态时，可以执行本命令。
注意事项 
无。
输入参数说明 
标识|名称|类型|说明
---|---|---|---
TENANTID|租户ID|参数可选性: 任选参数类型: 数字参数范围: 1-255|该参数用于唯一标识一个租户，通过SHOW CDBTENANT命令可以查看已创建的租户ID。
NFID|NF标识|参数可选性: 任选参数类型: 数字参数范围: 1-255|该参数用于唯一指示UDSF部署的NF，通过SHOW CDBTENANT命令可以查看所有租户分布的NF信息。如果不输入NFID,则表示查询所有NF的分片分布信息。
STARTSLOTID|起始分片ID|参数可选性: 任选参数类型: 数字参数范围: 1-1024默认值: 1|该参数用于指定待查询的起始分片ID。
ENDSLOTID|结束分片ID|参数可选性: 任选参数类型: 数字参数范围: 1-1024默认值: 1024|该参数用于指定待查询的终止分片ID。
SLOTSTATE|分片状态|参数可选性: 任选参数类型: 枚举，参见枚举定义参数范围: 0-255|该参数用于指定分片状态。包含以下状态：NORMAL：正常状态MERGE：数据合并状态，该状态下可以正常处理业务。OTHER：其他状态，除NORMAL和MERGE以外的其他状态。
输出参数说明 
标识|名称|类型|说明
---|---|---|---
INDEXID|索引号|参数可选性: 任选参数类型: 数字参数范围: 1-65535|用于唯一标识一条分布记录信息。
NFID|NF标识|参数可选性: 任选参数类型: 数字参数范围: 1-255|该参数用于唯一指示UDSF部署的NF，通过SHOW CDBTENANT命令可以查看所有租户分布的NF信息。
SLOTID|分片ID|参数可选性: 任选参数类型: 数字参数范围: 1-65535|该参数用于标识分片ID。
REPLICA|副本ID|参数可选性: 任选参数类型: 数字参数范围: 1-65535|该参数用于标识分片的副本ID。用户数据最多有四个副本，对应ID分别为1、2、3、4，其中3/4副本只在弹缩过程中出现。
NODEID|节点ID|参数可选性: 任选参数类型: 数字参数范围: 0-4294967295|该参数用于指示分片归属的CDN节点号。通过SHOW CDBNODE命令可以查看到所有的节点。
STATE|状态|参数可选性: 任选参数类型: 字符串参数范围: 0-256|该参数用于指示当前分片的状态。包含：NORMAL：正常状态，可以正常处理业务。INITIAL：初始态，不能处理业务。WAIT：等待态，等待在线恢复数据，不能处理业务。RESTORE：在线恢复态，从其他节点恢复数据，不能处理业务。MERGE：数据合并态，和其他节点上的数据进行合并，可以正常处理业务。WAIT_INIT: 等待在线恢复态，从其他节点恢复数据，不能处理业务
OUTP|输出|参数可选性: 任选参数类型: 字符串|该参数用于指示命令执行失败时输出的结果。
命令举例 
`
查询租户1分片分布。
(No.1) : SHOW CDB DISTRIBUTION:TENANTID=1
-----------------Ncudr_SystemManagement_0----------------
索引号 NF ID  分片ID 副本ID 节点ID    状态     
1     1       1      1      65539     NORMAL
2     1       1      2      65540     NORMAL
3     255     1      1      1507591   NORMAL
4     255     1      2      1507600   NORMAL
Total Records:4
` 
##### 查询系统历史可用信息(SHOW CDB VALID) 
##### 查询系统历史可用信息(SHOW CDB VALID) 
功能说明 
该命令用于查询系统当前是否正常运行，以及历史运行信息。当操作维护人员需要了解系统的运行信息时，可以执行本命令。
注意事项 
多租户场景下，必须携带租户ID进行查询。
输入参数说明 
标识|名称|类型|说明
---|---|---|---
TENANTID|租户ID|参数可选性: 任意单选参数类型: 数字参数范围: 1-255|该参数用于唯一标识一个租户。通过SHOW CDBTENANT命令可以查看已创建的租户ID。
TENANTNAME|租户名|参数可选性: 任意单选参数类型: 字符串参数范围: 1-128|该参数用于表示租户名称。
输出参数说明 
标识|名称|类型|说明
---|---|---|---
TENANTID|租户ID|参数可选性: 任选参数类型: 数字参数范围: 1-255|该参数用于唯一标识一个租户。通过SHOW CDBTENANT命令可以查看已创建的租户ID。
TENANTNAME|租户名|参数可选性: 任选参数类型: 字符串参数范围: 0-256|该参数用于表示租户名称。
SWITCHINFO|切换信息|参数可选性: 任选参数类型: 字符串参数范围: 0-256|该参数用于表示系统从有效切换到无效或无效切换到有效的切换信息。
TIME|时间|参数可选性: 任选参数类型: 字符串参数范围: 0-256|该参数用于表示系统有效性切换的时间。
OUTP|输出|参数可选性: 任选参数类型: 字符串|该参数用于指示命令执行失败时输出的结果。
命令举例 
`
查询CDB系统运行状态。
(No.32) : SHOW CDB VALID:
-----------------Ncudr_SystemManagement_0----------------
租户ID  租户名    切换信息          时间
1       tenant_1  Unvalid -> Valid  2019-09-12 17:19:56
1       tenant_1  Valid -> Unvalid  2019-09-12 17:19:32
1       tenant_1  Unvalid -> Valid  2019-09-10 21:36:11
记录数：3
执行成功耗时: 0.091 秒
` 
#### UDSF数据维护 
#### UDSF数据维护 
背景知识 
UDSF提供了一组数据维护类的命令，用于查看和维护数据库中数据。执行此组命令可以为维护人员分析系统状态提供一些依据。 
功能说明 
UDSF数据维护提供了一组数据维护命令，包含： 
查看用户数：查看内存数据库中用户数目。 
 
查看记录数：查看内存数据库中各表的记录数目。包含：用户数据表记录数、别名数据表记录数以及反向别名表记录数。 
 
dump功能：将内存库数据库中的数据dump到硬盘。包含：开始dump、查看dump进度和取消dump操作三个子命令。 
 
一致性检查功能：检查UDSF数据一致性。包含“开始执行一致性检查、查看一致性检查进度和取消一致性检查三个子命令。 
 
清除数据库功能： 当系统出现故障，垃圾数据过多，数据无法删除，可以使用此命令删除数据库中的数据。 
 
重置数据库功能： 当配置错误导致数据分布错误时，可以使用此命令将CDB恢复到初始状态。 
 
UDSF日志采集：提供UDSF日志采集功能，可以按租户，也可以采集全部的UDSF的系统运行日志。 
子主题： 
##### 查询用户数(SHOW CDB USERNUM) 
##### 查询用户数(SHOW CDB USERNUM) 
功能说明 
该命令用于查询各个节点上第一和第二副本的PI数量。当操作维护人员需要查询当前内存库中PI数量时可以使用本命令。
注意事项 
无。
输入参数说明 
标识|名称|类型|说明
---|---|---|---
NODEID|节点ID|参数可选性: 必选参数类型: 数字参数范围: 1-4294967295|该参数用于唯一指示CDN节点号，通过SHOW CDBNODE命令可以查看所有的CDN节点。
PITYPE|PI类型|参数可选性: 任选参数类型: 数字参数范围: 1-255|该参数用于指示需要查询的PI类型。
输出参数说明 
标识|名称|类型|说明
---|---|---|---
NODEID|节点ID|参数可选性: 任选参数类型: 数字|该参数用于唯一指示CDN节点号，通过SHOW CDBNODE命令可以查看所有的CDN节点。
REPLICA_ID|副本ID|参数可选性: 任选参数类型: 数字参数范围: 1-65535|该参数用于指示分片的副本ID。用户数据最多有四个副本，对应ID分别为1、2、3、4，其中3/4副本只在弹缩过程中出现。
PI_NUM|PI数量|参数可选性: 任选参数类型: 数字|该参数用于指示查询到的PI数量。
OVERDATE_NUM|过期PI数量|参数可选性: 任选参数类型: 数字|该参数用于指示查询到的过期PI数量。一般业务网元存放数据时会携带有效期(TTL), 数据存放TTL时间之后会过期，此时对应的PI即为过期PI。
NO_REDUNDANCY_NUM|指定不容灾PI数量|参数可选性: 任选参数类型: 数字默认值: 0|该参数用于指示查询到的无需容灾的PI数量。这些特殊的PI相关的数据不会同步到容灾局。
OUTP|输出|参数可选性: 任选参数类型: 字符串|该参数用于指示命令执行失败时输出的结果。
命令举例 
`
查询ID为65539的节点上PI类型为1的PI数量。
(No.1) : SHOW CDB USERNUM:NODEID=65539,PITYPE=1
-----------------Ncudr_SystemManagement_0----------------
节点号   副本ID   PI数量     过期数量     指定不容灾数量
65539    1       100        0              0             
65539    2       200        0              0             
记录数：2
执行成功 耗时: 2.963 秒
` 
##### 查询记录数(SHOW CDB RECORDNUM) 
##### 查询记录数(SHOW CDB RECORDNUM) 
功能说明 
该命令用于查询CDN节点上用户表中的记录数。当操作维护人员需要查询每一个用户表中记录的数量时，可以采用此命令。
注意事项 
无。
输入参数说明 
标识|名称|类型|说明
---|---|---|---
TENANTID|租户ID|参数可选性: 任选参数类型: 数字参数范围: 1-255|该参数用于唯一标识一个租户。通过SHOW CDBTENANT命令可以查看已创建的租户ID。
NFID|NF标识|参数可选性: 任意单选参数类型: 数字参数范围: 1-255|该参数用于唯一指示UDSF部署的NF，通过SHOW CDBTENANT命令可以查看所有租户分布的NF信息。
NODEID|节点ID|参数可选性: 任意单选参数类型: 数字参数范围: 1-4294967295|该参数用于唯一指示CDN节点号，通过SHOW CDBNODE命令可以查看所有的CDN节点。
CONSISTENCY|一致性状态|参数可选性: 任选参数类型: 枚举，参见枚举定义参数范围: 1-255默认值: 0|该参数用于过滤输出结果。  same :只显示所有副本数据一致的分片。  different:只显示有副本数据不一致的分片。  all:显示所有.
输出参数说明 
标识|名称|类型|说明
---|---|---|---
TENANTID|租户ID|参数可选性: 任选参数类型: 数字参数范围: 1-255|该参数用于唯一标识一个租户。通过SHOW CDBTENANT命令可以查看已创建的租户ID。
NFID|NF标识|参数可选性: 任选参数类型: 数字参数范围: 1-255|该参数用于唯一指示UDSF部署的NF，通过SHOW CDBTENANT命令可以查看所有租户分布的NF信息。
REPLICAID|副本ID|参数可选性: 任选参数类型: 数字|该参数用于指示分片的副本ID。用户数据最多有四个副本，对应ID分别为1、2、3、4，其中3/4副本只在弹缩过程中出现。
CDB_DATA|数据表|参数可选性: 任选参数类型: 数字|该参数用于表示CDB_DATA表记录数
CDB_ALIAS|别名表|参数可选性: 任选参数类型: 数字|该参数用于表示CDB_ALIAS表记录数
CDB_REALIAS|反向别名表|参数可选性: 任选参数类型: 数字|该参数用于表示CDB_REALIAS表记录数
SLOTID|分片ID|参数可选性: 任选参数类型: 字符串参数范围: 0-256|该参数用于标识分片ID。通过SHOW CDB DISTRIBUTION命令可以查看各个节点上的分片ID。
NODEID|节点ID|参数可选性: 任选参数类型: 数字|该参数用于指示节点号。节点号在部署时生成。
OUTP|输出|参数可选性: 任选参数类型: 字符串|该参数用于指示命令执行失败时输出的结果。
命令举例 
`
查询租户1的节点65539上的各个表在每一个分片的记录数。
(No.5) : SHOW CDB RECORDNUM:TENANTID=1,NODEID=65539
-----------------Ncudr_SystemManagement_0----------------
TenantID   NFIID   Slot ID      Replica ID   Node ID  CDB_DATA CDB_ALIAS  CDB_REALIAS
1          1       1            1            65539    0        0          0
1          1       3            1            65539    0        0          0
1          1       5            1            65539    0        0          0
1          1       7            1            65539    0        0          0
记录数：4
执行成功耗时: 0.412 秒
` 
##### 开始DUMP(START CDB DUMP) 
##### 开始DUMP(START CDB DUMP) 
功能说明 
该命令用于触发dump操作，将内存数据dump到磁盘。维护人员执行此命令后，系统开始进行dump操作。
注意事项 
 
dump操作会对系统性能有一些影响，请不要在业务高峰期执行dump操作。 
 
磁盘空间小于10G时，dump失败。 
 
输入参数说明 
标识|名称|类型|说明
---|---|---|---
NODEID|节点ID|参数可选性: 必选参数类型: 数字参数范围: 1-4294967295|该参数用于表示节点号。通过SHOW CDBNODE命令可以查看节点号。
DUMPRECORD|是否下载字段信息|参数可选性: 任选参数类型: 枚举，参见枚举定义参数范围: 0-1默认值: NO|该参数用于表示是否要将用户数据表（CDB_DATA）中的record字段dump到磁盘，取值为“yes”或“no”。
输出参数说明 
标识|名称|类型|说明
---|---|---|---
OUTP|输出|参数可选性: 必选参数类型: 字符串|该参数用于指示命令执行后输出的结果。
命令举例 
`
执行dump操作，将节点ID为65540的节点中的数据dump到磁盘，并且不包括record字段。
START CDB DUMP:NODEID=65540,DUMPRECORD="NO"
` 
##### 终止DUMP(CANCEL CDB DUMP) 
##### 终止DUMP(CANCEL CDB DUMP) 
功能说明 
该命令用于取消正在进行的dump操作。
注意事项 
无。
输出参数说明 
标识|名称|类型|说明
---|---|---|---
OUTP|输出|参数可选性: 必选参数类型: 字符串|该参数用于指示命令执行后输出的结果。
命令举例 
`
取消正在进行的dump操作。
CANCEL CDB DUMP
` 
##### 查询DUMP进度(QUERY CDB DUMP) 
##### 查询DUMP进度(QUERY CDB DUMP) 
功能说明 
该命令用于查询dump操作进度。
注意事项 
无。
输出参数说明 
标识|名称|类型|说明
---|---|---|---
NODEID|节点ID|参数可选性: 任选参数类型: 字符串参数范围: 0-256|该参数用于表示节点号。通过SHOW CDBNODE命令可以查看节点号。
PROGRESS|进度|参数可选性: 任选参数类型: 字符串参数范围: 0-256|dump操作的进度（百分比）。
TIMESTAMP|时间戳|参数可选性: 任选参数类型: 字符串参数范围: 0-256|dump操作结束的时间点。如果dump还未结束，则为查询操作发生的时间点。
STATUS|状态|参数可选性: 任选参数类型: 字符串参数范围: 0-256|dump操作状态。取值枚举如下：init : dump处于初始态，未执行。waiting : dump处于等待状态，未执行。starting : dump开始。progress : dump进行中。cancel : dump被取消。failed : dump失败。done : dump完成。
INFO|信息|参数可选性: 任选参数类型: 字符串参数范围: 0-256|dump操作信息。
OUTP|输出|参数可选性: 任选参数类型: 字符串|该参数用于指示命令执行后输出的结果。
命令举例 
`
查询dump进度。
(No.22) : QUERY CDB DUMP
-----------------Ncudr_SystemManagement_0----------------
节点ID  进度  时间戳                  状态   信息
65539   100%  2019-09-12 17:04:48     Done   dump success, dump_begin_time:2019-09-12 17:04:45
total   100%  2019-09-12 17:04:48     Done
记录数：2
输出
result files in directory /IDE0/cudr_1/dump/module_xxx
执行成功耗时: 0.144 秒
` 
##### 开始一致性检查(START CDB CONSIST) 
##### 开始一致性检查(START CDB CONSIST) 
功能说明 
该命令用于触发一致性检查。当维护人员执行此命令时，系统开始进行一致性检查操作。
注意事项 
无。
输入参数说明 
标识|名称|类型|说明
---|---|---|---
TENANTID|租户ID|参数可选性: 任选参数类型: 数字参数范围: 1-255|该参数用于唯一标识一个租户。通过SHOW CDBTENANT命令可以查看已创建的租户ID。
NODEID|节点ID|参数可选性: 任选参数类型: 数字参数范围: 1-4294967295|该参数用于表示节点号。通过SHOW CDBNODE命令可以查看节点号。
输出参数说明 
标识|名称|类型|说明
---|---|---|---
OUTP|输出|参数可选性: 任选参数类型: 字符串|该参数用于指示命令执行后输出的结果。
命令举例 
`
开始在租户1的节点65540上执行数据一致性检查。
START CDB CONSIST:TENANTID=1,NODEID=65540
` 
##### 终止一致性检查(CANCEL CDB CONSIST) 
##### 终止一致性检查(CANCEL CDB CONSIST) 
功能说明 
该命令用于取消正在执行的一致性检查任务。操作维护人员在执行一致性检查任务时，如果业务量突然增加，需要取消一致性检查时，可以执行此命令。
注意事项 
无。
输出参数说明 
标识|名称|类型|说明
---|---|---|---
OUTP|输出|参数可选性: 必选参数类型: 字符串|该参数用于指示命令执行后输出的结果。
命令举例 
`
取消一致性检查操作。
CANCEL CDB CONSIST
` 
##### 查询一致性检查进度(QUERY CDB CONSIST) 
##### 查询一致性检查进度(QUERY CDB CONSIST) 
功能说明 
该命令用于查询一致性检查操作执行的进度。
注意事项 
无。
输出参数说明 
标识|名称|类型|说明
---|---|---|---
NODEID|节点ID|参数可选性: 任选参数类型: 字符串参数范围: 0-256|该参数用于表示节点号。通过SHOW CDBNODE命令可以查看节点号。
PROGRESS|进度|参数可选性: 任选参数类型: 字符串参数范围: 0-256|一致性检查操作的进度（百分比）。
TIMESTAMP|时间戳|参数可选性: 任选参数类型: 字符串参数范围: 0-256|一致性检查操作结束的时间点。如果一致性检查还未结束，则为查询操作发生的时间点。
STATUS|状态|参数可选性: 任选参数类型: 字符串参数范围: 0-256|一致性检查操作状态。取值枚举如下：init : 一致性检查处于初始态，未执行。waiting : 一致性检查处于等待状态，未执行。starting : 一致性检查开始。progress : 一致性检查进行中。cancel : 一致性检查被取消。failed : 一致性检查失败。done : 一致性检查完成。
INFO|信息|参数可选性: 任选参数类型: 字符串参数范围: 0-256|一致性检查执行信息。
OUTP|输出|参数可选性: 任选参数类型: 字符串|该参数用于指示命令执行后输出的结果。
命令举例 
`
查询一致性检查执行的进度。
(No.1) : QUERY CDB CONSIST
-----------------Ncudr_SystemManagement_0----------------
节点ID 进度        时间戳                      状态          信息
65540  100%        2019-08-29 05:43:40  Done   rcc success,  0 records are inconsistent, beg_rcc_time:2019-08-29 05:43:37
total  100%        2019-08-29 05:43:40  Done
 
记录数：2
输出
result files in directory /IDE0/cudr_1/rcc/module_xxx
执行成功耗时: 0.104 秒
` 
##### 清除数据库(TRUNCATE CDB) 
##### 清除数据库(TRUNCATE CDB) 
功能说明 
该命令用于清除内存数据库中的数据。当系统出现故障，数据无法正常删除，导致系统中缓存的垃圾数据过多时，维护人员可以通过此命令删除数据库中的数据。
注意事项 
 
该命令执行后，数据库中数据会被删除，需慎重使用。 
 
该命令执行时，需要关闭自动弹缩功能。 
 
该命令执行时，不能同时执行dump、一致性检查、用户数查询等命令。 
 
输入参数说明 
标识|名称|类型|说明
---|---|---|---
TENANTID|租户ID|参数可选性: 任选参数类型: 数字参数范围: 1-255|该参数用于唯一标识一个租户。通过SHOW CDBTENANT命令可以查看已创建的租户ID。
DOMAIN|域|参数可选性: 任选参数类型: 枚举，参见枚举定义参数范围: 1-2|该参数用于指示CDN节点归属左域还是右域。
CLEAR_NF_RANGE|生效范围|参数可选性: 任选参数类型: 枚举，参见枚举定义参数范围: 0-1默认值: LOCAL_NF|该参数用于指示是仅本局清库，还是本局和跨局同时清库，LOCAL NF是本局清库，ALL NF是全局清库，默认值是本局清库。
输出参数说明 
标识|名称|类型|说明
---|---|---|---
OUTP|操作结果|参数可选性: 必选参数类型: 字符串|该参数用于指示命令执行后输出的结果。
命令举例 
`
清楚租户ID为1的内存数据库中的数据。
TRUNCATE CDB:TENANTID=1
` 
##### 重置UDSF所有数据(RESET CDB) 
##### 重置UDSF所有数据(RESET CDB) 
功能说明 
该命令用于重置CDB指定租户数据，使该租户数据恢复到初始值。当租户参数配置错误导致数据分布错误时，可执行此命令重置该租户。
注意事项 
该命令执行后，数据库中对应租户的数据会全部丢失，需慎重使用。默认重置所有CDB租户数据。
执行此命令前，需确保所有租户配置已修改正确，并同步。
输入参数说明 
标识|名称|类型|说明
---|---|---|---
TENANTID|租户ID|参数可选性: 任选参数类型: 数字参数范围: 1-255|该参数用于唯一标识一个租户。该参数默认表示重置所有租户的数据。通过SHOW CDBTENANT命令可以查看已创建的租户ID。
输出参数说明 
标识|名称|类型|说明
---|---|---|---
OUTP|输出|参数可选性: 必选参数类型: 字符串|该参数用于指示命令执行后输出的结果。
命令举例 
`
重置CDB所有的租户到初始运行状态
RESET CDB
` 
##### 日志采集(UDSFLOG COLLECT) 
##### 日志采集(UDSFLOG COLLECT) 
功能说明 
该命令用于采集UDSF日志。可以按租户采集CDN节点日志，以及CCC节点和CGW节点的正常日志和异常日志，也可以用来采集所有租户的日志。
注意事项 
采集日志可能会引起CDN节点上CPU升高，操作时请注意避开业务高峰期。
输入参数说明 
标识|名称|类型|说明
---|---|---|---
TENANTID|租户ID|参数可选性: 任选参数类型: 数字参数范围: 1-255|该参数用于指示待采集日志的租户的ID。通过SHOW CDBTENANT命令可以查看已创建的租户ID。如果不输入，则表示采集全部租户的日志。
输出参数说明 
标识|名称|类型|说明
---|---|---|---
STEP|步骤|参数可选性: 任选参数类型: 字符串参数范围: 0-256|该参数用于指示日志采集过程中执行的步骤。
RESULT|操作结果|参数可选性: 任选参数类型: 字符串参数范围: 0-256|该参数用于指示日志采集中每个步骤的执行结果。
OUTP|输出|参数可选性: 任选参数类型: 字符串|该参数用于指示命令执行失败时输出的结果。
命令举例 
`
采集租户ID为1的租户下所有CDN节点日志、CC节点和CGW节点上的正常日志和异常日志。UDSFLOG COLLECT:TENANTID=1;
` 
#### UDSF探针命令 
#### UDSF探针命令 
背景知识 
UDSF探针是一组维护命令，用于查看和修改UDSF内存数据库中的数据。 
功能说明 
目前已经提供的UDSF探针命令包含： 
查询记录：用于根据索引查询记录内容。 
 
删除记录：用于根据索引删除记录。 
子主题： 
##### 查询表数据(CDB PROBE TUPLEBYINDEX) 
##### 查询表数据(CDB PROBE TUPLEBYINDEX) 
功能说明 
该命令用于根据索引查询记录内容。
注意事项 
无。
输入参数说明 
标识|名称|类型|说明
---|---|---|---
MODULE|模块号|参数可选性: 任选参数类型: 数字参数范围: 1-65535|输入的模块号，用于唯一标识一个模块。
TENANTID|租户ID|参数可选性: 任选参数类型: 数字参数范围: 1-255|输入的租户ID，用于唯一标识一个租户。
TABLENAME|表名|参数可选性: 必选参数类型: 枚举，参见枚举定义参数范围: 0-256|待查询的用户表名。取值为枚举：CDB_DATA：数据表 CDB_ALIAS：别名表 CDB_REALIAS:反向别名表
INDEXINFO|索引信息|参数可选性: 必选参数类型: 字符串参数范围: 1-5120|待查询的用户记录的索引，可输入PI+PITYPE或者NPI+NPITYPE。输入示意：PI+PITYPE：INDEXINFO="PI=1111"&"PITYPE=\01"NPI+NPITYPE：INDEXINFO="NPI=\ff\ff"&"NPITYPE=\ff\ff"
输出参数说明 
标识|名称|类型|说明
---|---|---|---
TUPLENO|记录号|参数可选性: 任选参数类型: 字符串参数范围: 0-256|输出的记录号。
MODULE|模块号|参数可选性: 任选参数类型: 字符串参数范围: 0-256|输出的模块号。
SLOT|分片ID|参数可选性: 任选参数类型: 字符串参数范围: 0-256|输出的分片号。
PITYPE|PITYPE|参数可选性: 任选参数类型: 字符串参数范围: 0-256|输出的PI类型。
PI|PI|参数可选性: 任选参数类型: 字符串参数范围: 0-8192|输出的PI值。
NPITYPE|NPITYPE|参数可选性: 任选参数类型: 字符串参数范围: 0-256|输出的NPI类型。
NPI|NPI|参数可选性: 任选参数类型: 字符串参数范围: 0-8192|输出的NPI值。
PATH|PATH|参数可选性: 任选参数类型: 字符串参数范围: 0-8192|输出记录的PATH。
VERSION|版本号|参数可选性: 任选参数类型: 字符串参数范围: 0-256|输出的记录的版本号。
TTL|TTL|参数可选性: 任选参数类型: 字符串参数范围: 0-256|输出的记录的有效期。
EXTERNINFO|扩展信息|参数可选性: 任选参数类型: 字符串参数范围: 0-256|输出的记录的扩展信息。
TIMESTAMP|时间戳|参数可选性: 任选参数类型: 字符串参数范围: 0-256|输出的记录最后修改的时间戳。
FIELDID|字段ID|参数可选性: 任选参数类型: 字符串参数范围: 0-256|输出的记录中字段ID。
LENGTH|数据长度|参数可选性: 任选参数类型: 字符串参数范围: 0-256|输出的记录中字段长度。
DATA|数据内容|参数可选性: 任选参数类型: 字符串参数范围: 0-16000|输出的记录中字段内容。
USERTTL|用户TTL|参数可选性: 任选参数类型: 字符串参数范围: 0-256|输出的用户的有效期。
USERTIMESTAMP|用户时间戳|参数可选性: 任选参数类型: 字符串参数范围: 0-256|输出的用户最后修改的时间戳。
EXPIRED|过期标志|参数可选性: 任选参数类型: 字符串参数范围: 0-256|输出的数据过期标志。
REDUNDANCY|容灾标记|参数可选性: 任选参数类型: 字符串参数范围: 0-1|输出的数据容灾标志。
OUTP|输出|参数可选性: 任选参数类型: 字符串|命令执行失败时输出的结果。
命令举例 
`
查询租户1下模块号为3的节点中CDB_ALIAS表中指定NPI的数据。
(No.1) : CDB PROBE TUPLEBYINDEX:MODULE=3,TENANTID=1,TABLENAME="CDB_ALIAS",INDEXINFO="NPI=12345"&"NPITYPE=\01"
-----------------Ncudr_SystemManagement_0----------------
记录号  模块号  分片ID  NPITYPE   NPI       PITYPE    PI   时间戳
1       3       3       1         12345     1         1    2016-09-07 08：40：21.123 
记录数：1
执行成功耗时: 0.412 秒
` 
##### 删除表数据(CDB PROBE DELTUPLE) 
##### 删除表数据(CDB PROBE DELTUPLE) 
功能说明 
该命令用于根据索引删除记录。当系统中出现垃圾或者多余数据需要删除时，可以使用此命令删除数据。
注意事项 
该命令不产生数据库操作日志，所以改动的数据无法同步到同集群的其他节点。 
输入参数说明 
标识|名称|类型|说明
---|---|---|---
MODULE|模块号|参数可选性: 必选参数类型: 数字参数范围: 1-65535|输入的模块号，用于唯一标识一个模块。
TABLENAME|表名|参数可选性: 必选参数类型: 枚举，参见枚举定义参数范围: 0-256|待删除数据的用户表名。取值为枚举："CDB_DATA"/"CDB_ALIAS"/"CDB_REALIAS"
INDEXINFO|索引信息|参数可选性: 必选参数类型: 字符串参数范围: 0-5120|待删除的用户记录的索引。输入示意：INDEXINFO="PI=1111"&"PITYPE=\01"&"NPI=\ff\ff"
输出参数说明 
标识|名称|类型|说明
---|---|---|---
OUTP|输出|参数可选性: 必选参数类型: 字符串|命令执行后输出的结果。
命令举例 
`
删除租户1下模块号为3的节点中CDB_ALIAS表中指定的NPI数据。
CDB PROBE DELTUPLE:MODULE=3,TABLENAME="CDB_ALIAS",INDEXINFO="NPITYPE=1"&"NPI=12345"
` 
